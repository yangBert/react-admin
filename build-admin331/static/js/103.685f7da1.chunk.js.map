{"version":3,"sources":["pages/home/config.js","pages/home/store/creators.js","pages/home/components/Plot1.js","pages/home/components/Plot2.js","pages/home/index.js","pages/common/layer/spinning/index.js","pages/home/style.module.css"],"names":["operateType","value","name","operateType2","initPlotData","arr","types","a","i","length","j","push","num","queryPlot1Action","req","dispatch","spinningAction","request","requestURL","data","res","success","message","Column","document","getElementById","title","visible","text","description","forceFit","theme","padding","xField","yField","meta","alias","label","style","fill","fontSize","fontWeight","opacity","render","initPlot1Render","config","notification","props","history","queryPlot2Action","StepLine","step","point","type","initPlot2Render","Plot1","this","queryPlot1","id","className","styles","item","Component","connect","action","creators","Plot2","queryPlot2","component","Home","Funnel","pv","Radar","score","angleField","radiusField","radiusAxis","grid","alternateColor","area","color","spinning","CHANGE_SPINNING","module","exports"],"mappings":"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","file":"static/js/103.685f7da1.chunk.js","sourcesContent":["const operateType = [\r\n  { value: \"37\", name: \"账号密码登录\" },\r\n  { value: \"17\", name: \"手机号登录\" },\r\n  { value: \"40\", name: \"微信授权登录\" },\r\n  { value: \"36\", name: \"UKey登录\" },\r\n  { value: \"6\", name: \"手机盾登录\" },\r\n  { value: \"7\", name: \"人脸识别登录\" },\r\n]\r\n\r\nconst operateType2 = [\r\n  { value: \"100001\", name: \"UKEY证书登录\" },\r\n  { value: \"100003\", name: \"手机号登录\" },\r\n  { value: \"100002\", name: \"人脸识别登录\" },\r\n  { value: \"100005\", name: \"微信登录\" },\r\n  { value: \"100004\", name: \"手机盾证书登录\" },\r\n]\r\n\r\nexport {\r\n  operateType,\r\n  operateType2\r\n}","import * as requestURL from 'static/js/requestURL';\nimport * as request from 'static/js/request';\nimport spinningAction from 'pages/common/layer/spinning';\nimport notification from 'pages/common/layer/notification';\nimport * as config from '../config';\nimport { StepLine, Column } from \"@antv/g2plot\";\n\nfunction initPlot1Render(data) {\n  const columnPlot = new Column(document.getElementById('plot1'), {\n    title: {\n      visible: true,\n      text: '应用登录统计',\n    },\n    description: {\n      visible: true,\n      text: '各种类型登录次数',\n    },\n    forceFit: true,\n    theme: \"dark\",\n    data,\n    padding: 'auto',\n    xField: 'name',\n    yField: 'num',\n    meta: {\n      name: {\n        alias: '\\n',\n        visible: false,\n      },\n      num: {\n        alias: '登录次数',\n      },\n    },\n    label: {\n      visible: false,\n      style: {\n        fill: '#0D0E68',\n        fontSize: 12,\n        fontWeight: 600,\n        opacity: 0.6,\n      },\n    },\n  });\n\n  columnPlot.render();\n}\n\nfunction initPlotData(arr, types) {\n  let a = [];\n  for (var i = 0; i < arr.length; i++) {\n    for (var j = 0; j < types.length; j++) {\n      if (arr[i].operateType === types[j].value) {\n        a.push({ name: types[j].name, num: arr[i].num })\n      }\n    }\n  }\n  return a;\n}\n\nconst queryPlot1Action = req => {\n  return dispatch => {\n    dispatch(spinningAction(true));\n    request.json(requestURL.logManageSelectLoginTypeCount, req.data, res => {\n      dispatch(spinningAction(false));\n      if (res.data) {\n        const { success, message, data } = res.data;\n        if (success) {\n          const plotData = initPlotData(data, config.operateType);\n          initPlot1Render(plotData)\n        } else {\n          notification(\"error\", message);\n        }\n      } else {\n        req.props.history.push(\"/500\");\n      }\n    });\n  };\n};\n\nfunction initPlot2Render(data) {\n  const step = new StepLine(document.getElementById(\"plot2\"), {\n    title: {\n      visible: true,\n      text: \"用户登录统计\"\n    },\n    description: {\n      visible: true,\n      text: \"用户登录次数\"\n    },\n    forceFit: true,\n    padding: \"auto\",\n    data,\n    theme: \"dark\",\n    xField: \"name\",\n    yField: \"num\",\n    step: \"hvh\", // 可以选择 hv, vh, hvh, vhv\n    point: {\n      visible: true\n    },\n    label: {\n      visible: true,\n      type: \"point\"\n    }\n  });\n\n  step.render();\n}\n\nconst queryPlot2Action = req => {\n  return dispatch => {\n    dispatch(spinningAction(true));\n    request.json(requestURL.logManageSelectUserLoginTypeCount, req.data, res => {\n      dispatch(spinningAction(false));\n      if (res.data) {\n        const { success, message, data } = res.data;\n        if (success) {\n          const plotData = initPlotData(data, config.operateType2);\n          initPlot2Render(plotData)\n        } else {\n          notification(\"error\", message);\n        }\n      } else {\n        req.props.history.push(\"/500\");\n      }\n    });\n  };\n};\n\n\nexport { queryPlot1Action, queryPlot2Action }","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport * as creators from '../store/creators';\r\nimport styles from \"../style.module.css\";\r\n\r\nclass Plot1 extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.queryPlot1({\r\n      props: this.props,\r\n      data: {}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"plot1\" className={`${styles.item} pullLeft`}></div>\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatch = dispatch => ({\r\n  queryPlot1: req => {\r\n    const action = creators.queryPlot1Action(req);\r\n    dispatch(action);\r\n  },\r\n})\r\n\r\nexport default connect(null, mapDispatch)(Plot1);","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport * as creators from '../store/creators';\r\nimport styles from \"../style.module.css\";\r\n\r\nclass Plot2 extends Component {\r\n  componentDidMount() {\r\n    this.props.queryPlot2({\r\n      component: this,\r\n      props: this.props,\r\n      data: {}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"plot2\" className={`${styles.item} pullLeft`}></div>\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatch = dispatch => ({\r\n  queryPlot2: req => {\r\n    const action = creators.queryPlot2Action(req);\r\n    dispatch(action);\r\n  },\r\n})\r\n\r\nexport default connect(null, mapDispatch)(Plot2);","import React, { Component } from \"react\";\r\nimport { Radar, Funnel } from \"@antv/g2plot\";\r\nimport styles from \"./style.module.css\";\r\nimport Plot1 from './components/Plot1'\r\nimport Plot2 from './components/Plot2'\r\n\r\nfunction plot3() {\r\n  const data = [\r\n    { action: \"浏览网站\", pv: 50000 },\r\n    { action: \"放入购物车\", pv: 35000 },\r\n    { action: \"生成订单\", pv: 25000 },\r\n    { action: \"支付\", pv: 15000 },\r\n    { action: \"成交\", pv: 8500 }\r\n  ];\r\n\r\n  const funnelPlot = new Funnel(document.getElementById(\"plot3\"), {\r\n    data: data,\r\n    theme: \"dark\",\r\n    xField: \"action\",\r\n    yField: \"pv\"\r\n  });\r\n  funnelPlot.render();\r\n}\r\n\r\nfunction plot4() {\r\n  const data = [\r\n    {\r\n      item: \"数字签名接口服务\",\r\n      score: 70\r\n    },\r\n    {\r\n      item: \"数字签名验证服务\",\r\n      score: 60\r\n    },\r\n    {\r\n      item: \"数字证书验证\",\r\n      score: 60\r\n    },\r\n    {\r\n      item: \"数据加密\",\r\n      score: 40\r\n    },\r\n    {\r\n      item: \"数据解密\",\r\n      score: 60\r\n    },\r\n    {\r\n      item: \"银行卡四要素验证\",\r\n      score: 70\r\n    },\r\n    {\r\n      item: \"银行卡三要素验证\",\r\n      score: 50\r\n    },\r\n    {\r\n      item: \"手机号信息验证\",\r\n      score: 30\r\n    },\r\n    {\r\n      item: \"企业基础信息核验\",\r\n      score: 60\r\n    },\r\n    {\r\n      item: \"驾驶证三要素验证\",\r\n      score: 50\r\n    }\r\n  ];\r\n  const radarPlot = new Radar(document.getElementById(\"plot4\"), {\r\n    title: {\r\n      visible: true,\r\n      text: \"产品年度统计\"\r\n    },\r\n    data,\r\n    theme: \"dark\",\r\n    angleField: \"item\",\r\n    radiusField: \"score\",\r\n    radiusAxis: {\r\n      grid: {\r\n        alternateColor: [\"rgba(0, 0, 0, 0.04)\", null]\r\n      }\r\n    },\r\n    area: {\r\n      visible: false\r\n    },\r\n    point: {\r\n      visible: true\r\n    }\r\n  });\r\n  radarPlot.render();\r\n}\r\n\r\nclass Home extends Component {\r\n  componentDidMount() {\r\n    plot3();\r\n    plot4();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Plot1 />\r\n        <Plot2 />\r\n        <div className={`${styles.item} pullLeft`}>\r\n          <div id=\"plot3\"></div>\r\n        </div>\r\n        <div className={`${styles.item} pullLeft`}>\r\n          <div id=\"plot4\" style={{ color: \"#fff\" }}></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import CHANGE_SPINNING from './spinningTypes'\n\nexport default spinning => ({\n  type: CHANGE_SPINNING,\n  spinning\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"style_item__38iBL\"};"],"sourceRoot":""}