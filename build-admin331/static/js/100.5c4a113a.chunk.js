(window["webpackJsonpreact-admin"]=window["webpackJsonpreact-admin"]||[]).push([[100],{1260:function(t,e,a){t.exports={formLine:"add_formLine__3wfct",inline:"add_inline__1aufw",form:"add_form__2NO-L",pageContet:"add_pageContet__fEIPL",editContent:"add_editContent__9lspN",button:"add_button__PzzCK",buttonRow:"add_buttonRow__3rBKJ"}},1337:function(t,e,a){"use strict";a.r(e);a(258);var n=a(178),o=(a(529),a(532)),r=(a(556),a(626)),c=(a(686),a(689)),i=a(563),s=a(564),u=a(568),d=a(565),l=a(567),p=(a(557),a(540)),f=a(0),g=a.n(f),h=a(176),m=a(942),b=a(1260),v=a.n(b),C=a(768),O=a.n(C),y=(a(957),a(180)),j=a(571),E=p.a.Option,L=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={productCode:"",editContent:null},a.handleEditorChange=function(t){a.setState({editContent:t})},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){if(this.props.location.state&&this.props.location.state.record){var t=this.props.location.state.record,e=t.title,a=t.content,n=t.catalogCode,o=t.productCode;this.changeProduct(o,n),this.props.changeEditTitle(e),this.setState({productCode:o,editContent:O.a.createEditorState(a)})}else this.props.handleEditorChange(O.a.createEditorState("<p>\u8bf7\u8f93\u5165\u6587\u6863\u5185\u5bb9!</b></p>"))}},{key:"save",value:function(){var t=this.props,e=t.editTitle,a=t.editCatalogCode,n=this.state.editContent;if(""!==a)if(""!==j.a.trim(e))if(""!==n){var o=j.a.localStorage.get("adminId"),r={props:this.props,data:{title:e,content:n.toHTML(),catalogCode:a,userNo:o}},i=this.props.location.state&&this.props.location.state.record;i&&(r.data.id=i.id),this.props.save(r)}else c.a.error("\u8bf7\u586b\u516c\u544a\u5185\u5bb9");else c.a.error("\u8bf7\u586b\u5199\u516c\u544a\u6807\u9898");else c.a.error("\u8bf7\u9009\u62e9\u6587\u6863\u5206\u7c7b")}},{key:"initAllProductList",value:function(t){return t.map((function(t){return g.a.createElement(E,{key:t.productCode,value:t.productCode},t.productName)}))}},{key:"changeProduct",value:function(t,e){this.setState({productCode:t});var a=j.a.localStorage.get("adminId");this.props.changeProduct({props:this.props,catalogCode:e,data:{productCode:t,userNo:a,pageSize:1e3,pageNo:1}})}},{key:"render",value:function(){var t=this,e=this.state.productCode;return g.a.createElement("div",{className:"".concat(v.a.pageContet," pageContentColor")},g.a.createElement(n.a,{tip:"Loading...",spinning:this.props.spinning},g.a.createElement("div",{className:"".concat(v.a.form," clearfix")},g.a.createElement("div",{className:"".concat(v.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u9009\u62e9\u4ea7\u54c1:"),g.a.createElement("div",{className:"".concat(v.a.inline," pullLeft")},g.a.createElement(p.a,{value:e,style:{width:"100%"},onChange:function(e){return t.changeProduct(e,"")}},g.a.createElement(E,{value:""},"\u8bf7\u9009\u62e9"),this.initAllProductList(this.props.location.state.productAllList)))),g.a.createElement("div",{className:"".concat(v.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u9009\u62e9\u6587\u6863\u5206\u7c7b:"),g.a.createElement("div",{className:"".concat(v.a.inline," pullLeft")},g.a.createElement(p.a,{value:this.props.editCatalogCode,style:{width:"100%"},onChange:function(e){return t.props.setCatalogCode(e)}},g.a.createElement(E,{value:""},"\u8bf7\u9009\u62e9"),this.props.docCatalogList.map((function(t){return g.a.createElement(E,{key:t.id,value:t.code},t.name)}))))),g.a.createElement("div",{className:"".concat(v.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u6587\u6863\u6807\u9898:"),g.a.createElement("div",{className:"".concat(v.a.inline," pullLeft")},g.a.createElement(r.a,{value:this.props.editTitle,placeholder:"\u8bf7\u8f93\u5165\u6587\u6863\u6807\u9898",allowClear:!0,onChange:function(e){return t.props.changeEditTitle(e.target.value)}})))),g.a.createElement("div",{className:v.a.buttonRow},g.a.createElement(o.a,{type:"primary",className:"".concat(v.a.button),onClick:function(){return t.save()}},"\u4fdd\u5b58\u6587\u6863"),g.a.createElement(y.b,{to:"/doc/list"},g.a.createElement(o.a,{className:"".concat(v.a.button)},"\u8fd4\u56de\u5217\u8868"))),g.a.createElement("div",{className:"".concat(v.a.editContent," my-component")},g.a.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9",value:this.state.editContent,onChange:this.handleEditorChange}))))}}]),e}(f.Component);e.default=Object(h.b)((function(t){return{spinning:t.doc.spinning,docCatalogList:t.doc.docCatalogList,editCatalogCode:t.doc.editCatalogCode,editTitle:t.doc.editTitle,editContent:t.doc.editContent,editState:t.doc.editState}}),(function(t){return{changeProduct:function(e){var a=m.f(e);t(a)},setCatalogCode:function(e){var a=m.j(e);t(a)},save:function(e){var a=m.d(e);t(a)},changeEditTitle:function(e){var a=m.a(e);t(a)},handleEditorChange:function(e){var a=m.b(e.toHTML());t(a)},queryNoticeDetail:function(e){var a=m.g(e);t(a)}}}))(L)},533:function(t,e,a){"use strict";var n=a(2);e.a=function(t){return{type:n.a,spinning:t}}},535:function(t,e,a){"use strict";function n(t){return{current:t.pageNo,pageSize:t.pageSize,total:t.totalSize,defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0}}a.d(e,"a",(function(){return n}))},942:function(t,e,a){"use strict";a.d(e,"i",(function(){return b})),a.d(e,"f",(function(){return m})),a.d(e,"c",(function(){return y})),a.d(e,"h",(function(){return v})),a.d(e,"j",(function(){return g})),a.d(e,"d",(function(){return h})),a.d(e,"a",(function(){return j})),a.d(e,"b",(function(){return E})),a.d(e,"g",(function(){return C})),a.d(e,"e",(function(){return O}));var n=a(544),o=(a(627),a(628)),r=a(42),c=a(572),i=a(573),s=a(533),u=a(569),d=a(535),l=a(768),p=a.n(l);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var g=function(t){return{type:r.i,editCatalogCode:t}},h=function(t){return function(e){e(Object(s.a)(!0));var a=t.data.id?c.G:c.C;i.d(a,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,r=n.success,c=n.message;r?o.a.success({title:"\u7cfb\u7edf\u63d0\u793a",content:c,okText:"\u786e\u8ba4",onOk:function(){e(g("")),e(j("")),e(E(p.a.createEditorState("<p>\u8bf7\u8f93\u5165\u6587\u6863\u5185\u5bb9!</b></p>"))),t.props.history.goBack()}}):Object(u.a)("error",c)}else t.props.history.push("/500")}))}},m=function(t){return function(e){e(Object(s.a)(!0)),i.d(c.D,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;o?e((d=i.results,l=t.catalogCode,{type:r.g,docCatalogList:d,editCatalogCode:l})):Object(u.a)("error",c)}else t.props.history.push("/500");var d,l}))}},b=function(t){return function(e){e(Object(s.a)(!0)),i.d(c.E,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;if(o){var l=(p=i.results,f=Object(d.a)(i),{type:r.h,list:p,pagination:f});e(l)}else Object(u.a)("error",c)}else t.props.history.push("/500");var p,f}))}},v=function(t){return function(e){e(Object(s.a)(!0)),i.d(c.Xb,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;if(o){var d=(l=i.results,{type:r.f,productAllList:l});e(d)}else Object(u.a)("error",c)}else t.props.history.push("/500");var l}))}},C=function(t){return function(e){e(Object(s.a)(!0)),i.d(c.db,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,r=n.message,c=n.data;o?(e(j(c.title)),e(E(c.content)),e(L(c.state))):Object(u.a)("error",r)}else t.props.history.push("/500")}))}},O=function(t){return function(e,a){e(Object(s.a)(!0)),i.d(c.eb,t.data,(function(r){if(e(Object(s.a)(!1)),r.data){var c=r.data&&r.data,i=c.success,d=c.message;i?o.a.success({title:"\u7cfb\u7edf\u63d0\u793a",content:d,okText:"\u786e\u8ba4",onOk:function(){var o=a().notice.pagination,r=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a().notice.params,{pageNo:o.current,pageSize:o.pageSize});e(b({props:t.props,data:r}))}}):Object(u.a)("error",d)}else t.props.history.push("/500")}))}},y=function(t){return{type:r.d,params:t}},j=function(t){return{type:r.c,editTitle:t}},E=function(t){return{type:r.a,editContent:t}},L=function(t){return{type:r.b,editState:t}}}}]);
//# sourceMappingURL=100.5c4a113a.chunk.js.map