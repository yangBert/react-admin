{"version":3,"sources":["pages/oApiParams/store/creators.js","pages/oApiParams/css/add.module.css","pages/oApiParams/config.js","pages/oApiParams/components/Add.js","pages/common/layer/spinning/index.js","../node_modules/antd/es/message/style/css.js","../node_modules/antd/es/message/index.js"],"names":["setParamNameAction","paramName","type","types","setParamTypeAction","paramType","setIsNessAction","isNess","setParamRemarksAction","paramRemarks","saveAction","req","dispatch","url","data","paramId","requestURL","request","res","success","message","notification","props","history","goBack","push","queryListAction","spinningAction","action","list","module","exports","Option","TextArea","Add","this","location","state","record","setParamName","setParamType","setIsNess","setParamRemarks","$$","trim","apiId","save","error","className","styles","pageContet","tip","spinning","title","bordered","formLine","inline","placeholder","allowClear","onChange","e","target","value","style","width","config","map","item","key","rows","bottom","button","onClick","size","Component","withRouter","connect","oApiParams","creators","CHANGE_SPINNING","defaultTop","messageInstance","getContainer","maxCount","defaultDuration","prefixCls","transitionName","api","open","args","duration","undefined","iconType","info","warning","loading","closePromise","Promise","resolve","callback","onClose","newInstance","top","instance","getMessageInstance","iconNode","theme","switchIconNode","notice","content","concat","icon","result","removeNotice","then","filled","rejected","promise","options","destroy","forEach","warn"],"mappings":"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","file":"static/js/88.d2ef1cf9.chunk.js","sourcesContent":["import * as types from \"./actionTypes\";\r\nimport * as requestURL from \"static/js/requestURL\";\r\nimport * as request from \"static/js/request\";\r\nimport spinningAction from \"pages/common/layer/spinning\";\r\nimport notification from \"pages/common/layer/notification\";\r\n\r\nconst initListAction = list => ({\r\n  type: types.QUERY_LIST,\r\n  list\r\n});\r\n\r\nconst saveLoadingAction = saveLoading => ({\r\n  type: types.SAVE_LOADING,\r\n  saveLoading\r\n});\r\n\r\nconst setParamNameAction = paramName => ({\r\n  type: types.SET_PARAM_NAME,\r\n  paramName\r\n});\r\n\r\nconst setParamTypeAction = paramType => ({\r\n  type: types.SET_PARAM_TYPE,\r\n  paramType\r\n});\r\n\r\nconst setIsNessAction = isNess => ({\r\n  type: types.SET_IS_NESS,\r\n  isNess\r\n});\r\n\r\nconst setParamRemarksAction = paramRemarks => ({\r\n  type: types.SET_PARAM_REMARKS,\r\n  paramRemarks\r\n});\r\n\r\nconst saveAction = req => {\r\n  return dispatch => {\r\n    const url = req.data.paramId\r\n      ? requestURL.managerOApiUpdateParam\r\n      : requestURL.managerOApiInsertParam;\r\n    request.json(url, req.data, res => {\r\n      if (res.data) {\r\n        const { success, message } = res.data && res.data;\r\n        if (success) {\r\n          notification(\"success\", message);\r\n          req.props.history.goBack();\r\n        } else {\r\n          notification(\"error\", message);\r\n        }\r\n      } else {\r\n        req.props.history.push(\"/500\");\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nconst queryListAction = req => {\r\n  return dispatch => {\r\n    dispatch(spinningAction(true));\r\n    request.get(requestURL.managerOApiSelectAllParamByApiId, req.data, res => {\r\n      dispatch(spinningAction(false));\r\n      if (res.data) {\r\n        const { success, message, data } = res.data && res.data;\r\n        if (success) {\r\n          const action = initListAction(data);\r\n          dispatch(action);\r\n        } else {\r\n          notification(\"error\", message);\r\n        }\r\n      } else {\r\n        req.props.history.push(\"/500\");\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport {\r\n  queryListAction,\r\n  saveAction,\r\n  saveLoadingAction,\r\n  setParamNameAction,\r\n  setParamTypeAction,\r\n  setIsNessAction,\r\n  setParamRemarksAction\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableForm\":\"add_tableForm__eOSz-\",\"operButton\":\"add_operButton__3rdIM\",\"formLine\":\"add_formLine__s7Ud_\",\"inline\":\"add_inline__3MMg9\",\"button\":\"add_button__bRyD8\",\"bottom\":\"add_bottom__1qZrG\"};","const paramType = [\"String\", \"Integer\"];\r\n\r\nexport { paramType };\r\n","import React, { Component } from \"react\";\r\nimport { Spin, Input, Button, message, Select, Card, Icon } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport * as creators from \"../store/creators\";\r\nimport styles from \"../css/add.module.css\";\r\nimport $$ from \"static/js/base\";\r\nimport * as config from \"../config\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nclass Add extends Component {\r\n  componentDidMount() {\r\n    if (this.props.location.state.record) {\r\n      const {\r\n        isNess,\r\n        paramName,\r\n        paramRemarks,\r\n        paramType\r\n      } = this.props.location.state.record;\r\n      this.props.setParamName(paramName);\r\n      this.props.setParamType(paramType);\r\n      this.props.setIsNess(isNess);\r\n      this.props.setParamRemarks(paramRemarks);\r\n    }\r\n  }\r\n\r\n  save() {\r\n    const { paramName, paramType, isNess, paramRemarks } = this.props;\r\n    if ($$.trim(paramName) === \"\") {\r\n      message.error(\"请输入参数名称\");\r\n      return;\r\n    } else if (paramType === \"\") {\r\n      message.error(\"请选择参数类型\");\r\n      return;\r\n    } else if (isNess === \"\") {\r\n      message.error(\"请选择是否必传\");\r\n      return;\r\n    } else if ($$.trim(paramRemarks) === \"\") {\r\n      message.error(\"请输入备注信息\");\r\n      return;\r\n    }\r\n    const req = {\r\n      props: this.props,\r\n      data: {\r\n        apiId: this.props.location.state.apiId,\r\n        paramName: $$.trim(paramName),\r\n        paramType,\r\n        isNess,\r\n        paramRemarks: $$.trim(paramRemarks),\r\n        state: \"NORMAL\"\r\n      }\r\n    };\r\n    if (this.props.location.state && this.props.location.state.record) {\r\n      req.data.paramId = this.props.location.state.record.paramId;\r\n    }\r\n    this.props.save(req);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`${styles.pageContet} pageContentColor`}>\r\n        <Spin tip=\"Loading...\" spinning={this.props.spinning}>\r\n          <Card title=\"新增\" bordered={false}>\r\n            <div className=\"clearfix\">\r\n              <div className={`${styles.formLine} pullLeft`}>\r\n                <label className=\"pullLeft\">参数名称：</label>\r\n                <div className={`${styles.inline} pullLeft`}>\r\n                  <Input\r\n                    placeholder=\"请输入参数名称\"\r\n                    allowClear\r\n                    onChange={e => this.props.setParamName(e.target.value)}\r\n                    value={this.props.paramName}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className={`${styles.formLine} pullLeft`}>\r\n                <label className=\"pullLeft\">参数类型:</label>\r\n                <div className={`${styles.inline} pullLeft`}>\r\n                  <Select\r\n                    value={this.props.paramType}\r\n                    style={{ width: \"100%\" }}\r\n                    onChange={value => this.props.setParamType(value)}\r\n                  >\r\n                    <Option value=\"\">请选择</Option>\r\n                    {config.paramType.map(item => (\r\n                      <Option value={item} key={item}>\r\n                        {item}\r\n                      </Option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"clearfix\">\r\n              <div className={`${styles.formLine} pullLeft`}>\r\n                <label className=\"pullLeft\">是否必传:</label>\r\n                <div className={`${styles.inline} pullLeft`}>\r\n                  <Select\r\n                    value={this.props.isNess}\r\n                    style={{ width: \"100%\" }}\r\n                    onChange={value => this.props.setIsNess(value)}\r\n                  >\r\n                    <Option value=\"\">请选择</Option>\r\n                    <Option value=\"true\">是</Option>\r\n                    <Option value=\"false\">否</Option>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n              <div className={`${styles.formLine} pullLeft`}>\r\n                <label className=\"pullLeft\">参数描述:</label>\r\n                <div className={`${styles.inline} pullLeft`}>\r\n                  <TextArea\r\n                    rows={4}\r\n                    value={this.props.paramRemarks}\r\n                    onChange={e => this.props.setParamRemarks(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={styles.bottom}>\r\n              <Button\r\n                type=\"primary\"\r\n                className={`${styles.button}`}\r\n                onClick={() => this.save()}\r\n                size=\"large\"\r\n              >\r\n                保存\r\n              </Button>\r\n              <Button\r\n                className={`${styles.button}`}\r\n                onClick={() => this.props.history.goBack()}\r\n                size=\"large\"\r\n              >\r\n                <Icon type=\"rollback\" />\r\n                返回\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = state => ({\r\n  spinning: state.oApiParams.spinning,\r\n  paramName: state.oApiParams.paramName,\r\n  paramType: state.oApiParams.paramType,\r\n  isNess: state.oApiParams.isNess,\r\n  paramRemarks: state.oApiParams.paramRemarks\r\n});\r\n\r\nconst mapDispatch = dispatch => ({\r\n  setParamName: req => {\r\n    const action = creators.setParamNameAction(req);\r\n    dispatch(action);\r\n  },\r\n  setParamType: req => {\r\n    const action = creators.setParamTypeAction(req);\r\n    dispatch(action);\r\n  },\r\n  setIsNess: req => {\r\n    const action = creators.setIsNessAction(req);\r\n    dispatch(action);\r\n  },\r\n  setParamRemarks: req => {\r\n    const action = creators.setParamRemarksAction(req);\r\n    dispatch(action);\r\n  },\r\n  save: req => {\r\n    const action = creators.saveAction(req);\r\n    dispatch(action);\r\n  }\r\n});\r\n\r\nexport default withRouter(connect(mapState, mapDispatch)(Add));\r\n","import CHANGE_SPINNING from './spinningTypes'\n\nexport default spinning => ({\n  type: CHANGE_SPINNING,\n  spinning\n})\n","import '../../style/index.css';\nimport './index.css';","import * as React from 'react';\nimport Notification from 'rc-notification';\nimport Icon from '../icon';\nvar defaultDuration = 3;\nvar defaultTop;\nvar messageInstance;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\nvar getContainer;\nvar maxCount;\n\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: {\n      top: defaultTop\n    },\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n\n    messageInstance = instance;\n    callback(instance);\n  });\n}\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n  var target = key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n\n      return resolve(true);\n    };\n\n    getMessageInstance(function (instance) {\n      var iconNode = React.createElement(Icon, {\n        type: iconType,\n        theme: iconType === 'loading' ? 'outlined' : 'filled'\n      });\n      var switchIconNode = iconType ? iconNode : '';\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-custom-content\").concat(args.type ? \" \".concat(prefixCls, \"-\").concat(args.type) : '')\n        }, args.icon ? args.icon : switchIconNode, React.createElement(\"span\", null, args.content)),\n        onClose: callback\n      });\n    });\n  });\n\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n\n  result.promise = closePromise;\n  return result;\n}\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n\n    return api.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n});\napi.warn = api.warning;\nexport default api;"],"sourceRoot":""}