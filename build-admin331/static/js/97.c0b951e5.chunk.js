(window["webpackJsonpreact-admin"]=window["webpackJsonpreact-admin"]||[]).push([[97],{1247:function(e,t,a){e.exports={formLine:"add_formLine__DYefc",inline:"add_inline__1PQPD",form:"add_form__1ieqg",pageContet:"add_pageContet__MOr1f",editContent:"add_editContent__Qfw2w",button:"add_button__3ltk7"}},1333:function(e,t,a){"use strict";a.r(t);a(258);var n=a(178),i=(a(529),a(532)),r=(a(556),a(626)),c=(a(686),a(689)),o=a(563),s=a(564),u=a(568),l=a(565),p=a(567),d=(a(557),a(540)),f=a(0),m=a.n(f),h=a(176),v=a(939),b=a(1247),g=a.n(b),y=a(768),O=a.n(y),j=(a(957),a(180)),E=a(571),N=a(956),S=d.a.Option,_=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={editorState:null},a.handleEditorChange=function(e){a.setState({editorState:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state&&this.props.location.state.editId?this.props.queryNoticeDetail({_this:this,data:{id:this.props.location.state.editId}}):this.setState({editorState:O.a.createEditorState("<p>\u8bf7\u8f93\u5165\u5185\u5bb9...</b></p>")})}},{key:"save",value:function(){var e=this.props,t=e.editTitle,a=e.editState,n=e.editNoticeType,i=this.state.editorState;if(""!==E.a.trim(t))if(""!==n)if(null!==i){var r=E.a.localStorage.get("adminId"),o=E.a.localStorage.get("adminName"),s={props:this.props,data:{title:t,noticeType:n,content:i.toHTML(),creater:r,createrName:o,state:a}},u=this.props.location.state&&this.props.location.state.editId;u&&(s.data.id=u),this.props.saveNotice(s)}else c.a.error("\u8bf7\u586b\u516c\u544a\u5185\u5bb9");else c.a.error("\u8bf7\u9009\u62e9\u516c\u544a\u7c7b\u578b");else c.a.error("\u8bf7\u586b\u5199\u516c\u544a\u6807\u9898")}},{key:"render",value:function(){var e=this,t=this.state.editorState;return m.a.createElement("div",{className:"".concat(g.a.pageContet," pageContentColor")},m.a.createElement(n.a,{tip:"Loading...",spinning:this.props.spinning},m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:"".concat(g.a.form," pullLeft")},m.a.createElement("div",{className:"".concat(g.a.formLine," pullLeft")},m.a.createElement("label",{className:"pullLeft"},"\u516c\u544a\u6807\u9898:"),m.a.createElement("div",{className:"".concat(g.a.inline," pullLeft")},m.a.createElement(r.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",allowClear:!0,onChange:function(t){return e.props.changeEditTitle(t.target.value)},value:this.props.editTitle}))),m.a.createElement("div",{className:"".concat(g.a.formLine," pullLeft")},m.a.createElement("label",{className:"pullLeft"},"\u516c\u544a\u7c7b\u578b:"),m.a.createElement("div",{className:"".concat(g.a.inline," pullLeft")},m.a.createElement(d.a,{style:{width:"100%"},onChange:function(t){return e.props.changeEditNoticeType(t)},value:this.props.editNoticeType},m.a.createElement(S,{value:""},"\u8bf7\u9009\u62e9"),N.a.noticeType.map((function(e){return m.a.createElement(S,{value:e.value,key:e.value},e.name)})))))),m.a.createElement("div",{className:"pullRight"},m.a.createElement(i.a,{type:"primary",className:"".concat(g.a.button),onClick:function(){return e.save()}},"\u4fdd\u5b58\u516c\u544a"),m.a.createElement(j.b,{to:"/notice/NoticeList"},m.a.createElement(i.a,{className:"".concat(g.a.button)},"\u8fd4\u56de\u5217\u8868")))),m.a.createElement("div",{className:"".concat(g.a.editContent," my-component")},m.a.createElement(O.a,{value:t,onChange:this.handleEditorChange}))))}}]),t}(f.Component);t.default=Object(h.b)((function(e){return{spinning:e.notice.spinning,editTitle:e.notice.editTitle,editState:e.notice.editState,editNoticeType:e.notice.editNoticeType}}),(function(e){return{saveNotice:function(t){var a=v.d(t);e(a)},changeEditTitle:function(t){var a=v.b(t);e(a)},changeEditNoticeType:function(t){var a=v.a(t);e(a)},queryNoticeDetail:function(t){var a=v.f(t);e(a)}}}))(_)},533:function(e,t,a){"use strict";var n=a(2);t.a=function(e){return{type:n.a,spinning:e}}},535:function(e,t,a){"use strict";function n(e){return{current:e.pageNo,pageSize:e.pageSize,total:e.totalSize,defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0}}a.d(t,"a",(function(){return n}))},939:function(e,t,a){"use strict";a.d(t,"g",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"f",(function(){return y})),a.d(t,"e",(function(){return O})),a.d(t,"a",(function(){return v}));var n=a(544),i=(a(627),a(628)),r=a(59),c=a(572),o=a(573),s=a(533),u=a(569),l=a(535),p=a(768),d=a.n(p);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var m=function(e){return{type:r.e,params:e}},h=function(e){return{type:r.d,editTitle:e}},v=function(e){return{type:r.b,editNoticeType:e}},b=function(e){return function(t){t(Object(s.a)(!0));var a=e.data.id?c.gb:c.cb;o.d(a,e.data,(function(a){if(t(Object(s.a)(!1)),a.data){var n=a.data&&a.data,r=n.success,c=n.message;r?i.a.success({title:"\u7cfb\u7edf\u63d0\u793a",content:c,okText:"\u786e\u8ba4",onOk:function(){e.props.history.goBack()}}):Object(u.a)("error",c)}else e.props.history.push("/500")}))}},g=function(e){return function(t){t(Object(s.a)(!0)),o.d(c.fb,e.data,(function(a){if(t(Object(s.a)(!1)),a.data){var n=a.data&&a.data,i=n.success,c=n.message,o=n.data;if(i){var p=(d=o.results,f=Object(l.a)(o),{type:r.g,list:d,pagination:f});t(p)}else Object(u.a)("error",c)}else e.props.history.push("/500");var d,f}))}},y=function(e){return function(t){t(Object(s.a)(!0)),o.d(c.db,e.data,(function(a){if(t(Object(s.a)(!1)),a.data){var n=a.data&&a.data,i=n.success,r=n.message,c=n.data;i?(t(h(c.title)),t(v(c.noticeType)),e._this.setState({editorState:d.a.createEditorState(c.content)})):Object(u.a)("error",r)}else e._this.props.history.push("/500")}))}},O=function(e){return function(t,a){t(Object(s.a)(!0)),o.d(c.gb,e.data,(function(i){if(t(Object(s.a)(!1)),i.data){var r=i.data&&i.data,c=r.success,o=r.message;if(c){Object(u.a)("success",o);var l=a().notice.pagination,p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a().notice.params,{pageNo:l.current,pageSize:l.pageSize});t(g({props:e.props,data:p}))}else Object(u.a)("error",o)}else e.props.history.push("/500")}))}}},956:function(e,t,a){"use strict";t.a={state:{arr:[{value:0,name:"\u5df2\u4f5c\u5e9f"},{value:1,name:"\u672a\u53d1\u5e03"},{value:2,name:"\u5ba1\u6838\u672a\u901a\u8fc7"},{value:3,name:"\u5ba1\u6838\u901a\u8fc7"},{value:4,name:"\u5df2\u53d1\u5e03"}],get:function(e){return 0===e?"\u5df2\u4f5c\u5e9f":1===e?"\u672a\u53d1\u5e03":2===e?"\u5ba1\u6838\u672a\u901a\u8fc7":3===e?"\u5ba1\u6838\u901a\u8fc7":4===e?"\u5df2\u53d1\u5e03":"--"}},noticeType:[{value:"SYS",name:"\u7cfb\u7edf\u516c\u544a"},{value:"OP",name:"\u8fd0\u8425\u516c\u544a"}]}}}]);
//# sourceMappingURL=97.c0b951e5.chunk.js.map