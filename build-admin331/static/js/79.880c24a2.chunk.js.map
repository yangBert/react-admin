{"version":3,"sources":["pages/chargeConfig/css/add.module.css","pages/chargeConfig/components/Add.js","pages/common/layer/spinning/index.js","static/js/pagination.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/antd/es/message/style/css.js","../node_modules/antd/es/message/index.js","pages/chargeConfig/store/creators.js"],"names":["module","exports","Search","Add","this","props","location","state","record","productName","perfertialName","ruleName","productCode","ruleCode","preferentialCode","changeConfigStrategyCode","changeConfigBillingCode","changeConfigProductCode","changeConfigStrategyName","changeConfigProductName","changeConfigBillingName","changeConfigRecord","preferential","strategyCode","strategyName","billing","billingCode","billingName","product","appCode","req","data","id","save","error","pathname","params","o","history","push","className","styles","pageContet","tip","spinning","title","bordered","form","formLine","inline","placeholder","onSearch","selectList","onChange","e","enterButton","value","formButton","type","size","formbtn","onClick","loading","saveLoading","to","Component","connect","chargeConfig","status","editStatus","dispatch","action","creators","CHANGE_SPINNING","createPagination","current","pageNo","pageSize","total","totalSize","defaultPageSize","showSizeChanger","showQuickJumper","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","defaultTop","messageInstance","getContainer","maxCount","defaultDuration","prefixCls","transitionName","api","open","args","duration","undefined","iconType","info","success","warning","target","closePromise","Promise","resolve","callback","onClose","newInstance","style","top","instance","getMessageInstance","iconNode","theme","switchIconNode","notice","content","concat","icon","result","removeNotice","then","filled","rejected","promise","config","options","destroy","forEach","warn","changeConfigStrategyNameAction","types","changeConfigStrategyCodeAction","changeConfigBillingNameAction","changeConfigBillingCodeAction","changeConfigProductNameAction","changeConfigProductCodeAction","changeProductSelectedKeysAction","productSelectedKeys","changeBillingSelectedKeysAction","billingSelectedKeys","changePreferentialSelectedKeysAction","preferentialSelectedKeys","changeConfigRecordAction","queryListAction","spinningAction","request","requestURL","res","message","list","results","pagination","notification","queryPreferentialListAction","preferentialList","preferentialListPagination","queryBillingListAction","billingList","billingListPagination","queryProductListAction","productList","productPagination","saveAction","getState","url","createChangeParamsAction"],"mappings":"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","file":"static/js/79.880c24a2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"childTitle\":\"add_childTitle__JDRFJ\",\"tit\":\"add_tit__2lIZ-\",\"pageContet\":\"add_pageContet__2l6aa\",\"form\":\"add_form__31POF\",\"formLine\":\"add_formLine__J9GcD\",\"formBlock\":\"add_formBlock__6msf2\",\"text\":\"add_text__3dOPK\",\"inline\":\"add_inline__pKRow\",\"formButton\":\"add_formButton__20Qgk\",\"formbtn\":\"add_formbtn__1-1B7\"};","import React, { Component } from 'react';\r\nimport { Spin, Input, Button, message, Card, Form } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport * as creators from '../store/creators';\r\nimport styles from '../css/add.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { Search } = Input;\r\n\r\nclass Add extends Component {\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.state.record) {\r\n      const { productName, perfertialName, ruleName, productCode, ruleCode, preferentialCode } = this.props.location.state.record\r\n      this.props.changeConfigStrategyCode(preferentialCode)\r\n      this.props.changeConfigBillingCode(ruleCode)\r\n      this.props.changeConfigProductCode(productCode)\r\n      this.props.changeConfigStrategyName(perfertialName)\r\n      this.props.changeConfigProductName(productName)\r\n      this.props.changeConfigBillingName(ruleName)\r\n      this.props.changeConfigRecord(this.props.location.state.record)\r\n    }\r\n    if (this.props.location.state.preferential) {\r\n      const { strategyCode, strategyName } = this.props.location.state.preferential\r\n      this.props.changeConfigStrategyName(strategyName)\r\n      this.props.changeConfigStrategyCode(strategyCode)\r\n    }\r\n    if (this.props.location.state.billing) {\r\n      const { billingCode, billingName } = this.props.location.state.billing\r\n      this.props.changeConfigBillingName(billingName)\r\n      this.props.changeConfigBillingCode(billingCode)\r\n    }\r\n    if (this.props.location.state.product) {\r\n      const { productCode, productName } = this.props.location.state.product\r\n      this.props.changeConfigProductName(productName)\r\n      this.props.changeConfigProductCode(productCode)\r\n    }\r\n  }\r\n\r\n  save() {\r\n    const { strategyCode, billingCode, productCode } = this.props;\r\n    if (productCode === \"\") {\r\n      message.error('请选择产品');\r\n      return\r\n    } else if (billingCode === \"\") {\r\n      message.error('请选择计费策略');\r\n      return\r\n    } else if (strategyCode === \"\") {\r\n      message.error('请选择优惠策略');\r\n      return\r\n    }\r\n    const appCode = this.props.location.state.appCode\r\n    const req = {\r\n      props: this.props,\r\n      data: {\r\n        appCode,\r\n        productCode,\r\n        ruleCode: billingCode,\r\n        preferentialCode: strategyCode,\r\n      }\r\n    }\r\n    if (this.props.record) {\r\n      req.data.id = this.props.record.id\r\n    }\r\n    this.props.save(req)\r\n  }\r\n\r\n  selectList(pathname, params) {\r\n    const o = {\r\n      pathname,\r\n      state: {\r\n        appCode: this.props.location.state.appCode,\r\n        params,\r\n      }\r\n    }\r\n    this.props.history.push(o)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.pageContet}>\r\n        <Spin tip=\"Loading...\" spinning={this.props.spinning}>\r\n          <div className=\"pageContentColor\">\r\n            <Card title=\"配置\" bordered={false}>\r\n              <Form className={`${styles.form} clearfix`}>\r\n                <div className={`${styles.formLine} pullLeft`}><label className=\"pullLeft\">产品：</label>\r\n                  <div className={`${styles.inline} pullLeft`}>\r\n                    <Search\r\n                      placeholder=\"请选择产品\"\r\n                      onSearch={() => this.selectList(\"/chargeConfig/product\", this.props.productCode)}\r\n                      onChange={e => null}\r\n                      enterButton=\"选择\"\r\n                      value={this.props.productName}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className={`${styles.formLine} pullLeft`}><label className=\"pullLeft\">计费策略：</label>\r\n                  <div className={`${styles.inline} pullLeft`}>\r\n                    <Search\r\n                      placeholder=\"请选择计费策略\"\r\n                      onSearch={() => this.selectList(\"/chargeConfig/billing\", this.props.billingCode)}\r\n                      onChange={e => null}\r\n                      enterButton=\"选择\"\r\n                      value={this.props.billingName}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className={`${styles.formLine} pullLeft`}><label className=\"pullLeft\">优惠策略：</label>\r\n                  <div className={`${styles.inline} pullLeft`}>\r\n                    <Search\r\n                      placeholder=\"请选择优惠策略\"\r\n                      onSearch={() => this.selectList(\"/chargeConfig/creferential\", this.props.strategyCode)}\r\n                      onChange={e => null}\r\n                      enterButton=\"选择\"\r\n                      value={this.props.strategyName}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            </Card>\r\n          </div >\r\n\r\n          <div className={styles.formButton}>\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              className={styles.formbtn}\r\n              onClick={() => this.save()}\r\n              loading={this.props.saveLoading}\r\n            >保存\r\n            </Button>\r\n            <Link\r\n              to={{\r\n                pathname: '/chargeConfig/list',\r\n                state: {\r\n                  appCode: this.props.location.state.appCode,\r\n                }\r\n              }}>\r\n              <Button\r\n                size=\"large\"\r\n                type=\"primary\"\r\n                className={styles.formbtn}\r\n              >返回列表</Button>\r\n            </Link>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapState = state => ({\r\n  spinning: state.chargeConfig.spinning,\r\n  strategyCode: state.chargeConfig.strategyCode,\r\n  strategyName: state.chargeConfig.strategyName,\r\n  billingName: state.chargeConfig.billingName,\r\n  billingCode: state.chargeConfig.billingCode,\r\n  productName: state.chargeConfig.productName,\r\n  productCode: state.chargeConfig.productCode,\r\n  status: state.chargeConfig.editStatus,\r\n  saveLoading: state.chargeConfig.saveLoading,\r\n  record: state.chargeConfig.record,\r\n})\r\n\r\nconst mapDispatch = dispatch => ({\r\n  save: req => {\r\n    const action = creators.saveAction(req);\r\n    dispatch(action);\r\n  },\r\n  changeConfigBillingCode: value => {\r\n    const action = creators.changeConfigBillingCodeAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigBillingName: value => {\r\n    const action = creators.changeConfigBillingNameAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigStrategyCode: value => {\r\n    const action = creators.changeConfigStrategyCodeAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigStrategyName: value => {\r\n    const action = creators.changeConfigStrategyNameAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigProductName: value => {\r\n    const action = creators.changeConfigProductNameAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigProductCode: value => {\r\n    const action = creators.changeConfigProductCodeAction(value);\r\n    dispatch(action);\r\n  },\r\n  changeConfigRecord: value => {\r\n    const action = creators.changeConfigRecordAction(value);\r\n    dispatch(action);\r\n  },\r\n})\r\n\r\nexport default connect(mapState, mapDispatch)(Add);","import CHANGE_SPINNING from './spinningTypes'\n\nexport default spinning => ({\n  type: CHANGE_SPINNING,\n  spinning\n})\n","export default function createPagination(data) {\n  return {\n    current: data.pageNo,\n    pageSize: data.pageSize,\n    total: data.totalSize,\n    defaultPageSize: 10,\n    showSizeChanger: true,\n    showQuickJumper: true\n  }\n} ","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import '../../style/index.css';\nimport './index.css';","import * as React from 'react';\nimport Notification from 'rc-notification';\nimport Icon from '../icon';\nvar defaultDuration = 3;\nvar defaultTop;\nvar messageInstance;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\nvar getContainer;\nvar maxCount;\n\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: {\n      top: defaultTop\n    },\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n\n    messageInstance = instance;\n    callback(instance);\n  });\n}\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n  var target = key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n\n      return resolve(true);\n    };\n\n    getMessageInstance(function (instance) {\n      var iconNode = React.createElement(Icon, {\n        type: iconType,\n        theme: iconType === 'loading' ? 'outlined' : 'filled'\n      });\n      var switchIconNode = iconType ? iconNode : '';\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-custom-content\").concat(args.type ? \" \".concat(prefixCls, \"-\").concat(args.type) : '')\n        }, args.icon ? args.icon : switchIconNode, React.createElement(\"span\", null, args.content)),\n        onClose: callback\n      });\n    });\n  });\n\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n\n  result.promise = closePromise;\n  return result;\n}\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n\n    return api.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n});\napi.warn = api.warning;\nexport default api;","import * as types from './actionTypes';\nimport * as requestURL from 'static/js/requestURL';\nimport * as request from 'static/js/request';\nimport spinningAction from 'pages/common/layer/spinning';\nimport notification from 'pages/common/layer/notification';\nimport createPagination from 'static/js/pagination';\n\nconst initListAction = (list, pagination) => ({\n  type: types.QUERY_LIST,\n  list,\n  pagination\n})\n\nconst initListPreferentialListAction = (preferentialList, preferentialListPagination) => ({\n  type: types.QUERY_PREFERENTTIAL_LIST,\n  preferentialList,\n  preferentialListPagination\n})\n\nconst initListBillingListAction = (billingList, billingListPagination) => ({\n  type: types.QUERY_BILLING_LIST,\n  billingList,\n  billingListPagination\n})\n\nconst initProductListAction = (productList, productPagination) => ({\n  type: types.QUERY_PRODUCT_LIST,\n  productList,\n  productPagination\n})\n\nconst changeConfigStrategyNameAction = (strategyName) => ({\n  type: types.CHANGE_CONFIG_STRATEGY_NAME,\n  strategyName\n})\n\nconst changeConfigStrategyCodeAction = (strategyCode) => ({\n  type: types.CHANGE_CONFIG_STRATEGY_CODE,\n  strategyCode\n})\n\nconst changeConfigBillingNameAction = (billingName) => ({\n  type: types.CHANGE_CONFIG_BILLING_NAME,\n  billingName\n})\n\nconst changeConfigBillingCodeAction = (billingCode) => ({\n  type: types.CHANGE_CONFIG_BILLING_CODE,\n  billingCode\n})\n\nconst changeConfigProductNameAction = (productName) => ({\n  type: types.CHANGE_CONFIG_PRODUCT_NAME,\n  productName\n})\n\nconst changeConfigProductCodeAction = (productCode) => ({\n  type: types.CHANGE_CONFIG_PRODUCT_CODE,\n  productCode\n})\n\nconst changeProductSelectedKeysAction = (productSelectedKeys) => ({\n  type: types.CHANGE_PRODUCT_SELECTED_KEYS,\n  productSelectedKeys\n})\n\nconst changeBillingSelectedKeysAction = (billingSelectedKeys) => ({\n  type: types.CHANGE_BILLING_SELECTED_KEYS,\n  billingSelectedKeys\n})\n\nconst changePreferentialSelectedKeysAction = (preferentialSelectedKeys) => ({\n  type: types.CHANGE_PREFERENTIAL_SELECTED_KEYS,\n  preferentialSelectedKeys\n})\n\nconst changeConfigRecordAction = (record) => ({\n  type: types.CHANGE_RECORD,\n  record\n})\n\n\n//查询\nconst queryListAction = req => {\n  return dispatch => {\n    dispatch(spinningAction(true))\n    request.json(requestURL.chargeAppQueryByPage, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message, data } = res.data && res.data\n        if (success) {\n          const action = initListAction(data.results, createPagination(data))\n          dispatch(action)\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\n//修改状态\nconst updateAction = req => {\n  return (dispatch, getState) => {\n    dispatch(spinningAction(true))\n    const url = requestURL.webManagerUserChangeUserStatus\n    request.json(url, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message } = res.data && res.data\n        if (success) {\n          notification('success', message)\n          const pagination = getState().clientUser.pagination\n          const params = {\n            ...getState().clientUser.params,\n            pageNo: pagination.current,\n            pageSize: pagination.pageSize\n          }\n          dispatch(queryListAction({ props: req.props, data: params }));\n          dispatch(changeModalVisibleAction(false, \"\"))\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\nconst queryPreferentialListAction = req => {\n  return dispatch => {\n    dispatch(spinningAction(true))\n    request.json(requestURL.chargePreferentialQueryByPage, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message, data } = res.data\n        if (success) {\n          const action = initListPreferentialListAction(data.results, createPagination(data))\n          dispatch(action)\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\nconst queryBillingListAction = req => {\n  return dispatch => {\n    dispatch(spinningAction(true))\n    request.json(requestURL.chargeRuleQueryByPage, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message, data } = res.data\n        if (success) {\n          const action = initListBillingListAction(data.results, createPagination(data))\n          dispatch(action)\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\nconst queryProductListAction = req => {\n  return dispatch => {\n    dispatch(spinningAction(true))\n    request.json(requestURL.productSelectByPage, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message, data } = res.data\n        if (success) {\n          const action = initProductListAction(data.results, createPagination(data))\n          dispatch(action)\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\nconst saveAction = req => {\n  return (dispatch, getState) => {\n    dispatch(spinningAction(true))\n    const url = req.data.id ? requestURL.chargePreferentialUpdate : requestURL.chargeAppAdd\n    request.json(url, req.data, res => {\n      dispatch(spinningAction(false))\n      if (res.data) {\n        const { success, message } = res.data\n        if (success) {\n          notification('success', message)\n\n        } else {\n          notification('error', message)\n        }\n      } else {\n        req.props.history.push(\"/500\")\n      }\n    })\n  }\n}\n\n//改变弹出层显示隐藏\nconst changeModalVisibleAction = (modalVisible, editStatus) => ({\n  type: types.CHANGE_MODAL_VISIBLE,\n  modalVisible,\n  editStatus\n})\n\n//改变状态\nconst setStatusAction = editStatus => ({\n  type: types.CHANGE_EDIT_STATUS,\n  editStatus\n})\n\n//查询携带参数\nconst createChangeParamsAction = params => ({\n  type: types.CHANGE_SEARCH_PARAMS,\n  params\n})\n\nexport {\n  queryListAction,\n  queryPreferentialListAction,\n  queryBillingListAction,\n  queryProductListAction,\n  setStatusAction,\n  updateAction,\n  changeModalVisibleAction,\n  createChangeParamsAction,\n  changeConfigStrategyNameAction,\n  changeConfigStrategyCodeAction,\n  changeConfigBillingNameAction,\n  changeConfigBillingCodeAction,\n  changeConfigProductNameAction,\n  changeConfigProductCodeAction,\n  changeProductSelectedKeysAction,\n  changeBillingSelectedKeysAction,\n  changePreferentialSelectedKeysAction,\n  changeConfigRecordAction,\n  saveAction,\n}"],"sourceRoot":""}