{"version":3,"sources":["../node_modules/@antv/dom-util/lib/get-height.js","../node_modules/@antv/dom-util/lib/get-width.js","../node_modules/@antv/util/lib/each.js","../node_modules/@antv/util/lib/is-type.js","../node_modules/@antv/util/lib/is-string.js","../node_modules/@antv/component/lib/legend/continuous/base.js","../node_modules/@antv/component/lib/legend/category/base.js","../node_modules/@antv/scale/lib/base.js","../node_modules/@antv/scale/lib/util/extended.js","../node_modules/@antv/g2plot/esm/interface/config.js","../node_modules/@antv/g2plot/esm/util/event.js","../node_modules/@antv/g2plot/esm/base/layer.js","../node_modules/@antv/g2/esm/theme/default.js","../node_modules/@antv/g2/esm/theme/factory.js","../node_modules/@antv/g2/esm/theme/index.js","../node_modules/@antv/g2/esm/global.js","../node_modules/@antv/g2/esm/base.js","../node_modules/@antv/matrix-util/esm/mat3.js","../node_modules/@antv/matrix-util/esm/vec2.js","../node_modules/@antv/matrix-util/esm/vec3.js","../node_modules/@antv/path-util/esm/catmull-rom-2-bezier.js","../node_modules/@antv/path-util/esm/parse-path-string.js","../node_modules/@antv/path-util/esm/path-2-absolute.js","../node_modules/@antv/path-util/esm/path-2-curve.js","../node_modules/@antv/g2/esm/animate/util.js","../node_modules/@antv/g2/esm/animate/action.js","../node_modules/@antv/g2/esm/animate/animate.js","../node_modules/@antv/g2/esm/animate/index.js","../node_modules/@antv/adjust/esm/constant.js","../node_modules/@antv/adjust/esm/adjusts/adjust.js","../node_modules/@antv/adjust/esm/factory.js","../node_modules/@antv/adjust/esm/adjusts/dodge.js","../node_modules/@antv/adjust/esm/adjusts/jitter.js","../node_modules/@antv/adjust/esm/adjusts/stack.js","../node_modules/@antv/adjust/esm/adjusts/symmetric.js","../node_modules/@antv/adjust/esm/index.js","../node_modules/@antv/coord/esm/coord/base.js","../node_modules/@antv/coord/esm/coord/cartesian.js","../node_modules/@antv/coord/esm/coord/helix.js","../node_modules/@antv/coord/esm/coord/polar.js","../node_modules/@antv/coord/esm/factory.js","../node_modules/@antv/coord/esm/index.js","../node_modules/@antv/g2/esm/plot/controller/scale.js","../node_modules/@antv/g2/esm/plot/controller/coordinate.js","../node_modules/@antv/component/esm/base.js","../node_modules/@antv/component/esm/label/adjust/util/greedy.js","../node_modules/@antv/component/esm/label/adjust/position.js","../node_modules/@antv/component/esm/label/adjust/spiral.js","../node_modules/@antv/component/esm/tooltip/theme.js","../node_modules/@antv/component/esm/label/base.js","../node_modules/@antv/component/esm/label/adjust/bbox.js","../node_modules/@antv/component/esm/label/index.js","../node_modules/@antv/component/esm/tooltip/base.js","../node_modules/@antv/component/esm/tooltip/crosshair.js","../node_modules/@antv/component/esm/const.js","../node_modules/@antv/component/esm/tooltip/util/position.js","../node_modules/@antv/component/esm/tooltip/html.js","../node_modules/@antv/component/esm/tooltip/canvas.js","../node_modules/@antv/matrix-util/esm/transform.js","../node_modules/@antv/component/esm/axis/theme.js","../node_modules/@antv/component/esm/axis/base.js","../node_modules/@antv/component/esm/axis/circle.js","../node_modules/@antv/component/esm/axis/helix.js","../node_modules/@antv/component/esm/axis/line.js","../node_modules/@antv/component/esm/legend/base.js","../node_modules/@antv/component/esm/legend/continuous/constant/index.js","../node_modules/@antv/component/esm/legend/continuous/components/slider.js","../node_modules/@antv/component/esm/legend/continuous/base.js","../node_modules/@antv/component/esm/legend/continuous/size.js","../node_modules/@antv/component/esm/legend/continuous/color.js","../node_modules/@antv/component/esm/legend/category/arrow/index.js","../node_modules/@antv/component/esm/legend/category/base.js","../node_modules/@antv/component/esm/legend/category/canvas.js","../node_modules/@antv/component/esm/legend/category/html.js","../node_modules/@antv/component/esm/annotation/base.js","../node_modules/@antv/component/esm/annotation/line.js","../node_modules/@antv/component/esm/annotation/text.js","../node_modules/@antv/component/esm/annotation/arc.js","../node_modules/@antv/component/esm/annotation/region.js","../node_modules/@antv/component/esm/annotation/image.js","../node_modules/@antv/component/esm/annotation/html.js","../node_modules/@antv/component/esm/annotation/data-marker.js","../node_modules/@antv/component/esm/annotation/data-region.js","../node_modules/@antv/g2/esm/plot/controller/annotation.js","../node_modules/@antv/g2/esm/element/util/path.js","../node_modules/@antv/g2/esm/element/shape/base.js","../node_modules/@antv/g2/esm/plot/controller/legend.js","../node_modules/@antv/g2/esm/plot/controller/axis.js","../node_modules/@antv/g2/esm/plot/controller/tooltip.js","../node_modules/@antv/g2/esm/plot/controller/shape-state.js","../node_modules/@antv/g2/esm/plot/controller/event.js","../node_modules/@antv/g2/esm/facet/base.js","../node_modules/@antv/g2/esm/facet/index.js","../node_modules/@antv/g2/esm/element/factory.js","../node_modules/@antv/g2/esm/element/controller/tooltip.js","../node_modules/@antv/g2/esm/element/controller/label/components/base.js","../node_modules/@antv/g2/esm/element/controller/label/components/interval.js","../node_modules/@antv/g2/esm/element/controller/label/components/polar.js","../node_modules/@antv/g2/esm/element/controller/label/components/pie.js","../node_modules/@antv/g2/esm/element/controller/label/components/factory.js","../node_modules/@antv/g2/esm/element/controller/label/index.js","../node_modules/@antv/g2/esm/element/controller/state.js","../node_modules/@antv/g2/esm/element/util/parse-fields.js","../node_modules/@antv/g2/esm/element/base.js","../node_modules/@antv/g2/esm/interaction/base.js","../node_modules/@antv/g2/esm/interaction/factory.js","../node_modules/@antv/g2/esm/plot/view.js","../node_modules/@antv/g2/esm/util.js","../node_modules/@antv/g2/esm/plot/plot.js","../node_modules/@antv/g2/esm/element/util/shape.js","../node_modules/@antv/g2/esm/element/shape/area.js","../node_modules/@antv/g2/esm/element/util/split-data.js","../node_modules/@antv/g2/esm/element/area.js","../node_modules/@antv/g2/esm/element/controller/size.js","../node_modules/@antv/g2/esm/element/shape/box.js","../node_modules/@antv/g2/esm/element/box.js","../node_modules/@antv/g2/esm/element/shape/edge.js","../node_modules/@antv/g2/esm/element/edge.js","../node_modules/@antv/g2/esm/element/heatmap.js","../node_modules/@antv/g2/esm/element/util/symbol.js","../node_modules/@antv/g2/esm/element/shape/interval.js","../node_modules/@antv/g2/esm/element/interval.js","../node_modules/@antv/g2/esm/element/shape/k-line.js","../node_modules/@antv/g2/esm/element/k-line.js","../node_modules/@antv/g2/esm/element/shape/line.js","../node_modules/@antv/g2/esm/element/path.js","../node_modules/@antv/g2/esm/element/line.js","../node_modules/@antv/g2/esm/element/shape/point.js","../node_modules/@antv/g2/esm/element/point.js","../node_modules/@antv/g2/esm/element/shape/polygon.js","../node_modules/@antv/g2/esm/element/polygon.js","../node_modules/@antv/g2/esm/element/shape/text.js","../node_modules/@antv/g2/esm/element/text.js","../node_modules/@antv/g2/esm/facet/rect.js","../node_modules/@antv/g2plot/esm/util/common.js","../node_modules/@antv/g2/esm/index.js","../node_modules/@antv/g2plot/esm/components/description.js","../node_modules/@antv/g2plot/esm/components/axis/parser.js","../node_modules/@antv/g2plot/esm/util/math.js","../node_modules/@antv/g2plot/esm/components/guide-line.js","../node_modules/@antv/g2plot/esm/components/axis/state.js","../node_modules/@antv/g2plot/esm/util/formatter.js","../node_modules/@antv/g2plot/esm/components/label/parser.js","../node_modules/@antv/g2plot/esm/util/state-manager.js","../node_modules/@antv/g2plot/esm/base/controller/state.js","../node_modules/@antv/g2plot/esm/components/label/state.js","../node_modules/@antv/g2plot/esm/components/factory.js","../node_modules/@antv/g2plot/esm/components/tooltip/state.js","../node_modules/@antv/g2plot/esm/interaction/base.js","../node_modules/@antv/gui/esm/scroll-bar/style.js","../node_modules/@antv/gui/esm/scroll-bar/index.js","../node_modules/@antv/gui/esm/arrow/index.js","../node_modules/@antv/gui/esm/icon/index.js","../node_modules/@antv/gui/esm/trend/constant.js","../node_modules/@antv/gui/esm/trend/path.js","../node_modules/@antv/gui/esm/trend/index.js","../node_modules/@antv/gui/esm/slider/constant.js","../node_modules/@antv/gui/esm/slider/handler.js","../node_modules/@antv/gui/esm/slider/index.js","../node_modules/@antv/g2plot/esm/interaction/helper/data-range.js","../node_modules/@antv/g2plot/esm/interaction/scrollbar.js","../node_modules/@antv/g2plot/esm/interaction/slider.js","../node_modules/@antv/g2plot/esm/interaction/index.js","../node_modules/@antv/g2plot/esm/base/controller/padding.js","../node_modules/@antv/g2plot/esm/theme/default.js","../node_modules/@antv/g2plot/esm/theme/global.js","../node_modules/@antv/g2plot/esm/theme/dark.js","../node_modules/@antv/g2plot/esm/theme/theme.js","../node_modules/@antv/g2plot/esm/util/axis.js","../node_modules/@antv/g2plot/esm/util/responsive/default.js","../node_modules/@antv/g2plot/esm/util/responsive/theme.js","../node_modules/@antv/g2plot/esm/base/controller/theme.js","../node_modules/@antv/g2plot/esm/theme/utils.js","../node_modules/@antv/g2plot/esm/base/view-layer.js","../node_modules/@antv/g2plot/esm/base/controller/canvas.js","../node_modules/@antv/g2plot/esm/base/controller/event.js","../node_modules/@antv/g2plot/esm/base/global.js","../node_modules/@antv/g2plot/esm/base/plot.js","../node_modules/@antv/g2plot/esm/geoms/base.js","../node_modules/@antv/g2plot/esm/geoms/area/main.js","../node_modules/@antv/g2plot/esm/util/path.js","../node_modules/@antv/g2plot/esm/geoms/area/mini.js","../node_modules/@antv/g2plot/esm/geoms/area/index.js","../node_modules/@antv/g2plot/esm/geoms/interval/main.js","../node_modules/@antv/g2plot/esm/geoms/interval/index.js","../node_modules/@antv/g2plot/esm/geoms/line/main.js","../node_modules/@antv/g2plot/esm/geoms/line/guide.js","../node_modules/@antv/g2plot/esm/geoms/line/mini.js","../node_modules/@antv/g2plot/esm/geoms/line/index.js","../node_modules/@antv/g2plot/esm/geoms/point/circle.js","../node_modules/@antv/g2plot/esm/geoms/point/guide.js","../node_modules/@antv/g2plot/esm/geoms/factory.js","../node_modules/@antv/g2plot/esm/geoms/point/index.js","../node_modules/@antv/g2plot/esm/util/scale.js","../node_modules/@antv/g2plot/esm/plots/line/animation/clipIn-with-data.js","../node_modules/@antv/g2plot/esm/util/responsive/node/shape-nodes.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/ring-thickness.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/index.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-dist.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-dist-vertical.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-collision.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/element-width.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/column-width.js","../node_modules/@antv/g2plot/esm/util/responsive/constraints/min-ring-thickness.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-hide.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/clear-overlapping.js","../node_modules/fecha/src/fecha.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/datetime-string-abbrevaite.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/digits-abbreviate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-state.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-abbreviate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/index.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-wrapper.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/text-rotation.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/robust-abbrevaite.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-abbrevate.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-change.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/node-jitter.js","../node_modules/@antv/g2plot/esm/util/responsive/rules/node-jitter-upward.js","../node_modules/@antv/g2plot/esm/util/responsive/responsive.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/base.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/axis.js","../node_modules/@antv/g2plot/esm/util/responsive/apply/label.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/label.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/line/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/line/component/label/line-label.js","../node_modules/@antv/g2plot/esm/plots/line/component/label/point-label.js","../node_modules/@antv/g2plot/esm/plots/line/event.js","../node_modules/@antv/g2plot/esm/plots/line/interaction/line-active.js","../node_modules/@antv/g2plot/esm/plots/line/interaction/line-select.js","../node_modules/@antv/g2plot/esm/plots/line/theme.js","../node_modules/@antv/g2plot/esm/plots/line/layer.js","../node_modules/@antv/g2plot/esm/plots/line/index.js","../node_modules/@antv/g2plot/esm/plots/area/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/area/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/area/event.js","../node_modules/@antv/g2plot/esm/plots/area/theme.js","../node_modules/@antv/g2plot/esm/plots/area/layer.js","../node_modules/@antv/g2plot/esm/plots/density/layer.js","../node_modules/@antv/g2plot/esm/plots/density/index.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/label.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/util/color.js","../node_modules/@antv/g2plot/esm/plots/column/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/column/component/label/column-label.js","../node_modules/@antv/g2plot/esm/plots/column/event.js","../node_modules/@antv/g2plot/esm/plots/column/theme.js","../node_modules/@antv/g2plot/esm/plots/column/layer.js","../node_modules/@antv/g2plot/esm/plots/column/index.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/label/scatter-label.js","../node_modules/@antv/g2plot/esm/plots/scatter/event.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/quadrant.js","../node_modules/d3-regression/src/utils/points.js","../node_modules/d3-regression/src/utils/determination.js","../node_modules/d3-regression/src/utils/geometry.js","../node_modules/d3-regression/src/utils/interpose.js","../node_modules/d3-regression/src/utils/ols.js","../node_modules/d3-regression/src/exponential.js","../node_modules/d3-regression/src/linear.js","../node_modules/d3-regression/src/utils/median.js","../node_modules/d3-regression/src/loess.js","../node_modules/d3-regression/src/logarithmic.js","../node_modules/d3-regression/src/quadratic.js","../node_modules/d3-regression/src/power.js","../node_modules/@antv/g2plot/esm/plots/scatter/components/trendline.js","../node_modules/d3-regression/src/polynomial.js","../node_modules/@antv/g2plot/esm/plots/scatter/layer.js","../node_modules/@antv/g2plot/esm/plots/bubble/layer.js","../node_modules/@antv/g2plot/esm/plots/bubble/index.js","../node_modules/@antv/g2plot/esm/plots/scatter/index.js","../node_modules/@antv/g2plot/esm/plots/group-column/layer.js","../node_modules/@antv/g2plot/esm/plots/group-column/index.js","../node_modules/@antv/g2plot/esm/components/connected-area.js","../node_modules/@antv/g2plot/esm/plots/stack-column/component/label/stack-column-label.js","../node_modules/@antv/g2plot/esm/plots/stack-column/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-column/index.js","../node_modules/@antv/g2plot/esm/util/data.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-column/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-column/index.js","../node_modules/@antv/g2plot/esm/plots/histogram/layer.js","../node_modules/@antv/g2plot/esm/plots/histogram/index.js","../node_modules/@antv/g2plot/esm/plots/bar/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/bar/apply-responsive/axis.js","../node_modules/@antv/g2plot/esm/plots/bar/component/label/bar-label.js","../node_modules/@antv/g2plot/esm/plots/bar/event.js","../node_modules/@antv/g2plot/esm/plots/bar/theme.js","../node_modules/@antv/g2plot/esm/plots/bar/layer.js","../node_modules/@antv/g2plot/esm/plots/bar/index.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/component/label/stack-bar-label.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-bar/index.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-bar/index.js","../node_modules/@antv/g2plot/esm/plots/group-bar/layer.js","../node_modules/@antv/g2plot/esm/plots/group-bar/index.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/spider-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/utils/index.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/utils/text.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/base-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/outer-label.js","../node_modules/@antv/g2plot/esm/plots/pie/component/label/inner-label.js","../node_modules/@antv/g2plot/esm/plots/pie/event.js","../node_modules/@antv/g2plot/esm/plots/pie/theme.js","../node_modules/@antv/g2plot/esm/plots/pie/layer.js","../node_modules/@antv/g2plot/esm/plots/pie/index.js","../node_modules/@antv/g2plot/esm/util/responsive/node/variable-node.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/index.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/geometry.js","../node_modules/@antv/g2plot/esm/plots/ring/apply-responsive/theme.js","../node_modules/@antv/g2plot/esm/plots/ring/component/statistic-template.js","../node_modules/@antv/g2plot/esm/plots/ring/event.js","../node_modules/@antv/g2plot/esm/plots/ring/layer.js","../node_modules/@antv/g2plot/esm/plots/ring/index.js","../node_modules/@antv/g2plot/esm/plots/radar/event.js","../node_modules/@antv/g2plot/esm/plots/radar/layer.js","../node_modules/@antv/g2plot/esm/plots/radar/index.js","../node_modules/@antv/g2plot/esm/plots/liquid/geometry/shape/liquid.js","../node_modules/@antv/g2plot/esm/plots/liquid/animation/liquid-move-in.js","../node_modules/@antv/g2plot/esm/plots/liquid/layer.js","../node_modules/@antv/g2plot/esm/plots/liquid/index.js","../node_modules/@antv/g2plot/esm/plots/gauge/geometry/shape/pointer.js","../node_modules/@antv/g2plot/esm/plots/gauge/theme.js","../node_modules/@antv/g2plot/esm/plots/gauge/layer.js","../node_modules/@antv/g2plot/esm/plots/gauge/index.js","../node_modules/@antv/g2plot/esm/plots/area/index.js","../node_modules/@antv/g2plot/esm/plots/stack-area/component/label/area-label.js","../node_modules/@antv/g2plot/esm/plots/stack-area/component/label/line-label.js","../node_modules/@antv/g2plot/esm/plots/stack-area/layer.js","../node_modules/@antv/g2plot/esm/plots/stack-area/index.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-area/layer.js","../node_modules/@antv/g2plot/esm/plots/percentage-stack-area/index.js","../node_modules/@antv/g2plot/esm/plots/funnel/animation/funnel-scale-in-y.js","../node_modules/@antv/g2plot/esm/plots/funnel/theme.js","../node_modules/@antv/g2plot/esm/plots/funnel/component/label/funnel-label.js","../node_modules/@antv/g2plot/esm/plots/funnel/geometry/shape/funnel-dynamic-rect.js","../node_modules/@antv/g2plot/esm/plots/funnel/component/label/funnel-label-parser.js","../node_modules/@antv/g2plot/esm/plots/funnel/layer.js","../node_modules/@antv/g2plot/esm/plots/funnel/index.js","../node_modules/@antv/g2plot/esm/geoms/heatmap/linear.js","../node_modules/@antv/g2plot/esm/plots/heatmap/components/legend.js","../node_modules/@antv/g2plot/esm/plots/heatmap/components/background.js","../node_modules/@antv/g2plot/esm/plots/heatmap/layer.js","../node_modules/@antv/g2plot/esm/plots/heatmap/index.js","../node_modules/@antv/g2plot/esm/plots/matrix/component/legend.js","../node_modules/@antv/g2plot/esm/plots/matrix/shape.js","../node_modules/@antv/g2plot/esm/plots/matrix/component/label.js","../node_modules/@antv/g2plot/esm/plots/matrix/layer.js","../node_modules/@antv/g2plot/esm/plots/matrix/index.js","../node_modules/@antv/g2plot/esm/plots/waterfall/geometry/shape/waterfall.js","../node_modules/@antv/g2plot/esm/plots/waterfall/component/label/waterfall-label.js","../node_modules/@antv/g2plot/esm/plots/waterfall/component/label/diff-label.js","../node_modules/@antv/g2plot/esm/plots/waterfall/layer.js","../node_modules/@antv/g2plot/esm/plots/waterfall/index.js","../node_modules/@antv/g2plot/esm/plots/step-line/layer.js","../node_modules/@antv/g2plot/esm/plots/step-line/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-layer.js","../node_modules/@antv/g2plot/esm/sparkline/progress/component/marker.js","../node_modules/@antv/g2plot/esm/sparkline/progress/event.js","../node_modules/@antv/g2plot/esm/sparkline/progress/layer.js","../node_modules/@antv/g2plot/esm/sparkline/progress/index.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/animation/index.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/event.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/layer.js","../node_modules/@antv/g2plot/esm/sparkline/ring-progress/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-column/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-area/index.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/event.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/layer.js","../node_modules/@antv/g2plot/esm/sparkline/tiny-line/index.js","../node_modules/@antv/g2plot/esm/combo-plots/base.js","../node_modules/@antv/g2plot/esm/combo-plots/util/adjustColorConfig.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalLegend.js","../node_modules/@antv/g2plot/esm/combo-plots/util/padding.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalAxis.js","../node_modules/@antv/g2plot/esm/combo-plots/util/globalTooltip.js","../node_modules/@antv/g2plot/esm/combo-plots/overlapped.js","../node_modules/@antv/g2plot/esm/index.js","../node_modules/@antv/dom-util/lib/add-event-listener.js","../node_modules/@antv/dom-util/lib/create-dom.js","../node_modules/@antv/dom-util/lib/get-outer-height.js","../node_modules/@antv/dom-util/lib/get-outer-width.js","../node_modules/@antv/dom-util/lib/get-ratio.js","../node_modules/@antv/dom-util/lib/modify-css.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/mat3.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/vec2.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/vec3.js","../node_modules/@antv/util/lib/is-object.js","../node_modules/@antv/util/lib/is-equal.js","../node_modules/@antv/util/lib/is-object-like.js","../node_modules/@antv/util/lib/is-array-like.js","../node_modules/@antv/component/lib/legend/index.js","../node_modules/@antv/component/lib/base.js","../node_modules/@antv/component/lib/legend/continuous/index.js","../node_modules/@antv/component/lib/legend/continuous/size.js","../node_modules/@antv/component/lib/legend/continuous/components/slider.js","../node_modules/@antv/component/lib/const.js","../node_modules/@antv/component/lib/legend/continuous/color.js","../node_modules/@antv/component/lib/legend/category/index.js","../node_modules/@antv/component/lib/legend/category/canvas.js","../node_modules/@antv/component/lib/legend/category/arrow/index.js","../node_modules/@antv/component/lib/legend/category/html.js","../node_modules/@antv/scale/lib/category.js","../node_modules/@antv/scale/lib/linear.js","../node_modules/@antv/util/lib/clone.js","../node_modules/lodash/lodash.js","../node_modules/@antv/g2/lib/element/util/shape.js","../node_modules/@antv/util/esm/is-array-like.js","../node_modules/@antv/util/esm/contains.js","../node_modules/@antv/util/esm/is-type.js","../node_modules/@antv/util/esm/is-array.js","../node_modules/@antv/util/esm/is-object.js","../node_modules/@antv/util/esm/each.js","../node_modules/@antv/util/esm/filter.js","../node_modules/@antv/util/esm/difference.js","../node_modules/@antv/util/esm/is-function.js","../node_modules/@antv/util/esm/is-nil.js","../node_modules/@antv/util/esm/keys.js","../node_modules/@antv/util/esm/is-match.js","../node_modules/@antv/util/esm/is-object-like.js","../node_modules/@antv/util/esm/is-plain-object.js","../node_modules/@antv/util/esm/find.js","../node_modules/@antv/util/esm/find-index.js","../node_modules/@antv/util/esm/first-value.js","../node_modules/@antv/util/esm/flatten.js","../node_modules/@antv/util/esm/flatten-deep.js","../node_modules/@antv/util/esm/get-range.js","../node_modules/@antv/util/esm/pull.js","../node_modules/@antv/util/esm/pull-at.js","../node_modules/@antv/util/esm/reduce.js","../node_modules/@antv/util/esm/remove.js","../node_modules/@antv/util/esm/is-string.js","../node_modules/@antv/util/esm/sort-by.js","../node_modules/@antv/util/esm/uniq.js","../node_modules/@antv/util/esm/union.js","../node_modules/@antv/util/esm/values-of-key.js","../node_modules/@antv/util/esm/head.js","../node_modules/@antv/util/esm/last.js","../node_modules/@antv/util/esm/starts-with.js","../node_modules/@antv/util/esm/ends-with.js","../node_modules/@antv/util/esm/every.js","../node_modules/@antv/util/esm/some.js","../node_modules/@antv/util/esm/group-by.js","../node_modules/@antv/util/esm/group-to-map.js","../node_modules/@antv/util/esm/group.js","../node_modules/@antv/util/esm/get-wrap-behavior.js","../node_modules/@antv/util/esm/wrap-behavior.js","../node_modules/@antv/util/esm/number2color.js","../node_modules/@antv/util/esm/parse-radius.js","../node_modules/@antv/util/esm/clamp.js","../node_modules/@antv/util/esm/fixed-base.js","../node_modules/@antv/util/esm/is-number.js","../node_modules/@antv/util/esm/is-decimal.js","../node_modules/@antv/util/esm/is-even.js","../node_modules/@antv/util/esm/is-integer.js","../node_modules/@antv/util/esm/is-negative.js","../node_modules/@antv/util/esm/is-number-equal.js","../node_modules/@antv/util/esm/is-odd.js","../node_modules/@antv/util/esm/is-positive.js","../node_modules/@antv/util/esm/max-by.js","../node_modules/@antv/util/esm/min-by.js","../node_modules/@antv/util/esm/mod.js","../node_modules/@antv/util/esm/to-degree.js","../node_modules/@antv/util/esm/to-integer.js","../node_modules/@antv/util/esm/to-radian.js","../node_modules/@antv/util/esm/for-in.js","../node_modules/@antv/util/esm/has.js","../node_modules/@antv/util/esm/has-key.js","../node_modules/@antv/util/esm/values.js","../node_modules/@antv/util/esm/has-value.js","../node_modules/@antv/util/esm/to-string.js","../node_modules/@antv/util/esm/lower-case.js","../node_modules/@antv/util/esm/lower-first.js","../node_modules/@antv/util/esm/substitute.js","../node_modules/@antv/util/esm/upper-case.js","../node_modules/@antv/util/esm/upper-first.js","../node_modules/@antv/util/esm/get-type.js","../node_modules/@antv/util/esm/is-arguments.js","../node_modules/@antv/util/esm/is-boolean.js","../node_modules/@antv/util/esm/is-date.js","../node_modules/@antv/util/esm/is-error.js","../node_modules/@antv/util/esm/is-finite.js","../node_modules/@antv/util/esm/is-null.js","../node_modules/@antv/util/esm/is-prototype.js","../node_modules/@antv/util/esm/is-reg-exp.js","../node_modules/@antv/util/esm/is-undefined.js","../node_modules/@antv/util/esm/is-element.js","../node_modules/@antv/util/esm/request-animation-frame.js","../node_modules/@antv/util/esm/clear-animation-frame.js","../node_modules/@antv/util/esm/mix.js","../node_modules/@antv/util/esm/augment.js","../node_modules/@antv/util/esm/clone.js","../node_modules/@antv/util/esm/debounce.js","../node_modules/@antv/util/esm/memoize.js","../node_modules/@antv/util/esm/deep-mix.js","../node_modules/@antv/util/esm/extend.js","../node_modules/@antv/util/esm/index-of.js","../node_modules/@antv/util/esm/is-empty.js","../node_modules/@antv/util/esm/is-equal.js","../node_modules/@antv/util/esm/is-equal-with.js","../node_modules/@antv/util/esm/map.js","../node_modules/@antv/util/esm/map-values.js","../node_modules/@antv/util/esm/get.js","../node_modules/@antv/util/esm/set.js","../node_modules/@antv/util/esm/pick.js","../node_modules/@antv/util/esm/throttle.js","../node_modules/@antv/util/esm/to-array.js","../node_modules/@antv/util/esm/unique-id.js","../node_modules/@antv/util/esm/noop.js","../node_modules/@antv/util/esm/identity.js","../node_modules/@antv/util/esm/size.js","../node_modules/@antv/util/esm/cache.js","../node_modules/@antv/util/esm/index.js","../node_modules/tslib/tslib.es6.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@antv/g/dist/g.min.js","../node_modules/@antv/scale/esm/base.js","../node_modules/@antv/scale/esm/factory.js","../node_modules/@antv/scale/esm/util/extended.js","../node_modules/@antv/scale/esm/category.js","../node_modules/@antv/scale/esm/identity.js","../node_modules/@antv/scale/esm/linear.js","../node_modules/@antv/scale/esm/linear-log.js","../node_modules/@antv/scale/esm/linear-pow.js","../node_modules/@antv/scale/esm/time.js","../node_modules/@antv/scale/esm/util/bisector.js","../node_modules/@antv/scale/esm/util/pretty.js","../node_modules/@antv/scale/esm/timeCat.js","../node_modules/@antv/scale/esm/index.js","../node_modules/@antv/dom-util/lib/index.js","../node_modules/@antv/attr/esm/attributes/base.js","../node_modules/@antv/attr/esm/util/color-util.js","../node_modules/@antv/attr/esm/attributes/color.js","../node_modules/@antv/attr/esm/attributes/opacity.js","../node_modules/@antv/attr/esm/attributes/position.js","../node_modules/@antv/attr/esm/attributes/shape.js","../node_modules/@antv/attr/esm/attributes/size.js","../node_modules/@antv/attr/esm/factory.js","../node_modules/@antv/attr/esm/index.js","../node_modules/@antv/event-emitter/lib/index.js","../node_modules/@antv/dom-util/lib/get-style.js","../node_modules/@antv/util/lib/is-array.js","../node_modules/@antv/gl-matrix/lib/gl-matrix/common.js","../node_modules/@antv/component/lib/legend/base.js","../node_modules/@antv/component/lib/legend/continuous/constant/index.js"],"names":["exports","__esModule","get_style_1","el","defaultValue","height","offsetHeight","parseFloat","width","offsetWidth","Object","defineProperty","value","is_array_1","is_object_1","default","elements","func","i","len","length","k","hasOwnProperty","toString","type","call","is_type_1","str","tslib_1","_","g_1","base_1","slider_1","constant_1","Continuous","_super","cfg","backgroundStyle","fillStyle","textStyle","titleStyle","otherCfg","__rest","_a","layout","defaultSize","this","__assign","titleDistance","operational","handleIcon","SliderMiddleBackgroundStyle","SliderMiddleFrontendStyle","SliderTextStyle","DefaultTitleStyle","__extends","prototype","init","container","get","set","legendGroup","addGroup","itemsGroup","translate","renderTitle","isShowTitle","title","titleShape","addShape","attrs","x","y","text","name","renderItems","renderSlider","bindEvents","isOperational","clear","destroyed","destroy","remove","isHorizontal","getSliderConfig","sliderType","sliderSize","sliderStyle","min","head","max","last","range","formatter","formatterValue","_this","slider","setBackground","createBackgroundGroup","getBBox","on","ev","itemFiltered","Event","emit","add","DEFAULT_THEME","itemDistance","itemMarginBottom","wordSpacing","backgroundPadding","unSelectedColor","offsetX","offsetY","CategoryBase","hoverable","clickable","selectedMode","allowAllCanceled","reversed","autoWrap","Scale","ticks","__cfg__","_initDefaultCfg","assign","_init","v","change","constructor","clone","getTicks","map","tick","idx","isObject","getText","tickValue","scale","key","res","isNil","isFunction","_calcPercent","isNumber","NaN","_calcValue","percent","DEFAULT_Q","ALL_Q","eps","Number","EPSILON","simplicity","q","Q","j","lmin","lmax","lstep","n","size","indexOf","m","mod","simplicityMax","density","dmin","dmax","r","rt","Math","densityMax","coverage","pow","coverageMax","span","half","onlyLoose","w","best","score","Infinity","_i","Q_1","sm","isNaN","Error","dm","delta","z","ceil","log10","step","cm","minStart","floor","maxStart","start","s","c","g","toFixed","isInteger","abs","push","timeIntervals","second","format","miniute","hour","day","week","DAY","month","year","EVENT_MAP","onViewClick","onViewDblClick","onViewMousemove","onViewMousedown","onViewMouseup","onViewMouseenter","onViewMouseleave","onViewContextmenu","onAxisClick","onAxisDblClick","onAxisMousemove","onAxisMousedown","onAxisMouseup","onAxisMouseenter","onAxisMouseleave","onAxisContextmenu","onLabelClick","onLabelDblClick","onLabelMousemove","onLabelMouseup","onLabelMousedown","onLabelMouseenter","onLabelMouseleave","onLabelContextmenu","onLegendClick","onLegendDblClick","onLegendMouseMove","onLegendMouseDown","onLegendMouseUp","onLegendMouseLeave","onLegendMouseEnter","onLegendContextmenu","CANVAS_EVENT_MAP","onPlotClick","onPlotDblClick","onPlotMousemove","onPlotMousedown","onPlotMouseup","onPlotMouseenter","onPlotMouseleave","onPlotContextmenu","onTitleClick","onTitleDblClick","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter","onTitleMouseleave","onTitleContextmenu","onDescriptionClick","onDescriptionDblClick","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter","onDescriptionMouseleave","onDescriptionContextmenu","LAYER_EVENT_MAP","onLayerClick","onLayerDblClick","onLayerMousemove","onLayerMousedown","onLayerMouseup","onLayerMouseenter","onLayerMouseleave","onLayerContextmenu","onEvent","layer","eventName","handler","view","Layer","props","layers","visibility","rendered","eventHandlers","options","getOptions","processOptions","id","canvas","parent","beforeInit","layerBBox","getLayerBBox","layerRegion","getLayerRegion","eachLayer","afterInit","render","transform","draw","h","off","show","hide","addLayer","item","removeLayer","splice","updateBBox","recursive","originRange","newRange","updateBBoxByParent","region","end","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","defaultOptions","cb","parseEvents","eventParser","eventsName","e","parentX","parentY","THEME_MAP","getTheme","toLowerCase","FONT_FAMILY","SHAPE_STYLE","area","lineWidth","fill","fillOpacity","hollowArea","stroke","box","edge","interval","hollowInterval","kline","line","polygon","hollowPolygon","point","radius","hollowPoint","textAlign","textBaseline","style","opacity","strokeOpacity","LINEWIDTH_ACTIVE_STYLE","POINT_ACTIVE_STYLE","color","shadowBlur","shadowColor","HOLLOW_POINT_ACTIVE_STYLE","strokeStyle","DEFAULT_AXIS_CONFIG","autoRotateLabel","autoHideLabel","autoRotateTitle","showTitle","gridType","fontSize","fontFamily","offset","label","lineHeight","tickLine","alignWithLabel","grid","lineDash","DEFAULT_LEGEND_CONFIG","flipPage","theme","registerTheme","pixelRatio","defaultColor","padding","colors","colors_20","shapes","sizes","opacities","axis","top","position","bottom","left","right","circle","helix","treemapLabels","fontStyle","innerLabels","thetaLabels","labelHeight","labelLine","defaultLegendPosition","legend","html","overflow","marginBottom","listStyle","listStyleType","margin","itemStyle","cursor","marginRight","markerStyle","borderRadius","display","verticalAlign","legendMargin","tooltip","useHtml","zIndex","transition","backgroundColor","boxShadow","marginTop","marginLeft","float","tooltipMarker","symbol","shadowOffsetX","shadowOffSetY","tooltipCrosshairsRect","rectStyle","tooltipCrosshairsLine","lineStyle","annotation","autoRotate","alignX","alignY","dataRegion","dataMarker","direction","autoAdjust","lineLength","shape","active","smooth","smoothLine","vhv","arc","rect","funnel","pyramid","dot","dash","hv","vh","hvh","hollow","square","bowtie","diamond","hexagon","triangle","triangleDown","hollowCircle","hollowSquare","hollowBowtie","hollowDiamond","hollowHexagon","hollowTriangle","hollowTriangleDown","cross","plus","hyphen","image","path","Global","version","renderer","animate","widthRatio","column","rose","multiplePie","setTheme","newTheme","Base","visible","changeVisible","mat3","out","a","transMat","Array","rad","rotateMat","scaleMat","actions","concat","action","vec2","v1","v2","theta","acos","direct","angle","angleLargeThanPI","PI","flag","catmullRom2Bezier","crp","d","iLen","p","SPACES","PATH_COMMAND","RegExp","PATH_VALUES","parsePathString","pathString","paramCounts","o","l","t","u","data","String","replace","b","params","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","test","mx","my","first","ii","pa","preParams","upCmd","toUpperCase","jj","symetricT","length_1","symetricS","a2c","x1","y1","rx","ry","large_arc_flag","sweep_flag","x2","y2","xy","f1","f2","cx","cy","_120","rotate","cos","sin","sqrt","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","join","split","l2c","q2c","ax","ay","pathTocurve","path2","p2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","apply","slice","fixArc","pp","shift","pi","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","getClip","coord","clip","isPolar","startAngle","endAngle","center","getCenter","getRadius","Fan","rs","re","endState","Rect","isTransposed","getScaledMatrix","scaledMatrix","matrix","getMatrix","doAnimation","animateCfg","index","delay","easing","duration","callback","getAnimateParam","doGroupScaleIn","zeroY","getWidth","getCoordRange","endMatrix","attr","getAngle","points","minX","maxX","minY","maxY","centerX","centerY","getPointsBox","coordStartAngle","diffAngle","scaleInY","scaleInX","zoomIn","pathIn","clipIn","setSilent","fadeIn","fanIn","Action","enter","leave","lineWidthOut","zoomOut","pathOut","fadeOut","appear","groupWaveIn","groupScaleInX","groupScaleInY","groupScaleInXY","update","animationName","defaultAnimationCfg","Animate","result","isRect","heatmap","defaultCfg","getAnimation","elementType","animationType","elementAnimateCfg","animation","getAnimateCfg","registerAnimation","animationFun","getShapes","viewId","children","child","isGroup","isShape","getAnimate","execAnimation","isUpdate","newIsUpdate","panelGroup","backgroundGroup","caches","drawn","axisShapes","cacheShapes","rst","shapeCache","canvasDrawn","updateShapes","newShapes","deletedShape","tempShape","tempShapeMatrix","finalMatrix","multiply","setMatrix","updateShape","cacheAttrs","newShape","addAnimate","animateCfg_1","animate_1","coord_1","element","elementAnimateOption","yScale","getYScale","convertPoint","getYMinValue","shapeArr","MARGIN_RATIO","DODGE_RATIO","Adjust","xField","yField","adjustNames","isAdjust","dim","getAdjustRange","dimValue","values","pre","next","adjustData","groupedDataArray","mergedData","dimValuesMap","getDimValues","dataArray","adjustDim","groupData","record","undefined","dims","forEach","sort","ADJUST_MAP","getAdjust","registerAdjust","ctor","Dodge","cacheMap","adjustDataArray","mergeData","marginRatio","_b","dodgeRatio","dodgeBy","process","groupDataArray","frameIndex","getDistribution","group","valueArr","valIndex","getDodgeOffset","tickLength","val","Jitter","arguments","adjustGroup","getAdjustOffset","random","Cache","Stack","_c","_d","reverseOrder","processStack","processOneDimStack","reverse","positive","negative","xKey","cache","has","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","keys","yValue","off_1","getDimMaxValue","dimValues","flattenValues","Coordinate","isHelix","isReflectX","isReflectY","initial","convertDim","isReflect","invertDim","applyMatrix","tag","vector","transformMat3","invertMatrix","inverted","invert","convert","invertPoint","radian","reflect","transpose","getHeight","Cartesian","Helix","innerRadius","maxRadius","thi","newY","subtract","angleTo","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart","xPercent","yPercent","xs","ys","COORDINATE_MAP","getCoordinate","registerCoordinate","Types","dateRegex","ScaleController","defs","createScale","field","def","firstValue","_getDefaultType","_getScaleCfg","Linear","Time","Cat","nice","CoordController","option","reset","createCoord","C","coordCfg","_hasAction","_execActions","_angle","sx","sy","actionName","Guide","capture","Greedy","bitmap","xGap","yGap","hasGap","bbox","round","fillGap","adjustLabelPosition","MAX_TIMES","spiralFill","greedy","maxTimes","dxdy","maxDelta","dx","dy","f","nt","canFill","times","accessedCache","LAYOUTS","scatter","toBeRemoved","labels","i_1","treemap","labelBBox","shapeBBox","Label","containerTpl","itemTpl","items","lineGroup","canvasDraw","_dryDraw","innerHTML","changeLabel","oldLabel","newLabel","tagName","node","_createDom","_setCustomPosition","resetMatrix","rotateAtStart","drawLines","_lineToLabel","lineShape","_adjustLabels","getLabels","childNodes","_createText","oldcfg","labelShape","htmlTemplate","name_1","origin_1","origin","_initHtmlContainer","appendChild","wrapper","parentNode","htmlDom","parseInt","count","Tooltip","titleContent","panelRange","inPanel","crosshairs","isContentChange","lastItems","isChanged","preItem","some","setContent","setPosition","target","setMarkers","markerItems","markerCfg","markerGroup","frontgroundGroup","clearMarkers","Crosshair","plot","_init_","_addLineShape","_renderHorizontalLine","bl","br","_renderVerticalLine","tl","_renderBackground","_updateRectShape","crosshairsRectShape","firstItem","lastItem","startDim","crossLineShapeX","crossLineShapeY","move","defaultPosition","containerWidth","containerHeight","newx","newy","rectWidth","rectHeight","gap","constraintPositionInBoundary","viewWidth","viewHeight","constraintPositionInPanel","onlyHorizontal","tr","CONTAINER_CLASS","TITLE_CLASS","MARKER_CLASS","VALUE_CLASS","dom","cls","getElementsByClassName","styles","HtmlTooltip","htmlContent","follow","enterable","crosshair","crosshairGroup","outterNode","_getHtmlContent","document","getElementById","_renderTpl","titleDom","listDom","_addItem","removeChild","itemDiv","itemDOM","markerDom","valueDom","oldx","oldy","clientWidth","clientHeight","endx","endy","prePosition","panelClip","CanvasTooltip","nameStyle","valueStyle","itemGap","animationDuration","board","itemGroup","itemHeight","_alignToRight","mat","ts","stopAnimate","markerRadius","marker","markerAttrs","groups","valueText","Axis","subTickCount","subTickLine","labelItems","gridPoints","_processTicks","_renderGrid","_renderLine","_renderTicks","_renderLabels","gridGroup","labelRenderer","parseTick","addLabel","tickCount","labelCfg","executedLabel","getSideVector","newPoint","getTextAnchor","getMaxLabelWidthOrHeight","property","autoRotateLabels","autoHideLabels","getLinePath","lineCfg","tickLineCfg","tickItems","subTickItems","_addTickLine","subTickLineCfg","appendInfo","class","preItem_1","gridCfg","subPoints","executedGrid","path_1","gridLineShape","_drawAlternativeBg","_parseTicks","tickPoint","getTickPoint","_addTickItem","subTickLineCfg_1","diff","subTick","subTickLength","ticksLength","getTickEnd","tickShape","oddColor","evenColor","alternateColor","_getBackItem","bgColor","subItem","endSubItem","Circle","_getCirclePoint","vecLen","getSidePoint","align","inner","startPoint","endPoint","large","sweep","innerStartVector","innerEndVector","innerStartPoint","innerEndPoint","startAngle_1","totalAngle_1","avgAngle","avgWidth_1","maxLength_1","mode","axisStart","unshift","_getHelixPoint","AUTO_ROTATE_DEGREES","Line","isVertical","factor","axisVector","getAxisVector","normal","normalize","verticalVector","vertical","offsetVector","rangeX","rangeY","offsetPoint","titleOffset","labelLength","getAutoRotateAngle","getOffsetByRotateAngle","sideVector","angle_1","offsetY_1","textAlign_1","labelSpace","tickStep","labels_1","maxHeight","avgHeight","_getAvgLabelHeightSpace","maxWidth","avgWidth","_getAvgLabelLength","ratio_1","visibleTicks","getAutoRotateAngleByAvgWidth","degrees_1","Legend","moveTo","SLIDER_WIDTH","SLIDER_HEIGHT","SLIDER_CIRCLE_MAX_SIZE","SliderBtnStyle","Slider","onMouseMove","clientX","clientY","updateSliderStatus","onMouseUp","clearAllEvents","currentTarget","initialSlider","bg","frontend","background","rangeSliderShape","createRangeSliderShape","minSliderGroup","createMinSliderGroup","maxSliderGroup","createMaxSliderGroup","renderUIWithRange","bindEvent","getSliderCursor","minSliderShape","createSliderButton","minTextShape","createSliderText","maxSliderShape","maxTextShape","getRectButtonAttribute","isMin","sliderWidth","sliderHeight","getCircleButtonAttribute","buttonAttr","buttonAttribute","getRectTextAttribute","getCircleTextAttribute","textAttribute","textAttr","onMouseDown","originEvent","event","stopPropagation","preventDefault","pos","bindCanvasEvents","containerDOM","e1","e2","e3","isDragMin","isDragMax","isDragAll","totalLength","sign","currentPosition","getNewRange","getValue","minRatio","maxRatio","ratio","Size","getBackgroundShapeAttr","halfWidth","halfHeight","shapeAttribute","Color","calculatePercent","percentage","isSegment","getOperationalGroup","rgbColor","toRGB","getUnOperationalGroup","isize","preRgbColor","dir_mapper","up","down","Arrow","transformMatrix","CanvasLegend","isFlipped","_adjustItems","_getMaxItemSize","maxItemWidth","maxItemHeight","isNeedFlip","_adjustPositionOffset","_renderBack","itemsBBox","paginationCfg","_getPaginationCfg","pageNumber","_getHorizontalPaginationHeight","flipUI","flipPageUI","currentIndex","arrow1","arrows","arrow2","dist","la","arrow","ra","ua","da","GAP","getCheckedCount","fliperContainer","_mergeBBox","_getNextX","_getNextY","checked","wordSpace","startX","markerShape","textAttrs","textShape","itemWidth","wrapperShape","nextX","nextY","_adjustHorizontal","maxLength","row","rowLength","_adjustVertical","titleDisatance","titleHeight","colLength","backAttrs","renderBack","_onMousemove","_getLegendItem","itemMouseover","_findItem","_onMouseleave","itemMouseleave","_onClick","clickedItem","item_1","itemClick","markerItem_1","textItem_1","legendItem_1","unSelectedColor_1","checkColor_1","_findShapeByName","refer","findBy","bboxes","userSelect","activeColor","inactiveColor","arrowSize","_findParentNode","className","nodeClass","_findNodeByClass","HTMLLegend","prefixClassName","pagination","highlight","legendContainer","titleContainer","itemGroupContainer","clipContainer","itemMap","itemDom","originColor","domStr","setAttribute","_renderHorizontalPagination","_renderPagination","onclick","onmousemove","onmouseout","_onMouseout","_updateStatus","LIST_ITEM_CLASS","LIST_ITEM_MARKER_CLASS","targetClassName","clickedItemDom","getAttribute","itemNodes","markerDom_1","isCurrentChecked","count_1","lastActiveItem","LIST_CLASS","hoveredItemDom","hoveredItem","itemNode","scrollHeight","paginationDom","itemGroupContainerHeight","itemGroupContainerOffsetHeight","pageSize_1","deltaHeight_1","currentPageNum_1","totalPageNum","prePageButton_1","nextPageButton_1","activeStyle_1","border","borderWidth","inactiveStyle_1","currentPage_1","translateY_1","scrollWidth","itemGroupContainerWidth","itemGroupContainerOffsetWidth","pageSize_2","deltaWidth_1","currentPageNum_2","prePageButton_2","nextPageButton_2","activeStyle_2","inactiveStyle_2","currentPage_2","translateX_1","Annotation","xScales","yScales","HTMLElement","parsePoint","_position","parsePercentPoint","getNormalizedValue","scaled","isCategory","topLeft","fontWeight","guideLineGroup","content","drawText","textCfg","Text","guideText","Arc","originStart","originEnd","coordCenter","console","warn","largeArc","arcShape","Region","getPath","regionGroup","Image","src","img","imgGuide","Html","wrapperNode","htmlNode","setDomPosition","parentDom","childDom","domWidth","domHeight","DataMarker","positions","getElementPosition","pointCfg","lineData","drawLine","textPosition","pointPoisition","drawPoint","dir","linePath","pointStyle","DataRegion","regionCfg","regionData","getRegionData","regionBBox","startIndex","startXValue","endXValue","arr","xRange","yRange","fromRange","AnnotationController","acfg","annotations","annConfig","typeName","error","viewData","createAnnotations","ann","repaint","viewData_1","others","_getPointRadius","_convertArr","tmp","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","sub","d0","distance","d1","sum","cp0","cp1","isInCircle","command","_points2path","getSplinePath","constaint","prePoint","splinePath","pointList","cp2","controlPointList","catmullRom2bezier","getPointAngle","atan2","convertPolarPath","cur","transposed","subPath","curPoint","xDim","angleRange","middlePoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","ShapeBase","_coord","getCoord","parsePath","islineToArc","parsedPath","convertNormalPath","parsePoints","ShapeFactoryBase","_theme","_getShapeStyleByState","shapeName","shapeState","elementName","defaultShapeType","setCoord","getShape","getShapePoints","pointInfo","getPoints","getDefaultPoints","getMarkerStyle","getInactiveStyle","inactiveCfg","getActiveStyle","activeCfg","getSelectedStyle","selectedCfg","drawShape","defaultShapeStyle","gShape","yIndex","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeType","factory","shapeObj","getShapeFactory","STROKE_MARKERS","LegendController","legends","legendOptions","custom","addCustomLegend","getElements","scales_1","getAttrsForLegend","scales","compareScale","getScale","scaleValues","compareScaleValues","filteredValues","getFilteredOutValues","addLegend","alignLegends","getLegendOptions","viewRange","fieldOption","fields","getFieldLegendConfig","adjustPosition","isLinear","addContinuousLegend","addCategoryLegend","bindHoverEvent","originalValue","mapping","containsMinValue","containsMaxValue","attrValue","positionArr","legendCfg","getFieldLegendOption","bindFilterEvent","isByAttr","getDefaultValue","viewTheme","panelGroupClip","panelGroupClipBox","posArray","scaleValue","isFiltered","colorAttr","getAttr","shapeAttr","restArgs","dataValue","defaultLegendCfg","alias","bindClickEvent","onClick","substr","totalRegion","getRegion","groupLegendByPosition","legendItems","subs","alignLegend","backPlot","legendHeight","legendWidth","borderMargin","innerMargin","legendNum","tempoRegion","getXAlign","getYAlignVertical","getYAlignHorizontal","preWidth","totalWidth","canvasHeight","totalHeight","isSingeSelected_1","clickedValue_1","isFieldInView","filter","onMouseover","onMouseleave","subRegion","getSubRegion","filterVals","fieldScale","filed","filterShape","eachShape","filterLabels","labelOptions","xField_1","getXScale","yField_1","shapeData_1","_origin","labelData","getDefaultValueFromPosition","AxisController","axes","createAxis","xScale","xAxis_1","coordType","_isHide","_drawAxis","_getAxisOptionByField","_getMiddleValue","curValue","nextValue","_getLineRange","dimType","_getLineCfg","_getCircleCfg","startVector","normalVector","_getRadiusCfg","_getHelixCfg","_getAxisPosition","_getAxisDefaultCfg","pop","_getAxisCfg","verticalScale","gridPoints_1","verticalTicks_1","formatTicks","ticks_1","gridCentering","fillAxisTicks","gridAlign","rangeX_1","rangeY_1","verticalTick","xAxis","appendCfg","Vector2","TYPE_SHOW_MARKERS","TYPE_SHOW_CROSSHAIRS","IGNORE_TOOLTIP_ITEM_PROPERTIES","isEqual","TooltipController","timeStamp","lastTimeStamp","Date","showTooltip","onMouseOut","hideTooltip","renderTooltip","_getCanvas","_getDefaultTooltipOptions","triggerEvent_1","_getTriggerEvent","tooltipContainer","eventObj","_normalizeEvent","Canvas","_bindEvent","getPointByClient","setActive","markersItems","isShareTooltip","tmpPoint","findPoint","subItems","getTooltipItems","showMarker","itemMarker","_getItemMarker","shapeContainer","first_1","every","nearestItem_1","nearestDistance_1","shared","snapItem_1","min_1","aItem","_setTooltip","obj","_offEvent","triggerOn","crosshairsCfg","triggerEvent","_items","showTooltipMarkers","ShapeStateController","_states","_stateStack","setState","exp","_onUpdate","getState","getAllStates","_changeTimer","clearTimeout","stateStack","setTimeout","state","_triggerEvent","isBackgroundShape","backgroundBkShape","panelBkShape","registerData","isSameShape","shape1","shape2","isInView","isShapeInView","isInPanel","EventController","_panelGroup","_eventHandlers","_pixelRatio","_getEventObj","_triggerShapeEvent","_addEvent","eventType","canvasDom","_canvasDomLeaveHandler","addEventListener","_onEvents","targetParent","parentName","_onMove","isbkTarget","lastShape","_lastShape","isbklastShape","enterObj","isTargetInPanel","isLastShapeInPanel","_onCanvasMove","targetInView","lastTargetInView","_lastCanvasTarget","_onCanvasDomLeave","clearEvents","eh","removeEventListener","Facet","_createContainer","facets","generateFacets","_renderViews","renderAxis","_clearFacetViews","_createFacetViews","facet","facetToView","removeView","createView","beforeProcessView","eachView","afterProcessView","getFieldValues","rows","cols","xIndex","xWidth","yWidth","Facets","ELEMENT_MAP","getElement","registerViewPrototype","_snapEqual","value1","value2","_getScaleName","_xDistance","source","xValue_1","yValue_1","originData","_getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","_filterYValue","next_1","firstIdx","lastIdx","middleIdx","_getXDistance","titleField","tooltipTitle","_getTooltipTitle","tooltipOptions","_getSize","addItem","itemName","itemValue","callbackParams","itemCfg","valueScale","_getTooltipValueScale","_getTooltipValue","_getTooltipName","rangeMax","rangeMin","xScale_1","min_2","max_1","numericValue","_getTooltipTitleScale","getFields","titleScale","tmpScale","eachValue","nameScale","groupScales","getGroupScales","getSize","IGNORE_ARR","ElementLabels","_renderUI","labelsGroup","labelsRenderer","showLabels","originShapes","getLabelsItems","adjustItems","lineToLabel","setLabelPosition","transLabelPoint","getOffsetVector","getDefaultOffset","getLabelOffset","total","_getlabelOptions","subIndex","getLabelPoint","getLabelAlign","getShapeId","getDimValue","avg","centroid","former","current","getCentroid","nextPoints","maxX_1","p1","_getLabelValue","originScales","tmp_1","subVal","cfgs","originText","originValues","IntervalElementLabels","originPoint","originPosition","point0","point1","PolarElementLabels","arcPoint","_isToMiddle","_getMiddlePoint","getArcPoint","middleAngle","isLabelEmit","labelEmit","labelPoint","getCirclePoint","getLabelRotate","originAngle","outerPoint","getEndPoint","PieElementLabels","originItems","_distribute","orignAngle","isLabelLimit","plotRange","halves","maxLabelsCountForOneSide","isRight","overlapping","startY","MIN_VALUE","boxes","targets","previousBox","posInCompositeBox","rPow2","dyPow2","antiCollision","ELEMENT_LABELS_MAP","getElementLabels","registerElementLabels","LabelController","labelsContainer","_createLabelsContainer","Ctor","_getElementLabelsConstructor","labelType","addLabels","isChange","preShapes","shape1Origin","shape2Origin","_isSameShape","getOriginAttrs","modifiedAttrs","originAttrs","originValue","StateController","_activeShapes","_selectedShapes","_inactiveShapes","bind","unbind","_onActive","activeObject","activeShapes","_filterShapes","preActiveShapes","_clearActiveShapes","_clearInactiveShapes","activeShape","_setShapeActive","_draw","setZIndex","obj1","obj2","_INDEX","activeStyle","_onSelected","selectedObj","selectedShapes","preSelectedShapes","_clearSelectedShapes","_setShapeSelected","selectedStyle","_applyShapeStyle","_onInactive","inactiveObj","inactiveShapes","preinactiveShapes","_setShapeInactive","inactiveStyle","shapeData","shapeFactory","shapeStyle","activeOptions","defaultActiveStyle","selectedOptions","defaultSelectedStyle","inactiveOptions","defaultInactiveStyle","drawTimer","parseFields","GROUP_ATTRS","Element","attrOptions","generatePoints","sortable","shareTooltip","adjustOptions","styleOptions","statOptions","animateOptions","_initContainer","_initController","_setAttrOptions","_createAttrOption","adjust","adjustCfg","adjusts","callback_1","selected","inactive","_initAttrs","_processData","_adjustData","bindStates","stateController","unbindStates","paint","mappedArray","_getShapeFactory","_beforeMapping","_mapping","_sort","clearInner","attrName","stopDraw","labelController","appendShapeInfo","hasAdjust","adjustType","adjustOption","getAttrValues","sizeController","getNormalizedSize","groupAttrs","getLegendFields","attrOption","attrFields","dataObj","keyFields","yVal","xVal","isIdentity","groupScale","getOriginDataByPoint","createShapePointsCfg","_normalizeValues","y0","getDrawCfg","geomShape","_getStyleCfg","attrCfg","tooltipController","_initScale","geomType","valuesLen","attrCtor","_updateStackRange","mergeArray","tmpMin","tmpMax","_groupData","_saveOrigin","_numeric","groupedArray","subData","tempData","yScale_1","adjustInstance","_generatePoints","xScale_2","field_1","nextData","mappedData","newRecord","names","_convertPoint","mappedRecord","rstX","rstY","xLen","yLen","itemArr","EVENT_TYPES","Interaction","_getDefaultCfg","_bindEvents","startEvent","processEvent","endEvent","resetEvent","_start","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","afterReset","_unbindEvents","INTERACTION_MAP","getInteraction","View","guideController","scaleController","views","interactions","changeData","_initData","scaleDefs","condition","filters","coordinate","coordController","newCfg","_getSharedOptions","preFacet","enable","stopDrawing","_clearInner","_beforeRender","_drawGuides","_drawElements","_renderFacet","_addBackShape","_canvasDraw","annotationController","axisController","shapeViewId","parent_1","isPointInView","getYScales","getXY","_getScales","_initTheme","_initLayers","initRegion","_initOptions","_initControllers","_clearEvents","clearAllInteractions","_destroyViewGroups","_destroyElements","fn","getFilteredValues","_getFilters","setSelected","setInactive","interaction","clearInteraction","_setInteraction","endX","endY","parsePadding","_createElement","_renderLegend","_renderAnnotations","_renderAxes","_renderTooltip","eventController","shapeStateController","legendController","_data","legendFields","_getLegendFields","elementCfg","ElementCtor","_addElement","_clearElements","_initView","_execFilters","_initCoord","_initElements","_adjustScales","filteredData","_adjustCategoryScalesRange","inFullCircle","isFullCircle","backShapeAttrs","backgroundBackShape","panelBackShape","isUpdate_1","elementFields","Plot","containerId","forceFit","_initCanvas","_initEvents","changeSize","autoRender","window","_getContainerDOM","_initForceFitEvent","timer","oldWidth","yItem","setFillStyle","setStrokeStyle","lineAttrs","areaAttrs","pointsArr","topLinePoints","bottomLinePoints","pointsData","AreaShapeFactory","showSinglePoint","drawPointShape","splitedIndex","_getMarkerAttr","connectNulls","splitData","Area","splitArray","SizeController","_getSizeValue","_getDefaultSize","_toCoordinateSize","_toNormalizedSize","_defaultSize","sizeAttr","_getDodgeCount","xValues","sourceArr","findMinDistance","normalizedSize","wr","_getCoordinateWidth","_parseValue","oldValue","min1","max1","median","_getBoxPoints","pointX","pointY","pointsArray","from","to","subArr","BoxShapeFactory","getAttrs","Box","CORNER_PERCENT","_getAttrs","_getCPath","_getQPath","EdgeShapeFactory","_getMarkerAttrs","_createRectPath","_createSmoothPath","_createArcPath","arc1","arc2","_createArcWeightPath","Edge","Heatmap","paletteCache","_prepareRange","colorField","_prepareSize","getDefaultSize","blur","_colorize","pixels","alpha","palette","rgb2arr","gradient","_prepareGreyScaleBlurredCircle","circleCanvas","createElement","r2","ctx","getContext","clearRect","shadowOffsetY","beginPath","closePath","_drawGrayScaleBlurredCircle","globalAlpha","drawImage","_getShadowCanvasCtx","_clearShadowCanvasCtx","_getImageShape","imageShape","drawWithRange","valueField","colored","getImageData","putImageData","toDataURL","SQRT_3","LineSymbols","PointSymbols","diffX","diffY","_getFillAttrs","_getLineAttrs","_getRectPoints","isPyramid","yMin","yMax","xMin","xMax","_getRectPath","firstPoint","_getFunnelPath","isFunnel","symbolsFactory","register","IntervalShapeFactory","_getLinePoints","_getTickPoints","rectPath","rectShape","topLinePath","Interval","_getPoints","yValues","sorted","_sortValue","KLineShapeFactory","KLine","DOT_LINEDASH","DASH_LINEDASH","_getSinglePath","isStack","topPoints","bottomPoints","topPath","bottomPath","_getRangePath","_getInterPointShapeCfg","_getInterPath","tmpPoints","_interpPoints","LineShapeFactory","_drawPointShape","middleX","middleY","Path","drawCfg","pointAttrs","PointShapeFactory","rectAttrs","getRectPath","pathMetaParser","segments","nums","num","pathMeta","Point","hasStackAdjust_1","getMarkerAttrs","PolygonShapeFactory","subX","subY","getHollowAttrs","Polygon","temp","xOffset","yOffset","TextShapeFactory","_getContent","contentOptions","autoSetAxis","columnField","rowField","columnValuesLength","rowValuesLength","columnValues","rowValues","conditions","facetData","columnValue","rowValue","columnIndex","rowIndex","isTextUsable","trim","TextDescription","padding_1","description","it","_textWrapper","leftMargin","topMargin","wrapperWidth","textContent","tShape","wrappedTextArr","wrappedText","chars","breakIndex","breaks","breakText","propertyMapping","AxisParser","config","getPlotTheme","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","restLabelProps","labelConfig","titleConfig","isPointInPolygon","inside","xi","yi","xj","yj","sqr","distBetweenPoints","distBetweenPointLine","l2","distSquare","minDistBetweenPointPolygon","minDistBetweenConvexPolygon","polyA","polyB","polyA_1","isPolygonIntersection","minA","minB","localMin","THRESHOLD","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","array","list","sturges","log","LN2","GuideLine","defaultStyle","_getDefaultStyle","baseConfig","stateValue","_getState","minValue","maxValue","meta","_extractValues","getMean","combineFormatter","formatters","reduce","curText","precision","suffix","LabelParser","rest","originConfig","getConfig","parseCallBack","labelProps","parseOffset","parseFormatter","onActive","getAllAxisLabels","beforeCompare","con","disableStyle","labelArr","scaleField","labelShapes","getTime","disable","originAttr","StateManager","shapeContainers","createStateManager","stateManager","bindStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","defaultStates","states","related","_getShapes","_getOriginAttrs","shapeOrigin","stateStyle","_getDefaultStateStyle","_parserRelated","setStateCfg","_eventParser","onChangeCfg","geoms","geom","eventCfg","geometryParser","styleField","STATE_MAPPER","getComponentStateMethod","method","stateType","resetZIndex","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","processState","inverse","expected","COMPONENT_MAPPER","guideLine","getComponent","Components","BaseInteraction","viewLayer","interactionRange","interactionConfig","registerInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","getInteractionRange","layerRange","getViewLayer","getRange","getInteractionConfig","trackColor","thumbColor","lineCap","hover","ScrollBar","scrollBarCfg","_isMobile","_onStartEvent","isMobile","_startPos","_bindLaterEvent","_onTrackClick","getBoundingClientRect","thumbLen","newOffset","_validateRange","updateThumbOffset","_onMouseMove","endPos","thumbOffset","_onMouseUp","_onTrackMouseOver","thumbShape","_onTrackMouseOut","trackLen","minThumbLen","_initScrollBar","thumbRate","updateTrackLen","newTrackLen","newThumbLen","trackShape","updateThumbLen","_renderNewScrollBar","updateScrollBarPos","newPos","scrollBarGroup","updateTheme","_createScrollBarGroup","_createTrackShape","_createThumbShape","events","DIR_MAPPER","Icon","icon","spacing","iconStyle","interactive","_initIcon","fromCharCode","iconShape","iconBBox","BACKGROUND_STYLE","_e","shapeAttrs","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","Trend","_f","isArea","_g","areaStyle","_initial","backgroundShape","areaPath","linePathToAreaPath","areaShape","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","highLightFill","Handler","setX","setXY","setY","_updateXY","prevX","prevY","currentHandler","pageX","pageY","offsetXRange","adjustOffsetRange","updateStartEnd","_updateUI","trendCfg","foregroundStyle","handlerStyle","_h","_j","_k","_l","minText","_m","maxText","trendShape","silent","foregroundShape","handlerHeight","minHandlerShape","maxHandlerShape","offsetRange","handlerWidth","_dodgeText","minAttrs","maxAttrs","minBBox","maxBBox","groupedData","newValues","_cfg","categorySize","ScrollBarInteraction","onChangeFn","onChange","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollBar","cnt","xScaleCfg","yScalesCfg","startIdx","endIdx","origData","getData","newData","metaCfg","origAnimation","foregroundColor","SliderInteraction","curStart","curEnd","getSliderData","getSliderMinMaxText","getSliderTrendData","PaddingController","innerPaddingComponents","outerPaddingComponents","registerPadding","component","afterRender","getPadding","processAutoPadding","_getInnerAutoPadding","updateConfig","processOuterPadding","viewMinX","viewMaxX","viewMinY","viewMaxY","bleeding","components_bbox","_getAxis","_getLegend","components","adjustAxisPadding","panelPadding","_getPanel","_adjustLegend","legendBBox","innerPadding","_getLegendInnerPadding","_mergeBleeding","labelContainer","rightDist","leftDist","topDist","bottomDist","curOffset","curTotalWidth","curAvgWidth","newAvgWidth","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","DEFAULT_GLOBAL_THEME","alignWithAxis","GLOBAL_THEME_MAP","dark","getGlobalTheme","PLOT_THEME_MAP","processAxisVisible","axisCfg","DEFAULT_RESPONSIVE_THEME","category","constraints","rules","elementDist","lineNumber","degree","abbreviateBy","linear","keep","unit","decimal","dateTime","elementDistVertical","elementWidth","RESPONSIVE_THEME_MAP","registerResponsiveTheme","getResponsiveTheme","G2DefaultTheme","ThemeController","plotG2Theme","plotTheme","g2Theme","convertToG2Theme","_processVisible","ViewLayer","initialOptions","paddingController","themeController","getDefaultOptions","yAxis","drawTitle","drawDescription","addGeometry","getViewRange","processData","applyInteractions","defaultState","doDestroy","getPlot","setDisable","setNormal","scaleTypes","scaleConfig","setConfig","xAxis_parser","yAxis_parser","axesConfig","flipOption","inst","eventmap_1","titleBBox","doDestroyInteractions","CanvasController","onResize","getCanvasSize","getCanvasDOM","updateCanvasSize","updateCanvasTheme","globalTheme","updateCanvasStyle","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","addEvent","onEvents","getEventObj","getLayers","onLayerEvent","onMove","groupName","isPointInBBox","subLayers","GLOBAL_PLOT_MAP","registerPlotType","ctr","getPlotType","BasePlot","canvasController","createLayers","all","getLayer","getCanvas","ElementParser","positionFields","AreaParser","_getColorMappingField","parseColor","parseStyle","colorMappingField","styleProps","seriesField","colorMapper_1","vector2","isSmooth","getStraightPath","parseGradient","lineJoin","main","mini","MiniAreaParser","parseShape","COLOR_MAPPER","IntervalParser","_needParserColor","sizeProps","_getSizeProps","parseSize","_getStyleProps","sizeMapper_1","sizeMapper_2","COLOR_MAPPER_1","COLOR_MAPPER_2","LineParser","lineSize","GuideLineParser","_needParseAttribute","guide","MiniLineParser","CircleParser","_parseColor","sizeField","pointSize","GEOMETRY_MAP","GuidePointParser","mappingField","_parseColorByField","getValuesByField","getGeom","Geom","extractScale","desScale","axisConfig","tickInterval","intervals","intervalArr","basicInterval","intervalCount","adjustTimeTickInterval","minLimit","maxLimit","getPositionByRatio","dataPoints","currentX","getLineLabel","onFrame","yText","yRatio","getDataByPosition","ShapeNodes","nodes","_parserNodes","origion_nodes","measure","bboxWidth","bboxHeight","ulMatrix","top_left","top_right","bottom_left","bottom_right","tops","bottoms","topRight","bottomLeft","bottomRight","measureNodes","constraintsLib","usage","expression","elementCollision","columnWidth","ringThickness","minRingThickness","minThickness","textHide","isNodeOverlap","nodeA","nodeB","fecha","token","word","literal","noop","shorten","sLen","newArr","monthUpdate","arrName","i18n","charAt","pad","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","parseFlags","cent","minute","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","mask","i18nSettings","literals","$0","$1","parse","dateStr","dateInfo","parseInfo","newFormat","info","matches","date","today","UTC","datetimeStringAbbrevaite","campareText","compare","startText","endText","timeDuration","getDateTimeMode","timeCycle","previousText","previous","currentStamp","previousStamp","needAbbrevaite","cycle","getAbbrevaiteFormatter","sameSectionFormatter","mapper","unitMapper","number","digitsAbbreviate","abbravateDigitsByUnit","unitname","order","getUnitByNumber","numbers","extractNumbers","unitNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","conditions_1","getNodeByNumber","nodes_1","textAbbreviate","abbravateText","rulesLib","textWrapper","wrapperText","textRotation","robustAbbrevaite","string","nodesResampling","oddKeep","isOdd","nodesResamplingByAbbrevate","nodesResamplingByChange","tolerance","nodesClone","getGlobalTolerance","findPrevious","distX","distY","nodesResamplingByState","stateNodes","extract_data","min_node","max_node","median_node","getStateNodes","initialProps","isState","origin_position","nodeJitter","mag","vector_horizontal","mag_horizontal","va","vb","adjustAngle","alignDirection","nodeJitterUpward","shapeBbox","shapeId","getShapeById","originX","originY","clearOverlapping","overlapped","_shape","Responsive","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_run","onStart","_iteration","_applyRules","onIteration","onEnd","constraintPassed","_constraintsTest","constraintOption","_constraintCompare","_constraintAssignment","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","nodes_2","ruleCfg","rule","_applyRule","ApplyResponsive","getType","shouldApply","SCALE_MAPPER","cat","timeCat","time","ApplyResponsiveAxis","axisInstance","getAxisInstance","responsiveTheme","axisIndex","rawLabels","shapeNodes","tickTexts","pathes","tickItem","updateTicks","scaleType","ApplyResponsiveLabel","ApplyResponsiveLineLabel","preRender","LineElementLabels","labelPoints","lastPoint","_adjustColor","LinePointLabels","onLineClick","onLineDoubleclick","onLineMousemove","onLineMouseenter","onLineMouseleave","onLineMousedown","onLineMouseup","onLineContextmenu","onPointClick","onPointDblclick","onPointMousemove","onPointMouseenter","onPointMouseleave","onPointMousedown","onPointMouseup","onPointContextmenu","LineActive","data_1","LineSelect","GEOM_MAP","LineLayer","responsive","applyResponsive","validData","trySetScaleMinToZero","addLine","addPoint","lineActive","lineSelect","stage","methods","layerProps","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMouseenter","onAreaMouseleave","onAreaMousedown","onAreaMouseup","onAreaContextmenu","onLineDblclick","AreaLayer","adjustArea","adjustLine","adjustPoint","lineConfig","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","DensityLayer","originXAxisConfig","binField","binWidth","binNumber","kernel","kernelFunc","originDataCopy","rangeWidth","_binNumber","_binWidth","samples","densities","kernelDensityEstimator","Density","ApplyResponsiveColumnLabel","ColumnLabels","adjustOffset","_getShape","adjustColor","labelRange","shapeRange","yPosition","shapeColor","shapeOpacity","rgb","gray","_mappingColor","labelTextColor","band","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMouseenter","onColumnMouseleave","onColumnMousedown","onColumnMouseup","onColumnContextmenu","columnStyle","G2_GEOM_MAP","PLOT_GEOM_MAP","BaseColumnLayer","adjustColumn","extractLabel","getLabelOptionsByPosition","Column","ScatterLabels","Quadrant","xBaseline","yBaseline","quadrantGroups","xRegion","plotOptions","verticalLineData","horizontalLineData","lastName","upper","lower","defaultStyle_1","getDefaultStyle","regionStyle_1","getRegionStyle","getLabelConfig","lineStyle_1","region_2","region_4","regionNum","regionStyle","regionStyle_2","isFinite","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","px","iter","find","found","p0","mp","a0","ols","uX","uXY","uX2","slope","domain","XY","X2","_ols","_ols2","intercept","rSquared","maxiters","epsilon","tricube","updateInterval","quadratic","_points","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exponential","YL","XYL","ly","loess","bandwidth","bw","yhat","residuals","robustWeights","i0","i1","W","denom","xk","yk","xkw","medianResidual","arg","_w","prev","output","logarithmic","lx","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","power","YS","quad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","adjustScale","confidencePath","getConfidencePath","getTrendlinePoints","trendline","confidence","conf","confidenceData","xRatio","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","dataMax","trendMin","trendMax","ScatterLayer","quadrant","extractTooltip","BubbleLayer","Bubble","Scatter","GroupColumnLayer","GroupColumn","parsedPoints","ConnectedArea","areas","lines","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_addInteraction","_initialAnimation","destory","_onDisabled","_getShapeStyle","styleName","mappedStyle","clipRect","StackColumnLabels","StackColumnLayer","connectedArea","stackField","StackColumn","groupField","measures","chain","vals","groupTotals","itemIdx","fieldIdx","PercentageStackColumnLayer","metaConfig","PercentageStackColumn","HistogramLayer","originData_copy","_defaultBinNumber","bins","bin","getBin","binName","plotData","Histogram","BarLabels","xPosition","onBarClick","onBarDblclick","onBarMousemove","onBarMouseenter","onBarMouseleave","onBarMousedown","onBarMouseup","onBarContextmenu","bar","BaseBarLayer","adjustBar","Bar","StackBarLabels","StackBarLayer","StackBar","PercentageStackBarLayer","PercentageStackBar","GroupBarLayer","origin_items","defaultMeta","GroupBar","SpiderLabel","lineStroke","sidePadding","_adjustConfig","angleField","_loop_1","angleValue","targetAngle","anchorPoint","inflectionPoint","this_1","colorIndex","shapeIndex","_anchor","_inflection","textGroup","_side","texts","formatted","lowerText","lowerTextAttrs","maxCountForOneSide","_antiCollision","totalH","maxLabelWidth","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","leftPoint","rightPoint","point2","point3","starter","measureTextWidth","font","fontVariant","measureText","default_1","panel","getLabelOptions","dataItem","anchors","anchorRadius","getOffsetOfLabel","labelLines","adjustTexts","adjustOverlap","adjustLines","anchor","adjustLabelText","font_1","EllipsisTextArr","priority","leftText","DOT_WIDTH","currentText","currentWidth","leftWidth","allowOverlap","overlapArea","prevBox","currBox","getOverlapArea","near","includes","checkInPanel","OuterPieLabel","_adjustLabelPosition","leftHalf","isLeft","_getLinePath","CROOK_DISTANCE","getLabelHeight","totalR","maxLabelsCount","labelBox","topLabels","bottomLabels","adjustLabels","isBottom","getCrookDistance","rxPow2","ryPow2","boxCenter","distance_offset","xPos","k1","k2","atan","breakAt","smoothPath","straightPath","InnerLabel","newX","prevLabel","resolveCollision","endsWith","prevBBox","pos1","pos2","xOverlap","yOverlap","getOverlapInfo","yMover","actualPos","onPieClick","onPieDblclick","onPieMousemove","onPieMouseenter","onPieMouseleave","onPieMousedown","onPieMouseup","onPieContextmenu","pie","PieLayer","pieStyle","spiderLabel","coordConfig","showLabel","getInnerLabelDefaultStyle","labelStyleConfig","Pie","VariableNodes","ring","containerStyle","onRingClick","onRingDblclick","onRingMousemove","onRingMouseenter","onRingMouseleave","onRingMousedown","onRingMouseup","onRingContextmenu","RingLayer","statistic","triggerOff","centralId","statisticClass","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","triggerOffEvent","totalValue","getTotalValue","annotationConfigs","drawStatistic","getStatisticTemplate","getStatisticSize","classId","_displayData","triggerOnConfig","getDefaultLabelInnerOffset","Ring","RadarLayer","angleAxis","radiusAxis","radiusField","Radar","ShapeUtil","ValueUtil","lerp","defaultAttrs","getWaterWavePositions","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","liquidMoveIn","wrap","wrapTargetOpacity","waves","wavesTargetMatrix","sumX","cp","minP","clipCircle","level","waveCount","wave","repeat","addWaterWave","LiquidLayer","shouldFadeInAnnotation","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","changeValue","annotationEl","colorStyle","calcAnnotationColorStyle","darkColorStyle","getChildByIndex","Liquid","dir_vec","angle1","x_1","y_1","angle2","x_2","y_2","POINTER_LINE_WIDTH","stripWidth","stripBackColor","tickLabelPos","tickLabelSize","tickLabelColor","tickLineColor","labelPos","labelColor","labelSize","GaugeLayer","gaugeStyle","pointerColor","statisticPos","rangeSorted","styleMix","getStyleMix","statisticSize","1","labelAutoRotate","pointer","statistics","renderStatistic","strips","renderArcs","allArcs","arcSize","Arcs","Bks","countArray","calGapAngle","base","statisticHtml","statisticColor","Gauge","interpolateY","getXIndex","AreaLabel","scaleFactor","groupedPoints","_groupPoints","pointArray","autoScale","_adjuestLabelSize","resolution","interpolatedPoints","_getInterpolatedPoints","_getLabelBbox","fitOption","aspect","justTest","_bisection","_testFit","fit","testOption","maxIteration","middle","passesTest","x0","x1_index","ceiling","ceilingFloor","top_1","labelStyle","AreaLineElementLabels","StackAreaLayer","getLabelType","getLabelField","ele","areaLine","StackArea","PercentageStackAreaLayer","PercentageStackArea","funnelScaleInY","clipTargetMatrix","shapeTargetFillOpacity","FunnelLabel","shapeStartX","shapeStartY","shapeEndX","shapeEndY","shapeMinX","shapeMaxX","shapeMinY","shapeMaxY","shapeContainsLabel","ratioUpper","ratioLower","firstPointX","FunnelLabelParser","preformatter","yValueFormatted","FunnelLayer","shouldAdjustLegends","legendsListenerAttached","shouldAdjustLabels","shouldResetPercentages","_onLegendContainerMouseDown","refreshPercentages","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","adjustProps","yValueUpper","yValueLower","adjustFunnel","isArray","appearDuration","appearDurationEach_1","animationAppearTimeoutHandler","resetPercentages","fadeInPercentages","adjustLegends","datumUpper","percentageLine","percentageText","percentageValue","adjustTimestamp","now","_findPercentageContainer","datumLower","_findPercentageMembersInContainerByShape","textWidth","lastMaxY","datum","members","currMinY","currMaxY","member","fadeOutPercentages","updateDuration","enterDuration","fadeOutPercentagesDuration","fadeInPercentagesDuration_1","createIfNotFound","percentageContainer","lineId","findById","textId","valueId","datumIndex","dataLength","legendItem","legendItemOrigin","brotherValues","findAll","Funnel","LinearHeatmap","intensity","circleRadius","context","globalCompositeOperation","HeatmapLegend","dataSlides","getDarkOptions","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","gridWidth","gridHeight","gridLineContainer","gridColors","valueStep","dataSlide","getDataSlide","gridlineStyle","plotWidth","plotHeight","targetInfo","relativeData","getFilteredData","slide","HeatmapBackground","renderColorBackground","renderImageBackground","callbackCfg","HeatmapLayer","heatmapLegend","defaultConfig","MatrixLegend","colorStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","labelEventName","moveAnchor","getCirclePath","getCircleCurve","MatrixLabels","mappingColor","MatrixLayer","gridSize","forceSquare","xCount","yCount","matrixLegend","changeShape","circleToRect","rectToCircle","mappingSize","rectSizeMapping","circleSizeMapping","disableMappingSize","rectDisableSizeMapping","circleDisableSizeMapping","getGridSize","addRect","addCircle","shapeSize","sizeRatio","curvePath","ps","offsetRatio","circlePath","Matrix","addFillAttrs","fillAttrs","leaderLine","linkPath","WaterfallLabels","shapeBox","VALUE_FIELD","yPos","DiffLabel","IS_TOTAL","formattedText","waterfall","WaterfallLayer","diffLabel","showTotal","waterfallStyle","_parseStyle","prevValue","args","risingColor_1","fallingColor_1","totalColor_1","rising","falling","Waterfall","StepLineLayer","StepLine","TinyLayer","defaultGuidelineCfg","Marker","updateCfg","origin_attr","progressSize","onProgressClick","onProgressDblclick","onProgressMousemove","onProgressMousedown","onProgressMouseup","onProgressMouseenter","onProgressMouseleave","onProgressContextmenu","progress","ProgressLayer","isEntered","processProps","barSize","barStyle","progressStyle","parseColorProps","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","progressContainer","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","geometry","Progress","preShapeInfo","setShapeInfo","prePath","createClip","getShapeInfo","getAnchor","direction_1","getDirection","onRingProgressClick","onRingProgressDblclick","onRingProgressMousemove","onRingProgressMousedown","onRingProgressMouseup","onRingProgressMouseenter","onRingProgressMouseleave","onRingProgressContextmenu","RingProgressLayer","getThickness","RingProgress","TinyColumnLayer","columnSize","columnNumber","getColumnNum","TinyColumn","TinyAreaLayer","TinyArea","TinyLineLayer","TinyLine","ComboPlot","getGlobalOptions","createComboLayers","globalOptions","SINGLE_TYPE","isSingleGraph","createLegend","legendTheme","maxSize","CanvasCategory","filteredValue","isSingle","addLegendInteraction","paddingBbox","getOverlappingPadding","top_padding","AXIS_GAP","mergeAxisScale","axisInfo","axisOptions","sameScaleTest","axisInfo_2","getCatScale","getLinearScale","mergeXAxis","synchroTick","isSameScale","calValues","linearScale","mergeYAxis","scaleMin","scaleMax","axisInfo_1","sampleDataSource","originalData","sampleField","axisInfo_3","tickValues","getAxisTicks","parser","toAxisStyle","axesLayout","xAxisScale","paddingComponents","xAxisHeight","yAxisScale","leftAxis","leftContainer","leftBbox","temp_width","axisLayout","axisPadding","ypos_1","tooltipCfg","tooltipTheme","tooltipItems","shapeObject","getItemMarker","getShapeByX","ks","getDataByTitle","indexOfArray","getUniqueItems","OverlappedComboPlot","colorMapping","legendInfo","globalComponents","singleGeomCount","backLayer","layerCfg","overlapConfig","getOverlappedConfig","viewLayerCtr","viewLayerProps","scalesInfo","singleGraph","scaleInfo","markerColor","markerValue","markerItem","topLayer","colorCfg","single","overlappingLegend","legendPadding","axisComponents","containerLayer","clearComponents","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","get_height_1","bTop","pTop","pBottom","get_width_1","bLeft","pLeft","pRight","bRight","mRight","devicePixelRatio","css","mul","create","glMatrix","ARRAY_TYPE","Float32Array","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","identity","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","newObj","_interopRequireWildcard","b12","b20","b22","sqrLen","sqrDist","div","divide","scaleAndAdd","squaredDistance","squaredLength","negate","RANDOM","transformMat2","transformMat2d","transformMat4","sinC","cosC","len1","len2","cosine","vec","stride","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","tempA","tempB","is_object_like_1","is_array_like_1","is_string_1","other","valueKeys","otherKeys","continuous_1","category_1","HtmlCategory","size_1","color_1","Group","domUtil","attr_1","each","colorUtil","TEXT_OFFSET","canvas_1","html_1","util_1","arrow_1","mix","wrapBehavior","BBox","G","deepMix","Util","createDom","modifyCSS","getOuterWidth","getOuterHeight","extended_1","Category","scaledValue","__spreadArrays","isEmpty","_setTicks","__","_value","_transform","range0","range1","maxTickCount","_setDomain","tickMin","tickMax","_getAlgoParams","adjustTicks","tickCnt","algoParam","_Q","minTickInterval","LARGE_ARRAY_SIZE","CORE_ERROR_TEXT","FUNC_ERROR_TEXT","HASH_UNDEFINED","MAX_MEMOIZE_SIZE","PLACEHOLDER","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_BOUND_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","INFINITY","MAX_SAFE_INTEGER","MAX_INTEGER","NAN","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","asyncTag","boolTag","dateTag","domExcTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","weakSetTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","module","moduleExports","freeProcess","nodeUtil","types","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","thisArg","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","baseTimes","baseUnary","baseValues","cacheHas","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","overArg","replaceHolders","placeholder","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","defaults","pick","TypeError","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","uid","exec","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","entry","ListCache","MapCache","SetCache","__data__","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","seen","baseInvoke","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","message","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","baseIsNative","baseIteratee","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","getFuncName","funcName","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","setData","setWrapToString","createRound","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrValue","flatten","otherFunc","isKeyable","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","difference","differenceBy","differenceWith","findIndex","findLastIndex","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","interceptor","wrapperAt","countBy","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","defer","resolver","memoized","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isString","lt","lte","toArray","done","iteratorToArray","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invertBy","invoke","merge","omit","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","dividend","divisor","multiplier","multiplicand","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","mapKeys","mapValues","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","escape","escapeRegExp","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEqualWith","isMatch","isMatchWith","isNative","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","reduceRight","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","eachRight","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","splitPoints","_keys","_predicate","arrPrototype","keys_1","resultArr","tmpMap","0","paramsCondition_1","unique","numColorCache","r1","r3","r4","PRECISION","isNumberEqual","maxData","minData","DEGREE","RADIAN","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","_mix","src1","src2","src3","immediate","timeout","later","callNow","MAX_MIX_LEVEL","_deepMix","maxLevel","subclass","superclass","overrides","staticOverrides","Tmp","superObj","keyArr","throttled","delete","_extendStatics","setPrototypeOf","__proto__","_assign","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","_arguments","P","generator","fulfilled","rejected","then","__generator","body","sent","trys","ops","verb","op","__exportStar","__values","__read","ar","__spread","il","jl","__await","__asyncGenerator","asyncIterator","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","__importDefault","_slicedToArray","_arr","_n","_s","err","enumerable","configurable","setMatrixArrayType","toRadian","parsePathArray","O","I","E","N","L","B","R","F","DOMUtil","DomUtil","MatrixUtil","PathUtil","arrayUtil","eventUtil","formatUtil","mathUtil","matrixUtil","objectUtil","stringUtil","pathUtil","typeUtil","augment","groupToMap","getRatio","getStyle","documentElement","clientTop","clientLeft","getComputedStyle","currentStyle","contains","valuesOfKey","getWrapBehavior","_n2","number2color","numberToColor","parseRadius","fixedBase","isDecimal","isEven","isNegative","isPositive","snapEqual","toDegree","toInt","vec3","hasKey","hasValue","catmullRomToBezier","fillPath","fillPathByDiff","formatPath","pathIntersection","path2absolute","path2curve","r0","t1","t2","segment1","segment2","bez1","bez2","lc","substitute","uc","_r","throw","return","createPath","afterPath","isPointInPath","drawInner","hasFill","hasStroke","isHitBox","isHit","calculateBox","getHitLineWidth","lineAppendWidth","clearTotalMatrix","totalMatrix","clearBBox","pointDistance","polyline","cubicline","quadraticline","arcline","nearAngle","projectPoint","preSegment","isLast","subStart","endTangent","startTangent","isInside","lineTo","quadraticCurveTo","bezierCurveTo","extrema","xExtrema","xAt","yExtrema","yAt","arrowLength","arrowAngle","startArrow","endArrow","save","setTransform","restore","addStartArrow","addEndArrow","initTransform","initAnimate","initTimer","fromAttrs","toAttrs","fromMatrix","toMatrix","startTime","addAnimator","isPaused","pauseAnimate","pauseTime","resumeAnimate","_paused","_pauseTime","bubbles","cancelable","defaultPrevented","propagationStopped","removed","derivativeAt","Dom","Ellipse","Polyline","canStroke","getDefaultAttrs","_getPath","hasUpdate","_beforeRenderUI","_bindUI","contain","_setCfgProperty","timeline","getFirst","getLast","getCount","_t2","findAllBy","PathSegment","Shape","Shapes","eventEnable","widthCanvas","heightCanvas","widthStyle","heightStyle","canvasDOM","_setGlobalParam","_setContainer","_initPainter","_scale","registerEvent","renderType","scaleX","scaleY","painter","_resize","getClientByPoint","getRenderer","_drawSync","drawSync","stop","targetTouches","changedTouches","_getEmitter","getEvents","_getClientXY","_emitEvent","svg","beforeDraw","animateHandler","toDraw","_drawGroup","setContext","_drawShape","restoreContext","resetTransform","resetContext","setLineDash","addColorStop","createLinearGradient","createRadialGradient","createPattern","crossOrigin","complete","onload","ellipse","fan","lineDashOffset","miterLimit","preserveAspectRatio","alphabetic","hanging","_drawChildren","tobeRemoved","_updateShape","hasAttribute","removeAttribute","_setClip","_setShadow","_updateFan","_assembleMarker","_assembleRect","_setAttribute","_updateText","_setTransform","getDefaultArrow","addArrow","_setColor","_setImage","_formatPath","createElementNS","insertBefore","nodeName","ImageData","_setFont","_setText","detect","addClip","addGradient","addPattern","addShadow","os","BrowserInfo","platform","NodeInfo","bot","BotInfo","navigator","userAgent","parseUserAgent","detectOS","getNodeVersion","run","fun","nextTick","browser","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","cwd","chdir","umask","defaultArrow","shadowOpacity","_parseShadow","_setDefaultPath","_setMarker","cloneNode","_setAttr","_afterSetAttrPath","_getMatrixByRoot","getTotalMatrix","getDefaultCfg","_beforeSetZIndex","_beforeSetLoading","getParent","toFront","toBack","firstChild","_events","getAll","foreignObject","srcElement","pathFormatted","interpolateArray","animators","removeAnimator","isAnimating","stopAllAnimations","clockwise","getStartTangent","getEndTangent","swidth","sheight","_setAttrImg","loading","_drawImage","HTMLImageElement","getPoint","_setTcache","curve","tCache","_calculateCurve","lineCount","textArr","_assembleFont","_setAttrText","_getTextHeight","_getSpaceingY","_drawTextArr","strokeText","fillText","JSON","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","formatHex","formatRgb","displayable","hex","formatHsl","brighter","darker","gamma","$","K","J","tt","U","setTime","V","Z","et","translateX","translateY","skewX","ot","st","ut","defaultView","getPropertyValue","ct","baseVal","consolidate","SQRT2","ht","ft","pt","dt","vt","yt","xt","mt","bt","wt","It","Tt","St","_t","Mt","At","Pt","Ot","kt","Ct","Et","Nt","jt","qt","Bt","Rt","Ft","Dt","Wt","Yt","Xt","Ut","Ht","zt","Qt","Vt","Zt","exponent","overshoot","period","performance","_call","_time","_next","restart","clearInterval","setInterval","getClass","registerClass","extended","Identity","unknown","_unknown","Log","Pow","moment","startOf","_setTicksByInterval","SECOND","MINUTE","HOUR","minDate","maxDate","_lo","_hi","lo","hi","getter","nu","ns","pretty","showLast","formatedTicks","TimeCat","tickIdx","add_event_listener_1","create_dom_1","get_outer_height_1","get_outer_width_1","get_ratio_1","modify_css_1","Attribute","_parseCfg","param","_toOriginParam","getLinearValue","steps","leftPercent","getNames","defaultCallback","_getAttributeValue","ret","RGB_REG","arr2rgb","toHex","iEl","x16Value","createTmp","colorArray","fixedPercent","calColor","Opacity","Position","ATTRIBUTE_MAP","registerAttribute","EventEmitter","evt","wildcardEvents","doEmit","es","const_1"],"mappings":"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Q,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,KACR,OAAQ,KACR,OAAQ,KACR,OAAQ,KACR,OAAQ,KAER,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAAU,IACV,SAA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","file":"static/js/58.8906bbe9.chunk.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nfunction getHeight(el, defaultValue) {\n  var height = get_style_1[\"default\"](el, 'height', defaultValue);\n\n  if (height === 'auto') {\n    height = el.offsetHeight;\n  }\n\n  return parseFloat(height);\n}\n\nexports[\"default\"] = getHeight;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nfunction getHeight(el, defaultValue) {\n  var width = get_style_1[\"default\"](el, 'width', defaultValue);\n\n  if (width === 'auto') {\n    width = el.offsetWidth;\n  }\n\n  return parseFloat(width);\n}\n\nexports[\"default\"] = getHeight;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar is_object_1 = require(\"./is-object\");\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (is_array_1.default(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (is_object_1.default(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexports.default = each;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexports.default = isType;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (str) {\n  return is_type_1.default(str, 'String');\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"../base\");\n\nvar slider_1 = require(\"./components/slider\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = tslib_1.__rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: tslib_1.__assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new slider_1.default(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new g_1.Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(base_1.default);\n\nexports.default = Continuous;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar base_1 = require(\"../base\");\n\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(base_1.default);\n\nexports.default = CategoryBase;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(cfg) {\n    this.type = 'base';\n    this.range = [0, 1];\n    this.ticks = [];\n    this.__cfg__ = cfg;\n\n    this._initDefaultCfg();\n\n    _.assign(this, cfg);\n\n    this._init();\n  } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n  Scale.prototype.translate = function (v) {\n    return v;\n  };\n  /** 重新初始化 */\n\n\n  Scale.prototype.change = function (cfg) {\n    this.constructor(_.assign(this.__cfg__, cfg));\n  };\n\n  Scale.prototype.clone = function () {\n    return this.constructor(this.__cfg__);\n  };\n  /** 获取坐标轴需要的ticks */\n\n\n  Scale.prototype.getTicks = function () {\n    var _this = this;\n\n    return _.map(this.ticks, function (tick, idx) {\n      if (_.isObject(tick)) {\n        // 仅当符合Tick类型时才有意义\n        // _.some(['text', 'value', 'tickValue'], key => {\n        //   if (_.has(tick, key)) {\n        //     return false;\n        //   }\n        //   console.warn(`A tick need ${key} property.`);\n        //   return true;\n        // });\n        return tick;\n      }\n\n      return {\n        text: _this.getText(tick, idx),\n        tickValue: tick,\n        value: _this.scale(tick)\n      };\n    });\n  };\n  /** 获取Tick的格式化结果 */\n\n\n  Scale.prototype.getText = function (value, key) {\n    var formatter = this.formatter;\n    var res = formatter ? formatter(value, key) : value;\n\n    if (_.isNil(res) || !_.isFunction(res.toString)) {\n      return '';\n    }\n\n    return res.toString();\n  };\n  /** 定义域转 0~1 */\n\n\n  Scale.prototype._calcPercent = function (value, min, max) {\n    if (_.isNumber(value)) {\n      return (value - min) / (max - min);\n    }\n\n    return NaN;\n  };\n  /** 0~1转定义域 */\n\n\n  Scale.prototype._calcValue = function (percent, min, max) {\n    return min + percent * (max - min);\n  };\n\n  return Scale;\n}();\n\nexports.default = Scale;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nexports.DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexports.ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n  var r = (k - 1) / (lmax - lmin);\n  var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dmin, dmax, lmin, lmax) {\n  var range = dmax - dmin;\n  return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dmin, dmax, span) {\n  var range = dmax - dmin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nfunction extended(dmin, dmax, m, onlyLoose, Q, w) {\n  if (m === void 0) {\n    m = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = exports.DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  }\n\n  if (dmin === dmax || m === 1) {\n    return {\n      min: dmin,\n      max: dmax,\n      ticks: [dmin]\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n      var q = Q_1[_i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (Number.isNaN(sm)) {\n        throw new Error('NaN');\n      }\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dmax - dmin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dmin / step) * j;\n\n          if (minStart > maxStart) {\n            z = z + 1;\n            continue;\n          }\n\n          for (var start = minStart; start <= maxStart; start = start + 1) {\n            var lmin = start * (step / j);\n            var lmax = lmin + step * (k - 1);\n            var lstep = step;\n            var s = simplicity(q, Q, j, lmin, lmax, lstep);\n            var c = coverage(dmin, dmax, lmin, lmax);\n            var g = density(k, m, dmin, dmax, lmin, lmax);\n            var l = legibility();\n            var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n            if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n              best.lmin = lmin;\n              best.lmax = lmax;\n              best.lstep = lstep;\n              best.score = score;\n            }\n          }\n\n          z = z + 1;\n        }\n\n        k = k + 1;\n      }\n    }\n\n    j = j + 1;\n  } // 步长为浮点数时处理精度\n\n\n  var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n  var range = [];\n\n  for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n    range.push(tick);\n  }\n\n  var ticks = toFixed ? _.map(range, function (x) {\n    return Number.parseFloat(x.toFixed(toFixed));\n  }) : range;\n  return {\n    min: Math.min(dmin, _.head(ticks)),\n    max: Math.max(dmax, _.last(ticks)),\n    ticks: ticks\n  };\n}\n\nexports.default = extended;","var SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar WEEK = DAY * 7;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nexport var timeIntervals = {\n  second: {\n    value: SECOND,\n    format: 'HH:mm:ss'\n  },\n  miniute: {\n    value: MINUTE,\n    format: 'HH:mm'\n  },\n  hour: {\n    value: HOUR,\n    format: 'HH'\n  },\n  day: {\n    value: DAY,\n    format: 'YYYY-MM-DD'\n  },\n  week: {\n    value: WEEK,\n    format: 'YYYY-MM-DD'\n  },\n  month: {\n    value: MONTH,\n    format: 'YYYY-MM'\n  },\n  year: {\n    value: YEAR,\n    format: 'YYYY'\n  }\n};","var EVENT_MAP = {\n  onViewClick: 'click',\n  onViewDblClick: 'dblclick',\n  onViewMousemove: 'mousemove',\n  onViewMousedown: 'mousedown',\n  onViewMouseup: 'mouseup',\n  onViewMouseenter: 'mouseenter',\n  onViewMouseleave: 'mouseleave',\n  onViewContextmenu: 'contextmenu',\n  onAxisClick: 'axis-label:click',\n  onAxisDblClick: 'axis-label:dblclick',\n  onAxisMousemove: 'axis-label:mousemove',\n  onAxisMousedown: 'axis-label:mousedown',\n  onAxisMouseup: 'axis-label:mouseup',\n  onAxisMouseenter: 'axis-label:mouseenter',\n  onAxisMouseleave: 'axis-label:mouseleave',\n  onAxisContextmenu: 'axis-label:contextmenu',\n  onLabelClick: 'label:click',\n  onLabelDblClick: 'label:dblclick',\n  onLabelMousemove: 'label:mousemove',\n  onLabelMouseup: 'label:mouseup',\n  onLabelMousedown: 'label:mousedown',\n  onLabelMouseenter: 'label:mouseenter',\n  onLabelMouseleave: 'label:mouseleave',\n  onLabelContextmenu: 'label:contextmenu',\n  onLegendClick: 'legend-item:click',\n  onLegendDblClick: 'legend-item:dblclick',\n  onLegendMouseMove: 'legend-item:mousemove',\n  onLegendMouseDown: 'legend-item:mousedown',\n  onLegendMouseUp: 'legend-item:mouseup',\n  onLegendMouseLeave: 'legend-item:mouseleave',\n  onLegendMouseEnter: 'legend-item:mouseenter',\n  onLegendContextmenu: 'legend-item:contextmenu'\n};\nvar CANVAS_EVENT_MAP = {\n  onPlotClick: 'click',\n  onPlotDblClick: 'dblclick',\n  onPlotMousemove: 'mousemove',\n  onPlotMousedown: 'mousedown',\n  onPlotMouseup: 'mouseup',\n  onPlotMouseenter: 'mouseenter',\n  onPlotMouseleave: 'mouseleave',\n  onPlotContextmenu: 'contextmenu',\n  onTitleClick: 'title:click',\n  onTitleDblClick: 'title:dblclick',\n  onTitleMousemove: 'title:mousemove',\n  onTitleMousedown: 'title:mousedown',\n  onTitleMouseup: 'title:mouseup',\n  onTitleMouseenter: 'title:mouseenter',\n  onTitleMouseleave: 'title:mouseleave',\n  onTitleContextmenu: 'title:contextmenu',\n  onDescriptionClick: 'description:click',\n  onDescriptionDblClick: 'description:dblclick',\n  onDescriptionMousemove: 'description:mousemove',\n  onDescriptionMousedown: 'description:mousedown',\n  onDescriptionMouseup: 'description:mouseup',\n  onDescriptionMouseenter: 'description:mouseenter',\n  onDescriptionMouseleave: 'description:mouseleave',\n  onDescriptionContextmenu: 'description:contextmenu'\n};\nvar LAYER_EVENT_MAP = {\n  onLayerClick: 'click',\n  onLayerDblClick: 'dblclick',\n  onLayerMousemove: 'mousemove',\n  onLayerMousedown: 'mousedown',\n  onLayerMouseup: 'mouseup',\n  onLayerMouseenter: 'mouseenter',\n  onLayerMouseleave: 'mouseleave',\n  onLayerContextmenu: 'contextmenu'\n};\n\nfunction onEvent(layer, eventName, handler) {\n  layer.view.on(eventName, handler);\n}\n\nexport { EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as G from '@antv/g';\nimport * as _ from '@antv/util';\nimport { LAYER_EVENT_MAP } from '../util/event';\n\nvar Layer =\n/** @class */\nfunction (_super) {\n  __extends(Layer, _super);\n  /**\n   * layer base for g2plot\n   */\n\n\n  function Layer(props) {\n    var _this = _super.call(this) || this;\n\n    _this.layers = [];\n    _this.destroyed = false;\n    _this.visibility = true;\n    _this.rendered = false;\n    _this.eventHandlers = [];\n\n    var options = _this.getOptions(props);\n\n    _this.processOptions(options);\n\n    _this.container = new G.Group();\n    return _this;\n  }\n\n  Layer.prototype.processOptions = function (options) {\n    this.id = options.id;\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  };\n\n  Layer.prototype.beforeInit = function () {};\n  /**\n   * init life cycle\n   */\n\n\n  Layer.prototype.init = function () {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer(function (layer) {\n      layer.init();\n    });\n  };\n\n  Layer.prototype.afterInit = function () {};\n  /**\n   * render layer recursively\n   */\n\n\n  Layer.prototype.render = function () {\n    // fixme: 等plot不再继承layer，这个就可以挪到构造函数里去，不需要再加是否render过的判断了\n    if (!this.rendered) {\n      if (this.parent) {\n        this.parent.container.add(this.container);\n      } else {\n        this.canvas.add(this.container);\n      }\n    }\n\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    this.container.transform([['t', this.x, this.y]]);\n    this.eachLayer(function (layer) {\n      layer.render();\n    });\n    this.canvas.draw();\n  };\n  /**\n   * clear layer content\n   */\n\n\n  Layer.prototype.clear = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  };\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n\n\n  Layer.prototype.destroy = function () {\n    var _this = this;\n\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n\n    _.each(this.eventHandlers, function (h) {\n      _this.off(h.eventName, h.handler);\n    });\n\n    this.container.remove(true);\n    this.destroyed = true;\n  };\n  /**\n   * display layer\n   */\n\n\n  Layer.prototype.show = function () {\n    this.container.set('visible', true);\n    this.visibility = true;\n  };\n  /**\n   * hide layer\n   */\n\n\n  Layer.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.visibility = false;\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n\n      this.layers.push(layer);\n    }\n  };\n  /**\n   * remove children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.removeLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  };\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n\n\n  Layer.prototype.updateBBox = function (props, recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n\n    var newRange = _.deepMix({}, originRange, props);\n\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n\n    if (recursive) {\n      this.eachLayer(function (layer) {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n\n    this.canvas.draw();\n  };\n  /**\n   * update display range according to parent layer's range\n   */\n\n\n  Layer.prototype.updateBBoxByParent = function () {\n    var region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  };\n  /**\n   * get global position of layer\n   */\n\n\n  Layer.prototype.getGlobalPosition = function () {\n    var globalX = this.x;\n    var globalY = this.y;\n    var parent = this.parent;\n\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n\n    return {\n      x: globalX,\n      y: globalY\n    };\n  };\n\n  Layer.prototype.getGlobalBBox = function () {\n    var globalPosition = this.getGlobalPosition();\n    return new G.BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  };\n\n  Layer.prototype.getOptions = function (props) {\n    var parentWidth = 0;\n    var parentHeight = 0;\n\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n\n    var defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight\n    };\n    return _.deepMix({}, defaultOptions, props);\n  };\n\n  Layer.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n\n  Layer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var eventsName = _.keys(LAYER_EVENT_MAP);\n\n    _.each(eventParser, function (e, k) {\n      if (_.contains(eventsName, k) && _.isFunction(e)) {\n        var eventName = LAYER_EVENT_MAP[k] || k;\n        var handler = e;\n\n        _this.on(eventName, handler);\n\n        _this.eventHandlers.push({\n          name: eventName,\n          handler: handler\n        });\n      }\n    });\n  };\n\n  Layer.prototype.getLayerBBox = function () {\n    return new G.BBox(this.x, this.y, this.width, this.height);\n  };\n\n  Layer.prototype.getLayerRegion = function () {\n    if (this.parent) {\n      var parentWidth = this.parent.width;\n      var parentHeight = this.parent.height;\n      var parentX = this.parent.x;\n      var parentY = this.parent.y;\n      var startX = (this.x - parentX) / parentWidth;\n      var startY = (this.y - parentY) / parentHeight;\n      var endX = (this.x + this.width - parentX) / parentWidth;\n      var endY = (this.y + this.height - parentY) / parentHeight;\n      return {\n        start: {\n          x: startX,\n          y: startY\n        },\n        end: {\n          x: endX,\n          y: endY\n        }\n      };\n    }\n\n    return {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      }\n    };\n  };\n\n  return Layer;\n}(EventEmitter);\n\nexport default Layer;","var _a;\n/**\n * @description 图表默认主题\n */\n\n\nimport * as _ from '@antv/util';\nvar DEFAULT_COLOR = '#1890FF';\nvar COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nvar COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7']; // tslint:disable-next-line\n\nvar FONT_FAMILY = '\"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",SimSun, \"sans-serif\"'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nvar SHAPE_STYLE = {\n  area: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.6\n  },\n  hollowArea: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  box: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  edge: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  interval: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.85\n  },\n  hollowInterval: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  kline: {\n    fill: DEFAULT_COLOR,\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR\n  },\n  line: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 2,\n    fill: null\n  },\n  polygon: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 1\n  },\n  hollowPolygon: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  point: {\n    lineWidth: 1,\n    fill: DEFAULT_COLOR,\n    radius: 4\n  },\n  hollowPoint: {\n    fill: '#fff',\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR,\n    radius: 3\n  },\n  text: {\n    fill: DEFAULT_COLOR,\n    textAlign: 'center',\n    textBaseline: 'middle'\n  }\n};\n\nvar OPACITY_ACTIVE_STYLE = function OPACITY_ACTIVE_STYLE(style) {\n  var opacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(opacity - 0.15, 0.1, 1),\n    strokeOpacity: _.clamp(opacity - 0.15, 0.1, 1)\n  };\n};\n\nvar LINEWIDTH_ACTIVE_STYLE = function LINEWIDTH_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar FILLOPACITY_ACTIVE_STYLE = function FILLOPACITY_ACTIVE_STYLE(style) {\n  var fillOpacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(fillOpacity - 0.15, 0.1, 1)\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar HOLLOW_POINT_ACTIVE_STYLE = function HOLLOW_POINT_ACTIVE_STYLE(style) {\n  var color = style.stroke || style.strokeStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar TEXT_ACTIVE_STYLE = function TEXT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  return {\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n}; // 坐标轴的通用配置\n\n\nvar DEFAULT_AXIS_CONFIG = {\n  autoRotateLabel: true,\n  autoHideLabel: false,\n  autoRotateTitle: true,\n  showTitle: false,\n  gridType: 'line',\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    offset: 16,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      lineHeight: 16,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  line: {\n    lineWidth: 1,\n    stroke: '#BFBFBF'\n  },\n  tickLine: {\n    lineWidth: 1,\n    stroke: '#BFBFBF',\n    length: 4,\n    alignWithLabel: true\n  },\n  grid: {\n    stroke: '#E9E9E9',\n    lineWidth: 1,\n    lineDash: [3, 3]\n  }\n}; // 图例的通用配置\n\nvar DEFAULT_LEGEND_CONFIG = {\n  showTitle: false,\n  textStyle: {\n    fill: '#8C8C8C',\n    fontSize: 12,\n    textAlign: 'start',\n    textBaseline: 'middle',\n    lineHeight: 20,\n    fontFamily: FONT_FAMILY\n  },\n  unSelectedColor: '#bfbfbf',\n  titleStyle: {\n    fill: '#333',\n    textBaseline: 'top',\n    textAlign: 'start',\n    fontFamily: FONT_FAMILY\n  },\n  flipPage: true\n};\nvar Theme = {\n  pixelRatio: null,\n  defaultColor: DEFAULT_COLOR,\n  padding: [20, 20, 95, 80],\n  fontFamily: FONT_FAMILY,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  shapes: {\n    point: ['hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowBowtie', 'hollowTriangle', 'hollowHexagon', 'cross', 'tick', 'plus', 'hyphen', 'line'],\n    line: ['line', 'dash', 'dot'],\n    area: ['area']\n  },\n  sizes: [1, 10],\n  opacities: [0.1, 0.9],\n  backgroundStyle: {\n    fill: 'rgba(255,255,255,0)'\n  },\n  axis: {\n    top: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'top',\n      grid: null\n    }),\n    bottom: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'bottom',\n      grid: null\n    }),\n    left: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'left',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    right: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'right',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    circle: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 8,\n        textStyle: {\n          textBaseline: 'alphabetic'\n        }\n      }\n    }),\n    radius: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 12\n      },\n      gridType: 'arc'\n    }),\n    helix: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: null,\n      grid: null\n    })\n  },\n  label: {\n    offset: 20,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  treemapLabels: {\n    offset: 10,\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'top',\n      fontStyle: 'bold',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  innerLabels: {\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  // 在theta坐标系下的饼图文本内部的样式\n  thetaLabels: {\n    labelHeight: 14,\n    offset: 30,\n    labelLine: {\n      lineWidth: 1\n    }\n  },\n  defaultLegendPosition: 'bottom',\n  legend: {\n    right: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'right',\n      layout: 'vertical',\n      itemMarginBottom: 8,\n      textStyle: {\n        lineHeight: 0\n      }\n    }),\n    left: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'left',\n      layout: 'vertical',\n      itemMarginBottom: 8\n    }),\n    top: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'top',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    bottom: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'bottom',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    // 定义 html 渲染图例的样式\n    html: {\n      position: 'bottom',\n      layout: 'horizontal',\n      showTitle: false,\n      unSelectedColor: '#bfbfbf',\n      backgroundStyle: {\n        height: 'auto',\n        width: 'auto',\n        position: 'absolute',\n        overflow: 'auto',\n        fontSize: '12px',\n        fontFamily: FONT_FAMILY,\n        lineHeight: '20px',\n        color: '#8C8C8C'\n      },\n      titleStyle: {\n        marginBottom: '4px'\n      },\n      listStyle: {\n        listStyleType: 'none',\n        margin: 0,\n        padding: 0\n      },\n      itemStyle: {\n        cursor: 'pointer',\n        marginBottom: '5px',\n        marginRight: '24px'\n      },\n      markerStyle: {\n        width: '9px',\n        height: '9px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n        verticalAlign: 'middle'\n      }\n    },\n    margin: [0, 24, 24, 24],\n    legendMargin: 24\n  },\n  tooltip: (_a = {\n    useHtml: true\n  }, // css style for tooltip\n  _a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n    position: 'absolute',\n    display: 'none',\n    // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n    // whiteSpace: 'nowrap',\n    zIndex: 8,\n    // tslint:disable-next-line\n    transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    boxShadow: '0px 0px 10px #aeaeae',\n    borderRadius: '3px',\n    color: 'rgb(87, 87, 87)',\n    fontSize: '12px',\n    fontFamily: FONT_FAMILY,\n    lineHeight: '20px',\n    padding: '10px 10px 6px 10px'\n  }, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n    marginBottom: '4px'\n  }, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n    margin: 0,\n    listStyleType: 'none',\n    padding: 0\n  }, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n    marginBottom: '4px',\n    listStyleType: 'none',\n    padding: 0,\n    marginTop: 0,\n    marginLeft: 0,\n    marginRight: 0\n  }, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n    width: '5px',\n    height: '5px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px'\n  }, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n    display: 'inline-block',\n    float: 'right',\n    marginLeft: '30px'\n  }, _a),\n  tooltipMarker: {\n    symbol: function symbol(x, y, r) {\n      return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    stroke: '#fff',\n    shadowBlur: 10,\n    shadowOffsetX: 0,\n    shadowOffSetY: 0,\n    shadowColor: 'rgba(0,0,0,0.09)',\n    lineWidth: 2,\n    radius: 4\n  },\n  tooltipCrosshairsRect: {\n    type: 'rect',\n    rectStyle: {\n      fill: '#CCD6EC',\n      opacity: 0.3\n    }\n  },\n  tooltipCrosshairsLine: {\n    lineStyle: {\n      stroke: 'rgba(0, 0, 0, 0.25)',\n      lineWidth: 1\n    }\n  },\n  annotation: {\n    line: {\n      line: {\n        style: {\n          stroke: 'rgba(0, 0, 0, .65)',\n          lineDash: [2, 2],\n          lineWidth: 1\n        }\n      },\n      text: {\n        position: 'start',\n        autoRotate: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .45)',\n          fontSize: 12,\n          textAlign: 'start',\n          fontFamily: FONT_FAMILY,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    text: {\n      top: true,\n      style: {\n        fill: 'rgba(0,0,0,.5)',\n        fontSize: 12,\n        textBaseline: 'middle',\n        textAlign: 'start',\n        fontFamily: FONT_FAMILY\n      }\n    },\n    region: {\n      top: false,\n      style: {\n        lineWidth: 0,\n        fill: '#000',\n        fillOpacity: 0.04\n      }\n    },\n    html: {\n      alignX: 'middle',\n      alignY: 'middle'\n    },\n    dataRegion: {\n      region: {\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    },\n    dataMarker: {\n      top: true,\n      direction: 'upward',\n      autoAdjust: true,\n      text: {\n        display: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .65)',\n          opacity: 1,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#FFFFFF',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      }\n    }\n  },\n  shape: {\n    area: {\n      area: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smoothLine: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    box: {\n      box: {\n        default: SHAPE_STYLE.box,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    edge: {\n      line: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      arc: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    interval: {\n      rect: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollowInterval: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      funnel: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      pyramid: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      'top-line': {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      }\n    },\n    kline: {\n      kline: {\n        default: SHAPE_STYLE.kline,\n        active: OPACITY_ACTIVE_STYLE\n      }\n    },\n    line: {\n      line: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dot: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dash: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hvh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    polygon: {\n      polygon: {\n        default: SHAPE_STYLE.polygon,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollow: {\n        default: SHAPE_STYLE.hollowPolygon,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    point: {\n      circle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      square: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      bowtie: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      diamond: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hexagon: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangleDown: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hollowCircle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowSquare: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowBowtie: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowDiamond: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowHexagon: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangleDown: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      cross: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      plus: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hyphen: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      rect: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      image: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      path: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      }\n    },\n    text: {\n      text: {\n        default: SHAPE_STYLE.text,\n        active: TEXT_ACTIVE_STYLE\n      }\n    }\n  }\n};\nexport default Theme;","var THEME_MAP = {}; // 主题映射\n\n/**\n * 获取对应的主题\n * @param type\n */\n\nexport var getTheme = function getTheme(type) {\n  return THEME_MAP[type.toLowerCase()];\n};\n/**\n * 注册主题\n * @param type\n * @param theme\n */\n\nexport var registerTheme = function registerTheme(type, theme) {\n  if (getTheme(type)) {\n    throw new Error(\"Theme type '\" + type + \"' existed.\");\n  }\n\n  THEME_MAP[type.toLowerCase()] = theme;\n};","import { registerTheme } from './factory';\nimport DefaultTheme from './default';\nregisterTheme('default', DefaultTheme); // 注册默认的主题\n\nexport * from './factory';","/**\n * @description 全局变量\n */\nimport * as _ from '@antv/util'; // @ts-ignore\n\nimport * as pkg from '../package.json';\nimport { getTheme } from './theme';\nvar Global = {\n  version: pkg.version,\n  renderer: 'canvas',\n  width: 640,\n  height: 480,\n  pixelRatio: null,\n  animate: true,\n  widthRatio: {\n    // 宽度所占的分类的比例\n    column: 1 / 2,\n    rose: 0.9999999,\n    multiplePie: 1 / 1.3\n  },\n  theme: getTheme('default'),\n  setTheme: function setTheme(type) {\n    var newTheme = {};\n\n    if (_.isObject(type)) {\n      newTheme = type;\n    } else if (getTheme(type)) {\n      newTheme = getTheme(type);\n    } else {\n      newTheme = getTheme('default');\n    } // @ts-ignore\n\n\n    _.deepMix(Global.theme, newTheme);\n  }\n};\nexport default Global;\nexport var setTheme = Global.setTheme;\nexport var version = Global.version;","import { __assign, __extends } from \"tslib\";\n/**\n * @description 基础基类\n */\n\nimport EventEmitter from '@antv/event-emitter';\n\nvar Base =\n/** @class */\nfunction (_super) {\n  __extends(Base, _super);\n\n  function Base(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = {};\n    _this.destroyed = false;\n    _this.cfg = __assign({\n      visible: true\n    }, cfg);\n    return _this;\n  }\n\n  Base.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Base.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Base.prototype.show = function () {\n    var visible = this.get('visible');\n\n    if (!visible) {\n      this.set('visible', true);\n      this.changeVisible(true);\n    }\n  };\n\n  Base.prototype.hide = function () {\n    var visible = this.get('visible');\n\n    if (visible) {\n      this.set('visible', false);\n      this.changeVisible(false);\n    }\n  };\n\n  Base.prototype.destroy = function () {\n    this.cfg = {};\n    this.off(); // 接触所有的事件绑定\n\n    this.destroyed = true;\n  };\n\n  return Base;\n}(EventEmitter);\n\nexport default Base;","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\n\nmat3.translate = function (out, a, v) {\n  var transMat = new Array(9);\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n};\n\nmat3.rotate = function (out, a, rad) {\n  var rotateMat = new Array(9);\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n};\n\nmat3.scale = function (out, a, v) {\n  var scaleMat = new Array(9);\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n};\n\nmat3.transform = function (m, actions) {\n  var out = [].concat(m);\n\n  for (var i = 0, len = actions.length; i < len; i++) {\n    var action = actions[i];\n\n    switch (action[0]) {\n      case 't':\n        mat3.translate(out, out, [action[1], action[2]]);\n        break;\n\n      case 's':\n        mat3.scale(out, out, [action[1], action[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(out, out, action[1]);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return out;\n};\n\nexport default mat3;","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\n\nvec2.angle = function (v1, v2) {\n  var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n  return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\n\n\nvec2.direction = function (v1, v2) {\n  return v1[0] * v2[1] - v2[0] * v1[1];\n};\n\nvec2.angleTo = function (v1, v2, direct) {\n  var angle = vec2.angle(v1, v2);\n  var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n\n  if (direct) {\n    if (angleLargeThanPI) {\n      return Math.PI * 2 - angle;\n    }\n\n    return angle;\n  }\n\n  if (angleLargeThanPI) {\n    return angle;\n  }\n\n  return Math.PI * 2 - angle;\n};\n\nvec2.vertical = function (out, v, flag) {\n  if (flag) {\n    out[0] = v[1];\n    out[1] = -1 * v[0];\n  } else {\n    out[0] = -1 * v[1];\n    out[1] = v[0];\n  }\n\n  return out;\n};\n\nexport default vec2;","import * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nexport default vec3;","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n  var d = []; // @ts-ignore\n\n  for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n    var p = [{\n      x: +crp[i - 2],\n      y: +crp[i - 1]\n    }, {\n      x: +crp[i],\n      y: +crp[i + 1]\n    }, {\n      x: +crp[i + 2],\n      y: +crp[i + 3]\n    }, {\n      x: +crp[i + 4],\n      y: +crp[i + 5]\n    }];\n\n    if (z) {\n      if (!i) {\n        p[0] = {\n          x: +crp[iLen - 2],\n          y: +crp[iLen - 1]\n        };\n      } else if (iLen - 4 === i) {\n        p[3] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n      } else if (iLen - 2 === i) {\n        p[2] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n        p[3] = {\n          x: +crp[2],\n          y: +crp[3]\n        };\n      }\n    } else {\n      if (iLen - 4 === i) {\n        p[3] = p[2];\n      } else if (!i) {\n        p[0] = {\n          x: +crp[i],\n          y: +crp[i + 1]\n        };\n      }\n    }\n\n    d.push(['C', (-p[0].x + 6 * p[1].x + p[2].x) / 6, (-p[0].y + 6 * p[1].y + p[2].y) / 6, (p[1].x + 6 * p[2].x - p[3].x) / 6, (p[1].y + 6 * p[2].y - p[3].y) / 6, p[2].x, p[2].y]);\n  }\n\n  return d;\n}","import isArray from '@antv/util/lib/is-array';\nvar SPACES = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\";\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig'); // Parses given path string into an array of arrays of path segments\n\nexport default function parsePathString(pathString) {\n  if (!pathString) {\n    return null;\n  }\n\n  if (isArray(pathString)) {\n    return pathString;\n  }\n\n  var paramCounts = {\n    a: 7,\n    c: 6,\n    o: 2,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    u: 3,\n    z: 0\n  };\n  var data = [];\n  String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n    var params = [];\n    var name = b.toLowerCase();\n    c.replace(PATH_VALUES, function (a, b) {\n      b && params.push(+b);\n    });\n\n    if (name === 'm' && params.length > 2) {\n      data.push([b].concat(params.splice(0, 2)));\n      name = 'l';\n      b = b === 'm' ? 'l' : 'L';\n    }\n\n    if (name === 'o' && params.length === 1) {\n      data.push([b, params[0]]);\n    }\n\n    if (name === 'r') {\n      data.push([b].concat(params));\n    } else {\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    }\n\n    return '';\n  });\n  return data;\n}","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\n\nfunction toSymmetry(p, c) {\n  return [c[0] + (c[0] - p[0]), c[1] + (c[1] - p[1])];\n}\n\nexport default function pathToAbsolute(pathString) {\n  var pathArray = parsePathString(pathString);\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var cmd = pathArray[i][0]; // 如果存在相对位置的命令，则中断返回\n\n    if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n      needProcess = true;\n      break;\n    }\n  } // 如果不存在相对命令，则直接返回\n  // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n\n\n  if (!needProcess) {\n    return pathArray;\n  }\n\n  var res = [];\n  var x = 0;\n  var y = 0;\n  var mx = 0;\n  var my = 0;\n  var start = 0;\n  var pa0;\n  var dots;\n  var first = pathArray[0];\n\n  if (first[0] === 'M' || first[0] === 'm') {\n    x = +first[1];\n    y = +first[2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var i = start, ii = pathArray.length; i < ii; i++) {\n    var pa = pathArray[i];\n    var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n\n    var r = [];\n    var cmd = pa[0];\n    var upCmd = cmd.toUpperCase();\n\n    if (cmd !== upCmd) {\n      r[0] = upCmd;\n\n      switch (upCmd) {\n        case 'A':\n          r[1] = pa[1];\n          r[2] = pa[2];\n          r[3] = pa[3];\n          r[4] = pa[4];\n          r[5] = pa[5];\n          r[6] = +pa[6] + x;\n          r[7] = +pa[7] + y;\n          break;\n\n        case 'V':\n          r[1] = +pa[1] + y;\n          break;\n\n        case 'H':\n          r[1] = +pa[1] + x;\n          break;\n\n        case 'M':\n          mx = +pa[1] + x;\n          my = +pa[2] + y;\n          break;\n        // for lint\n\n        default:\n          for (var j = 1, jj = pa.length; j < jj; j++) {\n            r[j] = +pa[j] + (j % 2 ? x : y);\n          }\n\n      }\n    } else {\n      // 如果本来已经大写，则不处理\n      r = pathArray[i];\n    } // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n\n\n    switch (upCmd) {\n      case 'Z':\n        x = +mx;\n        y = +my;\n        break;\n\n      case 'H':\n        x = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'V':\n        y = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'T':\n        x = r[1];\n        y = r[2]; // 以 x, y 为中心的，上一个控制点的对称点\n        // 需要假设上一个节点的命令为 Q\n\n        var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n        r = ['Q', symetricT[0], symetricT[1], x, y];\n        break;\n\n      case 'S':\n        x = r[r.length - 2];\n        y = r[r.length - 1]; // 以 x,y 为中心，取上一个控制点，\n        // 需要假设上一个线段为 C 或者 S\n\n        var length_1 = preParams.length;\n        var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n        r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n        break;\n\n      case 'M':\n        mx = r[r.length - 2];\n        my = r[r.length - 1];\n        break;\n      // for lint\n\n      default:\n        x = r[r.length - 2];\n        y = r[r.length - 1];\n    }\n\n    res.push(r);\n  }\n\n  return res;\n}","import path2Absolute from './path-2-absolute';\n\nvar a2c = function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  if (rx === ry) {\n    rx += 1;\n  }\n\n  var _120 = Math.PI * 120 / 180;\n\n  var rad = Math.PI / 180 * (+angle || 0);\n  var res = [];\n  var xy;\n  var f1;\n  var f2;\n  var cx;\n  var cy;\n\n  var rotate = function rotate(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return {\n      x: X,\n      y: Y\n    };\n  };\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    if (x1 === x2 && y1 === y2) {\n      // 若弧的起始点和终点重叠则错开一点\n      x2 += 1;\n      y2 += 1;\n    } // const cos = Math.cos(Math.PI / 180 * angle);\n    // const sin = Math.sin(Math.PI / 180 * angle);\n\n\n    var x = (x1 - x2) / 2;\n    var y = (y1 - y2) / 2;\n    var h = x * x / (rx * rx) + y * y / (ry * ry);\n\n    if (h > 1) {\n      h = Math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx;\n    var ry2 = ry * ry;\n    var k = (large_arc_flag === sweep_flag ? -1 : 1) * Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n    cx = k * rx * y / ry + (x1 + x2) / 2;\n    cy = k * -ry * x / rx + (y1 + y2) / 2;\n    f1 = Math.asin(Number(((y1 - cy) / ry).toFixed(9)));\n    f2 = Math.asin(Number(((y2 - cy) / ry).toFixed(9)));\n    f1 = x1 < cx ? Math.PI - f1 : f1;\n    f2 = x2 < cx ? Math.PI - f2 : f2;\n    f1 < 0 && (f1 = Math.PI * 2 + f1);\n    f2 < 0 && (f2 = Math.PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (Math.abs(df) > _120) {\n    var f2old = f2;\n    var x2old = x2;\n    var y2old = y2;\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * Math.cos(f2);\n    y2 = cy + ry * Math.sin(f2);\n    res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n  var c1 = Math.cos(f1);\n  var s1 = Math.sin(f1);\n  var c2 = Math.cos(f2);\n  var s2 = Math.sin(f2);\n  var t = Math.tan(df / 4);\n  var hx = 4 / 3 * rx * t;\n  var hy = 4 / 3 * ry * t;\n  var m1 = [x1, y1];\n  var m2 = [x1 + hx * s1, y1 - hy * c1];\n  var m3 = [x2 + hx * s2, y2 - hy * c2];\n  var m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  }\n\n  res = [m2, m3, m4].concat(res).join().split(',');\n  var newres = [];\n\n  for (var i = 0, ii = res.length; i < ii; i++) {\n    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n  }\n\n  return newres;\n};\n\nvar l2c = function l2c(x1, y1, x2, y2) {\n  return [x1, y1, x2, y2, x2, y2];\n};\n\nvar q2c = function q2c(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3;\n\n  var _23 = 2 / 3;\n\n  return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\n\nexport default function pathTocurve(path, path2) {\n  var p = path2Absolute(path);\n  var p2 = path2 && path2Absolute(path2);\n  var attrs = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var attrs2 = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var pcoms1 = []; // path commands of original path p\n\n  var pcoms2 = []; // path commands of original path p2\n\n  var pfirst = ''; // temporary holder for original path command\n\n  var pcom = ''; // holder for previous path command of original path\n\n  var ii;\n\n  var processPath = function processPath(path, d, pcom) {\n    var nx, ny;\n\n    if (!path) {\n      return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n    }\n\n    !(path[0] in {\n      T: 1,\n      Q: 1\n    }) && (d.qx = d.qy = null);\n\n    switch (path[0]) {\n      case 'M':\n        d.X = path[1];\n        d.Y = path[2];\n        break;\n\n      case 'A':\n        path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n        break;\n\n      case 'S':\n        if (pcom === 'C' || pcom === 'S') {\n          // In \"S\" case we have to take into account, if the previous command is C/S.\n          nx = d.x * 2 - d.bx; // And reflect the previous\n\n          ny = d.y * 2 - d.by; // command's control point relative to the current point.\n        } else {\n          // or some else or nothing\n          nx = d.x;\n          ny = d.y;\n        }\n\n        path = ['C', nx, ny].concat(path.slice(1));\n        break;\n\n      case 'T':\n        if (pcom === 'Q' || pcom === 'T') {\n          // In \"T\" case we have to take into account, if the previous command is Q/T.\n          d.qx = d.x * 2 - d.qx; // And make a reflection similar\n\n          d.qy = d.y * 2 - d.qy; // to case \"S\".\n        } else {\n          // or something else or nothing\n          d.qx = d.x;\n          d.qy = d.y;\n        }\n\n        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n        break;\n\n      case 'Q':\n        d.qx = path[1];\n        d.qy = path[2];\n        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n        break;\n\n      case 'L':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n        break;\n\n      case 'H':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n        break;\n\n      case 'V':\n        path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n        break;\n\n      case 'Z':\n        path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n        break;\n\n      default:\n        break;\n    }\n\n    return path;\n  };\n\n  var fixArc = function fixArc(pp, i) {\n    if (pp[i].length > 7) {\n      pp[i].shift();\n      var pi = pp[i];\n\n      while (pi.length) {\n        pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n\n        p2 && (pcoms2[i] = 'A'); // the same as above\n\n        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n      }\n\n      pp.splice(i, 1);\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  var fixM = function fixM(path1, path2, a1, a2, i) {\n    if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n      path2.splice(i, 0, ['M', a2.x, a2.y]);\n      a1.bx = 0;\n      a1.by = 0;\n      a1.x = path1[i][1];\n      a1.y = path1[i][2];\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  ii = Math.max(p.length, p2 && p2.length || 0);\n\n  for (var i = 0; i < ii; i++) {\n    p[i] && (pfirst = p[i][0]); // save current path command\n\n    if (pfirst !== 'C') {\n      // C is not saved yet, because it may be result of conversion\n      pcoms1[i] = pfirst; // Save current path command\n\n      i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n    }\n\n    p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n    if (pcoms1[i] !== 'A' && pfirst === 'C') pcoms1[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n    if (p2) {\n      // the same procedures is done to p2\n      p2[i] && (pfirst = p2[i][0]);\n\n      if (pfirst !== 'C') {\n        pcoms2[i] = pfirst;\n        i && (pcom = pcoms2[i - 1]);\n      }\n\n      p2[i] = processPath(p2[i], attrs2, pcom);\n\n      if (pcoms2[i] !== 'A' && pfirst === 'C') {\n        pcoms2[i] = 'C';\n      }\n\n      fixArc(p2, i);\n    }\n\n    fixM(p, p2, attrs, attrs2, i);\n    fixM(p2, p, attrs2, attrs, i);\n    var seg = p[i];\n    var seg2 = p2 && p2[i];\n    var seglen = seg.length;\n    var seg2len = p2 && seg2.length;\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n    attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n    attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n    attrs2.x = p2 && seg2[seg2len - 2];\n    attrs2.y = p2 && seg2[seg2len - 1];\n  }\n\n  return p2 ? [p, p2] : p;\n}","import * as _ from '@antv/util';\nimport { mat3 } from '@antv/matrix-util';\nimport { Shapes } from '@antv/g';\nexport function getAnimateParam(animateCfg, index, id) {\n  return {\n    delay: _.isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay,\n    easing: _.isFunction(animateCfg.easing) ? animateCfg.easing(index, id) : animateCfg.easing,\n    duration: _.isFunction(animateCfg.duration) ? animateCfg.duration(index, id) : animateCfg.duration,\n    callback: animateCfg.callback\n  };\n}\nexport function getCoordRange(coord) {\n  var start = coord.start,\n      end = coord.end;\n  return {\n    start: start,\n    end: end,\n    width: coord.getWidth(),\n    height: coord.getWidth()\n  };\n}\nexport function getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var margin = 200;\n  var clip;\n\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    clip = new Shapes.Fan({\n      attrs: {\n        x: center.x,\n        y: center.y,\n        rs: 0,\n        re: radius + margin,\n        startAngle: startAngle,\n        endAngle: startAngle\n      }\n    });\n    clip.endState = {\n      endAngle: endAngle\n    };\n  } else {\n    clip = new Shapes.Rect({\n      attrs: {\n        x: start.x - margin,\n        y: end.y - margin,\n        width: coord.isTransposed ? width + margin * 2 : 0,\n        height: coord.isTransposed ? 0 : height + margin * 2\n      }\n    });\n\n    if (coord.isTransposed) {\n      clip.endState = {\n        height: height + margin * 2\n      };\n    } else {\n      clip.endState = {\n        width: width + margin * 2\n      };\n    }\n  }\n\n  clip.set('isClip', true);\n  return clip;\n}\nexport function getScaledMatrix(shape, v, direct) {\n  var scaledMatrix;\n  shape.apply(v);\n  var x = v[0];\n  var y = v[1];\n\n  if (direct === 'x') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 1], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 1], ['t', x, y]]);\n  } else if (direct === 'y') {\n    shape.transform([['t', -x, -y], ['s', 1, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 1, 100], ['t', x, y]]);\n  } else if (direct === 'xy') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 100], ['t', x, y]]);\n  }\n\n  return scaledMatrix;\n}\nexport function doAnimation(shape, endState, animateCfg) {\n  var id = shape.id;\n  var index = shape.get('index');\n\n  var _a = getAnimateParam(animateCfg, index, id),\n      easing = _a.easing,\n      delay = _a.delay,\n      duration = _a.duration,\n      callback = _a.callback;\n\n  shape.animate(endState, duration, easing, callback, delay);\n}\nexport function doGroupScaleIn(container, animateCfg, coord, zeroY, type) {\n  var _a = getCoordRange(coord),\n      start = _a.start,\n      end = _a.end,\n      width = _a.width,\n      height = _a.height;\n\n  var x;\n  var y;\n  var clip = new Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = zeroY.y < start.y ? zeroY.y : start.y;\n  } else if (type === 'x') {\n    x = zeroY.x > start.x ? zeroY.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coord.isPolar) {\n      x = coord.getCenter().x;\n      y = coord.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  var endMatrix = getScaledMatrix(clip, [x, y, 1], type);\n  clip.set('isClip', true);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  doAnimation(clip, {\n    matrix: endMatrix\n  }, animateCfg);\n}","/**\n * @fileOverview Default animation funciton\n */\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport { doAnimation, doGroupScaleIn, getClip, getScaledMatrix } from './util'; // 获取图形的包围盒\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nfunction getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction scaleInY(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = (box.minX + box.maxX) / 2;\n  var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'y')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction scaleInX(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  var y = (box.minY + box.maxY) / 2;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'x')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction lineWidthOut(shape, animateCfg) {\n  var endState = {\n    lineWidth: 0,\n    opacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomIn(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'xy')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomOut(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var v = [x, y, 1];\n  shape.apply(v);\n  var endState = {\n    transform: [['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathIn(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  shape.attr('path', [path[0]]);\n  var endState = {\n    path: path\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathOut(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  var endState = {\n    path: [path[0]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction clipIn(shape, animateCfg, coord, startAngle, endAngle) {\n  var clip = getClip(coord);\n  var canvas = shape.get('canvas');\n  var endState;\n\n  if (startAngle) {\n    // 指定了 startAngle 和 endAngle\n    clip.attr('startAngle', startAngle);\n    clip.attr('endAngle', startAngle);\n    endState = {\n      endAngle: endAngle\n    };\n  } else {\n    endState = clip.endState;\n  }\n\n  clip.set('canvas', canvas);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n    }\n  };\n\n  doAnimation(clip, endState, animateCfg);\n}\n\nfunction fadeIn(shape, animateCfg) {\n  var fillOpacity = _.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n  var strokeOpacity = _.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('strokeOpacity', 0);\n  var endState = {\n    fillOpacity: fillOpacity,\n    strokeOpacity: strokeOpacity\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fadeOut(shape, animateCfg) {\n  var endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fanIn(shape, animateCfg, coord) {\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  clipIn(shape, animateCfg, coord, startAngle, endAngle);\n}\n\nfunction groupScaleInX(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'x');\n}\n\nfunction groupScaleInY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'y');\n}\n\nfunction groupScaleInXY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n}\n\nfunction groupWaveIn(container, animateCfg, coord) {\n  var clip = getClip(coord);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  var endState = clip.endState;\n  doAnimation(clip, endState, animateCfg);\n} // 默认动画库\n\n\nvar Action = {\n  enter: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn\n  },\n  leave: {\n    lineWidthOut: lineWidthOut,\n    zoomOut: zoomOut,\n    pathOut: pathOut,\n    fadeOut: fadeOut,\n    fadeIn: fadeIn\n  },\n  appear: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn,\n    groupWaveIn: groupWaveIn,\n    groupScaleInX: groupScaleInX,\n    groupScaleInY: groupScaleInY,\n    groupScaleInXY: groupScaleInXY\n  },\n  update: {\n    fadeIn: fadeIn,\n    fanIn: fanIn\n  }\n}; // 给每一个方法增加 name 属性，防止 function name 被 uglify 改掉。\n\n_.each(Action, function (v) {\n  _.each(v, function (animate, name) {\n    // @ts-ignore\n    animate.animationName = name;\n  });\n});\n\nexport default Action;","/**\n * @fileOverview Default animation configuration for elements\n */\nimport * as _ from '@antv/util';\nimport Action from './action';\nvar defaultAnimationCfg = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut'\n  },\n  update: {\n    duration: 450,\n    easing: 'easeQuadInOut'\n  },\n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n    delay: 100\n  },\n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn'\n  }\n};\nvar Animate = {\n  line: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  path: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  area: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 500,\n        easing: 'easeQuadOut'\n      },\n      update: {\n        duration: 450,\n        easing: 'easeQuadInOut'\n      },\n      enter: {\n        duration: 600,\n        delay: 150,\n        easing: 'easeQuadInOut'\n      },\n      leave: {\n        easing: 'easeQuadOut',\n        duration: 350\n      }\n    }\n  },\n  polygon: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  edge: {\n    appear: function appear() {\n      return Action.appear.pathIn;\n    },\n    enter: function enter() {\n      return Action.enter.pathIn;\n    },\n    leave: function leave() {\n      return Action.leave.pathOut;\n    }\n  },\n  interval: {\n    appear: function appear(coord) {\n      var result;\n\n      if (coord.isPolar) {\n        // polar coordinate\n        result = Action.appear.groupScaleInXY;\n\n        if (coord.isTransposed) {\n          // pie chart\n          result = Action.appear.groupWaveIn;\n        }\n      } else {\n        result = coord.isTransposed ? Action.appear.groupScaleInX : Action.appear.groupScaleInY;\n      }\n\n      return result;\n    },\n    enter: function enter(coord) {\n      if (coord.isRect || coord.isTransposed || coord.type === 'theta') {\n        return Action.enter.fadeIn;\n      }\n\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.type === 'theta') {\n        return Action.update.fanIn; // TODO: G animate 接口支持 onFrame 属性之后可以改进饼图的更新动画\n      }\n    }\n  },\n  point: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  text: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  kline: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  box: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  heatmap: null,\n  label: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 900\n      }\n    }\n  },\n  'axis-label': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-ticks': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid-rect': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update() {\n      return Action.leave.fadeIn;\n    }\n  }\n};\nAnimate.Action = Action;\nAnimate.defaultCfg = defaultAnimationCfg; // 获取动画\n\nAnimate.getAnimation = function (elementType, coord, animationType) {\n  var elementAnimateCfg = this[elementType];\n\n  if (elementAnimateCfg) {\n    var animation = elementAnimateCfg[animationType];\n\n    if (_.isFunction(animation)) {\n      return animation(coord);\n    }\n  }\n\n  return false;\n}; // 获取动画配置\n\n\nAnimate.getAnimateCfg = function (elementType, animationType) {\n  var defaultCfg = defaultAnimationCfg[animationType];\n\n  if (this[elementType] && this[elementType].cfg && this[elementType].cfg[animationType]) {\n    return _.deepMix({}, defaultCfg, this[elementType].cfg[animationType]);\n  }\n\n  return defaultCfg;\n}; // 注册动画\n\n\nAnimate.registerAnimation = function (animationType, animationName, animationFun) {\n  if (!this.Action[animationType]) {\n    this.Action[animationType] = {};\n  }\n\n  this.Action[animationType][animationName] = animationFun;\n};\n\nexport default Animate;","import { mat3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Animate from './animate';\n/*\n * 获取图组内所有的shapes\n */\n\nfunction getShapes(container, viewId) {\n  var shapes = [];\n\n  if (container.get('animate') === false) {\n    return [];\n  }\n\n  var children = container.get('children');\n\n  _.each(children, function (child) {\n    // 这里child定义为Group|Shape后，tslint会报错。根源解决需要在g -> element类增加isGroup/isShape/id属性。这里暂时忽略tslint\n    // @ts-ignore\n    if (child.isGroup) {\n      // @ts-ignore\n      shapes = shapes.concat(getShapes(child, viewId)); // @ts-ignore\n    } else if (child.isShape && child.id) {\n      // @ts-ignore\n      var id = child.id;\n      id = id.split('-')[0];\n\n      if (id === viewId) {\n        shapes.push(child);\n      }\n    }\n  });\n\n  return shapes;\n}\n/**\n * collect shape info.\n * @param shapes\n */\n\n\nfunction cache(shapes) {\n  var rst = {};\n\n  _.each(shapes, function (shape) {\n    if (!shape.id || shape.get('isClip')) {\n      return;\n    }\n\n    var id = shape.id;\n    rst[id] = {\n      id: id,\n      type: shape.get('type'),\n      attrs: _.clone(shape.attr()),\n      // 原始属性\n      name: shape.name,\n      index: shape.get('index'),\n      animateCfg: shape.get('animateOptions'),\n      coord: shape.get('coord')\n    };\n  });\n\n  return rst;\n}\n\nfunction getAnimate(elementType, coord, animationType, animationName) {\n  var result = {};\n\n  if (animationName) {\n    result = Animate.Action[animationType][animationName];\n  } else {\n    result = Animate.getAnimation(elementType, coord, animationType);\n  }\n\n  return result;\n}\n\nfunction getAnimateCfg(elementType, animationType, animateCfg) {\n  // .animate(false) 或者 .animate({ appear: false });\n  if (animateCfg === false || _.isObject(animateCfg) && animateCfg[animationType] === false) {\n    return null;\n  }\n\n  var defaultCfg = Animate.getAnimateCfg(elementType, animationType);\n\n  if (animateCfg && animateCfg[animationType]) {\n    return _.deepMix({}, defaultCfg, animateCfg[animationType]);\n  }\n\n  return defaultCfg;\n}\n/**\n * canvas draw之前将动画配置添加到动画队列中。\n * @return canvasDrawn(boolean) 是否添加绘制成功\n */\n\n\nfunction addAnimate(shapeCache, shapes, canvas) {\n  var animate;\n  var animateCfg;\n  var canvasDrawn = false; // Step: leave -> update -> enter\n\n  var updateShapes = []; // 存储的是 shapes\n\n  var newShapes = []; // 存储的是 shapes\n\n  _.each(shapes, function (shape) {\n    var result = shapeCache[shape.id];\n\n    if (!result) {\n      newShapes.push(shape);\n    } else {\n      shape.setSilent('cacheShape', result);\n      updateShapes.push(shape);\n      delete shapeCache[shape.id];\n    }\n  });\n\n  _.each(shapeCache, function (deletedShape) {\n    var name = deletedShape.name,\n        coord = deletedShape.coord,\n        id = deletedShape.id,\n        attrs = deletedShape.attrs,\n        index = deletedShape.index,\n        type = deletedShape.type;\n    animateCfg = getAnimateCfg(name, 'leave', deletedShape.animateCfg);\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'leave', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      var tempShape = canvas.addShape(type, {\n        attrs: attrs,\n        index: index\n      });\n      tempShape.id = id;\n      tempShape.name = name;\n\n      if (coord && name !== 'label') {\n        var tempShapeMatrix = tempShape.getMatrix();\n        var finalMatrix = mat3.multiply([], tempShapeMatrix, coord.matrix);\n        tempShape.setMatrix(finalMatrix);\n      }\n\n      canvasDrawn = true;\n      animate(tempShape, animateCfg, coord);\n    }\n  });\n\n  _.each(updateShapes, function (updateShape) {\n    var name = updateShape.name;\n    animateCfg = getAnimateCfg(name, 'update', updateShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    var coord = updateShape.get('coord');\n    var cacheAttrs = updateShape.get('cacheShape').attrs; // 判断如果属性相同的话就不进行变换\n\n    if (!_.isEqual(cacheAttrs, updateShape.attr())) {\n      animate = getAnimate(name, coord, 'update', animateCfg.animation);\n\n      if (_.isFunction(animate)) {\n        animate(updateShape, animateCfg, coord);\n      } else {\n        var endState = _.clone(updateShape.attr());\n\n        updateShape.attr(cacheAttrs);\n        updateShape.animate(endState, animateCfg.duration, animateCfg.easing, function () {\n          updateShape.setSilent('cacheShape', null);\n        });\n      }\n\n      canvasDrawn = true;\n    }\n  });\n\n  _.each(newShapes, function (newShape) {\n    var name = newShape.name;\n    var coord = newShape.get('coord');\n    animateCfg = getAnimateCfg(name, 'enter', newShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'enter', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      animate(newShape, animateCfg, coord);\n      canvasDrawn = true;\n    }\n  });\n\n  return canvasDrawn;\n}\n/**\n * 动画模块唯一对外暴露接口\n * @param view\n * @param isUpdate\n */\n\n\nfunction execAnimation(view, isUpdate) {\n  var newIsUpdate = isUpdate; // eslint: no-param-reassign\n\n  var panelGroup = view.get('panelGroup');\n  var backgroundGroup = view.get('backgroundGroup');\n  var viewId = view.get('id');\n  var canvas = view.get('canvas');\n  var caches = canvas.get(viewId + \"caches\") || [];\n\n  if (caches.length === 0) {\n    newIsUpdate = false;\n  }\n\n  var shapes = getShapes(panelGroup, viewId);\n  var axisShapes = getShapes(backgroundGroup, viewId);\n  var cacheShapes = shapes.concat(axisShapes);\n  canvas.setSilent(viewId + \"caches\", cache(cacheShapes));\n  var drawn;\n\n  if (newIsUpdate) {\n    // 执行更新动画\n    drawn = addAnimate(caches, cacheShapes, canvas);\n  } else {\n    // 初入场动画\n    // drawn = addAnimate(caches, shapes, canvas, newIsUpdate);\n    var animateCfg_1;\n    var animate_1;\n    var elements = view.get('elements');\n    var coord_1 = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n      var elementAnimateOption = element.get('animateOptions');\n\n      if (elementAnimateOption !== false) {\n        // 用户为关闭动画\n        animateCfg_1 = getAnimateCfg(type, 'appear', elementAnimateOption);\n\n        if (!animateCfg_1) {\n          return true;\n        } // 用户关闭了初始动画\n\n\n        animate_1 = getAnimate(type, coord_1, 'appear', animateCfg_1.animation);\n\n        if (_.isFunction(animate_1)) {\n          if (animate_1.animationName.indexOf('group') === 0) {\n            // 执行全局动画\n            var yScale = element.getYScale();\n            var zeroY = coord_1.convertPoint({\n              x: 0,\n              y: yScale.scale(element.getYMinValue())\n            });\n            var container = element.get('container');\n            animate_1 && animate_1(container, animateCfg_1, coord_1, zeroY);\n          } else {\n            var shapeArr = getShapes(element.get('container'), viewId);\n\n            _.each(shapeArr, function (shape) {\n              if (shape.name === type) {\n                // element shapes 上的动画\n                animate_1(shape, animateCfg_1, coord_1);\n              } else if (shape.name === 'label') {\n                animateCfg_1 = getAnimateCfg('label', 'appear', null);\n                animate_1 = getAnimate(shape.name, coord_1, 'appear', animateCfg_1.animation);\n\n                if (_.isFunction(animate_1)) {\n                  animate_1(shape, animateCfg_1, coord_1);\n                }\n              }\n            });\n          }\n        }\n      }\n    });\n\n    drawn = true;\n  }\n\n  if (!drawn) {\n    canvas.draw();\n  }\n}\n\nexport default {\n  execAnimation: execAnimation\n};","export var DEFAULT_Y = 0; // 默认的 y 的值\n// 偏移之后，间距\n\nexport var MARGIN_RATIO = 1 / 2;\nexport var DODGE_RATIO = 1 / 2; // 散点分开之后，距离边界的距离\n\nexport var GAP = 0.05;","import * as _ from '@antv/util';\nimport { DEFAULT_Y } from '../constant';\n\nvar Adjust =\n/** @class */\nfunction () {\n  function Adjust(cfg) {\n    var xField = cfg.xField,\n        yField = cfg.yField,\n        _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n    this.adjustNames = adjustNames;\n    this.xField = xField;\n    this.yField = yField;\n  }\n  /**\n   * 查看维度是否是 adjust 字段\n   * @param dim\n   */\n\n\n  Adjust.prototype.isAdjust = function (dim) {\n    return this.adjustNames.indexOf(dim) >= 0;\n  };\n\n  Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n    var yField = this.yField;\n    var index = values.indexOf(dimValue);\n    var length = values.length;\n    var pre;\n    var next; // 没有 y 字段，但是需要根据 y 调整\n\n    if (!yField && this.isAdjust('y')) {\n      pre = 0;\n      next = 1;\n    } else if (length > 1) {\n      // 如果以其开头，则取之，否则取他前面一个\n      pre = values[index === 0 ? 0 : index - 1]; // 如果以其结尾，则取之，否则取他后面一个\n\n      next = values[index === length - 1 ? length - 1 : index + 1];\n\n      if (index !== 0) {\n        pre += (dimValue - pre) / 2;\n      } else {\n        pre -= (next - dimValue) / 2;\n      }\n\n      if (index !== length - 1) {\n        next -= (next - dimValue) / 2;\n      } else {\n        next += (dimValue - values[length - 2]) / 2;\n      }\n    } else {\n      pre = dimValue === 0 ? 0 : dimValue - 0.5;\n      next = dimValue === 0 ? 1 : dimValue + 0.5;\n    }\n\n    return {\n      pre: pre,\n      next: next\n    };\n  };\n\n  Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n    var _this = this; // 所有调整维度的值数组\n\n\n    var dimValuesMap = this.getDimValues(mergedData); // 按照每一个分组来进行调整\n\n    _.each(groupedDataArray, function (dataArray, index) {\n      // 遍历所有数据集合\n      // 每个分组中，分别按照不同的 dim 进行调整\n      _.each(dimValuesMap, function (values, dim) {\n        // 根据不同的度量分别调整位置\n        _this.adjustDim(dim, values, dataArray, index);\n      });\n    });\n  };\n  /**\n   * 对数据进行分组adjustData\n   * @param data 数据\n   * @param dim 分组的字段\n   * @return 分组结果\n   */\n\n\n  Adjust.prototype.groupData = function (data, dim) {\n    // 补齐数据空数据为默认值\n    _.each(data, function (record) {\n      if (record[dim] === undefined) {\n        record[dim] = DEFAULT_Y;\n      }\n    }); // 按照 dim 维度分组\n\n\n    return _.groupBy(data, dim);\n  };\n  /** @override */\n\n\n  Adjust.prototype.adjustDim = function (dim, values, data, index) {};\n  /**\n   * 获取可调整度量对应的值\n   * @param mergedData 数据\n   * @return 值的映射\n   */\n\n\n  Adjust.prototype.getDimValues = function (mergedData) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var dimValuesMap = {}; // 所有的维度\n\n    var dims = [];\n\n    if (xField && this.isAdjust('x')) {\n      dims.push(xField);\n    }\n\n    if (yField && this.isAdjust('y')) {\n      dims.push(yField);\n    }\n\n    dims.forEach(function (dim) {\n      // 在每个维度上，所有的值\n      dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) {\n        return v1 - v2;\n      });\n    }); // 只有一维的情况下，同时调整 y，赋予默认值\n\n    if (!yField && this.isAdjust('y')) {\n      var dim = 'y';\n      dimValuesMap[dim] = [DEFAULT_Y, 1]; // 默认分布在 y 轴的 0 与 1 之间\n    }\n\n    return dimValuesMap;\n  };\n\n  return Adjust;\n}();\n\nexport default Adjust;","import Adjust from './adjusts/adjust';\nvar ADJUST_MAP = {};\n/**\n * 根据类型获取 Adjust 类\n * @param type\n */\n\nvar getAdjust = function getAdjust(type) {\n  return ADJUST_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Adjust\n * @param type\n * @param ctor\n */\n\n\nvar registerAdjust = function registerAdjust(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAdjust(type)) {\n    throw new Error(\"Adjust type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ADJUST_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAdjust, registerAdjust, Adjust };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\n\nvar Dodge =\n/** @class */\nfunction (_super) {\n  __extends(Dodge, _super);\n\n  function Dodge(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.cacheMap = {};\n    _this.adjustDataArray = [];\n    _this.mergeData = [];\n    var _a = cfg.marginRatio,\n        marginRatio = _a === void 0 ? MARGIN_RATIO : _a,\n        _b = cfg.dodgeRatio,\n        dodgeRatio = _b === void 0 ? DODGE_RATIO : _b,\n        dodgeBy = cfg.dodgeBy;\n    _this.marginRatio = marginRatio;\n    _this.dodgeRatio = dodgeRatio;\n    _this.dodgeBy = dodgeBy;\n    return _this;\n  }\n\n  Dodge.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 将数据数组展开一层\n\n\n    var mergeData = _.flatten(groupedDataArray);\n\n    var dodgeBy = this.dodgeBy; // 如果指定了分组 dim 的字段\n\n    var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n    this.cacheMap = {};\n    this.adjustDataArray = adjustDataArray;\n    this.mergeData = mergeData;\n    this.adjustData(adjustDataArray, mergeData);\n    this.adjustDataArray = [];\n    this.mergeData = [];\n    return groupedDataArray;\n  };\n\n  Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n    var _this = this;\n\n    var map = this.getDistribution(dim);\n    var groupData = this.groupData(data, dim); // 根据值分组\n\n    _.each(groupData, function (group, key) {\n      var range; // xField 中只有一个值，不需要做 dodge\n\n      if (values.length === 1) {\n        range = {\n          pre: values[0] - 1,\n          next: values[0] + 1\n        };\n      } else {\n        // 如果有多个，则需要获取调整的范围\n        range = _this.getAdjustRange(dim, parseFloat(key), values);\n      }\n\n      _.each(group, function (d) {\n        var value = d[dim];\n        var valueArr = map[value];\n        var valIndex = valueArr.indexOf(frameIndex);\n        d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n      });\n    });\n\n    return [];\n  };\n\n  Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n    var _a = this,\n        dodgeRatio = _a.dodgeRatio,\n        marginRatio = _a.marginRatio;\n\n    var pre = range.pre,\n        next = range.next;\n    var tickLength = next - pre;\n    var width = tickLength * dodgeRatio / len;\n    var margin = marginRatio * width;\n    var offset = 1 / 2 * (tickLength - len * width - (len - 1) * margin) + ((idx + 1) * width + idx * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n    return (pre + next) / 2 + offset;\n  };\n\n  Dodge.prototype.getDistribution = function (dim) {\n    var groupedDataArray = this.adjustDataArray;\n    var cacheMap = this.cacheMap;\n    var map = cacheMap[dim];\n\n    if (!map) {\n      map = {};\n\n      _.each(groupedDataArray, function (data, index) {\n        var values = _.valuesOfKey(data, dim);\n\n        if (!values.length) {\n          values.push(0);\n        }\n\n        _.each(values, function (val) {\n          if (!map[val]) {\n            map[val] = [];\n          }\n\n          map[val].push(index);\n        });\n      });\n\n      cacheMap[dim] = map;\n    }\n\n    return map;\n  };\n\n  return Dodge;\n}(Adjust);\n\nexport default Dodge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\n\nfunction randomNumber(min, max) {\n  return (max - min) * Math.random() + min;\n}\n\nvar Jitter =\n/** @class */\nfunction (_super) {\n  __extends(Jitter, _super);\n\n  function Jitter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Jitter.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 之前分组之后的数据，然后有合并回去（和分组前可以理解成是一样的）\n\n\n    var mergeData = _.flatten(groupedDataArray); // 返回值\n\n\n    this.adjustData(groupedDataArray, mergeData);\n    return groupedDataArray;\n  };\n  /**\n   * 当前数据分组（index）中，按照维度 dim 进行 jitter 调整\n   * @param dim\n   * @param values\n   * @param dataArray\n   */\n\n\n  Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n    var _this = this; // 在每一个分组中，将数据再按照 dim 分组，用于散列\n\n\n    var groupDataArray = this.groupData(dataArray, dim);\n    return _.each(groupDataArray, function (data, dimValue) {\n      return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n    });\n  }; // 随机出来的字段值\n\n\n  Jitter.prototype.getAdjustOffset = function (range) {\n    var pre = range.pre,\n        next = range.next; // 随机的范围\n\n    var margin = (next - pre) * GAP;\n    return randomNumber(pre + margin, next - margin);\n  }; // adjust group data\n\n\n  Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n    var _this = this; // 调整范围\n\n\n    var range = this.getAdjustRange(dim, dimValue, values);\n\n    _.each(group, function (data) {\n      data[dim] = _this.getAdjustOffset(range); // 获取调整的位置\n    });\n\n    return group;\n  };\n\n  return Jitter;\n}(Adjust);\n\nexport default Jitter;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\n\nvar Stack =\n/** @class */\nfunction (_super) {\n  __extends(Stack, _super);\n\n  function Stack(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['y'] : _a,\n        _b = cfg.height,\n        height = _b === void 0 ? NaN : _b,\n        _c = cfg.size,\n        size = _c === void 0 ? 10 : _c,\n        _d = cfg.reverseOrder,\n        reverseOrder = _d === void 0 ? false : _d;\n    _this.adjustNames = adjustNames;\n    _this.height = height;\n    _this.size = size;\n    _this.reverseOrder = reverseOrder;\n    return _this;\n  }\n  /**\n   * 方法入参是经过数据分组、数据数字化之后的二维数组\n   * @param groupDataArray 分组之后的数据\n   */\n\n\n  Stack.prototype.process = function (groupDataArray) {\n    var _a = this,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 如果有指定 y 字段，那么按照 y 字段来 stack\n    // 否则，按照高度均分\n\n\n    var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n    return reverseOrder ? this.reverse(d) : d;\n  };\n\n  Stack.prototype.reverse = function (groupedDataArray) {\n    return groupedDataArray.slice(0).reverse();\n  };\n\n  Stack.prototype.processStack = function (groupDataArray) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 层叠顺序翻转\n\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 用来缓存，正数和负数的堆叠问题\n\n    var positive = new Cache();\n    var negative = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var x = _.get(data, xField, 0);\n\n        var y = _.get(data, yField);\n\n        var xKey = x.toString(); // todo 是否应该取 _origin？因为 y 可能取到的值不正确，比如先 symmetric，再 stack！\n\n        y = _.isArray(y) ? y[1] : y;\n\n        if (!_.isNil(y)) {\n          var cache = y >= 0 ? positive : negative;\n\n          if (!cache.has(xKey)) {\n            cache.set(xKey, 0);\n          }\n\n          var xValue = cache.get(xKey);\n          var newXValue = y + xValue; // 存起来\n\n          cache.set(xKey, newXValue);\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n        } // 没有修改，则直接返回\n\n\n        return data;\n      });\n    });\n  };\n\n  Stack.prototype.processOneDimStack = function (groupDataArray) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        height = _a.height,\n        reverseOrder = _a.reverseOrder;\n\n    var yField = 'y'; // 如果层叠的顺序翻转\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 缓存累加数据\n\n    var cache = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var size = _this.size;\n        var xValue = data[xField]; // todo 没有看到这个 stack 计算原理\n\n        var stackHeight = size * 2 / height;\n\n        if (!cache.has(xValue)) {\n          cache.set(xValue, stackHeight / 2); // 初始值大小\n        }\n\n        var stackValue = cache.get(xValue); // 增加一层 stackHeight\n\n        cache.set(xValue, stackValue + stackHeight);\n        return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n      });\n    });\n  };\n\n  return Stack;\n}(Adjust);\n\nexport default Stack;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\n\nvar Symmetric =\n/** @class */\nfunction (_super) {\n  __extends(Symmetric, _super);\n\n  function Symmetric() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Symmetric.prototype.process = function (groupDataArray) {\n    var mergeData = _.flatten(groupDataArray);\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 每个 x 值对应的 最大值\n\n\n    var cache = this.getXValuesMaxMap(mergeData); // 所有数据的最大的值\n\n    var max = Math.max.apply(Math, Object.keys(cache).map(function (key) {\n      return cache[key];\n    }));\n    return _.map(groupDataArray, function (dataArray) {\n      return _.map(dataArray, function (data) {\n        var _a, _b;\n\n        var yValue = data[yField];\n        var xValue = data[xField]; // 数组处理逻辑\n\n        if (_.isArray(yValue)) {\n          var off_1 = (max - cache[xValue]) / 2;\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) {\n            return off_1 + y;\n          }), _a));\n        } // 非数组处理逻辑\n\n\n        var offset = (max - yValue) / 2;\n        return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n      });\n    });\n  }; // 获取每个 x 对应的最大的值\n\n\n  Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 根据 xField 的值进行分组\n\n\n    var groupDataArray = _.groupBy(mergeData, function (data) {\n      return data[xField];\n    }); // 获取每个 xField 值中的最大值\n\n\n    return _.mapValues(groupDataArray, function (dataArray) {\n      return _this.getDimMaxValue(dataArray, yField);\n    });\n  };\n\n  Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n    // 所有的 value 值\n    var dimValues = _.map(mergeData, function (data) {\n      return _.get(data, dim, []);\n    }); // 将数组打平（dim value 有可能是数组，比如 stack 之后的）\n\n\n    var flattenValues = _.flatten(dimValues); // 求出数组的最大值\n\n\n    return Math.max.apply(Math, flattenValues);\n  };\n\n  return Symmetric;\n}(Adjust);\n\nexport default Symmetric;","import { getAdjust, registerAdjust } from './factory';\nimport Adjust from './adjusts/adjust';\nimport Dodge from './adjusts/dodge';\nimport Jitter from './adjusts/jitter';\nimport Stack from './adjusts/stack';\nimport Symmetric from './adjusts/symmetric'; // 注册内置的 adjust\n\nregisterAdjust('Dodge', Dodge);\nregisterAdjust('Jitter', Jitter);\nregisterAdjust('Stack', Stack);\nregisterAdjust('Symmetric', Symmetric); // 最终暴露给外部的方法\n\nexport { getAdjust, registerAdjust, Adjust };","import { mat3, vec3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n/**\n * Coordinate Base Class\n */\n\nvar Coordinate =\n/** @class */\nfunction () {\n  function Coordinate(cfg) {\n    // 自身属性\n    this.type = 'coordinate';\n    this.isRect = false;\n    this.isHelix = false;\n    this.isPolar = false;\n    this.isReflectX = false;\n    this.isReflectY = false;\n    var start = cfg.start,\n        end = cfg.end,\n        _a = cfg.matrix,\n        matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a,\n        _b = cfg.isTransposed,\n        isTransposed = _b === void 0 ? false : _b;\n    this.start = start;\n    this.end = end;\n    this.matrix = matrix;\n    this.isTransposed = isTransposed;\n  }\n  /**\n   * 初始化流程\n   */\n\n\n  Coordinate.prototype.initial = function () {\n    // center、width、height\n    this.center = {\n      x: (this.start.x + this.end.x) / 2,\n      y: (this.start.y + this.end.y) / 2\n    };\n    this.width = Math.abs(this.end.x - this.start.x);\n    this.height = Math.abs(this.end.y - this.start.y);\n  };\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Coordinate.prototype.update = function (cfg) {\n    _.assign(this, cfg);\n\n    this.initial();\n  };\n\n  Coordinate.prototype.convertDim = function (percent, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return start + percent * (end - start);\n  };\n\n  Coordinate.prototype.invertDim = function (value, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return (value - start) / (end - start);\n  };\n  /**\n   * 将坐标点进行矩阵变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.applyMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var vector = [x, y, tag];\n    vec3.transformMat3(vector, vector, matrix);\n    return vector;\n  };\n  /**\n   * 将坐标点进行矩阵逆变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回矩阵逆变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.invertMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var inverted = mat3.invert([], matrix);\n    var vector = [x, y, tag];\n    vec3.transformMat3(vector, vector, inverted);\n    return vector;\n  };\n  /**\n   * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n   * @param point 归一化的坐标点\n   * @return      返回进行矩阵变换后的画布坐标\n   */\n\n\n  Coordinate.prototype.convert = function (point) {\n    var _a = this.convertPoint(point),\n        x = _a.x,\n        y = _a.y;\n\n    var vector = this.applyMatrix(x, y, 1);\n    return {\n      x: vector[0],\n      y: vector[1]\n    };\n  };\n  /**\n   * 将进行过矩阵变换画布坐标转换为归一化坐标\n   * @param point 画布坐标\n   * @return      返回归一化的坐标点\n   */\n\n\n  Coordinate.prototype.invert = function (point) {\n    var vector = this.invertMatrix(point.x, point.y, 1);\n    return this.invertPoint({\n      x: vector[0],\n      y: vector[1]\n    });\n  };\n  /**\n   * 坐标系旋转变换\n   * @param  radian 旋转弧度\n   * @return        返回坐标系对象\n   */\n\n\n  Coordinate.prototype.rotate = function (radian) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.rotate(matrix, matrix, radian);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系反射变换\n   * @param dim 反射维度\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.reflect = function (dim) {\n    if (dim === 'x') {\n      this.isReflectX = !this.isReflectX;\n    } else {\n      this.isReflectY = !this.isReflectY;\n    }\n\n    return this;\n  };\n  /**\n   * 坐标系比例变换\n   * @param s1 x 方向缩放比例\n   * @param s2 y 方向缩放比例\n   * @return     返回坐标系对象\n   */\n\n\n  Coordinate.prototype.scale = function (s1, s2) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.scale(matrix, matrix, [s1, s2]);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系平移变换\n   * @param x x 方向平移像素\n   * @param y y 方向平移像素\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.translate = function (x, y) {\n    var matrix = this.matrix;\n    mat3.translate(matrix, matrix, [x, y]);\n    return this;\n  };\n  /**\n   * 将坐标系 x y 两个轴进行转置\n   * @return 返回坐标系对象\n   */\n\n\n  Coordinate.prototype.transpose = function () {\n    this.isTransposed = !this.isTransposed;\n    return this;\n  };\n\n  Coordinate.prototype.getCenter = function () {\n    return this.center;\n  };\n\n  Coordinate.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Coordinate.prototype.getHeight = function () {\n    return this.height;\n  };\n  /**\n   * whether has reflect\n   * @param dim\n   */\n\n\n  Coordinate.prototype.isReflect = function (dim) {\n    return dim === 'x' ? this.isReflectX : this.isReflectY;\n  };\n\n  return Coordinate;\n}();\n\nexport default Coordinate;","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * 笛卡尔坐标系\n * https://www.zhihu.com/question/20665303\n */\n\nvar Cartesian =\n/** @class */\nfunction (_super) {\n  __extends(Cartesian, _super);\n\n  function Cartesian(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isRect = true;\n    _this.type = 'cartesian';\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Cartesian.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var start = this.start;\n    var end = this.end;\n    this.x = {\n      start: start.x,\n      end: end.x\n    };\n    this.y = {\n      start: start.y,\n      end: end.y\n    };\n  };\n\n  Cartesian.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y; // 交换\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: this.convertDim(x, 'x'),\n      y: this.convertDim(y, 'y')\n    };\n  };\n\n  Cartesian.prototype.invertPoint = function (point) {\n    var _a;\n\n    var x = this.invertDim(point.x, 'x');\n    var y = this.invertDim(point.y, 'y');\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Cartesian;\n}(Coordinate);\n\nexport default Cartesian;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * 螺旋坐标系\n */\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isHelix = true;\n    _this.type = 'helix';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? 1.25 * Math.PI : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? 7.25 * Math.PI : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Helix.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // 螺线圈数\n\n    var maxRadius = Math.min(this.width, this.height) / 2;\n\n    if (this.radius && this.radius >= 0 && this.radius <= 1) {\n      maxRadius = maxRadius * this.radius;\n    }\n\n    this.d = Math.floor(maxRadius * (1 - this.innerRadius) / index);\n    this.a = this.d / (Math.PI * 2); // 螺线系数\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * maxRadius,\n      end: this.innerRadius * maxRadius + this.d * 0.99\n    };\n  };\n  /**\n   * 将百分比数据变成屏幕坐标\n   * @param point 归一化的点坐标\n   * @return      返回对应的屏幕坐标\n   */\n\n\n  Helix.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    var thi = this.convertDim(x, 'x');\n    var r = this.a * thi;\n    var newY = this.convertDim(y, 'y');\n    return {\n      x: this.center.x + Math.cos(thi) * (r + newY),\n      y: this.center.y + Math.sin(thi) * (r + newY)\n    };\n  };\n  /**\n   * 将屏幕坐标点还原成百分比数据\n   * @param point 屏幕坐标\n   * @return      返回对应的归一化后的数据\n   */\n\n\n  Helix.prototype.invertPoint = function (point) {\n    var _a;\n\n    var d = this.d + this.y.start;\n    var v = vec2.subtract([], [point.x, point.y], [this.center.x, this.center.y]);\n    var thi = vec2.angleTo(v, [1, 0], true);\n    var rMin = thi * this.a; // 坐标与原点的连线在第一圈上的交点，最小r值\n\n    if (vec2.length(v) < rMin) {\n      // 坐标与原点的连线不可能小于最小r值，但不排除因小数计算产生的略小于rMin的情况\n      rMin = vec2.length(v);\n    }\n\n    var index = Math.floor((vec2.length(v) - rMin) / d); // 当前点位于第index圈\n\n    thi = 2 * index * Math.PI + thi;\n    var r = this.a * thi;\n    var newY = vec2.length(v) - r;\n    newY = isNumberEqual(newY, 0) ? 0 : newY;\n    var x = this.invertDim(thi, 'x');\n    var y = this.invertDim(newY, 'y');\n    x = isNumberEqual(x, 0) ? 0 : x;\n    y = isNumberEqual(y, 0) ? 0 : y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Helix;\n}(Coordinate);\n\nexport default Helix;","import { __extends } from \"tslib\";\nimport { mat3, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n\nvar Polar =\n/** @class */\nfunction (_super) {\n  __extends(Polar, _super);\n\n  function Polar(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isPolar = true;\n    _this.type = 'polar';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? -Math.PI / 2 : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? Math.PI * 3 / 2 : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Polar.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    while (this.endAngle < this.startAngle) {\n      this.endAngle += Math.PI * 2;\n    }\n\n    var oneBox = this.getOneBox();\n    var oneWidth = oneBox.maxX - oneBox.minX;\n    var oneHeight = oneBox.maxY - oneBox.minY;\n    var left = Math.abs(oneBox.minX) / oneWidth;\n    var top = Math.abs(oneBox.minY) / oneHeight;\n    var maxRadius;\n\n    if (this.height / oneHeight > this.width / oneWidth) {\n      // width 为主\n      maxRadius = this.width / oneWidth;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * this.width,\n        y: this.center.y - (0.5 - top) * maxRadius * oneHeight\n      };\n    } else {\n      // height 为主\n      maxRadius = this.height / oneHeight;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n        y: this.center.y - (0.5 - top) * this.height\n      };\n    }\n\n    this.polarRadius = this.radius;\n\n    if (!this.radius) {\n      this.polarRadius = maxRadius;\n    } else if (this.radius > 0 && this.radius <= 1) {\n      this.polarRadius = maxRadius * this.radius;\n    } else if (this.radius <= 0 || this.radius > maxRadius) {\n      this.polarRadius = maxRadius;\n    }\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * this.polarRadius,\n      end: this.polarRadius\n    };\n  };\n\n  Polar.prototype.getRadius = function () {\n    return this.polarRadius;\n  };\n\n  Polar.prototype.convertPoint = function (point) {\n    var _a;\n\n    var center = this.getCenter();\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    x = this.convertDim(x, 'x');\n    y = this.convertDim(y, 'y');\n    return {\n      x: center.x + Math.cos(x) * y,\n      y: center.y + Math.sin(x) * y\n    };\n  };\n\n  Polar.prototype.invertPoint = function (point) {\n    var center = this.getCenter();\n    var vPoint = [point.x - center.x, point.y - center.y];\n    var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    mat3.rotate(m, m, this.startAngle);\n    var vStart = [1, 0, 0];\n    vec3.transformMat3(vStart, vStart, m);\n    vStart = [vStart[0], vStart[1]];\n    var angle = vec2.angleTo(vStart, vPoint, this.endAngle < this.startAngle);\n\n    if (isNumberEqual(angle, Math.PI * 2)) {\n      angle = 0;\n    }\n\n    var radius = vec2.length(vPoint);\n    var xPercent = angle / (this.endAngle - this.startAngle);\n    xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n    var yPercent = this.invertDim(radius, 'y');\n    var rst = {\n      x: 0,\n      y: 0\n    };\n    rst.x = this.isTransposed ? yPercent : xPercent;\n    rst.y = this.isTransposed ? xPercent : yPercent;\n    return rst;\n  };\n\n  Polar.prototype.getCenter = function () {\n    return this.circleCenter;\n  };\n\n  Polar.prototype.getOneBox = function () {\n    var startAngle = this.startAngle;\n    var endAngle = this.endAngle;\n\n    if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n      return {\n        minX: -1,\n        maxX: 1,\n        minY: -1,\n        maxY: 1\n      };\n    }\n\n    var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n    var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n\n    for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n      xs.push(Math.cos(i));\n      ys.push(Math.sin(i));\n    }\n\n    return {\n      minX: Math.min.apply(Math, xs),\n      maxX: Math.max.apply(Math, xs),\n      minY: Math.min.apply(Math, ys),\n      maxY: Math.max.apply(Math, ys)\n    };\n  };\n\n  return Polar;\n}(Coordinate);\n\nexport default Polar;","// 所有的 Coordinate map\nvar COORDINATE_MAP = {};\n/**\n * 通过类型获得 coordinate 类\n * @param type\n */\n\nexport var getCoordinate = function getCoordinate(type) {\n  return COORDINATE_MAP[type.toLowerCase()];\n};\n/**\n * 注册 coordinate 类\n * @param type\n * @param ctor\n */\n\nexport var registerCoordinate = function registerCoordinate(type, ctor) {\n  // 存储到 map 中\n  COORDINATE_MAP[type.toLowerCase()] = ctor;\n};","import Coordinate from './coord/base';\nimport Cartesian from './coord/cartesian';\nimport Helix from './coord/helix';\nimport Polar from './coord/polar';\nimport { getCoordinate, registerCoordinate } from './factory';\nregisterCoordinate('rect', Cartesian);\nregisterCoordinate('cartesian', Cartesian);\nregisterCoordinate('polar', Polar);\nregisterCoordinate('helix', Helix);\nexport { getCoordinate, registerCoordinate, Coordinate };","/**\n * @description scale 的控制器\n */\nimport * as _ from '@antv/util';\nimport { getScale } from '../../dependents'; // tslint:disable-next-line\n\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nvar Types;\n\n(function (Types) {\n  Types[\"Linear\"] = \"linear\";\n  Types[\"Cat\"] = \"cat\";\n  Types[\"Time\"] = \"time\";\n})(Types || (Types = {}));\n\nvar ScaleController =\n/** @class */\nfunction () {\n  function ScaleController(cfg) {\n    this.defs = {}; // Scale 配置项信息\n\n    this.defs = cfg;\n  }\n\n  ScaleController.prototype.createScale = function (field, data) {\n    var def = this.defs[field];\n    var scale; // 如果数据为空直接返回常量度量\n\n    if (!data || !data.length) {\n      if (def && def.type) {\n        var Scale = getScale(def.type);\n        scale = new Scale(def);\n      } else {\n        var Identity = getScale('identity');\n        scale = new Identity({\n          field: field.toString(),\n          values: [field]\n        });\n      }\n\n      return scale;\n    }\n\n    var firstValue = _.firstValue(data, field);\n\n    if (_.isNumber(field) || _.isNil(firstValue) && !def) {\n      var Identity = getScale('identity');\n      scale = new Identity({\n        field: field.toString(),\n        values: [field]\n      });\n    } else {\n      // 如果已经定义过这个度量\n      var type = _.get(def, 'type', this._getDefaultType(field, data));\n\n      var cfg = this._getScaleCfg(type, field, data);\n\n      if (def) {\n        _.mix(cfg, def);\n      }\n\n      var Scale = getScale(type);\n      scale = new Scale(cfg);\n    }\n\n    return scale;\n  };\n\n  ScaleController.prototype._getDefaultType = function (field, data) {\n    var type = Types.Linear;\n\n    var value = _.firstValue(data, field);\n\n    if (_.isArray(value)) {\n      value = value[0];\n    }\n\n    if (dateRegex.test(value)) {\n      type = Types.Time;\n    } else if (_.isString(value)) {\n      type = Types.Cat;\n    }\n\n    return type;\n  };\n\n  ScaleController.prototype._getScaleCfg = function (type, field, data) {\n    var values = _.valuesOfKey(data, field);\n\n    var cfg = {\n      field: field,\n      values: values\n    };\n\n    if (type !== 'cat' && type !== 'timeCat' && type !== 'time') {\n      var _a = _.getRange(values),\n          min = _a.min,\n          max = _a.max;\n\n      cfg.min = min;\n      cfg.max = max;\n      cfg.nice = true;\n    }\n\n    if (type === 'time') {\n      cfg.nice = false;\n    }\n\n    return cfg;\n  };\n\n  return ScaleController;\n}();\n\nexport default ScaleController;","import { __assign } from \"tslib\";\n/**\n * @description coord 的控制器\n */\n\nimport * as _ from '@antv/util';\nimport { getCoordinate } from '../../dependents';\n\nvar CoordController =\n/** @class */\nfunction () {\n  function CoordController(option) {\n    if (option === void 0) {\n      option = {};\n    }\n\n    this.type = 'rect';\n    this.actions = [];\n    this.cfg = {};\n    this.options = {};\n\n    _.mix(this, option);\n\n    this.options = option; // ugly！！！通过浅拷贝 view.get('options').coord 来动态更改该属性值，见 view.ts#L917\n  }\n\n  CoordController.prototype.reset = function (option) {\n    this.type = option.type || 'rect';\n    this.actions = option.actions || [];\n    this.cfg = option.cfg; // 更新 view.get('options').coord，见view.ts#L917\n\n    this.options.type = this.type;\n    this.options.actions = this.actions;\n    this.options.cfg = this.cfg;\n    return this;\n  };\n  /**\n   * 创建坐标系对象\n   * @param  {Object} start 坐标系起始点\n   * @param  {Object} end   坐标系结束点\n   * @return {Function} 坐标系的构造函数\n   */\n\n\n  CoordController.prototype.createCoord = function (start, end) {\n    var type = this.type;\n    var cfg = this.cfg;\n    var C; // 构造函数\n\n    var coord;\n\n    var coordCfg = __assign({\n      start: start,\n      end: end\n    }, cfg);\n\n    if (type === 'theta') {\n      // definition of theta coord\n      C = getCoordinate('polar');\n\n      if (!this._hasAction('transpose')) {\n        this.transpose(); // 极坐标，同时transpose\n      }\n\n      coord = new C(coordCfg);\n      coord.type = type;\n    } else {\n      C = getCoordinate(type);\n      coord = new C(coordCfg);\n    }\n\n    this._execActions(coord);\n\n    return coord;\n  };\n  /**\n   * 围绕坐标系中心点旋转对应的角度\n   * @param angle 旋转角度\n   */\n\n\n  CoordController.prototype.rotate = function (angle) {\n    var _angle = angle * Math.PI / 180;\n\n    this.actions.push(['rotate', _angle]);\n    return this;\n  };\n  /**\n   * 将坐标系沿 x 方向或者沿 y 轴方向进行镜像映射\n   * @param dim 镜像方向，可选值 'x' 和 'y'，默认为 'x'\n   */\n\n\n  CoordController.prototype.reflect = function (dim) {\n    if (dim === void 0) {\n      dim = 'y';\n    }\n\n    this.actions.push(['reflect', dim]);\n    return this;\n  };\n  /**\n   * 根据坐标系中心点进行相应的缩放\n   * @param sx x 轴缩放值\n   * @param sy y 轴缩放值\n   */\n\n\n  CoordController.prototype.scale = function (sx, sy) {\n    this.actions.push(['scale', sx, sy]);\n    return this;\n  };\n  /**\n   * x，y 轴交换\n   */\n\n\n  CoordController.prototype.transpose = function () {\n    this.actions.push(['transpose']);\n    return this;\n  };\n\n  CoordController.prototype._execActions = function (coord) {\n    _.each(this.actions, function (action) {\n      var m = action[0];\n      coord[m](action[1], action[2]);\n    });\n  };\n\n  CoordController.prototype._hasAction = function (actionName) {\n    var actions = this.actions;\n    var rst = false;\n\n    _.each(actions, function (action) {\n      if (actionName === action[0]) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  return CoordController;\n}();\n\nexport default CoordController;","import { __assign, __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  __extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = __assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(EventEmitter);\n\nexport { Guide };\nexport default Guide;","import * as _ from '@antv/util';\n\nvar Greedy =\n/** @class */\nfunction () {\n  function Greedy(cfg) {\n    this.bitmap = {};\n    this.xGap = 1;\n    this.yGap = 8; // optimizing for text overlapping detection: use a min text height as gap\n\n    if (cfg) {\n      _.mix(this, cfg);\n    }\n  }\n\n  Greedy.prototype.hasGap = function (bbox) {\n    var hasGap = true;\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY);\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n\n      if (i === minX || i === maxX) {\n        for (var j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n\n    return hasGap;\n  };\n\n  Greedy.prototype.fillGap = function (bbox) {\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY); // filling grid\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n\n    for (var i = minX; i <= maxX; i += this.xGap) {\n      for (var j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n\n      bitmap[i][maxY] = true;\n    } // filling y edges\n\n\n    if (this.yGap !== 1) {\n      for (var i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    } // filling x edges\n\n\n    if (this.xGap !== 1) {\n      for (var i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  };\n\n  Greedy.prototype.destroy = function () {\n    this.bitmap = {};\n  };\n\n  return Greedy;\n}();\n\nexport default Greedy;","import Greedy from './util/greedy';\n/*\n   *  根据如下规则尝试放置label\n   *                5\n   *        ------------------\n   *        |    1   |   0   |\n   *    8   —————————4————————   7\n   *        |    2   |   3   |\n   *        ——————————————————\n   *                 6\n   */\n\nfunction adjustLabelPosition(label, x, y, index) {\n  var bbox = label.getBBox();\n  var width = bbox.width;\n  var height = bbox.height;\n  var attrs = {\n    x: x,\n    y: y,\n    textAlign: 'center'\n  };\n\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n\n    default:\n      break;\n  }\n\n  label.attr(attrs);\n  return label.getBBox();\n}\n\nexport default function (labels) {\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n  var bbox;\n  var label;\n  var x;\n  var y;\n  var canFill;\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n    x = label.attr('x');\n    y = label.attr('y');\n    canFill = false;\n\n    for (var i_1 = 0; i_1 <= 8; i_1++) {\n      bbox = adjustLabelPosition(label, x, y, i_1);\n\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n\n    if (!canFill) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","import Greedy from './util/greedy';\nvar MAX_TIMES = 100;\n\nfunction spiralFill(label, greedy, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var dt = -1;\n  var x = label.attr('x');\n  var y = label.attr('y');\n  var bbox = label.getBBox();\n  var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  var dxdy;\n  var t = -dt;\n  var dx = 0;\n  var dy = 0;\n\n  var f = function f(t) {\n    var nt = t * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n\n  var canFill = false;\n  var times = 0;\n  var accessedCache = {};\n\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f(t += dt);\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n\n    if (!dx && !dy || accessedCache[dx + \"-\" + dy]) {\n      continue;\n    }\n\n    label.attr({\n      x: x + dx,\n      y: y + dy\n    });\n\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n\n    times++;\n\n    if (greedy.hasGap(label.getBBox())) {\n      greedy.fillGap(label.getBBox());\n      canFill = true;\n      accessedCache[dx + \"-\" + dy] = true;\n      break;\n    }\n  }\n\n  return canFill;\n}\n\nexport default function (labels, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var label;\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n\n    if (!spiralFill(label, greedy, maxTimes)) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","var _a;\n\nimport { FONT_FAMILY } from '../const'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexport default (_a = {}, // css style for tooltip\n_a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n  position: 'absolute',\n  display: 'none',\n  // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n  // whiteSpace: 'nowrap',\n  zIndex: 8,\n  transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' + 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' + 'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  boxShadow: '0px 0px 10px #aeaeae',\n  borderRadius: '3px',\n  color: 'rgb(87, 87, 87)',\n  fontSize: '12px',\n  fontFamily: FONT_FAMILY,\n  lineHeight: '20px',\n  padding: '10px 10px 6px 10px'\n}, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n  margin: 0,\n  listStyleType: 'none',\n  padding: 0\n}, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n  width: '5px',\n  height: '5px',\n  borderRadius: '50%',\n  display: 'inline-block',\n  marginRight: '8px'\n}, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n  display: 'inline-block',\n  float: 'right',\n  marginLeft: '30px'\n}, _a);","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport bboxAdjust from './adjust/bbox';\nimport positionAdjust from './adjust/position';\nimport spirialAdjust from './adjust/spiral';\nvar LAYOUTS = {\n  scatter: positionAdjust,\n  map: spirialAdjust,\n  treemap: bboxAdjust\n};\n\nvar Label =\n/** @class */\nfunction (_super) {\n  __extends(Label, _super);\n\n  function Label(cfg) {\n    return _super.call(this, __assign({\n      name: 'label',\n      type: 'default',\n      // html 渲染时用的容器的模板，必须存在 class = \"g-labels\"\n      containerTpl: '<div class=\"g-labels\" style=\"position:absolute;top:0;left:0;\"></div>',\n      // html 渲染时单个 label 的模板，必须存在 class = \"g-label\"\n      itemTpl: '<div class=\"g-label\" style=\"position:absolute;\">{text}</div>',\n      items: null,\n      lineGroup: null,\n      shapes: null,\n      useHtml: false\n    }, cfg)) || this;\n  }\n  /**\n   * label绘制全过程\n   */\n\n\n  Label.prototype.render = function () {\n    this.clear();\n\n    this._init();\n\n    this.emit('beforerender');\n    this.draw();\n    this.emit('afterrender');\n  };\n  /**\n   * 更新 label\n   * 1. 将items与group中的children对比，更新/新增/删除labels\n   * 2. labels布局优化\n   * 3. 画label连接线\n   * 4. 绘制到画布\n   */\n\n\n  Label.prototype.draw = function (canvasDraw) {\n    if (canvasDraw === void 0) {\n      canvasDraw = true;\n    }\n\n    this._dryDraw();\n\n    canvasDraw && this.get('canvas').draw();\n  };\n  /*\n   * 清空label容器\n   */\n\n\n  Label.prototype.clear = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.clear();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /**\n   * 销毁group\n   */\n\n\n  Label.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.destroy();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /*\n   * 更新label\n   * oldLabel shape或label dom\n   * newLabel label data\n   * index items中的下标\n   */\n\n\n  Label.prototype.changeLabel = function (oldLabel, newLabel) {\n    if (!oldLabel) {\n      return;\n    }\n\n    if (oldLabel.tagName) {\n      var node = this._createDom(newLabel);\n\n      oldLabel.innerHTML = node.innerHTML;\n\n      this._setCustomPosition(newLabel, oldLabel);\n    } else {\n      oldLabel.id = newLabel.id;\n      oldLabel.attr('text', newLabel.text);\n\n      if (oldLabel.attr('x') !== newLabel.x || oldLabel.attr('y') !== newLabel.y) {\n        oldLabel.resetMatrix();\n\n        if (newLabel.textStyle.rotate) {\n          oldLabel.rotateAtStart(newLabel.textStyle.rotate);\n          delete newLabel.textStyle.rotate;\n        }\n\n        oldLabel.attr(newLabel);\n      }\n    }\n  };\n  /**\n   * 显示label\n   */\n\n\n  Label.prototype.show = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.show();\n    }\n\n    if (container) {\n      container.style.opacity = 1;\n    }\n  };\n  /**\n   * 隐藏label\n   */\n\n\n  Label.prototype.hide = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.hide();\n    }\n\n    if (container) {\n      container.style.opacity = 0;\n    }\n  };\n  /**\n   * 画label连接线\n   */\n\n\n  Label.prototype.drawLines = function () {\n    var _this = this;\n\n    var lineGroup = this.get('lineGroup');\n\n    if (!lineGroup || lineGroup.destroyed) {\n      lineGroup = this.get('group').addGroup();\n      this.set('lineGroup', lineGroup);\n    } else {\n      lineGroup.clear();\n    }\n\n    Util.each(this.get('items'), function (label) {\n      _this._lineToLabel(label, lineGroup);\n    });\n  };\n\n  Label.prototype._lineToLabel = function (label, lineGroup) {\n    if (!label.labelLine) {\n      // labelLine: null | false，关闭 label 对应的 labelLine\n      return;\n    }\n\n    var lineStyle = Util.isBoolean(label.labelLine) ? {} : label.labelLine; // 兼容 labelLine: true，此时使用默认的样式\n\n    var capture = typeof label.capture === 'undefined' ? this.get('capture') : label.capture;\n    var path = lineStyle.path;\n\n    if (path && Util.isFunction(lineStyle.path)) {\n      path = lineStyle.path(label);\n    }\n\n    if (!path) {\n      var start = label.start;\n      path = [['M', start.x, start.y], ['L', label.x, label.y]];\n    }\n\n    var stroke = label.color;\n\n    if (!stroke) {\n      if (label.textStyle && label.textStyle.fill) {\n        stroke = label.textStyle.fill;\n      } else {\n        stroke = '#000';\n      }\n    }\n\n    var lineShape = lineGroup.addShape('path', {\n      capture: capture,\n      attrs: Util.mix({\n        path: path,\n        stroke: stroke,\n        fill: null\n      }, lineStyle)\n    }); // label 对应线的动画关闭\n\n    lineShape.name = this.get('name'); // generate labelLine id according to label id\n\n    lineShape.id = label.id && label.id.replace('glabel', 'glabelline');\n    lineShape.set('coord', this.get('coord'));\n  }; // 根据type对label布局\n\n\n  Label.prototype._adjustLabels = function () {\n    var type = this.get('type');\n    var labels = this.getLabels();\n    var shapes = this.get('shapes');\n    var layout = LAYOUTS[type];\n\n    if (!layout) {\n      return;\n    }\n\n    layout(labels, shapes);\n  };\n  /**\n   * 获取当前所有label实例\n   * @return {Array} 当前label实例\n   */\n\n\n  Label.prototype.getLabels = function () {\n    var container = this.get('container');\n\n    if (container) {\n      return Util.toArray(container.childNodes);\n    }\n\n    var children = this.get('group').get('children');\n    return Util.filter(children, function (child) {\n      return child.isShape;\n    });\n  }; // 分html dom和G shape两种情况生成label实例\n\n\n  Label.prototype._createText = function (oldcfg) {\n    var cfg = oldcfg;\n    var container = this.get('container');\n    var capture = typeof cfg.capture === 'undefined' ? this.get('capture') : cfg.capture;\n    var labelShape;\n\n    if (cfg.useHtml || cfg.htmlTemplate) {\n      if (!container) {\n        container = this._initHtmlContainer();\n      }\n\n      var node = this._createDom(cfg);\n\n      container.appendChild(node);\n\n      this._setCustomPosition(cfg, node);\n    } else {\n      var name_1 = this.get('name');\n      var origin_1 = cfg.origin;\n      var group = this.get('group');\n      delete cfg.origin; // 临时解决，否则影响动画\n\n      var rotate = cfg.rotate; // textStyle中的rotate虽然可以正常画出，但是在做动画的时候可能会导致动画异常。移出，在定义好shape后通过transform实现效果。\n\n      if (cfg.textStyle) {\n        if (cfg.textStyle.rotate) {\n          rotate = cfg.textStyle.rotate;\n          delete cfg.textStyle.rotate;\n        }\n\n        cfg = Util.mix({\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          text: cfg.text\n        }, cfg.textStyle);\n      }\n\n      labelShape = group.addShape('text', {\n        capture: capture,\n        attrs: cfg\n      });\n\n      if (rotate) {\n        // rotate是用角度定义的，转换为弧度\n        if (Math.abs(rotate) > Math.PI * 2) {\n          rotate = rotate / 180 * Math.PI;\n        }\n\n        labelShape.transform([['t', -cfg.x, -cfg.y], ['r', rotate], ['t', cfg.x, cfg.y]]);\n      }\n\n      labelShape.setSilent('origin', origin_1 || cfg);\n      labelShape.name = name_1; // 用于事件标注\n\n      this.get('appendInfo') && labelShape.setSilent('appendInfo', this.get('appendInfo'));\n      return labelShape;\n    }\n  };\n\n  Label.prototype._initHtmlContainer = function () {\n    var container = this.get('container');\n\n    if (!container) {\n      var containerTpl = this.get('containerTpl');\n      var wrapper = this.get('canvas').get('el').parentNode;\n      container = domUtil.createDom(containerTpl);\n      wrapper.style.position = 'relative';\n      wrapper.appendChild(container);\n      this.set('container', container);\n    }\n\n    return container;\n  };\n\n  Label.prototype._createDom = function (cfg) {\n    var itemTpl = this.get('itemTpl');\n    var str = Util.substitute(itemTpl, {\n      text: cfg.text\n    });\n    return domUtil.createDom(str);\n  }; // 根据文本对齐方式确定dom位置\n\n\n  Label.prototype._setCustomPosition = function (cfg, htmlDom) {\n    var textAlign = cfg.textAlign || 'left';\n    var top = cfg.y;\n    var left = cfg.x;\n    var width = domUtil.getOuterWidth(htmlDom);\n    var height = domUtil.getOuterHeight(htmlDom);\n    top = top - height / 2;\n\n    if (textAlign === 'center') {\n      left = left - width / 2;\n    } else if (textAlign === 'right') {\n      left = left - width;\n    }\n\n    htmlDom.style.top = parseInt(top, 10) + \"px\";\n    htmlDom.style.left = parseInt(left, 10) + \"px\";\n  }; // label 容器初始化\n\n\n  Label.prototype._init = function () {\n    if (!this.get('group')) {\n      var group = this.get('canvas').addGroup({\n        id: 'label-group'\n      });\n      this.set('group', group);\n    }\n  };\n\n  Label.prototype._dryDraw = function () {\n    var _this = this;\n\n    var items = this.get('items');\n    var children = this.getLabels();\n    var count = children.length;\n    Util.each(items, function (item, index) {\n      if (index < count) {\n        var label = children[index];\n\n        _this.changeLabel(label, item);\n      } else {\n        var labelShape = _this._createText(item);\n\n        if (labelShape) {\n          labelShape.id = item.id;\n          labelShape.set('coord', item.coord);\n        }\n      }\n    });\n\n    for (var i = count - 1; i >= items.length; i -= 1) {\n      children[i].remove();\n    }\n\n    this._adjustLabels();\n\n    this.drawLines();\n  };\n\n  return Label;\n}(Guide);\n\nexport default Label;","export default (function (labels, shapes) {\n  var labelBBox;\n  var shapeBBox;\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    labelBBox = labels[i].getBBox();\n    shapeBBox = shapes[i].getBBox();\n\n    if (labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height) {\n      toBeRemoved.push(labels[i]);\n    } // FIXME this is not going to be true\n    // } else if (labelBBox.width * labelBBox.height > shapeBBox.width * shapeBBox.height) {\n    //   toBeRemoved.push(labels[i]);\n    // }\n\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n});","import Label from './base';\nexport default Label;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip(cfg) {\n    return _super.call(this, __assign({\n      /**\n       * 右下角坐标\n       */\n      x: 0,\n\n      /**\n       * y 右下角坐标\n       */\n      y: 0,\n\n      /**\n       * tooltip 记录项\n       */\n      items: null,\n\n      /**\n       * tooltip 标题\n       * @type {Array}\n       */\n      titleContent: null,\n\n      /**\n       * 是否展示 title\n       * @type {Boolean}\n       */\n      showTitle: true,\n\n      /**\n       * 视图范围\n       * @type {Object}\n       */\n      panelRange: null,\n\n      /**\n       * 将 tooltip 展示在指定区域内\n       * @type {Boolean}\n       */\n      inPanel: true,\n\n      /**\n       * tooltip 辅助线配置\n       * @type {Object}\n       */\n      crosshairs: null\n    }, cfg)) || this;\n  }\n\n  Tooltip.prototype.isContentChange = function (title, items) {\n    var titleContent = this.get('titleContent');\n    var lastItems = this.get('items');\n    var isChanged = !(title === titleContent && lastItems.length === items.length);\n\n    if (!isChanged) {\n      Util.each(items, function (item, index) {\n        var preItem = lastItems[index];\n        var keys = Object.keys(item);\n        isChanged = keys.some(function (key) {\n          return !Util.isObject(item[key]) && item[key] !== preItem[key];\n        });\n\n        if (isChanged) {\n          return false;\n        }\n      });\n    }\n\n    return isChanged;\n  };\n\n  Tooltip.prototype.setContent = function (title, items) {\n    this.set('items', items);\n    this.set('titleContent', title);\n    this.render();\n    return this;\n  };\n\n  Tooltip.prototype.setPosition = function (x, y, target) {\n    this.set('x', x);\n    this.set('y', y);\n  };\n\n  Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n    var markerGroup = this.get('markerGroup');\n    var frontgroundGroup = this.get('frontgroundGroup');\n\n    if (!markerGroup) {\n      markerGroup = frontgroundGroup.addGroup({\n        zIndex: 1,\n        capture: false\n      });\n      this.set('markerGroup', markerGroup);\n    } else {\n      markerGroup.clear();\n    }\n\n    Util.each(markerItems, function (item) {\n      markerGroup.addShape('marker', {\n        color: item.color,\n        attrs: Util.mix({\n          fill: item.color,\n          symbol: 'circle',\n          shadowColor: item.color\n        }, markerCfg, {\n          x: item.x,\n          y: item.y\n        })\n      });\n    });\n    this.set('markerItems', markerItems);\n  };\n\n  Tooltip.prototype.clearMarkers = function () {\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.clear();\n  };\n\n  Tooltip.prototype.render = function () {};\n\n  Tooltip.prototype.clear = function () {};\n\n  Tooltip.prototype.show = function () {\n    this.set('visible', true);\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.set('visible', false);\n  };\n\n  return Tooltip;\n}(Guide);\n\nexport default Tooltip;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Crosshair =\n/** @class */\nfunction (_super) {\n  __extends(Crosshair, _super);\n\n  function Crosshair(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * crosshair的类型\n       */\n      type: null,\n\n      /**\n       * 画在哪层视图\n       */\n      plot: null,\n\n      /**\n       * x轴上，移动到位置的偏移量\n       */\n      panelRange: null,\n\n      /**\n       * 默认rect crosshair样式\n       * @type {Object}\n       */\n      rectStyle: {\n        fill: '#CCD6EC',\n        opacity: 0.3\n      },\n\n      /**\n       * 默认line crosshair样式\n       */\n      lineStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      isTransposed: false\n    }, cfg)) || this;\n\n    _this._init_();\n\n    _this.render();\n\n    return _this;\n  }\n\n  Crosshair.prototype._init_ = function () {\n    var plot = this.get('plot');\n    var group = plot.addGroup();\n    this.set('container', group);\n  };\n\n  Crosshair.prototype._addLineShape = function (attrs, type) {\n    var container = this.get('container');\n    var shape = container.addShape('line', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set(\"crossLineShape\" + type, shape);\n    return shape;\n  };\n\n  Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n      y1: 0,\n      x2: panelRange ? panelRange.br.x : 0,\n      y2: 0\n    }, style);\n\n    this._addLineShape(attrs, 'X');\n  };\n\n  Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: 0,\n      y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n      x2: 0,\n      y2: panelRange ? panelRange.tl.y : 0\n    }, style);\n\n    this._addLineShape(attrs, 'Y');\n  };\n\n  Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n    var style = Util.mix(this.get('rectStyle'), this.get('style'));\n    var container = this.get('container');\n    var attrs = Util.mix({\n      x: panelRange ? panelRange.tl.x : 0,\n      y: panelRange ? panelRange.tl.y : canvas.get('height'),\n      width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n      height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height')\n    }, style);\n    var shape = container.addShape('rect', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set('crosshairsRectShape', shape);\n    return shape;\n  };\n\n  Crosshair.prototype._updateRectShape = function (items) {\n    var offset;\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n    var isTransposed = this.get('isTransposed');\n    var firstItem = items[0];\n    var lastItem = items[items.length - 1];\n    var dim = isTransposed ? 'y' : 'x';\n    var attr = isTransposed ? 'height' : 'width';\n    var startDim = firstItem[dim];\n\n    if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n      startDim = lastItem[dim];\n    }\n\n    if (this.get('width')) {\n      // 用户定义了 width\n      crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n      crosshairsRectShape.attr(attr, this.get('width'));\n    } else {\n      if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n        // 直方图\n        var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n        crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n        crosshairsRectShape.attr(attr, width);\n      } else {\n        offset = 3 * firstItem.size / 4;\n        crosshairsRectShape.attr(dim, startDim - offset);\n\n        if (items.length === 1) {\n          crosshairsRectShape.attr(attr, 3 * firstItem.size / 2);\n        } else {\n          crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n        }\n      }\n    }\n  };\n\n  Crosshair.prototype.render = function () {\n    var canvas = this.get('canvas');\n    var panelRange = this.get('panelRange');\n    var isTransposed = this.get('isTransposed');\n    this.clear();\n\n    switch (this.get('type')) {\n      case 'x':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        break;\n\n      case 'y':\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'cross':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'rect':\n        this._renderBackground(canvas, panelRange);\n\n        break;\n\n      default:\n        isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n    }\n  };\n\n  Crosshair.prototype.show = function () {\n    var container = this.get('container'); // super.show();\n\n    container.show();\n  };\n\n  Crosshair.prototype.hide = function () {\n    var container = this.get('container'); // super.hide();\n\n    container.hide();\n  };\n\n  Crosshair.prototype.clear = function () {\n    var container = this.get('container');\n    this.set('crossLineShapeX', null);\n    this.set('crossLineShapeY', null);\n    this.set('crosshairsRectShape', null); // super.clear();\n\n    container.clear();\n  };\n\n  Crosshair.prototype.destroy = function () {\n    var container = this.get('container');\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  Crosshair.prototype.setPosition = function (x, y, items) {\n    var crossLineShapeX = this.get('crossLineShapeX');\n    var crossLineShapeY = this.get('crossLineShapeY');\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n\n    if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n      // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n      crossLineShapeY.move(x, 0);\n    }\n\n    if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n      crossLineShapeX.move(0, y);\n    }\n\n    if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n      this._updateRectShape(items);\n    }\n  };\n\n  return Crosshair;\n}(Guide);\n\nexport default Crosshair;","export var FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","var GAP = 20;\nexport function defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n  var newx = x;\n  var newy = y; // todo any 是 Shape\n\n  var rectWidth = 0;\n  var rectHeight = 0;\n  var gap = 20;\n\n  if (target) {\n    var rect = target.getBBox();\n    rectWidth = rect.width;\n    rectHeight = rect.height;\n    newx = rect.x;\n    newy = rect.y;\n    gap = 5;\n  }\n\n  switch (position) {\n    case 'inside':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'top':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy - containerHeight - gap;\n      break;\n\n    case 'left':\n      newx = newx - containerWidth - gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'right':\n      newx = newx + rectWidth + gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'bottom':\n    default:\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight + gap;\n      break;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width + GAP > viewWidth) {\n    newx -= width + GAP;\n    newx = newx < 0 ? 0 : newx;\n  } else if (newx + GAP < 0) {\n    newx = GAP;\n  } else {\n    newx += GAP;\n  }\n\n  if (newy + height + GAP > viewHeight) {\n    newy -= height + GAP;\n    newy = newy < 0 ? 0 : newy;\n  } else if (newy + GAP < 0) {\n    newy = GAP;\n  } else {\n    newy += GAP;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width > panelRange.tr.x) {\n    newx -= width + 2 * GAP;\n  }\n\n  if (newx < panelRange.tl.x) {\n    newx = panelRange.tl.x;\n  }\n\n  if (!onlyHorizontal) {\n    if (newy + height > panelRange.bl.y) {\n      newy -= height + 2 * GAP;\n    }\n\n    if (newy < panelRange.tl.y) {\n      newy = panelRange.tl.y;\n    }\n  }\n\n  return [newx, newy];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport TooltipTheme from './theme';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\n\nvar find = function find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n};\n\nvar mergeStyles = function mergeStyles(styles, cfg) {\n  // todo\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n};\n\nvar HtmlTooltip =\n/** @class */\nfunction (_super) {\n  __extends(HtmlTooltip, _super);\n\n  function HtmlTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * tooltip 容器模板\n       * @type {String}\n       */\n      containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\",\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    }, cfg)) || this;\n\n    var style = TooltipTheme;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  HtmlTooltip.prototype._init_ = function () {\n    var containerTpl = this.get('containerTpl');\n    var outterNode = this.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = domUtil.createDom(containerTpl);\n      }\n    } else {\n      container = this._getHtmlContent();\n    }\n\n    this.set('container', container);\n    domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n    outterNode.appendChild(container);\n    outterNode.style.position = 'relative';\n  };\n\n  HtmlTooltip.prototype.render = function () {\n    this.clear();\n\n    if (this.get('htmlContent')) {\n      var outterNode = this.get('canvas').get('el').parentNode;\n\n      var container = this._getHtmlContent();\n\n      outterNode.appendChild(container);\n      domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n      this.set('container', container);\n    } else {\n      this._renderTpl();\n    }\n  };\n\n  HtmlTooltip.prototype._renderTpl = function () {\n    var _this = this;\n\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var container = this.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = this.get('items');\n\n    if (titleDom && showTitle) {\n      domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(_this._addItem(item, index));\n      });\n    }\n  };\n\n  HtmlTooltip.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && this.get('htmlContent')) {\n      container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  HtmlTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var containerTpl = this.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HtmlTooltip.prototype._addItem = function (item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix( // @ts-ignore\n    {\n      // @ts-ignore\n      index: index\n    }, item));\n    var itemDOM = domUtil.createDom(itemDiv);\n    domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  HtmlTooltip.prototype._getHtmlContent = function () {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var html = htmlContent(title, items);\n    var ele;\n\n    if (Util.isElement(html)) {\n      ele = html;\n    } else {\n      ele = domUtil.createDom(html);\n    }\n\n    return ele;\n  };\n\n  HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo any 是 Shape\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + \"px\";\n      container.style.top = y + \"px\";\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(Tooltip);\n\nexport default HtmlTooltip;","import { __assign, __extends } from \"tslib\"; // @ts-ignore // todo 等 g ready 好后再去掉这行 ignore\n\nimport * as domUtil from '@antv/dom-util';\nimport * as G from '@antv/g';\nimport { transform } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\n\nvar CanvasTooltip =\n/** @class */\nfunction (_super) {\n  __extends(CanvasTooltip, _super);\n\n  function CanvasTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 默认背景板样式\n       * @type {Object}\n       */\n      backgroundStyle: {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 100,\n        fill: 'rgba(255, 255, 255, 0.9)',\n        radius: 4,\n        stroke: '#e2e2e2',\n        lineWidth: 1\n      },\n\n      /**\n       * 默认title样式\n       * @type {Object}\n       */\n      titleStyle: {\n        fontFamily: FONT_FAMILY,\n        text: '',\n        textBaseline: 'top',\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        lineHeight: 20,\n        padding: 20\n      },\n\n      /**\n       * 默认marker样式\n       * @type {Object}\n       */\n      markerStyle: {\n        radius: 4\n      },\n\n      /**\n       * 默认name样式\n       * @type {Object}\n       */\n      nameStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 8\n      },\n\n      /**\n       * 默认value样式\n       * @type {Object}\n       */\n      valueStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 30\n      },\n\n      /**\n       * 默认padding值\n       * @type {Object}\n       */\n      padding: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n\n      /**\n       * 默认item之间的gap\n       * @type {Number}\n       */\n      itemGap: 10,\n\n      /**\n       * 默认tooltip位置移动动画的时长\n       * @type {Number}\n       */\n      animationDuration: 200\n    }, cfg)) || this; // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = _this.get('frontgroundGroup');\n\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    }\n\n    return _this;\n  }\n\n  CanvasTooltip.prototype._init_ = function () {\n    var padding = this.get('padding');\n    var parent = this.get('frontgroundGroup'); // marker group\n\n    var markerGroup = parent.addGroup({\n      capture: false\n    });\n    this.set('markerGroup', markerGroup); // container\n\n    var container = parent.addGroup();\n    container.hide();\n    this.set('container', container); // board\n\n    var board = container.addShape('rect', {\n      attrs: Util.mix({}, this.get('backgroundStyle'))\n    });\n    this.set('board', board); // title\n\n    var titleStyle = this.get('titleStyle');\n\n    if (this.get('showTitle')) {\n      var titleShape = container.addShape('text', {\n        attrs: Util.mix({\n          x: padding.left,\n          y: padding.top\n        }, titleStyle)\n      });\n      this.set('titleShape', titleShape);\n      titleShape.name = 'tooltip-title';\n    } // items\n\n\n    var itemsGroup = container.addGroup();\n    itemsGroup.move(padding.left, padding.top + titleStyle.lineHeight + titleStyle.padding);\n    this.set('itemsGroup', itemsGroup);\n  };\n\n  CanvasTooltip.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var container = this.get('container');\n    var board = this.get('board');\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var items = this.get('items');\n    var padding = this.get('padding');\n\n    if (titleShape && showTitle) {\n      titleShape.attr('text', titleContent);\n    }\n\n    var itemGap = this.get('itemGap');\n    var x = 0;\n    var y = 0;\n    Util.each(items, function (item) {\n      var itemGroup = _this._addItem(item);\n\n      itemGroup.move(x, y);\n      itemsGroup.add(itemGroup);\n      var itemHeight = itemGroup.getBBox().height;\n      y += itemHeight + itemGap;\n    }); // update board based on bbox\n\n    var bbox = container.getBBox();\n    var width = bbox.width + padding.right;\n    var height = bbox.height + padding.bottom;\n    board.attr('width', width);\n    board.attr('height', height); // align value text to right\n\n    this._alignToRight(width);\n  };\n\n  CanvasTooltip.prototype.clear = function () {\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var board = this.get('board');\n\n    if (titleShape) {\n      titleShape.text = '';\n    }\n\n    itemsGroup.clear();\n    board.attr('width', 0);\n    board.attr('height', 0);\n  };\n\n  CanvasTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.show();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.hide();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  CanvasTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var bbox = container.getBBox();\n    var containerWidth = bbox.width;\n    var containerHeight = bbox.height;\n    var endx = x;\n    var endy = y;\n    var position;\n\n    if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var mat = transform(ulMatrix, [['t', x, y]]);\n    container.stopAnimate();\n    container.animate({\n      matrix: mat\n    }, this.get('animationDuration'));\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  CanvasTooltip.prototype._addItem = function (item) {\n    var group = new G.Group();\n    var markerRadius = this.get('markerStyle').radius; // marker\n\n    if (item.marker) {\n      // @ts-ignore\n      var markerAttrs = Util.mix({}, item.marker, {\n        x: item.marker.radius / 2,\n        y: 0\n      });\n      group.addShape('marker', {\n        attrs: markerAttrs\n      });\n      markerRadius = item.marker.radius;\n    } // name\n\n\n    var nameStyle = this.get('nameStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: markerRadius + nameStyle.padding,\n        y: 0,\n        text: item.name\n      }, nameStyle)\n    }); // value\n\n    var valueStyle = this.get('valueStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: group.getBBox().width + valueStyle.padding,\n        y: 0,\n        text: item.value\n      }, valueStyle)\n    });\n    return group;\n  };\n\n  CanvasTooltip.prototype._alignToRight = function (width) {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup');\n    var groups = itemsGroup.get('children');\n    Util.each(groups, function (g) {\n      // todo\n      var children = g.get('children');\n      var valueText = children[2];\n\n      if (valueText) {\n        var w = valueText.getBBox().width;\n        var x = width - w - _this.get('padding').right * 2;\n        valueText.attr('x', x);\n      }\n    });\n  };\n\n  return CanvasTooltip;\n}(Tooltip);\n\nexport default CanvasTooltip;","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n  // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n  var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  each(ts, function (t) {\n    switch (t[0]) {\n      case 't':\n        mat3.translate(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 's':\n        mat3.scale(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(matrix, matrix, t[1]);\n        break;\n\n      case 'm':\n        mat3.multiply(matrix, matrix, t[1]);\n        break;\n\n      default:\n        return false;\n    }\n  });\n  return matrix;\n});","/**\n * @description 坐标轴组件的主题样式\n */\nimport { FONT_FAMILY } from '../const';\nexport default {\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#595959',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    },\n    offset: 10,\n    offsetX: 0,\n    offsetY: 0\n  },\n  grid: {\n    lineWidth: 1,\n    stroke: '#C0D0E0'\n  }\n};","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport Label from '../label/base';\nimport Theme from './theme';\n\nvar Axis =\n/** @class */\nfunction (_super) {\n  __extends(Axis, _super);\n\n  function Axis(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'base',\n      id: null,\n      line: {\n        lineWidth: 1,\n        stroke: '#C0D0E0'\n      },\n      tickLine: {\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n        length: 5\n      },\n      subTickCount: 0,\n      subTickLine: null,\n      grid: null,\n      label: null,\n      title: null,\n      autoRotateLabel: true,\n      autoHideLabel: false,\n      autoRotateTitle: true,\n      gridType: 'line',\n      ticks: [],\n      labelItems: [],\n      gridPoints: []\n    }, cfg)) || this;\n\n    _this._processTicks();\n\n    return _this;\n  }\n\n  Axis.prototype.render = function () {\n    var grid = this.get('grid');\n    grid && this._renderGrid(); // 渲染坐标轴网格线\n\n    var line = this.get('line');\n    line && this._renderLine(); // 渲染坐标轴线\n\n    var tickLine = this.get('tickLine');\n    tickLine && this._renderTicks(); // 渲染坐标轴刻度线\n\n    var label = this.get('label');\n    label && this._renderLabels(); // 渲染坐标轴文本\n\n    var title = this.get('title');\n\n    if (title) {\n      // 渲染坐标轴标题\n      this.set('title', Util.deepMix({}, Theme.title, this.get('title')));\n      this.renderTitle();\n    }\n  };\n\n  Axis.prototype.destroy = function () {\n    if (!this.destroyed) {\n      _super.prototype.destroy.call(this);\n\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.remove();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.destroy();\n      var group = this.get('group');\n      group.destroy();\n      this.destroyed = true;\n    }\n  };\n\n  Axis.prototype.clear = function () {\n    var group = this.get('group');\n\n    if (!group.get('destroyed') && group.get('children').length) {\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.clear();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.clear(); // 再飞 mark: 这样就会将所有的 axis 实例中创建的 shapes 和 groups 清空\n      // 按照正常的逻辑，应该只负责清空当前实例创建的 shaps 和 groups\n\n      this.get('group').clear();\n    }\n  };\n  /**\n   * 解析 tick 文本\n   * @param tick tick 文本值\n   * @param index tick 对应的索引值\n   * @param length 所有 tick 的总长度\n   */\n\n\n  Axis.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / (length - 1)\n    };\n  };\n  /**\n   * 添加 labelItems\n   * @param tick 坐标轴刻度信息\n   * @param point 位置点信息\n   * @param index 对应的索引值\n   * @param tickCount 全部坐标轴刻度的个数\n   */\n\n\n  Axis.prototype.addLabel = function (tick, point, index, tickCount) {\n    var theme = this.get('theme') || {};\n    var label = this.get('label');\n    var labelCfg = label;\n\n    if (Util.isFunction(labelCfg)) {\n      // 如果用户定义的 label 属性是回调函数\n      var executedLabel = label(tick.text, index, tickCount);\n      labelCfg = executedLabel ? Util.deepMix({}, theme.label, executedLabel) : null;\n    }\n\n    if (labelCfg) {\n      labelCfg = Util.deepMix({\n        text: tick.text\n      }, Theme.label, labelCfg); // 支持formatter配置\n\n      if (labelCfg.formatter) {\n        labelCfg.text = labelCfg.formatter(tick.text, index, tickCount);\n      }\n\n      var vector = this.getSideVector(labelCfg.offset, point, index);\n      var newPoint = {\n        x: point.x + vector[0] + labelCfg.offsetX,\n        y: point.y + vector[1] + labelCfg.offsetY\n      };\n      labelCfg.x = newPoint.x;\n      labelCfg.y = newPoint.y;\n      labelCfg.point = newPoint;\n\n      if (!Util.isNil(point.rotate)) {\n        labelCfg.rotate = point.rotate;\n      }\n\n      if (!Util.isNil(labelCfg.rotate)) {\n        labelCfg.textAlign = labelCfg.rotate % 180 === 0 ? 'center' : labelCfg.rotate > 0 ? labelCfg.rotate % 360 < 180 ? 'left' : 'right' : labelCfg.rotate % 360 > -180 ? 'right' : 'left';\n        var offset = -6 * Math.abs(Math.sin(labelCfg.rotate * Math.PI / 180));\n        labelCfg.y += offset;\n        labelCfg.point.y += offset;\n      } else {\n        labelCfg.textAlign = this.getTextAnchor(vector);\n      }\n\n      if (labelCfg.useHtml) {\n        labelCfg.text = labelCfg.htmlTemplate; // TODO: 是否直接在 text 中定义 html 模板？\n      }\n\n      this.get('labelItems').push(labelCfg);\n    }\n  };\n  /**\n   * 根据向量值获取文本的对齐方式\n   * @param vector 文本的向量值\n   */\n\n\n  Axis.prototype.getTextAnchor = function (vector) {\n    var ratio = Math.abs(vector[1] / vector[0]);\n\n    if (ratio >= 1) {\n      // 上面或者下面\n      return 'center';\n    }\n\n    if (vector[0] > 0) {\n      // 右侧\n      return 'start';\n    }\n\n    return 'end'; // 左侧\n  };\n\n  Axis.prototype.getMaxLabelWidthOrHeight = function (labelRenderer, property) {\n    var labels = labelRenderer.getLabels();\n    var max = 0;\n    Util.each(labels, function (label) {\n      var bbox = label.getBBox();\n      var value = bbox[property];\n\n      if (max < value) {\n        max = value;\n      }\n    });\n    return max;\n  };\n  /**\n   * 自动旋转文本\n   * @override\n   */\n\n\n  Axis.prototype.autoRotateLabels = function () {};\n  /**\n   * 文本自动防遮罩\n   * @override\n   */\n\n\n  Axis.prototype.autoHideLabels = function () {};\n  /**\n   * 渲染标题\n   * @override\n   */\n\n\n  Axis.prototype.renderTitle = function () {}; // 渲染坐标轴线\n\n\n  Axis.prototype._renderLine = function () {\n    var path = this.getLinePath();\n\n    var lineCfg = __assign({\n      path: path\n    }, this.get('line'));\n\n    var group = this.get('group'); // 获取容器\n\n    var lineShape = group.addShape('path', {\n      attrs: lineCfg,\n      zIndex: 1\n    });\n    lineShape.name = 'axis-line';\n    this.get('appendInfo') && lineShape.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('lineShape', lineShape);\n  }; // 渲染坐标轴线\n\n\n  Axis.prototype._renderTicks = function () {\n    var tickLineCfg = this.get('tickLine');\n    var tickItems = this.get('tickItems');\n    var subTickItems = this.get('subTickItems');\n\n    if (tickItems && tickItems.length) {\n      this._addTickLine(tickItems, tickLineCfg);\n    }\n\n    if (subTickItems && subTickItems.length) {\n      var subTickLineCfg = this.get('subTickLine') || tickLineCfg;\n\n      this._addTickLine(subTickItems, subTickLineCfg);\n    }\n  };\n\n  Axis.prototype._renderGrid = function () {\n    var _this = this;\n\n    var coord = this.get('coord');\n    var appendInfo = this.get('appendInfo');\n    var group = this.get('group');\n    var gridPoints = this.get('gridPoints');\n    var grid = this.get('grid');\n    var gridType = this.get('gridType');\n    var theme = this.get('theme') || {};\n    var ticks = this.get('ticks');\n    var count = gridPoints.length;\n    var gridGroup = group.addGroup({\n      class: 'axis-grid',\n      zIndex: 0\n    }); // 这边也可以用 gridGroup.setZIndex(0); 但在顶上直接管理好声明的顺序更好一点\n    // 最好不要用 gridGroup.toBack(); toBack 适合 zIndex 相同的 silbings 排序\n\n    this.set('gridGroup', gridGroup); // 渲染网格线\n\n    var gridCfg = grid;\n    Util.each(gridPoints, function (subPoints, index) {\n      if (Util.isFunction(grid)) {\n        // grid 是回调函数\n        var tick = ticks[index];\n        var executedGrid = tick && grid(tick.text, index, count);\n        gridCfg = executedGrid ? Util.mix({}, theme.grid, executedGrid) : null;\n      }\n\n      if (gridCfg) {\n        var points = subPoints.points;\n        var path_1 = [];\n\n        if (gridType === 'arc') {\n          // 弧形\n          Util.each(points, function (point, idx) {\n            var radius = point.radius,\n                x = point.x,\n                y = point.y,\n                flag = point.flag;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['A', radius, radius, 0, 0, flag, x, y]);\n            }\n          });\n        } else {\n          Util.each(points, function (point, idx) {\n            var x = point.x,\n                y = point.y;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['L', x, y]);\n            }\n          });\n        }\n\n        var gridLineShape = gridGroup.addShape('path', {\n          attrs: Util.mix({\n            path: path_1\n          }, Theme.grid, gridCfg)\n        });\n        gridLineShape.name = 'axis-grid';\n        gridLineShape.id = subPoints.id;\n        gridLineShape.set('coord', coord);\n        appendInfo && gridLineShape.setSilent('appendInfo', gridLineShape);\n      }\n    }); // 用户设置了网格的交替填充色\n\n    var gridAlternateColor = this.get('gridAlternateColor');\n\n    if (gridAlternateColor) {\n      var preItem_1;\n      Util.each(gridPoints, function (item, index) {\n        if (preItem_1) {\n          _this._drawAlternativeBg(item, preItem_1, index);\n        }\n\n        preItem_1 = item;\n      });\n    }\n  };\n\n  Axis.prototype._renderLabels = function () {\n    var group = this.get('group');\n    var labelRenderer = new Label({\n      name: 'axis-label'\n    });\n    labelRenderer.set('coord', this.get('coord'));\n    labelRenderer.set('group', group.addGroup({\n      class: 'axis-labels'\n    }));\n    labelRenderer.set('canvas', this.get('canvas'));\n    labelRenderer.set('items', this.get('labelItems'));\n    labelRenderer.draw(false);\n    this.set('labelRenderer', labelRenderer);\n\n    if (this.get('autoRotateLabel')) {\n      this.autoRotateLabels();\n    }\n\n    if (this.get('autoHideLabel')) {\n      this.autoHideLabels();\n    }\n  }; // 生成 ticks\n\n\n  Axis.prototype._processTicks = function () {\n    var _this = this;\n\n    var labelCfg = this.get('label');\n    var subTickCount = this.get('subTickCount');\n    var tickLineCfg = this.get('tickLine');\n\n    var ticks = this._parseTicks(this.get('ticks'));\n\n    var tickCount = ticks.length;\n    Util.each(ticks, function (tick, index) {\n      var tickPoint = _this.getTickPoint(tick.value, index);\n\n      if (tickLineCfg) {\n        _this._addTickItem(index, tickPoint, tickLineCfg.length);\n      }\n\n      if (labelCfg) {\n        _this.addLabel(tick, tickPoint, index, tickCount);\n      }\n    });\n\n    if (subTickCount) {\n      // 如果有设置次级分点，添加次级tick\n      var subTickLineCfg_1 = this.get('subTickLine');\n      Util.each(ticks, function (tick, index) {\n        if (index > 0) {\n          var diff = tick.value - ticks[index - 1].value;\n          diff = diff / (_this.get('subTickCount') + 1);\n\n          for (var i = 1; i <= subTickCount; i++) {\n            var subTick = {\n              text: '',\n              value: index ? ticks[index - 1].value + i * diff : i * diff\n            };\n\n            var tickPoint = _this.getTickPoint(subTick.value);\n\n            var subTickLength = void 0;\n\n            if (subTickLineCfg_1 && subTickLineCfg_1.length) {\n              subTickLength = subTickLineCfg_1.length;\n            } else {\n              subTickLength = Math.floor(tickLineCfg.length * (3 / 5));\n            }\n\n            _this._addTickItem(i - 1, tickPoint, subTickLength, 'sub');\n          }\n        }\n      });\n    }\n  };\n\n  Axis.prototype._parseTicks = function (ticks) {\n    if (ticks === void 0) {\n      ticks = [];\n    }\n\n    var ticksLength = ticks.length;\n\n    for (var i = 0; i < ticksLength; i++) {\n      var item = ticks[i];\n\n      if (!Util.isObject(item)) {\n        ticks[i] = this.parseTick(item, i, ticksLength);\n      }\n    }\n\n    this.set('ticks', ticks);\n    return ticks;\n  };\n\n  Axis.prototype._addTickItem = function (index, point, length, type) {\n    if (type === void 0) {\n      type = '';\n    }\n\n    var tickItems = this.get('tickItems') || [];\n    var subTickItems = this.get('subTickItems') || [];\n    var end = this.getTickEnd(point, length, index);\n    var cfg = {\n      x1: point.x,\n      y1: point.y,\n      x2: end.x,\n      y2: end.y\n    };\n\n    if (type === 'sub') {\n      subTickItems.push(cfg);\n    } else {\n      tickItems.push(cfg);\n    }\n\n    this.set('tickItems', tickItems);\n    this.set('subTickItems', subTickItems);\n  };\n\n  Axis.prototype._addTickLine = function (ticks, lineCfg) {\n    var cfg = Util.mix({}, lineCfg);\n    var path = [];\n    Util.each(ticks, function (item) {\n      path.push(['M', item.x1, item.y1]);\n      path.push(['L', item.x2, item.y2]);\n    });\n    delete cfg.length;\n    cfg.path = path;\n    var group = this.get('group');\n    var tickShape = group.addShape('path', {\n      attrs: cfg,\n      zIndex: 1\n    });\n    tickShape.name = 'axis-ticks';\n    tickShape.id = this.get('id') + \"-ticks\";\n    tickShape.set('coord', this.get('coord'));\n    this.get('appendInfo') && tickShape.setSilent('appendInfo', this.get('appendInfo'));\n  }; // Grid 的背景层绘制逻辑\n\n\n  Axis.prototype._drawAlternativeBg = function (item, preItem, index) {\n    var alternateColor = this.get('gridAlternateColor');\n    var attrs;\n    var oddColor;\n    var evenColor;\n\n    if (Util.isString(alternateColor)) {\n      oddColor = alternateColor;\n    } else if (Util.isArray(alternateColor)) {\n      oddColor = alternateColor[0];\n      evenColor = alternateColor[1];\n    }\n\n    if (index % 2 === 0) {\n      if (evenColor) {\n        attrs = this._getBackItem(preItem.points, item.points, evenColor);\n      }\n    } else if (oddColor) {\n      attrs = this._getBackItem(preItem.points, item.points, oddColor);\n    }\n\n    var gridGroup = this.get('gridGroup');\n    var shape = gridGroup.addShape('Path', {\n      attrs: attrs\n    });\n    shape.name = 'axis-grid-rect'; // TODO： 需要区分 -rect 吗？还是统一叫做 axis-grid\n\n    shape.id = item.id && item.id.replace('grid', 'grid-rect');\n    shape.set('coord', this.get('coord'));\n    this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\n  };\n\n  Axis.prototype._getBackItem = function (start, end, bgColor) {\n    var path = [];\n    var gridType = this.get('gridType');\n\n    if (gridType === 'arc') {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y,\n            radius = subItem.radius,\n            flag = subItem.flag;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag, x, y]);\n        }\n      });\n\n      for (var j = end.length - 1; j >= 0; j--) {\n        var endSubItem = end[j];\n        var x = endSubItem.x,\n            y = endSubItem.y,\n            radius = endSubItem.radius,\n            flag = endSubItem.flag;\n\n        if (j === end.length - 1) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag === 1 ? 0 : 1, x, y]);\n        }\n      }\n    } else {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['L', x, y]);\n        }\n      });\n\n      for (var i = end.length - 1; i >= 0; i--) {\n        path.push(['L', end[i].x, end[i].y]);\n      }\n\n      path.push(['Z']);\n    }\n\n    return {\n      fill: bgColor,\n      path: path\n    };\n  };\n\n  return Axis;\n}(Guide);\n\nexport default Axis;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Circle =\n/** @class */\nfunction (_super) {\n  __extends(Circle, _super);\n\n  function Circle(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'circle',\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2\n    }, cfg)) || this;\n  }\n\n  Circle.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / length\n    };\n  };\n\n  Circle.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getCirclePoint(angle);\n  };\n\n  Circle.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Circle.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Circle.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = !Util.isNil(length) ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Circle.prototype.getTextAnchor = function (vector) {\n    var align;\n\n    if (Util.isNumberEqual(vector[0], 0)) {\n      align = 'center';\n    } else if (vector[0] > 0) {\n      align = 'left';\n    } else if (vector[0] < 0) {\n      align = 'right';\n    }\n\n    return align;\n  };\n\n  Circle.prototype.getLinePath = function () {\n    var center = this.get('center');\n    var x = center.x,\n        y = center.y;\n    var rx = this.get('radius');\n    var ry = rx;\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var inner = this.get('inner');\n    var path = [];\n\n    if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n      path = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    } else {\n      var startPoint = this._getCirclePoint(startAngle);\n\n      var endPoint = this._getCirclePoint(endAngle);\n\n      var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n      var sweep = startAngle > endAngle ? 0 : 1;\n\n      if (!inner) {\n        path = [['M', x, y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', x, y]];\n      } else {\n        var innerStartVector = this.getSideVector(inner * rx, startPoint);\n        var innerEndVector = this.getSideVector(inner * rx, endPoint);\n        var innerStartPoint = {\n          x: innerStartVector[0] + x,\n          y: innerStartVector[1] + y\n        };\n        var innerEndPoint = {\n          x: innerEndVector[0] + x,\n          y: innerEndVector[1] + y\n        };\n        path = [['M', innerStartPoint.x, innerStartPoint.y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', innerEndPoint.x, innerEndPoint.y], ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y]];\n      }\n    }\n\n    return path;\n  };\n\n  Circle.prototype.addLabel = function (tick, point, index, tickCount) {\n    var offset = Util.get(this.get('label'), 'offset', 5);\n    var p = this.getSidePoint(point, offset);\n\n    _super.prototype.addLabel.call(this, tick, p, index, tickCount);\n  };\n\n  Circle.prototype.autoRotateLabels = function () {\n    var ticks = this.get('ticks');\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer && ticks.length > 12) {\n      // 小于12个文本时文本不旋转\n      var radius = this.get('radius');\n      var startAngle_1 = this.get('startAngle');\n      var endAngle = this.get('endAngle');\n      var totalAngle_1 = endAngle - startAngle_1;\n      var avgAngle = totalAngle_1 / (ticks.length - 1);\n      var avgWidth_1 = Math.sin(avgAngle / 2) * radius * 2;\n      var maxLength_1 = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n      Util.each(labelRenderer.getLabels(), function (label, index) {\n        var tick = ticks[index];\n        var angle = tick.value * totalAngle_1 + startAngle_1;\n        var mode = angle % (Math.PI * 2);\n\n        if (maxLength_1 < avgWidth_1) {\n          // 文本的最大宽度大于\n          if (mode <= 0) {\n            angle = angle + Math.PI;\n          }\n\n          if (mode > Math.PI) {\n            angle = angle - Math.PI;\n          }\n\n          angle = angle - Math.PI / 2;\n          label.attr('textAlign', 'center');\n        } else {\n          if (mode > Math.PI / 2) {\n            angle = angle - Math.PI;\n          } else if (mode < Math.PI / 2 * -1) {\n            angle = angle + Math.PI;\n          }\n        }\n\n        label.rotateAtStart(angle);\n      });\n    }\n  };\n\n  Circle.prototype._getCirclePoint = function (angle, radius) {\n    if (radius === void 0) {\n      radius = 0;\n    }\n\n    var center = this.get('center');\n    var r = radius || this.get('radius');\n    return {\n      x: center.x + Math.cos(angle) * r,\n      y: center.y + Math.sin(angle) * r\n    };\n  };\n\n  return Circle;\n}(Axis);\n\nexport default Circle;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'helix',\n      startAngle: 1.25 * Math.PI,\n      endAngle: 7.25 * Math.PI,\n      inner: 0,\n      a: 0,\n      center: null,\n      axisStart: null,\n      crp: []\n    }, cfg)) || this;\n  }\n\n  Helix.prototype.getLinePath = function () {\n    var crp = this.get('crp');\n    var axisStart = this.get('axisStart');\n    var path = pathUtil.catmullRom2Bezier(crp);\n    path.unshift(['M', axisStart.x, axisStart.y]);\n    return path;\n  };\n\n  Helix.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getHelixPoint(angle);\n  };\n\n  Helix.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Helix.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Helix.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = length ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Helix.prototype._getHelixPoint = function (angle) {\n    var center = this.get('center');\n    var a = this.get('a'); // 螺线系数\n\n    var radius = a * angle + this.get('inner'); // 螺线方程\n\n    return {\n      x: center.x + Math.cos(angle) * radius,\n      y: center.y + Math.sin(angle) * radius\n    };\n  };\n\n  return Helix;\n}(Axis);\n\nexport default Helix;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport Axis from './base';\nvar AUTO_ROTATE_DEGREES = [0, -45, -90];\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'line',\n      x: null,\n      y: null,\n      isVertical: false,\n      start: null,\n      end: null\n    }, cfg)) || this;\n  }\n  /**\n   * 获取距离坐标轴的向量\n   * @override\n   * @param  {Number} offset 偏移值\n   * @return {Array}        返回二维向量\n   */\n\n\n  Line.prototype.getSideVector = function (offset) {\n    var isVertical = this.get('isVertical');\n    var factor = this.get('factor'); // if (Util.isArray(offset)) {\n    //   return offset.map(value => value * factor);\n    // }\n\n    if (!Util.isNumber(offset)) {\n      return [0, 0];\n    }\n\n    var start = this.get('start');\n    var end = this.get('end');\n    var axisVector = this.getAxisVector();\n    var normal = vec2.normalize([], axisVector);\n    var direction = false;\n\n    if (isVertical && start.y < end.y || !isVertical && start.x > end.x) {\n      direction = true;\n    }\n\n    var verticalVector = vec2.vertical([], normal, direction);\n    return vec2.scale([], verticalVector, offset * factor);\n  };\n\n  Line.prototype.getAxisVector = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  Line.prototype.getLinePath = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [['M', start.x, start.y], ['L', end.x, end.y]];\n  };\n\n  Line.prototype.getTickEnd = function (start, value) {\n    var offsetVector = this.getSideVector(value);\n    return {\n      x: start.x + offsetVector[0],\n      y: start.y + offsetVector[1]\n    };\n  };\n\n  Line.prototype.getTickPoint = function (tickValue) {\n    var start = this.get('start');\n    var end = this.get('end');\n    var rangeX = end.x - start.x;\n    var rangeY = end.y - start.y;\n    return {\n      x: start.x + rangeX * tickValue,\n      y: start.y + rangeY * tickValue\n    };\n  };\n\n  Line.prototype.renderTitle = function () {\n    var title = this.get('title');\n    var label = this.get('label');\n    var rotate = Util.get(label, 'rotate');\n    var autoRotateTitle = this.get('autoRotateTitle');\n    var offsetPoint = this.getTickPoint(0.5);\n    var titleOffset = title.offset ? title.offset : 20; // if (Util.isNil(titleOffset)) { // 没有指定 offset 则自动计算\n\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var position = this.get('position');\n      var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n      var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n\n      if (this.get('autoRotateLabel')) {\n        var angle = this.getAutoRotateAngle();\n\n        if (angle) {\n          labelLength = this.getOffsetByRotateAngle(angle);\n        }\n      }\n\n      if (rotate) {\n        labelLength = this.getOffsetByRotateAngle(rotate * Math.PI / 180);\n      }\n\n      var labelOffset = Util.get(this.get('label'), 'offset', 5);\n      titleOffset += labelLength + labelOffset;\n    } // }\n\n\n    var textStyle = title.textStyle;\n    var cfg = Util.mix({}, textStyle);\n\n    if (title.text) {\n      var vector = this.getAxisVector(); // 坐标轴方向的向量\n\n      if (autoRotateTitle && Util.isNil(title.rotate)) {\n        // 自动旋转并且用户没有设置 title.rotate\n        var angle = 0;\n\n        if (!Util.isNumberEqual(vector[1], 0)) {\n          // 所有水平坐标轴，文本不转置\n          var v1 = [1, 0];\n          var v2 = [vector[0], vector[1]];\n          angle = vec2.angleTo(v2, v1, true);\n        }\n\n        cfg.rotate = angle * (180 / Math.PI);\n      } else if (!Util.isNil(title.rotate)) {\n        // 用户设置了旋转角度就以用户设置的为准\n        cfg.rotate = title.rotate / 180 * Math.PI; // 将角度转换为弧度\n      }\n\n      var sideVector = this.getSideVector(titleOffset);\n      var point = void 0;\n      var position = title.position;\n\n      if (position === 'start') {\n        point = {\n          x: this.get('start').x + sideVector[0],\n          y: this.get('start').y + sideVector[1]\n        };\n      } else if (position === 'end') {\n        point = {\n          x: this.get('end').x + sideVector[0],\n          y: this.get('end').y + sideVector[1]\n        };\n      } else {\n        point = {\n          x: offsetPoint.x + sideVector[0],\n          y: offsetPoint.y + sideVector[1]\n        };\n      }\n\n      cfg.x = point.x;\n      cfg.y = point.y;\n      cfg.text = title.text;\n      var group = this.get('group');\n      var titleShape = group.addShape('Text', {\n        zIndex: 2,\n        attrs: cfg\n      });\n      titleShape.name = 'axis-title';\n      this.get('appendInfo') && titleShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n  };\n\n  Line.prototype.autoRotateLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var angle_1 = this.getAutoRotateAngle();\n\n      if (angle_1) {\n        this.set('autoRotateAngle', angle_1);\n        var offsetY_1 = -6 * Math.abs(Math.sin(angle_1)); // const offsetY = (this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) / 2;\n\n        var textAlign_1 = angle_1 % Math.PI === 0 ? 'center' : angle_1 > 0 ? angle_1 % (Math.PI * 2) < Math.PI ? 'left' : 'right' : angle_1 % (Math.PI * 2) > -Math.PI ? 'right' : 'left';\n        Util.each(labels, function (label) {\n          label.attr('textAlign', textAlign_1);\n          label.rotateAtStart(angle_1);\n          label.attr('y', label.attr('y') + offsetY_1);\n        });\n      }\n    }\n  };\n\n  Line.prototype.autoHideLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labelSpace;\n    var tickStep;\n    var append = 8;\n\n    if (labelRenderer) {\n      var ticks = this.get('tickItems');\n      var labels_1 = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      if (labels_1.length < 2) {\n        return;\n      }\n\n      if (Util.isNumberEqual(vector[0], 0)) {\n        // 坐标轴垂直\n        var maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height') + append;\n        var avgHeight = Math.abs(this._getAvgLabelHeightSpace(labelRenderer));\n\n        if (maxHeight > avgHeight) {\n          labelSpace = maxHeight;\n          tickStep = avgHeight;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels_1.length > 1) {\n        // 坐标轴水平\n        var maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width') + append;\n        var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n\n        if (maxWidth > avgWidth) {\n          labelSpace = maxWidth;\n          tickStep = avgWidth;\n        }\n      }\n\n      if (labelSpace && tickStep) {\n        var ratio_1 = Math.ceil(labelSpace / tickStep);\n        Util.each(labels_1, function (label, i) {\n          if (i % ratio_1 !== 0) {\n            label.set('visible', false);\n            label.attr('text', '');\n          }\n        });\n\n        if (ticks) {\n          var visibleTicks = Util.filter(ticks, function (tick, idx) {\n            return labels_1[idx].get('visible');\n          });\n\n          if (Util.size(visibleTicks) > 0) {\n            this.set('tickItems', visibleTicks);\n            Util.remove(this.get('group').get('children'), function (s) {\n              return s.name === 'axis-ticks';\n            });\n\n            this._renderTicks();\n          }\n        }\n      }\n    }\n  };\n\n  Line.prototype.getAutoRotateAngleByAvgWidth = function (avgWidth) {\n    var autoRotate = this.get('autoRotateLabel');\n    var labelRenderer = this.get('labelRenderer');\n    var title = this.get('title');\n    var angle;\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var offset = this.get('label').offset;\n      var append = 12;\n      var titleOffset = title && title.offset ? title.offset : 20;\n\n      if (titleOffset < 0) {\n        // 如果是负的的话就不旋转\n        return;\n      }\n\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var maxWidth = void 0;\n      var maxHeight = void 0;\n\n      if (Util.isNumberEqual(vector[0], 0) && title && title.text) {\n        // 坐标轴垂直，由于不知道边距，只能防止跟title重合，如果title不存在，则不自动旋转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n\n        if (maxWidth > titleOffset - offset - append) {\n          angle = Math.acos((titleOffset - offset - append) / maxWidth) * -1;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels.length > 1) {\n        // 坐标轴水平，不考虑边距，根据最长的和平均值进行翻转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n        maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height');\n\n        if (maxWidth > avgWidth) {\n          var degrees = Util.isArray(autoRotate) ? autoRotate : AUTO_ROTATE_DEGREES;\n\n          for (var _i = 0, degrees_1 = degrees; _i < degrees_1.length; _i++) {\n            var degree = degrees_1[_i];\n            angle = degree * Math.PI / 180;\n\n            if (avgWidth * Math.abs(Math.sin(angle)) > maxHeight + 4) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return angle;\n  };\n\n  Line.prototype.getOffsetByRotateAngle = function (angle) {\n    var labelRenderer = this.get('labelRenderer');\n    var position = this.get('position');\n    var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n    var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n    return angle ? Math.max(labelLength, this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) : labelLength;\n  };\n\n  Line.prototype._getAvgLabelLength = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('x') - labels[0].attr('x');\n  };\n\n  Line.prototype._getAvgLabelHeightSpace = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('y') - labels[0].attr('y');\n  };\n\n  Line.prototype.getAutoRotateAngle = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n\n    if (!labels || labels.length < 2) {\n      return;\n    }\n\n    var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n    return this.getAutoRotateAngleByAvgWidth(avgWidth);\n  };\n\n  return Line;\n}(Axis);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  __extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(Guide);\n\nexport default Legend;","// 滑块的宽度，高度 = 宽度 * 2\nimport { FONT_FAMILY } from '../../../const';\nexport var SLIDER_WIDTH = 8;\nexport var SLIDER_HEIGHT = SLIDER_WIDTH * 2;\nexport var SLIDER_CIRCLE_MAX_SIZE = SLIDER_HEIGHT * 2;\nexport var TEXT_OFFSET = 4;\nexport var SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexport var SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: FONT_FAMILY\n};\nexport var SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexport var SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexport var DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: FONT_FAMILY\n};","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as domUtil from '@antv/dom-util';\nimport { SLIDER_CIRCLE_MAX_SIZE, SLIDER_WIDTH, SLIDER_HEIGHT, SliderBtnStyle } from '../constant';\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = __assign(__assign(__assign({}, buttonAttr), SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = __assign(__assign(__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (SLIDER_HEIGHT + minRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (SLIDER_HEIGHT + maxRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","import { __assign, __extends, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Event } from '@antv/g';\nimport Legend from '../base';\nimport Slider from './components/slider';\nimport { SliderTextStyle, SliderMiddleBackgroundStyle, SliderMiddleFrontendStyle, DefaultTitleStyle } from './constant';\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  __extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = __rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, __assign(__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: __assign(__assign({}, SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: __assign(__assign({}, SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: __assign(__assign({}, SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: __assign(__assign({}, DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: __assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new Slider(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(Legend);\n\nexport default Continuous;","import { __assign, __extends } from \"tslib\";\nimport { Group, Polygon } from '@antv/g';\nimport Continuous from './base'; // circle 的时候，背景的高度\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  __extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, __assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new Polygon({\n      attrs: __assign(__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new Polygon({\n      attrs: __assign(__assign(__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(Continuous);\n\nexport default Size;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Group, Rect } from '@antv/g';\nimport { colorUtil } from '@antv/attr';\nimport Continuous from './base';\nimport { TEXT_OFFSET } from './constant';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  __extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, __assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return __assign(__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new Rect({\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: item.percentage * width,\n            y: height + TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: width + TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(Continuous);\n\nexport default Color;","import * as G from '@antv/g';\nimport * as _ from '@antv/util';\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\nimport LegendBase from '../base';\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  __extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, __assign(__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(LegendBase);\n\nexport default CategoryBase;","import { __assign, __extends } from \"tslib\";\nimport { BBox, Event, Group, Rect } from '@antv/g';\nimport { clone, each, filter, isNumber, mix, wrapBehavior } from '@antv/util';\nimport Arrow from './arrow';\nimport CategoryBase from './base';\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  __extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxItemHeight < itemsBBox.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof Group ? refer.get('value') : refer;\n    each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(CategoryBase);\n\nexport default CanvasLegend;","/**\n * @description 使用 HTML 进行渲染的图例\n */\nimport { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { BBox } from '@antv/g';\nimport * as Util from '@antv/util';\nimport CategoryBase from './base';\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  __extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, __assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(CategoryBase);\n\nexport default HTMLLegend;","import { __assign, __extends } from \"tslib\";\nimport { Element } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Annotation =\n/** @class */\nfunction (_super) {\n  __extends(Annotation, _super);\n\n  function Annotation(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      xScales: null,\n      yScales: null,\n      el: null\n    }, cfg)) || this;\n  }\n\n  Annotation.prototype.clear = function () {\n    var el = this.get('el');\n\n    if (el) {\n      el.remove();\n    }\n  };\n\n  Annotation.prototype.changeVisible = function (visible) {\n    this.set('visible', visible);\n    var el = this.get('el');\n\n    if (el instanceof Element) {\n      el.set('visible', visible);\n    } else if (el instanceof HTMLElement) {\n      el.style.display = visible ? '' : 'none';\n    }\n  };\n  /** 批量修改内部状态 */\n\n\n  Annotation.prototype.change = function (cfg) {\n    this.cfg = _.deepMix({}, this.cfg, cfg);\n  }; // 修改基类会导致label中大量不严谨的类型写法需要重构\n\n\n  Annotation.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Annotation.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Annotation.prototype.parsePoint = function (coord, _position) {\n    var xScales = this.get('xScales');\n    var yScales = this.get('yScales');\n    var position = _.isFunction(_position) ? _position.call(null, xScales, yScales) : _position;\n    var x = 0;\n    var y = 0; // 入参是['50%', '50%']时\n\n    if (_.isArray(position) && _.includes(position[0], '%')) {\n      return this.parsePercentPoint(coord, position);\n    }\n\n    if (_.isArray(position)) {\n      x = this.getNormalizedValue(position[0], _.head(_.values(xScales)));\n      y = this.getNormalizedValue(position[1], _.head(_.values(yScales)));\n    } else if (!_.isNil(position)) {\n      for (var _i = 0, _a = _.keys(position); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = position[key];\n\n        if (xScales[key]) {\n          x = this.getNormalizedValue(value, xScales[key]);\n        }\n\n        if (yScales[key]) {\n          y = this.getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    return coord.convert({\n      x: x,\n      y: y\n    });\n  };\n\n  Annotation.prototype.getNormalizedValue = function (val, scale) {\n    var result;\n    var scaled;\n\n    switch (val) {\n      case 'start':\n        result = 0;\n        break;\n\n      case 'end':\n        result = 1;\n        break;\n\n      case 'median':\n        {\n          scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n          result = scale.scale(scaled);\n          break;\n        }\n\n      case 'min':\n      case 'max':\n        if (scale.isCategory) {\n          scaled = val === 'min' ? 0 : scale.values.length - 1;\n        } else {\n          scaled = scale[val];\n        }\n\n        result = scale.scale(scaled);\n        break;\n\n      default:\n        result = scale.scale(val);\n    }\n\n    return result;\n  };\n\n  Annotation.prototype.parsePercentPoint = function (coord, position) {\n    var xPercent = parseFloat(position[0]) / 100;\n    var yPercent = parseFloat(position[1]) / 100;\n    var start = coord.start,\n        end = coord.end;\n    var topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y)\n    };\n    var x = coord.getWidth() * xPercent + topLeft.x;\n    var y = coord.getHeight() * yPercent + topLeft.y;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Annotation;\n}(Guide);\n\nexport default Annotation;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Annotation from './base';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'line',\n      xScales: null,\n      yScales: null,\n      line: {\n        style: {\n          stroke: '#000'\n        }\n      },\n      text: {\n        display: true,\n        position: 'end',\n        autoRotate: true,\n        style: {\n          fill: '#999',\n          fontSize: 12,\n          fontWeight: 500,\n          fontFamily: FONT_FAMILY\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  Line.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var guideLineGroup = group.addGroup();\n    this.drawLines(start, end, guideLineGroup);\n    var text = this.get('text');\n\n    if (text.display && text.content) {\n      this.drawText(start, end, guideLineGroup);\n    }\n\n    guideLineGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-line';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', guideLineGroup);\n  };\n\n  Line.prototype.drawLines = function (start, end, group) {\n    var path = [['M', start.x, start.y], ['L', end.x, end.y]];\n    group.addShape('Path', {\n      attrs: _.assign({\n        path: path\n      }, this.get('line').style)\n    });\n  };\n\n  Line.prototype.drawText = function (start, end, group) {\n    var textCfg = this.get('text');\n    var position = textCfg.position;\n    var textStyle = textCfg.style || {};\n    var percent = 1;\n\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (!_.isNil(position) && _.includes(position, '%')) {\n      percent = parseInt(position, 10) / 100;\n    } else if (_.isNumber(position) && position >= 0 && position < 1) {\n      percent = position;\n    }\n\n    var cfg = {\n      x: start.x + (end.x - start.x) * percent,\n      y: start.y + (end.y - start.y) * percent,\n      text: textCfg.content\n    };\n\n    if (textCfg.offsetX) {\n      // 设置了偏移量\n      cfg.x += textCfg.offsetX;\n    }\n\n    if (textCfg.offsetY) {\n      // 设置了偏移量\n      cfg.y += textCfg.offsetY;\n    }\n\n    _.assign(cfg, textStyle);\n\n    if (textCfg.autoRotate && _.isNil(textStyle.rotate)) {\n      // 自动旋转且用户没有设置旋转角度\n      var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\n      cfg.rotate = angle;\n    } else if (!_.isNil(textStyle.rotate)) {\n      // 用户设置了旋转角度\n      cfg.rotate = textStyle.rotate * Math.PI / 180;\n    }\n\n    group.addShape('Text', {\n      attrs: cfg\n    });\n  };\n\n  return Line;\n}(Annotation);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    return _super.call(this, __assign({\n      type: 'text',\n      position: null,\n      content: null,\n      style: {\n        fill: '#999',\n        fontSize: 12,\n        fontWeight: 500,\n        textAlign: 'center'\n      }\n    }, cfg)) || this;\n  }\n\n  Text.prototype.render = function (coord, group) {\n    var point = this.parsePoint(coord, this.get('position'));\n\n    var textStyle = _.clone(this.get('style'));\n\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n\n    if (offsetX) {\n      point.x += offsetX;\n    }\n\n    if (offsetY) {\n      point.y += offsetY;\n    }\n\n    if (textStyle.rotate) {\n      textStyle.rotate = textStyle.rotate * Math.PI / 180; // 将角度转换为弧度\n    }\n\n    var guideText = group.addShape('Text', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        text: this.get('content')\n      }, textStyle, point)\n    });\n    guideText.name = 'annotation-text';\n\n    if (this.get('appendInfo')) {\n      guideText.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', guideText);\n  };\n\n  return Text;\n}(Annotation);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base'; // 只适用于极坐标系\n\nvar Arc =\n/** @class */\nfunction (_super) {\n  __extends(Arc, _super);\n\n  function Arc(cfg) {\n    return _super.call(this, __assign({\n      type: 'arc',\n      start: null,\n      end: null,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    }, cfg)) || this;\n  }\n\n  Arc.prototype.render = function (coord, group) {\n    var originStart = this.get('start');\n    var originEnd = this.get('end');\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var coordCenter = coord.getCenter();\n    var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n    var path = [['M', start.x, start.y]]; // 圆形\n\n    if (_.isNumberEqual(start.x, end.x) && _.isNumberEqual(start.y, end.y)) {\n      if (_.isEqual(originStart, originEnd)) {\n        // 只有一个点，不进行绘制\n        console.warn('start point is the same as end point!');\n      } else {\n        path = [['M', start.x, start.y], ['A', radius, radius, 0, 1, 1, 2 * coordCenter.x - start.x, 2 * coordCenter.y - start.y], ['A', radius, radius, 0, 1, 1, start.x, start.y]];\n      }\n    } else {\n      // 只适用于start和end，yScale值相同，需要判断scale结果\n      // 求向量 center -> start 和 center -> end 的顺时针角度\n      // 即等于求 start -> center 和 end -> center 的逆时针角度\n      var dAngle = vec2.angleTo([coordCenter.x - start.x, coordCenter.y - start.y], [coordCenter.x - end.x, coordCenter.y - end.y], 0);\n      var largeArc = dAngle > Math.PI ? 1 : 0;\n      path = [['M', start.x, start.y], ['A', radius, radius, 0, largeArc, 1, end.x, end.y]];\n    }\n\n    var arcShape = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, this.get('style'))\n    });\n    arcShape.name = 'annotation-arc'; // 用于事件以及动画识别\n\n    if (this.get('appendInfo')) {\n      arcShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', arcShape);\n  };\n\n  return Arc;\n}(Annotation);\n\nexport default Arc;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Region =\n/** @class */\nfunction (_super) {\n  __extends(Region, _super);\n\n  function Region(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'region',\n      zIndex: 1,\n      start: null,\n      end: null,\n      style: {\n        lineWidth: 0,\n        fill: '#CCD7EB',\n        opacity: 0.4\n      }\n    }, cfg)) || this;\n  }\n\n  Region.prototype.render = function (coord, group) {\n    var rectStyle = this.get('style');\n    var path = this.getPath(coord);\n    var regionGroup = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, rectStyle)\n    });\n    regionGroup.name = 'annotation-region';\n    this.get('appendInfo') && regionGroup.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', regionGroup);\n  };\n\n  Region.prototype.getPath = function (coord) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    return [['M', start.x, start.y], ['L', end.x, start.y], ['L', end.x, end.y], ['L', start.x, end.y], ['z']];\n  };\n\n  return Region;\n}(Annotation);\n\nexport default Region;","import { __assign, __extends } from \"tslib\";\nimport Annotation from './base';\n\nvar Image =\n/** @class */\nfunction (_super) {\n  __extends(Image, _super);\n\n  function Image(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'image',\n      start: null,\n      end: null,\n      src: ''\n    }, cfg)) || this;\n  }\n\n  Image.prototype.render = function (coord, group) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var cfg = {\n      x: start.x,\n      y: start.y,\n      img: this.get('src')\n    };\n\n    if (!this.get('end')) {\n      cfg.width = this.get('width') || 32;\n      cfg.height = this.get('height') || 32;\n    } else {\n      var end = this.parsePoint(coord, this.get('end'));\n      cfg.width = end.x - start.x;\n      cfg.height = end.y - start.y;\n    }\n\n    if (this.get('offsetX')) {\n      cfg.x += this.get('offsetX');\n    }\n\n    if (this.get('offsetY')) {\n      cfg.y += this.get('offsetY');\n    }\n\n    var imgGuide = group.addShape('Image', {\n      zIndex: 1,\n      attrs: cfg\n    });\n    imgGuide.name = 'annotation-image';\n    this.get('appendInfo') && imgGuide.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', imgGuide);\n  };\n\n  return Image;\n}(Annotation);\n\nexport default Image;","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Html =\n/** @class */\nfunction (_super) {\n  __extends(Html, _super);\n\n  function Html(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'html',\n      zIndex: 7,\n      position: null,\n      alignX: 'middle',\n      alignY: 'middle',\n      offsetX: null,\n      offsetY: null,\n      html: null\n    }, cfg)) || this;\n  }\n\n  Html.prototype.render = function (coord, container) {\n    var position = this.parsePoint(coord, this.get('position'));\n    var parentNode = container.get('canvas').get('el').parentNode;\n    var wrapperNode = domUtil.createDom('<div class=\"guide-annotation\"></div>');\n    parentNode.appendChild(wrapperNode);\n    var html = this.get('html');\n\n    if (_.isFunction(html)) {\n      var xScales = this.get('xScales');\n      var yScales = this.get('yScales');\n      html = html(xScales, yScales);\n    } // 判断 html 是 Html element 还是 html string\n\n\n    var htmlNode = _.isElement(html) ? html : domUtil.createDom(html);\n    wrapperNode.appendChild(htmlNode);\n    domUtil.modifyCSS(wrapperNode, {\n      position: 'absolute'\n    });\n    this.setDomPosition(wrapperNode, htmlNode, position);\n    this.set('el', wrapperNode);\n  };\n\n  Html.prototype.clear = function () {\n    // 由于基类使用了childNode.remove，而IE不支持该方法，需要进行兼容\n    var el = this.get('el');\n    el && el.parentNode && el.parentNode.removeChild(el);\n  };\n\n  Html.prototype.setDomPosition = function (parentDom, childDom, point) {\n    var alignX = this.get('alignX');\n    var alignY = this.get('alignY');\n    var domWidth = domUtil.getOuterWidth(childDom);\n    var domHeight = domUtil.getOuterHeight(childDom);\n    var position = {\n      x: point.x,\n      y: point.y\n    };\n\n    if (alignX === 'middle') {\n      position.x -= Math.round(domWidth / 2);\n    } else if (alignX === 'right') {\n      position.x -= Math.round(domWidth);\n    }\n\n    if (alignY === 'middle') {\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignY === 'bottom') {\n      position.y -= Math.round(domHeight);\n    }\n\n    var offsetX = this.get('offsetX');\n\n    if (offsetX) {\n      position.x += offsetX;\n    }\n\n    var offsetY = this.get('offsetY');\n\n    if (offsetY) {\n      position.y += offsetY;\n    }\n\n    domUtil.modifyCSS(parentDom, {\n      top: Math.round(position.y) + \"px\",\n      left: Math.round(position.x) + \"px\",\n      zIndex: this.get('zIndex')\n    });\n  };\n\n  return Html;\n}(Annotation);\n\nexport default Html;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataMarker =\n/** @class */\nfunction (_super) {\n  __extends(DataMarker, _super);\n\n  function DataMarker(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataMarker',\n      zIndex: 1,\n      position: null,\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#ffffff',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      text: {\n        display: true,\n        style: {\n          fill: '#000000',\n          opacity: 0.65,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      direction: 'upward',\n      autoAdjust: true\n    }, cfg)) || this;\n  }\n\n  DataMarker.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var point = this.parsePoint(coord, this.get('position')); // container\n\n    var markerGroup = group.addGroup();\n    var positions = this.getElementPosition(point);\n    var lineCfg = this.get('line');\n    var pointCfg = this.get('point');\n    var textCfg = this.get('text');\n    var lineShape;\n    var textShape; // add line\n\n    if (lineCfg.display) {\n      var lineData = positions.line;\n      lineShape = this.drawLine(lineData, markerGroup);\n    } // add text\n\n\n    if (textCfg.display && textCfg.content) {\n      var textPosition = positions.text;\n      textShape = this.drawText(textPosition, markerGroup);\n    } // add circle\n\n\n    if (pointCfg.display) {\n      var pointPoisition = positions.point;\n      this.drawPoint(pointPoisition, markerGroup);\n    }\n\n    if (this.get('autoAdjust')) {\n      var bbox = markerGroup.getBBox();\n      var minX = bbox.minX,\n          minY = bbox.minY,\n          maxX = bbox.maxX,\n          maxY = bbox.maxY;\n      var start = coord.start,\n          end = coord.end;\n\n      if (textShape) {\n        if (minX <= start.x) {\n          // 左侧超出\n          textShape.attr('textAlign', 'start');\n        }\n\n        if (maxX >= end.x) {\n          // 右侧超出\n          textShape.attr('textAlign', 'end');\n        }\n\n        var direction = this.get('direction');\n\n        if (direction === 'upward' && minY <= end.y || direction !== 'upward' && maxY >= start.y) {\n          // 上方或者下方超出\n          var textBaseline = void 0;\n          var dir = void 0;\n\n          if (direction === 'upward' && minY <= end.y) {\n            textBaseline = 'top';\n            dir = 1;\n          } else {\n            textBaseline = 'bottom';\n            dir = -1;\n          }\n\n          textShape.attr('textBaseline', textBaseline);\n          var lineLength = 0;\n\n          if (lineCfg.display) {\n            lineLength = lineCfg.lineLength;\n            var linePath = [['M', point.x, point.y], ['L', point.x, point.y + lineLength * dir]];\n            lineShape.attr('path', linePath);\n          }\n\n          var newY = point.y + (lineLength + 2) * dir;\n          textShape.attr('y', newY);\n        }\n      }\n    } // 用于事件以及动画识别\n\n\n    markerGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-marker';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', markerGroup);\n  };\n\n  DataMarker.prototype.getElementPosition = function (position) {\n    var x = position.x,\n        y = position.y;\n    var lineLength = this.get('line').display ? this.get('line').lineLength : 0;\n    var direction = this.get('direction');\n    var textStyle = this.get('text').style;\n    textStyle.textBaseline = direction === 'upward' ? 'bottom' : 'top';\n    var dir = direction === 'upward' ? -1 : 1;\n    var pointPoisition = {\n      x: x,\n      y: y\n    };\n    var lineStart = {\n      x: x,\n      y: y\n    };\n    var lineEnd = {\n      x: x,\n      y: lineLength * dir + y\n    };\n    var textPosition = {\n      x: x,\n      y: (lineLength + 2) * dir + y\n    };\n    return {\n      point: pointPoisition,\n      line: [lineStart, lineEnd],\n      text: textPosition\n    };\n  };\n\n  DataMarker.prototype.drawLine = function (lineData, g) {\n    var lineStyle = this.get('line').style;\n    var linePath = [['M', lineData[0].x, lineData[0].y], ['L', lineData[1].x, lineData[1].y]];\n    var lineShape = g.addShape('path', {\n      attrs: _.assign({\n        path: linePath\n      }, lineStyle)\n    });\n    return lineShape;\n  };\n\n  DataMarker.prototype.drawText = function (position, g) {\n    var textCfg = this.get('text');\n    var textShape = g.addShape('text', {\n      attrs: _.assign({\n        text: textCfg.content\n      }, textCfg.style, position)\n    });\n    return textShape;\n  };\n\n  DataMarker.prototype.drawPoint = function (position, g) {\n    var pointStyle = this.get('point').style;\n    var pointShape = g.addShape('circle', {\n      attrs: _.assign({}, pointStyle, position)\n    });\n    return pointShape;\n  };\n\n  return DataMarker;\n}(Annotation);\n\nexport default DataMarker;","import { __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataRegion =\n/** @class */\nfunction (_super) {\n  __extends(DataRegion, _super);\n\n  function DataRegion(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataRegion',\n      start: null,\n      end: null,\n      region: {\n        lineLength: 0,\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        display: true,\n        content: '',\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  DataRegion.prototype.render = function (coord, group, data) {\n    var _this = this;\n\n    var regionCfg = this.get('region');\n    var textCfg = this.get('text');\n    var lineLength = regionCfg.lineLength;\n    var regionData = this.getRegionData(coord, data);\n\n    if (!regionData.length) {\n      return;\n    }\n\n    var regionBBox = this.getBBox(regionData);\n    var path = [];\n    path.push(['M', regionData[0].x, regionBBox.minY - lineLength]);\n\n    for (var i = 0, len = regionData.length; i < len; i++) {\n      var p = ['L', regionData[i].x, regionData[i].y];\n      path.push(p);\n    }\n\n    path.push(['L', regionData[regionData.length - 1].x, regionBBox.minY - lineLength]);\n    var regionGroup = group.addGroup();\n    regionGroup.addShape('path', {\n      attrs: _.mix({\n        path: path\n      }, regionCfg.style)\n    });\n\n    if (textCfg.display && textCfg.content) {\n      regionGroup.addShape('Text', {\n        attrs: _.mix({\n          x: (regionBBox.minX + regionBBox.maxX) / 2,\n          y: regionBBox.minY - lineLength,\n          text: textCfg.content\n        }, textCfg.style)\n      });\n    } // 用于事件和动画识别\n\n\n    regionGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-region';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', regionGroup);\n  };\n\n  DataRegion.prototype.getRegionData = function (coord, data) {\n    var start = this.get('start');\n    var end = this.get('end');\n\n    var xField = _.head(_.values(this.get('xScales'))).field;\n\n    var yField = _.head(_.values(this.get('yScales'))).field;\n\n    var startXValue = _.isArray(start) ? start[0] : start[xField];\n    var endXValue = _.isArray(end) ? end[0] : end[xField];\n    var startIndex;\n    var arr = [];\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i]; // findIndex\n\n      if (item[xField] === startXValue) {\n        startIndex = i;\n      }\n\n      if (i >= startIndex) {\n        arr.push(this.parsePoint(coord, [item[xField], item[yField]]));\n      } // findLastIndex\n\n\n      if (item[xField] === endXValue) {\n        break;\n      }\n    }\n\n    return arr;\n  };\n\n  DataRegion.prototype.getBBox = function (data) {\n    var xs = [];\n    var ys = [];\n\n    for (var i = 0; i < data.length; i++) {\n      xs.push(data[i].x);\n      ys.push(data[i].y);\n    }\n\n    var xRange = _.getRange(xs);\n\n    var yRange = _.getRange(ys);\n\n    return BBox.fromRange(xRange.min, yRange.min, xRange.max, yRange.max);\n  };\n\n  return DataRegion;\n}(Annotation);\n\nexport default DataRegion;","import { __assign, __rest } from \"tslib\";\nimport { Annotation } from '@antv/component';\nimport * as _ from '@antv/util';\n\nvar AnnotationController =\n/** @class */\nfunction () {\n  function AnnotationController(acfg) {\n    this.options = [];\n    this.annotations = [];\n\n    _.assign(this, acfg);\n  }\n  /** 为当前controller新增一个辅助元素实例 */\n\n\n  AnnotationController.prototype.add = function (type, annConfig, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var typeName = _.upperFirst(type);\n\n    if (!Annotation[typeName]) {\n      console.error(\"Annotation \" + type + \" not exist.\");\n    } else {\n      this.options.push(__assign({\n        top: top,\n        type: type\n      }, annConfig));\n    }\n\n    return this;\n  };\n  /** 通过index获取指定的辅助元素实例 */\n\n\n  AnnotationController.prototype.get = function (idx) {\n    return this.annotations[idx];\n  };\n\n  AnnotationController.prototype.render = function (coord) {\n    var _this = this;\n\n    this.coord = coord;\n    var view = this.view;\n    var viewData = view && view.get('filteredData');\n    this.createAnnotations();\n\n    _.each(this.annotations, function (ann) {\n      if (ann.get('top')) {\n        ann.render(coord, _this.frontgroundGroup, viewData);\n      } else {\n        ann.render(coord, _this.backgroundGroup, viewData);\n      }\n    });\n  };\n  /** 控制全部辅助元素展示与否 */\n\n\n  AnnotationController.prototype.changeVisible = function (visible) {\n    _.each(this.annotations, function (ann) {\n      ann.changeVisible(visible);\n    });\n  };\n  /** 销毁所有辅助元素 */\n\n\n  AnnotationController.prototype.clear = function () {\n    this.reset();\n    this.options = [];\n    this.backgroundGroup && this.backgroundGroup.remove();\n    this.frontgroundGroup && this.frontgroundGroup.remove();\n  };\n  /** 清空画布中的辅助元素 */\n\n\n  AnnotationController.prototype.reset = function () {\n    _.each(this.annotations, function (ann) {\n      ann.clear();\n    });\n\n    this.annotations = [];\n  };\n  /** 重绘所有辅助元素 */\n\n\n  AnnotationController.prototype.repaint = function () {\n    var _this = this;\n\n    if (this.coord && this.view) {\n      var coord_1 = this.coord;\n      var viewData_1 = this.view.get('filteredData');\n\n      _.each(this.annotations, function (ann) {\n        ann.clear();\n\n        if (ann.get('top')) {\n          ann.render(coord_1, _this.frontgroundGroup, viewData_1);\n        } else {\n          ann.render(coord_1, _this.backgroundGroup, viewData_1);\n        }\n      });\n\n      var canvas = this.view.get('canvas');\n      canvas.draw();\n    } else {\n      throw new Error('need render first');\n    }\n  };\n\n  AnnotationController.prototype.createAnnotations = function () {\n    var _this = this;\n\n    _.each(this.options, function (option) {\n      var type = option.type,\n          top = option.top,\n          others = __rest(option, [\"type\", \"top\"]);\n\n      var ann = new Annotation[_.upperFirst(type)](_.deepMix({}, __assign({\n        xScales: _this.xScales,\n        yScales: _this.yScales\n      }, _.get(_this.theme, \"annotation.\" + type) ? _this.theme.annotation[type] : {}), others));\n      ann.set('top', top); // 标记渲染图层是否为frontgroundGroup\n\n      _this.annotations.push(ann);\n    });\n  };\n\n  return AnnotationController;\n}();\n\nexport default AnnotationController;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as _ from '@antv/util';\nimport { vec2 as vector2 } from '@antv/matrix-util';\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    isInCircle && path.push(['Z']);\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [[0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __assign } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport Global from '../../global';\nimport { convertNormalPath, convertPolarPath } from '../util/path';\nvar ShapeBase = {\n  _coord: null,\n  getCoord: function getCoord() {\n    return this._coord;\n  },\n\n  /**\n   * 0～1 path 转 画布 path\n   * @param path 路径\n   * @param islineToArc 是否转换成圆弧\n   * @return path 转换到画布坐标的path\n   */\n  parsePath: function parsePath(path, islineToArc) {\n    var coord = this._coord;\n    var parsedPath = pathUtil.parsePathString(path);\n\n    if (coord.isPolar && islineToArc !== false) {\n      parsedPath = convertPolarPath(coord, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coord, parsedPath);\n    }\n\n    return parsedPath;\n  },\n\n  /**\n   * 0～1 point 转 画布 point\n   * @param  point 节点\n   * @return point 转换后的点\n   */\n  parsePoint: function parsePoint(point) {\n    var coord = this._coord;\n    return coord.convertPoint(point);\n  },\n\n  /**\n   * 0～1 points 转 画布 points\n   * @param points 节点集合\n   * @return points 转换后的多个节点\n   */\n  parsePoints: function parsePoints(points) {\n    var coord = this._coord;\n    return points.map(function (point) {\n      return coord.convertPoint(point);\n    });\n  },\n\n  /**\n   * @override\n   * 创建具体的 G.Shape 实例，并将其添加至 container 绘图容器中，在注册具体的 shape 时由开发者自己定义\n   */\n  draw: function draw()\n  /* cfg: ShapeDrawCFG, container: Group */\n  {}\n};\nvar ShapeFactoryBase = {\n  _theme: Global.theme.shape,\n  _coord: null,\n  _getShapeStyleByState: function _getShapeStyleByState(shapeName, shapeState, cfg) {\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var style = theme[elementName][shapeName][shapeState];\n\n      if (_.isFunction(style)) {\n        style = style(cfg);\n      }\n\n      return style;\n    }\n  },\n  defaultShapeType: null,\n  setCoord: function setCoord(coord) {\n    this._coord = coord;\n  },\n  setTheme: function setTheme(theme) {\n    this._theme = theme;\n  },\n  getShape: function getShape(type) {\n    var t = _.isArray(type) ? type[0] : type;\n    var shape = this[t] || this[this.defaultShapeType];\n    shape._coord = this._coord;\n    return shape;\n  },\n  getShapePoints: function getShapePoints(type, pointInfo) {\n    var shape = this.getShape(type);\n    return shape.getPoints ? shape.getPoints(pointInfo) : this.getDefaultPoints(pointInfo);\n  },\n\n  /**\n   * @override\n   */\n  getDefaultPoints: function getDefaultPoints()\n  /* pointInfo: ShapePointInfo */\n  {\n    return [];\n  },\n\n  /**\n   * @override\n   * 获取每个 shape 对应的缩略图样式\n   * @param type 图形类型\n   * @param cfg shape 的绘图属性\n   */\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getMarkerStyle) {\n      var markerStyle = shape.getMarkerStyle(markerCfg);\n      var theme = this._theme;\n      var shapeName = shape.name;\n      var elementName = this.name;\n\n      if (theme && theme[elementName] && theme[elementName][shapeName]) {\n        markerStyle = _.mix({}, theme[elementName][shapeName].default, markerStyle);\n      }\n\n      return markerStyle;\n    }\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的 inactive 样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getInactiveStyle: function getInactiveStyle(type, inactiveCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getInactiveStyle) {\n      return shape.getInactiveStyle(inactiveCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'inactive', inactiveCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的激活样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getActiveStyle: function getActiveStyle(type, activeCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getActiveStyle) {\n      return shape.getActiveStyle(activeCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'active', activeCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的选中样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getSelectedStyle: function getSelectedStyle(type, selectedCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getSelectedStyle) {\n      return shape.getSelectedStyle(selectedCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'selected', selectedCfg);\n  },\n\n  /**\n   * @override\n   * 调用具体的 shape 的绘制方法\n   */\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var defaultShapeStyle = theme[elementName][shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = shape.draw(cfg, container);\n\n    if (gShape) {\n      // TODO 支持 Group\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.yIndex ? cfg.id + cfg.yIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  }\n};\nvar ShapeFactoryMap = {}; // 注册 Element 获取图形的入口\n\nexport function registerShapeFactory(factoryName, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), {\n    name: factoryName\n  });\n\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n} // 注册具体的 shape\n\nexport function registerShape(factoryName, shapeType, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var factory = ShapeFactoryMap[className];\n\n  var shapeObj = __assign(__assign(__assign({}, ShapeBase), cfg), {\n    name: shapeType\n  });\n\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n} // 获取 Element 对应的 shapeFactory\n\nexport function getShapeFactory(factoryName) {\n  var className = _.upperFirst(factoryName);\n\n  return ShapeFactoryMap[className];\n}","import { __spreadArrays } from \"tslib\";\nimport { CanvasCategory, Color, HtmlCategory, Size } from '@antv/component/lib/legend';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar MARKER_SIZE = 4.5;\nvar STROKE_MARKERS = ['cross', 'tick', 'plus', 'hyphen', 'line', 'hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowTriangle', 'hollowTriangleDown', 'hollowHexagon', 'hollowBowtie'];\n\nvar findTargetScale = function findTargetScale(scales, compareScale) {\n  return _.find(scales, function (scale) {\n    var scaleValues = [].concat(scale.values);\n    var compareScaleValues = [].concat(compareScale.values);\n    return scale.type === compareScale.type && scale.field === compareScale.field && _.isEqual(scaleValues.sort(), compareScaleValues.sort());\n  });\n};\n\nvar LegendController =\n/** @class */\nfunction () {\n  function LegendController(cfg) {\n    // 类内部属性\n    // 生成的所有 legend 实例\n    this.legends = [];\n    var view = cfg.view;\n    this.view = view;\n    this.theme = view.get('theme'); // 需要用到 plot 的属性，在这里先定义出来\n  }\n  /**\n   * 生成并渲染 legend\n   */\n\n\n  LegendController.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var legendOptions = this.options; // 没有关闭实例\n\n    if (_.isObject(legendOptions)) {\n      // 用户自定义图例\n      if (legendOptions.custom) {\n        var legend = this.addCustomLegend();\n        this.legends.push(legend);\n      } else {\n        var elements = this.view.getElements();\n        var scales_1 = [];\n\n        _.each(elements, function (element) {\n          var view = element.get('view');\n          var attrs = element.getAttrsForLegend();\n\n          _.each(attrs, function (attr) {\n            var type = attr.type;\n            var scale = attr.getScale(type);\n\n            if (scale && scale.field && scale.type !== 'identity' && !findTargetScale(scales_1, scale)) {\n              scales_1.push(scale);\n              var filteredValues = view.getFilteredOutValues(scale.field);\n\n              var legend = _this.addLegend(legendOptions, scale, attr, element, filteredValues); // 创建成功，则放入到数组中\n\n\n              if (legend) {\n                _this.legends.push(legend);\n              }\n            }\n          });\n        });\n      }\n\n      this.alignLegends();\n    }\n  };\n  /**\n   * todo 显示隐藏图例\n   * @param visible\n   */\n\n\n  LegendController.prototype.changeVisible = function (visible) {\n    _.each(this.legends, function (legend) {\n      /* legend 暂不支持这个方法 */\n      // legend.changeVisible(visible);\n    });\n  };\n  /**\n   * 清空，销毁生成的 legend\n   */\n\n\n  LegendController.prototype.clear = function () {\n    // 1. 销毁 Legends 实例\n    _.each(this.legends, function (legend) {\n      legend.destroy();\n    });\n\n    this.legends = []; // 2. 重置配置\n\n    this.reset();\n  };\n  /**\n   * 重置配置项\n   */\n\n\n  LegendController.prototype.reset = function () {\n    this.init();\n  };\n  /**\n   * 初始化 legend 相关的属性\n   */\n\n\n  LegendController.prototype.init = function () {\n    this.options = this.getLegendOptions();\n    this.panelRange = this.view.get('panelRange');\n    this.viewRange = this.view.get('viewRange');\n    this.container = this.view.get('frontgroundGroup');\n  };\n  /**\n   * 根据相关的配置，添加一个图例\n   * @param legendOptions\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   */\n\n\n  LegendController.prototype.addLegend = function (legendOptions, scale, attr, element, filteredValues) {\n    var field = scale.field;\n    var fieldOption = legendOptions.fields && legendOptions.fields[field];\n\n    if (fieldOption === false) {\n      // 用户关闭 field 对应的图例\n      return;\n    } // 自定义图例\n\n\n    if (fieldOption && fieldOption.custom) {\n      return this.addCustomLegend(field);\n    }\n    /**\n     * 其他情况为连续或者分类图例的创建过程\n     * 取 position 逻辑：\n     * 1. 如果 field 上有，则取 field 上的\n     * 2. 如果 field 上没有，则取全局的 legendOption.position\n     * 3. 如果全局也没有配置，那么给一个默认值，从主题上取\n     */\n\n\n    var position = this.getFieldLegendConfig(field, 'position', this.theme.defaultLegendPosition);\n    position = this.adjustPosition(position);\n    var legend = scale.isLinear ? this.addContinuousLegend(scale, attr, position) : this.addCategoryLegend(scale, attr, element, filteredValues, position);\n\n    if (legend) {\n      this.bindHoverEvent(legend, field);\n    }\n\n    return legend;\n  };\n  /**\n   * 添加连续图例\n   * @param scale\n   * @param attr\n   * @param position\n   */\n\n\n  LegendController.prototype.addContinuousLegend = function (scale, attr, position) {\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var field = scale.field;\n    var ticks = scale.getTicks(); // 构造图例的 items\n\n    var items = _.map(ticks, function (tick) {\n      var value = tick.value; // scale 后的值\n\n      var tickValue = tick.tickValue; // tick text value\n\n      var originalValue = scale.invert(value); // original value\n\n      var attrValue = attr.mapping(originalValue).join('');\n      return {\n        value: tickValue,\n        color: attrValue\n      };\n    });\n\n    var containsMinValue = !!_.find(ticks, function (tick) {\n      return tick.value === 0;\n    });\n    var containsMaxValue = !!_.find(ticks, function (tick) {\n      return tick.value === 1;\n    });\n\n    if (!containsMinValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.min,\n        color: attrValue\n      });\n    }\n\n    if (!containsMaxValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.max,\n        color: attrValue\n      });\n    }\n\n    var legendOptions = this.options;\n    var positionArr = position.split('-');\n    var defaultCfg = this.theme.legend[positionArr[0]]; // 获取默认的图例主题配置\n\n    var legendCfg = _.deepMix({}, defaultCfg, this.getFieldLegendOption(field, legendOptions), {\n      items: items,\n      attr: attr,\n      formatter: scale.formatter,\n      container: container,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.field\n      });\n    }\n\n    var legend;\n\n    if (attr.type === 'color') {\n      legend = new Color(legendCfg);\n    } else if (attr.type === 'size') {\n      legend = new Size(legendCfg);\n    } else {\n      return;\n    }\n\n    this.bindFilterEvent(legend, scale);\n    return legend;\n  };\n  /**\n   * 添加分类图例\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   * @param position\n   */\n\n\n  LegendController.prototype.addCategoryLegend = function (scale, attr, element, filteredValues, position) {\n    var _this = this;\n\n    var legendOptions = this.options;\n    var field = scale.field;\n    var fieldOption = legendOptions.fields ? legendOptions.fields[field] : null;\n    var items = [];\n    var ticks = scale.getTicks();\n    var isByAttr = true;\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || shapeType || 'point';\n\n    if (legendOptions.marker) {\n      // 用户全局自定义图例的marker\n      shape = legendOptions.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    if (fieldOption && fieldOption.marker) {\n      // 用户自定义图例的marker\n      shape = fieldOption.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    var view = this.view;\n    var viewTheme = this.theme;\n    var canvas = view.get('canvas');\n    var panelGroup = view.get('panelGroup');\n    var panelGroupClip = panelGroup.attr('clip');\n    var panelGroupClipBox = panelGroupClip ? panelGroupClip.getBBox() : undefined;\n    var panelRange = view.get('panelRange');\n    var viewRange = view.get('viewRange');\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' // TODO\n    ? panelGroupClipBox ? panelGroupClipBox.height : panelRange.height : panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n\n    _.each(ticks, function (tick) {\n      var text = tick.text;\n      var name = text;\n      var scaleValue = tick.value;\n      var value = scale.invert(scaleValue);\n      var cfg = {\n        isInCircle: element.isInCircle()\n      };\n      var checked = filteredValues ? _this.isFiltered(scale, filteredValues, value) : true;\n      var colorAttr = element.getAttr('color');\n      var shapeAttr = element.getAttr('shape');\n\n      if (colorAttr) {\n        // 存在颜色映射\n        if (colorAttr.callback && colorAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(colorAttr.callback.length - 1).fill('');\n          cfg.color = colorAttr.mapping.apply(colorAttr, __spreadArrays([value], restArgs)).join('') || viewTheme.defaultColor;\n        } else {\n          cfg.color = colorAttr.mapping(value).join('') || viewTheme.defaultColor;\n        }\n      }\n\n      if (isByAttr && shapeAttr && shapeAttr.scales.length) {\n        // 存在形状映射\n        if (shapeAttr.callback && shapeAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(shapeAttr.callback.length - 1).fill('');\n          shape = shapeAttr.mapping.apply(shapeAttr, __spreadArrays([value], restArgs)).join('');\n        } else {\n          shape = shapeAttr.mapping(value).join('');\n        }\n      }\n\n      var shapeObject = getShapeFactory(shapeType);\n      var marker = shapeObject.getMarkerStyle(shape, cfg); // 补充 marker 为自定义形状场景。\n\n      if (_.isFunction(shape)) {\n        marker.symbol = shape;\n      }\n\n      items.push({\n        value: name,\n        dataValue: value,\n        checked: checked,\n        marker: marker\n      });\n    });\n\n    var useHtml = !!legendOptions.useHtml || !!(fieldOption && fieldOption.useHtml);\n    var defaultLegendCfg;\n    var layout;\n    var maxWidth;\n    var maxHeight;\n\n    switch (posArray[0]) {\n      case 'left':\n        /*maxHeight = viewRange.height;\n          maxWidth = panelRange.x - viewRange.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = panelRange.x - viewRange.x;\n        layout = 'vertical';\n        break;\n\n      case 'right':\n        /*maxHeight = viewRange.height;\n          maxWidth = viewRange.tr.x - panelRange.tr.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = viewRange.tr.x - panelRange.tr.x;\n        layout = 'vertical';\n        break;\n\n      case 'top':\n        /*maxHeight = panelRange.tr.y - viewRange.tr.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = panelRange.tr.y - viewRange.tr.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      case 'bottom':\n        /*maxHeight = viewRange.br.y - panelRange.br.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = viewRange.br.y - panelRange.br.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      default:\n        break;\n    }\n\n    if (useHtml) {\n      defaultLegendCfg = _.mix({}, viewTheme.legend.html, {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout\n      });\n    } else {\n      defaultLegendCfg = _.mix({}, viewTheme.legend[posArray[0]], {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout,\n        container: this.container.addGroup({\n          name: 'legend'\n        })\n      });\n    }\n\n    var legendCfg = _.deepMix({}, defaultLegendCfg, legendOptions, fieldOption, {\n      maxLength: maxLength,\n      canvas: canvas,\n      items: items,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.alias || scale.field\n      });\n    }\n\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    this.bindClickEvent(legend, scale, filteredValues, legendCfg.onClick);\n    return legend;\n  };\n  /**\n   * 添加自定义图例\n   * @param field\n   */\n\n\n  LegendController.prototype.addCustomLegend = function (field) {\n    var viewTheme = this.theme;\n    var view = this.view;\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var canvas = container.get('canvas');\n    var panelRange = this.panelRange;\n    var legendOptions = this.options;\n    var fieldOption;\n\n    if (_.isObject(legendOptions)) {\n      fieldOption = legendOptions.fields ? legendOptions.fields[field] : {};\n    }\n\n    var position = fieldOption.position || legendOptions.position || viewTheme.defaultLegendPosition;\n    position = this.adjustPosition(position);\n    var items = fieldOption.items || legendOptions.items;\n\n    if (!items) {\n      return;\n    }\n\n    _.each(items, function (item) {\n      if (!_.isPlainObject(item.marker)) {\n        // 直接传入字符串或者回调函数时转换为对象，如 item.marker = 'circle'\n        item.marker = {\n          symbol: item.marker || 'circle',\n          radius: MARKER_SIZE\n        };\n\n        if (_.contains(STROKE_MARKERS, item.marker.symbol)) {\n          // 支持描边 marker 的绘制\n          item.marker.stroke = item.color;\n        } else {\n          item.marker.fill = item.color;\n        }\n      } else {\n        // 用户传入对象 item.marker = { symbol: 'circle', fill: 'red', radius: 3 }\n        item.marker.radius = item.marker.radius || MARKER_SIZE;\n      }\n\n      var symbol = item.marker.symbol;\n\n      if (_.isString(symbol) && symbol.indexOf('hollow') !== -1) {\n        // 支持 hollowCircle 等\n        item.marker.symbol = _.lowerFirst(symbol.substr(6));\n      }\n\n      item.checked = _.isNil(item.checked) ? true : item.checked;\n    });\n\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' ? panelRange.height : this.viewRange.width;\n\n    var legendCfg = _.deepMix({}, viewTheme.legend[posArray[0]], legendOptions, fieldOption, {\n      maxLength: maxLength,\n      viewTheme: viewTheme,\n      items: items,\n      container: container,\n      canvas: canvas\n    });\n\n    var useHtml = !!legendCfg.useHtml;\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    legend.on('itemclick', function (ev) {\n      if (legendOptions.onClick) {\n        // 用户自定义图例点击事件\n        legendOptions.onClick(ev);\n      }\n    });\n    this.bindHoverEvent(legend); // 用户自定义 hover 图例项的事件交互\n\n    return legend;\n  };\n  /**\n   * 根据 position 布局图例位置，将图例 moveTo 到对应的位置\n   */\n\n\n  LegendController.prototype.alignLegends = function () {\n    var _this = this;\n\n    var totalRegion = this.getRegion();\n    this.totalRegion = totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var i = 0;\n\n    _.each(legendGroup, function (legendItems, position) {\n      var region = totalRegion.subs[i];\n\n      _.each(legendItems, function (legend, index) {\n        var pre = legendItems[index - 1]; // if (!(legend.get('useHtml') && !legend.get('autoPosition'))) {\n\n        _this.alignLegend(legend, pre, region, position); // }\n\n      });\n\n      i++;\n    });\n  };\n  /**\n   * 布局某些方法需要根据view的方法来写\n   * @param legend\n   * @param pre\n   * @param region\n   * @param position\n   */\n\n\n  LegendController.prototype.alignLegend = function (legend, pre, region, position) {\n    var viewTheme = this.theme;\n    var width = this.viewRange.width;\n    var height = this.viewRange.height;\n    var totalRegion = this.totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var backPlot = this.viewRange; // 背景 BBox\n\n    var offsetX = legend.get('offsetX') || 0;\n    var offsetY = legend.get('offsetY') || 0;\n    var legendHeight = legend.getHeight();\n    var legendWidth = legend.getWidth();\n    var borderMargin = viewTheme.legend.margin;\n    var innerMargin = viewTheme.legend.legendMargin;\n    var legendNum = legendGroup[position].length;\n    var posArray = position.split('-');\n    var x = 0;\n    var y = 0;\n    var tempoRegion = legendNum > 1 ? totalRegion : region;\n\n    if (posArray[0] === 'left' || posArray[0] === 'right') {\n      height = backPlot.maxY;\n      x = this.getXAlign(posArray[0], width, region, backPlot, legendWidth, borderMargin);\n\n      if (pre) {\n        var preY = pre.get('y');\n        y = preY + pre.getHeight() + innerMargin;\n      } else {\n        y = this.getYAlignVertical(posArray[1], height, tempoRegion, backPlot, 0, borderMargin, this.viewRange.height);\n      }\n    } else if (posArray[0] === 'top' || posArray[0] === 'bottom') {\n      y = this.getYAlignHorizontal(posArray[0], height, region, backPlot, legendHeight, borderMargin);\n\n      if (pre) {\n        var preWidth = pre.getWidth();\n        var preX = pre.get('x');\n        x = preX + preWidth + innerMargin;\n      } else {\n        x = this.getXAlign(posArray[1], width, tempoRegion, backPlot, legendWidth, borderMargin);\n      }\n    }\n\n    legend.moveTo(x + offsetX, y + offsetY);\n  }; // @ts-ignore\n\n\n  LegendController.prototype.getXAlign = function (pos, width, region, backPlot, legendWidth, borderMargin) {\n    var x = pos === 'left' ? backPlot.minX + borderMargin[3] : backPlot.maxX - borderMargin[1] - legendWidth;\n\n    if (pos === 'center') {\n      x = (width - region.totalWidth) / 2;\n    }\n\n    return x;\n  };\n\n  LegendController.prototype.getYAlignHorizontal = function (pos, height, region, backPlot, legendHeight, borderMargin) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - borderMargin[2] - legendHeight;\n    return y;\n  };\n\n  LegendController.prototype.getYAlignVertical = function (pos, height, region, backPlot, legendHeight, borderMargin, canvasHeight) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - region.totalHeight - borderMargin[2];\n\n    if (pos === 'center') {\n      // y = (canvasHeight - region.totalHeight) / 2;\n      y = backPlot.minY + (backPlot.height - region.totalHeight) / 2;\n    }\n\n    return y;\n  };\n\n  LegendController.prototype.adjustPosition = function (position) {\n    var positionArr = position.split('-');\n\n    if (positionArr.length === 1) {\n      var pos = positionArr[0];\n      return pos === 'left' ? 'left-bottom' : pos === 'right' ? 'right-bottom' : pos === 'top' ? 'top-center' : pos === 'bottom' ? 'bottom-center' : '';\n    }\n\n    return positionArr.slice(0, 2).join('-');\n  };\n\n  LegendController.prototype.bindClickEvent = function (legend, scale, filteredValues, onClick) {\n    var _this = this;\n\n    var view = this.view;\n    var field = scale.field;\n    legend.on('itemclick', function (ev) {\n      if (onClick) {\n        // 用户自定义图例点击交互行为\n        onClick(ev);\n      } else {\n        var item = ev.item;\n        var checked = ev.checked;\n        var isSingeSelected_1 = legend.get('selectedMode') === 'single'; // 图例的选中模式\n\n        var clickedValue_1 = item.dataValue; // import: 需要取该图例项原始的数值\n\n        if (checked) {\n          _.pull(filteredValues, clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return isSingeSelected_1 ? f === clickedValue_1 : !_.contains(filteredValues, f);\n            });\n          }\n        } else if (!isSingeSelected_1) {\n          // 未选中状态\n          filteredValues.push(clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return !_.contains(filteredValues, f);\n            });\n          }\n        }\n\n        view.set('keepLegend', true); // 图例不重新渲染\n        // view.set('keepPadding', true); // 边框不重新计算\n\n        view.repaint(); // 在动画开启的状态下，图例过滤会触发更新动画，需要设置 view.set('isUpdate', true);\n        // view.set('keepPadding', false);\n\n        view.set('keepLegend', false);\n      }\n    });\n  };\n  /* 图例的 hover 事件 */\n\n\n  LegendController.prototype.bindHoverEvent = function (legend, field) {\n    var onMouseover = legend.get('onMouseover');\n    var onMouseleave = legend.get('onMouseleave');\n    legend.on('itemmouseover', function (ev) {\n      if (onMouseover) {\n        // 由用户自定义 onHover 交互行为\n        onMouseover(ev);\n      }\n    });\n    legend.on('itemmouseleave', function (ev) {\n      if (onMouseleave) {\n        onMouseleave(ev);\n      }\n    });\n  };\n\n  LegendController.prototype.getRegion = function () {\n    var _this = this;\n\n    var theme = this.theme;\n    var innerMargin = theme.legend.legendMargin;\n    var subs = [];\n    var totalWidth = 0;\n    var totalHeight = 0;\n    var legendGroup = this.groupLegendByPosition();\n\n    _.each(legendGroup, function (legendItems) {\n      var subRegion = _this.getSubRegion(legendItems);\n\n      subs.push(subRegion);\n      totalWidth += subRegion.totalWidth + innerMargin;\n      totalHeight += subRegion.totalHeight + innerMargin;\n    });\n\n    return {\n      totalWidth: totalWidth,\n      totalHeight: totalHeight,\n      subs: subs\n    };\n  };\n\n  LegendController.prototype.getSubRegion = function (legends) {\n    var maxWidth = 0;\n    var maxHeight = 0;\n    var totalWidth = 0;\n    var totalHeight = 0;\n\n    _.each(legends, function (legend) {\n      var width = legend.getWidth();\n      var height = legend.getHeight();\n\n      if (maxWidth < width) {\n        maxWidth = width;\n      }\n\n      totalWidth += width;\n\n      if (maxHeight < height) {\n        maxHeight = height;\n      }\n\n      totalHeight += height;\n    });\n\n    return {\n      maxWidth: maxWidth,\n      totalWidth: totalWidth,\n      maxHeight: maxHeight,\n      totalHeight: totalHeight\n    };\n  };\n\n  LegendController.prototype.isFiltered = function (scale, filterVals, scaleValue) {\n    if (!scale.isCategory) {\n      return true;\n    }\n\n    var rst = true;\n\n    _.each(filterVals, function (val) {\n      if (scale.getText(val) === scale.getText(scaleValue)) {\n        rst = false;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  LegendController.prototype.isFieldInView = function (field, value) {\n    var flag = false;\n    var scales = this.view.get('scales');\n    var fieldScale = scales[field];\n\n    if (fieldScale && fieldScale.values) {\n      flag = _.contains(fieldScale.values, value);\n    }\n\n    return flag;\n  };\n\n  LegendController.prototype.getLegendOptions = function () {\n    return _.get(this.view.get('options'), 'legends', {} // 默认为空\n    );\n  };\n  /**\n   * 拿某一个字段上图例的配置，举例 position\n   * 如果 field 上拿不到则使用 全局的，如果全局也没有，那么使用主题配置的默认\n   * @param key\n   * @param filed\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendConfig = function (filed, key, defaultValue) {\n    var legendOptions = this.options;\n\n    var fieldOption = _.get(legendOptions, \"fields.\" + filed, {});\n\n    return fieldOption[key] ? fieldOption[key] : legendOptions[key] ? legendOptions[key] : defaultValue;\n  };\n  /**\n   * 连续图例，监听 item filter 事件\n   * @param legend\n   * @param scale\n   */\n\n\n  LegendController.prototype.bindFilterEvent = function (legend, scale) {\n    var _this = this;\n\n    var field = scale.field;\n    legend.on('itemfilter', function (_a) {\n      var range = _a.range;\n      var min = range[0],\n          max = range[1]; // 根据 legend 范围来\n\n      _this.filterShape(field, min, max); // todo heatmap 特殊逻辑\n      // const elements = this.view.getElements();\n      // _.each(elements, (element: Element) => {\n      //   if (element.get('type') === 'heatmap') {\n      //     _.requestAnimationFrame(() => {\n      //       element.drawWithRange(range);\n      //     });\n      //   }\n      // });\n\n    });\n  };\n  /**\n   * 过滤 view 中的 shape，超过范围的隐藏，范围内的显示\n   * @param field 字段\n   * @param min 最小值\n   * @param max 最大值\n   */\n\n\n  LegendController.prototype.filterShape = function (field, min, max) {\n    var _this = this;\n\n    var callback = function callback(record, shape, element, view) {\n      var v = record[field];\n\n      if (_.isNil(v)) {\n        shape.show();\n      } else {\n        var visible = v >= min && v <= max; // shape 带 label，则还需要隐藏 label\n\n        _this.filterLabels(shape, element, visible); // 显示还是隐藏 shape\n\n\n        visible ? shape.show() : shape.hide();\n      }\n    }; // 针对 view 中的每一个 shape 执行 callback\n\n\n    this.view.eachShape(callback);\n  };\n  /**\n   * 根据位置进行图例分类\n   * @param position 图例位置\n   */\n\n\n  LegendController.prototype.groupLegendByPosition = function () {\n    return _.groupBy(this.legends, function (legend) {\n      return legend.get('position');\n    });\n  };\n  /**\n   * 处理 shape 上的 label 显示还是隐藏\n   * @param shape\n   * @param element\n   * @param visible\n   */\n\n\n  LegendController.prototype.filterLabels = function (shape, element, visible) {\n    if (shape.get('gLabel')) {\n      // shape 中缓存了 gLabel Shape\n      shape.get('gLabel').set('visible', visible);\n    } else {\n      /* 从 label 中获取 shape 对应的 label item */\n      var labelOptions = element.get('labelOptions');\n\n      if (!_.isEmpty(_.get(labelOptions, 'fields'))) {\n        var xField_1 = element.getXScale().field;\n        var yField_1 = element.getYScale().field;\n\n        var shapeData_1 = shape.get('origin')._origin;\n\n        var labels = element.get('labels');\n\n        _.each(labels, function (label) {\n          var labelData = label.get('origin') || [];\n\n          if (labelData[xField_1] === shapeData_1[xField_1] && labelData[yField_1] === shapeData_1[yField_1]) {\n            label.set('visible', visible);\n            shape.set('gLabel', label);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * 获取某一个字段的 legendOption；如果不存在字段配置，则使用全局配置\n   * @param field\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendOption = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.getLegendOptions(), \"fields.\" + field, defaultValue);\n  };\n\n  return LegendController;\n}();\n\nexport default LegendController;","import { Axis } from '@antv/component';\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction formatTicks(ticks) {\n  var tmp = [];\n\n  if (ticks.length) {\n    tmp = ticks.slice(0);\n    var first = tmp[0];\n    var last = tmp[tmp.length - 1];\n\n    if (first.value !== 0) {\n      tmp.unshift({\n        value: 0\n      });\n    }\n\n    if (last.value !== 1) {\n      tmp.push({\n        value: 1\n      });\n    }\n  }\n\n  return tmp;\n}\n\nfunction fillAxisTicks(ticks, isLinear, gridCentering) {\n  var result = [];\n\n  if (!ticks.length) {\n    return result;\n  }\n\n  if (ticks.length >= 2 && isLinear && gridCentering) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  if (ticks[0].value !== 0) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  result = result.concat(ticks);\n\n  if (result[result.length - 1].value !== 1) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 1\n    });\n  }\n\n  return result;\n}\n\nfunction getDefaultValueFromPosition(position, v) {\n  if (v === void 0) {\n    v = 0;\n  }\n\n  var val = v;\n\n  if (position === 'middle') {\n    val = 0.5;\n  }\n\n  if (position.indexOf('%') !== -1) {\n    val = parseInt(position, 10) / 100;\n  }\n\n  return val;\n}\n\nvar AxisController =\n/** @class */\nfunction () {\n  function AxisController(cfg) {\n    this.title = null;\n    this.visible = true;\n    this.canvas = null;\n    this.container = null;\n    this.coord = null;\n    this.options = null;\n    this.axes = [];\n    this.theme = null;\n\n    _.mix(this, cfg);\n  }\n\n  AxisController.prototype.createAxis = function (xScale, yScales, viewId) {\n    var _this = this;\n\n    var coord = this.coord;\n    var coordType = coord.type; // theta坐标系默认不绘制坐标轴\n\n    if (coordType !== 'theta' && !(coordType === 'polar' && coord.isTransposed)) {\n      var xAxis_1;\n\n      if (xScale && !this._isHide(xScale.field)) {\n        xAxis_1 = this._drawAxis(coord, xScale, yScales[0], 'x', viewId); // 绘制 x 轴\n      }\n\n      if (!_.isEmpty(yScales) && coordType !== 'helix') {\n        _.each(yScales, function (yScale, index) {\n          if (!_this._isHide(yScale.field)) {\n            _this._drawAxis(coord, yScale, xScale, 'y', viewId, xAxis_1, index);\n          }\n        });\n      }\n    }\n  };\n\n  AxisController.prototype.changeVisible = function (visible) {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.set('visible', visible);\n    });\n  };\n\n  AxisController.prototype.clear = function () {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.clear();\n    });\n\n    this.axes = [];\n  }; // 根据字段名获取对应的坐标轴配置\n\n\n  AxisController.prototype._getAxisOptionByField = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.options, \"fields.\" + field, defaultValue);\n  }; // 对应的坐标轴是否隐藏\n\n\n  AxisController.prototype._isHide = function (field) {\n    return this._getAxisOptionByField(field) === false;\n  };\n\n  AxisController.prototype._getMiddleValue = function (curValue, ticks, index, isLinear) {\n    if (curValue === 0 && !isLinear) {\n      return 0;\n    }\n\n    if (curValue === 1) {\n      return 1;\n    }\n\n    var nextValue = ticks[index + 1].value;\n\n    if (!isLinear && nextValue === 1) {\n      return 1;\n    }\n\n    return (curValue + nextValue) / 2;\n  };\n\n  AxisController.prototype._getLineRange = function (coord, scale, dimType, index) {\n    var start;\n    var end;\n    var isVertical;\n    var field = scale.field;\n    var position = this._getAxisOptionByField(field).position || ''; // 获取用户自己配置的 position\n    // TODO middle & percentage for position\n\n    if (dimType === 'x') {\n      // x轴的坐标轴,底部的横坐标\n      var y = position === 'top' ? 1 : 0;\n      y = getDefaultValueFromPosition(position, y);\n      start = {\n        x: 0,\n        y: y\n      };\n      end = {\n        x: 1,\n        y: y\n      };\n      isVertical = false;\n    } else {\n      // y轴坐标轴\n      if (index) {\n        // 多轴的情况\n        var x = position === 'left' ? 0 : 1;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      } else {\n        // 单个y轴，或者第一个y轴\n        var x = position === 'right' ? 1 : 0;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      }\n\n      isVertical = true;\n    }\n\n    start = coord.convert(start);\n    end = coord.convert(end);\n    return {\n      start: start,\n      end: end,\n      isVertical: isVertical\n    };\n  };\n\n  AxisController.prototype._getLineCfg = function (coord, scale, dimType, index) {\n    var factor;\n\n    var range = this._getLineRange(coord, scale, dimType, index);\n\n    var start = range.start,\n        end = range.end;\n    var center = coord.center,\n        isTransposed = coord.isTransposed;\n    var isVertical = isTransposed ? !range.isVertical : range.isVertical; // 标识该坐标轴是否是纵坐标\n\n    if (isVertical && start.x > center.x || !isVertical && start.y > center.y) {\n      factor = 1;\n    } else {\n      factor = -1;\n    }\n\n    return {\n      isVertical: isVertical,\n      factor: factor,\n      start: start,\n      end: end\n    };\n  }; // 获取圆弧坐标轴配置项信息\n\n\n  AxisController.prototype._getCircleCfg = function (coord) {\n    var rangeX = coord.x,\n        rangeY = coord.y,\n        isTransposed = coord.isTransposed,\n        center = coord.circleCenter,\n        innerRadius = coord.innerRadius;\n    var isReflectY = rangeY.start > rangeY.end;\n    var start;\n\n    if (isTransposed) {\n      start = {\n        x: isReflectY ? 0 : 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: isReflectY ? 0 : 1\n      };\n    }\n\n    start = coord.convert(start);\n    var startVector = [start.x - center.x, start.y - center.y];\n    var normalVector = [1, 0];\n    var startAngle;\n\n    if (start.y > center.y) {\n      startAngle = vec2.angle(startVector, normalVector);\n    } else {\n      startAngle = vec2.angle(startVector, normalVector) * -1;\n    }\n\n    var endAngle = startAngle + (rangeX.end - rangeX.start);\n    return {\n      startAngle: startAngle,\n      endAngle: endAngle,\n      center: center,\n      radius: Math.sqrt(Math.pow(start.x - center.x, 2) + Math.pow(start.y - center.y, 2)),\n      inner: innerRadius || 0\n    };\n  };\n\n  AxisController.prototype._getRadiusCfg = function (coord) {\n    var startAngle = coord.x.start;\n    var factor = startAngle < 0 ? -1 : 1;\n    var start;\n    var end;\n\n    if (coord.isTransposed) {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 0,\n        y: 1\n      };\n    }\n\n    return {\n      factor: factor,\n      start: coord.convert(start),\n      end: coord.convert(end)\n    };\n  };\n\n  AxisController.prototype._getHelixCfg = function (coord) {\n    var helixCfg = {};\n    var a = coord.a,\n        startAngle = coord.startAngle,\n        endAngle = coord.endAngle,\n        center = coord.center,\n        y = coord.y;\n    var index = 100;\n    var crp = [];\n\n    for (var i = 0; i <= index; i++) {\n      var point = coord.convert({\n        x: i / 100,\n        y: 0\n      });\n      crp.push(point.x);\n      crp.push(point.y);\n    }\n\n    var axisStart = coord.convert({\n      x: 0,\n      y: 0\n    });\n    return {\n      a: a,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      crp: crp,\n      axisStart: axisStart,\n      center: center,\n      inner: y.start\n    };\n  }; // 确定坐标轴的位置\n\n\n  AxisController.prototype._getAxisPosition = function (coord, dimType, index, field) {\n    if (this._getAxisOptionByField(field).position) {\n      // 用户自己定义了 position\n      return this._getAxisOptionByField(field).position;\n    }\n\n    var position = '';\n    var coordType = coord.type;\n\n    if (coord.isRect) {\n      if (dimType === 'x') {\n        position = 'bottom';\n      } else if (dimType === 'y') {\n        if (index) {\n          position = 'right';\n        } else {\n          position = 'left';\n        }\n      }\n    } else if (coordType === 'helix') {\n      position = 'helix';\n    } else if (dimType === 'x') {\n      position = coord.isTransposed ? 'radius' : 'circle';\n    } else {\n      position = coord.isTransposed ? 'circle' : 'radius';\n    }\n\n    return position;\n  }; // 获取坐标轴构成的配置信息\n\n\n  AxisController.prototype._getAxisDefaultCfg = function (coord, scale, type, position) {\n    var theme = this.theme;\n    var field = scale.field;\n    var cfg = {\n      coord: coord,\n      theme: theme.axis[position]\n    };\n    cfg = _.deepMix({}, theme.axis[position], cfg, this._getAxisOptionByField(field));\n\n    if (cfg.showTitle) {\n      // 展示坐标轴标题\n      var title = _.get(cfg, 'title', {});\n\n      title.text = title.text || scale.alias || field;\n\n      _.deepMix(cfg, {\n        title: title\n      });\n    }\n\n    cfg.ticks = scale.getTicks();\n\n    if (coord.isPolar && !scale.isCategory) {\n      if (type === 'x' && Math.abs(coord.endAngle - coord.startAngle) === Math.PI * 2) {\n        cfg.ticks.pop();\n      }\n    }\n\n    return cfg;\n  }; // 确定坐标轴的配置信息\n\n\n  AxisController.prototype._getAxisCfg = function (coord, scale, verticalScale, dimType, index, viewId) {\n    var _this = this;\n\n    if (index === void 0) {\n      index = '';\n    }\n\n    var position = this._getAxisPosition(coord, dimType, index, scale.field);\n\n    var cfg = this._getAxisDefaultCfg(coord, scale, dimType, position);\n\n    if (cfg.grid && verticalScale) {\n      // 生成 gridPoints\n      var gridPoints_1 = [];\n      var verticalTicks_1 = formatTicks(verticalScale.getTicks()); // 没有垂直的坐标点时不绘制栅格\n\n      if (verticalTicks_1.length) {\n        var ticks_1 = fillAxisTicks(cfg.ticks, scale.isLinear, cfg.gridAlign === 'center');\n\n        _.each(ticks_1, function (tick, idx) {\n          var subPoints = [];\n          var value = tick.value;\n\n          if (cfg.gridAlign === 'center') {\n            value = _this._getMiddleValue(value, ticks_1, idx, scale.isLinear);\n          }\n\n          if (!_.isNil(value)) {\n            var rangeX_1 = coord.x;\n            var rangeY_1 = coord.y;\n\n            _.each(verticalTicks_1, function (verticalTick) {\n              var x = dimType === 'x' ? value : verticalTick.value;\n              var y = dimType === 'x' ? verticalTick.value : value;\n              var point = coord.convert({\n                x: x,\n                y: y\n              });\n\n              if (coord.isPolar) {\n                var center = coord.circleCenter;\n\n                if (rangeY_1.start > rangeY_1.end) {\n                  y = 1 - y;\n                }\n\n                point.flag = rangeX_1.start > rangeX_1.end ? 0 : 1;\n                point.radius = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n              }\n\n              subPoints.push(point);\n            });\n\n            gridPoints_1.push({\n              id: viewId + \"-\" + dimType + index + \"-grid-\" + tick.tickValue,\n              points: subPoints\n            });\n          }\n        });\n      }\n\n      cfg.gridPoints = gridPoints_1;\n    }\n\n    return cfg;\n  };\n\n  AxisController.prototype._drawAxis = function (coord, scale, verticalScale, dimType, viewId, xAxis, index) {\n    var container = this.container;\n    var canvas = this.canvas;\n    var C; // 坐标轴类\n\n    var appendCfg; // 每个坐标轴 start end 等绘制边界的信息\n\n    if (coord.type === 'cartesian') {\n      C = Axis.Line;\n      appendCfg = this._getLineCfg(coord, scale, dimType, index);\n    } else if (coord.type === 'helix' && dimType === 'x') {\n      C = Axis.Helix;\n      appendCfg = this._getHelixCfg(coord);\n    } else if (dimType === 'x') {\n      C = Axis.Circle;\n      appendCfg = this._getCircleCfg(coord);\n    } else {\n      C = Axis.Line;\n      appendCfg = this._getRadiusCfg(coord);\n    }\n\n    var cfg = this._getAxisCfg(coord, scale, verticalScale, dimType, index, viewId);\n\n    cfg = _.mix({}, cfg, appendCfg);\n\n    if (dimType === 'y' && xAxis && xAxis.get('type') === 'circle') {\n      cfg.circle = xAxis;\n    }\n\n    cfg.id = !_.isNil(index) ? viewId + \"-\" + dimType + index : viewId + \"-\" + dimType;\n\n    _.mix(cfg, {\n      canvas: canvas,\n      group: container.addGroup()\n    });\n\n    var axis = new C(cfg);\n    axis.render();\n    this.axes.push(axis);\n    return axis;\n  };\n\n  return AxisController;\n}();\n\nexport default AxisController;","import { Tooltip } from '@antv/component';\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar Vector2 = matrixUtil.vec2;\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path']; // 默认展示 tooltip marker 的几何图形\n\nvar TYPE_SHOW_CROSSHAIRS = ['line', 'area']; // 默认展示十字瞄准线的几何图形\n// TODO FIXME this is HARD CODING\n\nvar IGNORE_TOOLTIP_ITEM_PROPERTIES = ['marker', 'showMarker'];\n\nvar _indexOfArray = function _indexOfArray(items, item) {\n  var rst = -1;\n\n  _.each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (item.hasOwnProperty(key) && IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key) === -1) {\n        if (!_.isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n\n  return rst;\n}; // 判断是否有样式\n\n\nvar _hasClass = function _hasClass(dom, className) {\n  var cls = dom.className;\n  return cls && cls.indexOf(className) !== -1;\n};\n\nvar _isParent = function _isParent(dom, cls) {\n  var parent = dom.parentNode;\n  var rst = false;\n\n  while (parent && parent !== document.body) {\n    if (_hasClass(parent, cls)) {\n      rst = true;\n      break;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return rst;\n}; // 去除重复的值, 去除不同图形相同数据，只展示一份即可\n\n\nvar _uniqItems = function _uniqItems(items) {\n  var tmp = [];\n\n  _.each(items, function (item) {\n    var index = _indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n\n  return tmp;\n};\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(cfg) {\n    var _this = this;\n\n    this.timeStamp = 0;\n\n    this.onMouseMove = function (ev) {\n      var group = _this.view.get('panelGroup');\n\n      var lastTimeStamp = _this.timeStamp;\n      var timeStamp = +new Date();\n      var point = {\n        x: ev.x - (group.get('x') || 0),\n        y: ev.y - (group.get('y') || 0)\n      };\n\n      if (timeStamp - lastTimeStamp > 16) {\n        _this.showTooltip(point, _this.view, ev.target);\n\n        _this.timeStamp = timeStamp;\n      }\n    };\n\n    this.onMouseOut = function (ev) {\n      // const tooltip = this.tooltip;\n      // if (!tooltip.get('visible') || !tooltip.get('follow')) {\n      //   return;\n      // }\n      if (ev && !ev.event) {\n        // 如果鼠标 hover 到 tooltipContainer 内容框上不需要 hideTooltip\n        return;\n      }\n\n      _this.hideTooltip();\n    };\n\n    _.assign(this, cfg);\n  }\n\n  TooltipController.prototype.renderTooltip = function () {\n    var _this = this;\n\n    if (this.tooltip) {\n      // tooltip 对象已经创建\n      return;\n    }\n\n    var view = this.view;\n    var theme = this.theme;\n\n    var canvas = this._getCanvas();\n\n    var defaultCfg = this._getDefaultTooltipOptions();\n\n    var options = this.options;\n    options = _.deepMix({\n      panelGroup: view.get('panelGroup'),\n      panelRange: view.get('panelRange'),\n      capture: false,\n      canvas: canvas,\n      frontgroundGroup: view.get('frontgroundGroup'),\n      theme: theme.tooltip,\n      backgroundGroup: view.get('backgroundGroup')\n    }, defaultCfg, options);\n\n    if (options.crosshairs && options.crosshairs.type === 'rect') {\n      options.zIndex = 0; // toolip 背景框不可遮盖住 geom，防止用户配置了 crosshairs\n    }\n\n    options.visible = false;\n    var tooltip;\n\n    if (options.useHtml) {\n      tooltip = new Tooltip.Html(options);\n\n      var triggerEvent_1 = this._getTriggerEvent();\n\n      if (!tooltip.get('enterable') && triggerEvent_1 === 'panel:mousemove') {\n        var tooltipContainer = tooltip.get('container');\n\n        if (tooltipContainer) {\n          tooltipContainer.onmousemove = function (e) {\n            // 避免 tooltip 频繁闪烁\n            var eventObj = _this._normalizeEvent(e);\n\n            view.emit(triggerEvent_1, eventObj);\n          };\n        }\n      }\n    } else {\n      tooltip = new Tooltip.Canvas(options);\n    }\n\n    this.tooltip = tooltip; // 需要保存当前 tooltip 的配置项，否则当用户关闭 tooltip 再手动调用 view.showTooltip() 时会报错\n\n    this.options = options;\n\n    this._bindEvent();\n  };\n\n  TooltipController.prototype._normalizeEvent = function (event) {\n    var view = this.view;\n\n    var canvas = this._getCanvas();\n\n    var point = canvas.getPointByClient(event.clientX, event.clientY);\n    var pixelRatio = canvas.get('pixelRatio');\n    point.x = point.x / pixelRatio;\n    point.y = point.y / pixelRatio;\n    point.view = view;\n    return point;\n  };\n\n  TooltipController.prototype.hideTooltip = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip.get('visible')) {\n      // 优化，只有 tooltip 处于 visible: true 状态时才隐藏，否则会造成 canvas 的不断重绘\n      var view = this.view;\n\n      var canvas = this._getCanvas();\n\n      this.prePoint = null;\n      tooltip.hide();\n      view.emit('tooltip:hide', {\n        tooltip: tooltip\n      });\n      view.setActive(function () {\n        return false;\n      });\n      canvas.draw();\n    }\n  };\n\n  TooltipController.prototype.showTooltip = function (point, view, target) {\n    var _this = this;\n\n    if (!point) {\n      return;\n    }\n\n    if (!this.tooltip) {\n      this.renderTooltip(); // 如果一开始 tooltip 关闭，用户重新调用的时候需要先生成 tooltip\n    }\n\n    var options = this.options;\n    var markersItems = [];\n    var items = [];\n    var elements = view.getElements();\n    var coord = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n\n      if (element.get('visible') && element.get('tooltipOptions') !== false) {\n        var dataArray = element.get('dataArray');\n\n        if (element.isShareTooltip() || _.contains(['area', 'line', 'path'], type)) {\n          // area、line、path 四种几何标记以及共享 tooltip 的场景使用数据查找策略\n          _.each(dataArray, function (data) {\n            var tmpPoint = element.findPoint(point, data);\n\n            if (tmpPoint) {\n              var subItems = element.getTooltipItems(tmpPoint, options.title);\n\n              _.each(subItems, function (v) {\n                // tslint:disable-next-line: no-shadowed-variable\n                var point = v.point;\n\n                if (!_.isNil(point) && !_.isNil(point.x) && !_.isNil(point.y)) {\n                  // hotfix: make sure there is no null value\n                  var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n                  var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n                  point = coord.applyMatrix(x, y, 1);\n                  v.x = point[0];\n                  v.y = point[1];\n                  v.showMarker = true;\n\n                  var itemMarker = _this._getItemMarker(element, v.color);\n\n                  v.marker = itemMarker;\n\n                  if (_.indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n                    markersItems.push(v);\n                  }\n                }\n              });\n\n              items = items.concat(subItems);\n            }\n          });\n        } else {\n          var shapeContainer = element.get('shapeContainer');\n          var canvas = shapeContainer.get('canvas');\n          var pixelRatio = canvas.get('pixelRatio');\n          var shape = shapeContainer.getShape(point.x * pixelRatio, point.y * pixelRatio);\n\n          if (shape && shape.get('visible') && shape.get('origin')) {\n            items = element.getTooltipItems(shape.get('origin'), options.title);\n          }\n        }\n      }\n    });\n\n    _.each(items, function (item) {\n      // tslint:disable-next-line: no-shadowed-variable\n      var point = item.point;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n      point = coord.applyMatrix(x, y, 1);\n      item.x = point[0];\n      item.y = point[1];\n    });\n\n    if (items.length) {\n      var first_1 = items[0]; // bugfix: multiple tooltip items with different titles\n\n      if (!items.every(function (item) {\n        return item.title === first_1.title;\n      })) {\n        var nearestItem_1 = first_1;\n        var nearestDistance_1 = Infinity;\n        items.forEach(function (item) {\n          var distance = Vector2.distance([point.x, point.y], [item.x, item.y]);\n\n          if (distance < nearestDistance_1) {\n            nearestDistance_1 = distance;\n            nearestItem_1 = item;\n          }\n        });\n        items = items.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n        markersItems = markersItems.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n      }\n\n      if (options.shared === false && items.length > 1) {\n        var snapItem_1 = items[0];\n        var min_1 = Math.abs(point.y - snapItem_1.y);\n\n        _.each(items, function (aItem) {\n          if (Math.abs(point.y - aItem.y) <= min_1) {\n            snapItem_1 = aItem;\n            min_1 = Math.abs(point.y - aItem.y);\n          }\n        });\n\n        if (snapItem_1 && !_.isNil(snapItem_1.x) && !_.isNil(snapItem_1.y)) {\n          markersItems = [snapItem_1];\n        }\n\n        items = [snapItem_1];\n      }\n\n      this._setTooltip(point, items, markersItems, target); // 使查找到的数据对应的 shape 处于 active 状态\n      // 应该在每次出现 tooltip 的时候就 active 对应的 shapes\n\n\n      view.setActive(function (obj) {\n        var result = false;\n\n        _.each(items, function (item) {\n          var origin = item.point._origin;\n\n          if (origin === obj) {\n            result = true;\n            return false;\n          }\n        });\n\n        return result;\n      }, false);\n    } else {\n      this.hideTooltip();\n    }\n  };\n\n  TooltipController.prototype.clear = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip) {\n      tooltip.destroy();\n    }\n\n    this.tooltip = null;\n    this.prePoint = null;\n\n    this._offEvent();\n  };\n\n  TooltipController.prototype._getCanvas = function () {\n    return this.view.get('canvas');\n  };\n\n  TooltipController.prototype._getTriggerEvent = function () {\n    var triggerOn = _.get(this.options, 'triggerOn');\n\n    var eventName;\n\n    if (!triggerOn || triggerOn === 'mousemove') {\n      eventName = 'panel:mousemove';\n    } else if (triggerOn === 'click') {\n      eventName = 'panel:click';\n    } else if (triggerOn === 'none') {\n      eventName = null;\n    }\n\n    return eventName;\n  };\n\n  TooltipController.prototype._getDefaultTooltipOptions = function () {\n    var view = this.view;\n    var options = this.options;\n    var theme = this.theme;\n\n    var defaultCfg = _.mix({}, theme.tooltip);\n\n    var elements = _.filter(view.getElements(), function (element) {\n      return element.get('visible');\n    });\n\n    var shapes = _.uniq(_.map(elements, function (element) {\n      return element.get('type');\n    }));\n\n    var isTransposed = view.get('coord') ? view.get('coord').isTransposed : false;\n    var crosshairsCfg;\n\n    if (view.get('coord') && view.get('coord').type === 'cartesian') {\n      if (shapes[0] === 'interval') {\n        if (options.shape !== false) {\n          var crosshairs = _.mix({}, theme.tooltipCrosshairsRect);\n\n          crosshairs.isTransposed = isTransposed;\n          crosshairsCfg = {\n            zIndex: 0,\n            crosshairs: crosshairs\n          };\n        }\n      } else if (_.indexOf(TYPE_SHOW_CROSSHAIRS, shapes[0]) > -1) {\n        var crosshairs = _.mix({}, theme.tooltipCrosshairsLine);\n\n        crosshairs.isTransposed = isTransposed;\n        crosshairsCfg = {\n          crosshairs: crosshairs\n        };\n      }\n    }\n\n    return _.mix(defaultCfg, crosshairsCfg);\n  };\n\n  TooltipController.prototype._bindEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.on(triggerEvent, this.onMouseMove);\n      view.on('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._offEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.off(triggerEvent, this.onMouseMove);\n      view.off('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._setTooltip = function (point, _items, markersItems, target) {\n    var tooltip = this.tooltip;\n    var prePoint = this.prePoint;\n\n    if (!prePoint || prePoint.x !== point.x || prePoint.y !== point.y) {\n      var items = _uniqItems(_items);\n\n      this.prePoint = point;\n      var view = this.view;\n      var theme = this.theme;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n\n      if (!tooltip.get('visible')) {\n        view.emit('tooltip:show', {\n          x: x,\n          y: y,\n          tooltip: tooltip\n        });\n      }\n\n      var first = items[0];\n      var title = first.title || first.name;\n\n      if (tooltip.isContentChange(title, items)) {\n        view.emit('tooltip:change', {\n          tooltip: tooltip,\n          x: x,\n          y: y,\n          items: items\n        }); // bugfix: when set the title in the tooltip:change event does not take effect.\n\n        title = items[0].title || items[0].name;\n        tooltip.setContent(title, items);\n\n        if (!_.isEmpty(markersItems)) {\n          if (this.options.showTooltipMarkers === false) {\n            // 不展示 tooltip marker\n            // @ts-ignore\n            tooltip.set('markerItems', markersItems); // 用于 tooltip 辅助线的定位\n          } else {\n            tooltip.setMarkers(markersItems, theme.tooltipMarker);\n          }\n        } else {\n          tooltip.clearMarkers(); // clearMarkers 只会将 markerItems 从 markerGroup 中移除\n          // 所以我们还要将 markerItems 从 tooltip 中移除\n          // 这么做是为了防止上一次设置 marker 时的 markerItems 影响此次 tooltip 辅助线的定位\n          // @ts-ignore\n\n          tooltip.set('markerItems', []);\n        }\n      }\n\n      tooltip.setPosition(x + (view.get('panelGroup').get('x') || 0), y + (view.get('panelGroup').get('y') || 0), target);\n      tooltip.show();\n    }\n  };\n\n  TooltipController.prototype._getItemMarker = function (element, color) {\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || 'circle';\n    var shapeObject = getShapeFactory(shapeType);\n    var cfg = {\n      color: color\n    };\n    var marker = shapeObject.getMarkerStyle(shape, cfg);\n    return marker;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign } from \"tslib\";\n\nvar ShapeStateController =\n/** @class */\nfunction () {\n  function ShapeStateController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null\n      };\n    }\n\n    this._states = {};\n    this._stateStack = {};\n    this.view = cfg.view;\n  }\n\n  ShapeStateController.prototype.setState = function (name, exp, draw) {\n    this._stateStack[name] = {\n      exp: exp,\n      draw: draw\n    };\n\n    this._onUpdate();\n  };\n\n  ShapeStateController.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  ShapeStateController.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  ShapeStateController.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  ShapeStateController.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      for (var name_1 in stateStack) {\n        var state = stateStack[name_1];\n        var exp = state.exp;\n\n        if (!_this._states[name_1] || _this._states[name_1] !== exp) {\n          // update states\n          _this._states[name_1] = exp; // dispatch state event\n\n          _this._triggerEvent(name_1, state);\n        }\n      } // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  ShapeStateController.prototype._triggerEvent = function (name, exp) {\n    this.view.emit(name + \":change\", __assign({\n      name: name\n    }, exp));\n  };\n\n  return ShapeStateController;\n}();\n\nexport default ShapeStateController;","import * as _ from '@antv/util';\n\nfunction isBackgroundShape(view, shape) {\n  var backgroundBkShape = view.get('backgroundGroup').get('backShape');\n  var panelBkShape = view.get('panelGroup').get('backShape');\n\n  if (backgroundBkShape === shape || panelBkShape === shape) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction registerData(eventObj) {\n  if (eventObj.target && eventObj.target.get('origin')) {\n    eventObj.data = eventObj.target.get('origin');\n  }\n}\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInView(target, view, canvas) {\n  if (target !== canvas && view.isShapeInView(target)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInPanel(target, panelGroup) {\n  var parent = target;\n\n  while (parent = parent.get('parent')) {\n    if (parent === panelGroup) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null,\n        canvas: null\n      };\n    }\n\n    this.view = cfg.view;\n    this.canvas = cfg.canvas;\n    this._panelGroup = this.view.get('panelGroup');\n    this._eventHandlers = [];\n    this._pixelRatio = this.canvas.get('pixelRatio');\n  }\n\n  EventController.prototype._getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this._pixelRatio,\n      y: ev.y / this._pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype._triggerShapeEvent = function (shape, eventName, eventObj) {\n    var shapeName = shape.name;\n\n    if (shapeName && !shape.get('destroyed')) {\n      var view = this.view;\n      var name_1 = shapeName + \":\" + eventName;\n      eventObj.view = view;\n      eventObj.appendInfo = shape.get('appendInfo'); // appendInfo is defined by user\n\n      view.emit(name_1, eventObj);\n    }\n  };\n\n  EventController.prototype._addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n\n    this._eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.bindEvents = function () {\n    var container = this.view.get('container');\n\n    this._addEvent(container, 'mousedown', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'mousemove', _.wrapBehavior(this, '_onMove'));\n\n    this._addEvent(container, 'mouseup', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'click', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'dblclick', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'contextmenu', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'wheel', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchstart', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchmove', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchend', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, '_onCanvasMove'));\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    this._canvasDomLeaveHandler = _.wrapBehavior(this, '_onCanvasDomLeave');\n    canvasDom.addEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  EventController.prototype._onEvents = function (ev) {\n    var eventType = ev.type;\n\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    var isbk = isBackgroundShape(this.view, target);\n\n    if (!isbk) {\n      this._triggerShapeEvent(target, eventType, eventObj);\n    }\n    /*panel event*/\n\n\n    var targetParent = target.get('parent');\n\n    if (targetParent) {\n      // 当调用 view.clear()，target 为 canvas 画布本身，此时 targetParent 为 null\n      var parentName = targetParent.get('name');\n\n      if (parentName && parentName === 'panelGroup') {\n        this.view.emit(\"panel:\" + eventType, eventObj);\n      }\n    }\n\n    this.view.emit(eventType, eventObj);\n  };\n\n  EventController.prototype._onMove = function (ev) {\n    /*dispatch mousemove events*/\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    this.view.emit('mousemove', eventObj);\n    var isbkTarget = isBackgroundShape(this.view, target);\n\n    if (!isbkTarget) {\n      this._triggerShapeEvent(target, 'mousemove', eventObj);\n    }\n\n    var lastShape = this._lastShape;\n    var isbklastShape = isBackgroundShape(this.view, lastShape);\n\n    if (lastShape && !isbklastShape && !isSameShape(lastShape, target)) {\n      var leaveObj = this._getEventObj(ev);\n\n      registerData(leaveObj);\n\n      this._triggerShapeEvent(lastShape, 'mouseleave', eventObj);\n    }\n\n    if (!isbkTarget && !isSameShape(lastShape, target)) {\n      var enterObj = this._getEventObj(ev);\n\n      registerData(enterObj);\n\n      this._triggerShapeEvent(target, 'mouseenter', enterObj);\n    }\n\n    var isTargetInPanel = isInPanel(target, this._panelGroup);\n    var isLastShapeInPanel = lastShape ? isInPanel(lastShape, this._panelGroup) : false;\n\n    if (isTargetInPanel) {\n      if (!isLastShapeInPanel) {\n        this.view.emit('panel:mouseenter', eventObj);\n      } else {\n        this.view.emit('panel:mousemove', eventObj);\n      }\n    } else {\n      if (isLastShapeInPanel) {\n        this.view.emit('panel:mouseleave', eventObj);\n      }\n    }\n\n    this._lastShape = target;\n  };\n\n  EventController.prototype._onCanvasMove = function (ev) {\n    var event = _.isArray(ev) ? ev[0] : ev;\n\n    var eventObj = this._getEventObj(event);\n\n    var canvas = this.canvas;\n    var view = this.view;\n    var target = event.target;\n    var targetInView = isInView(target, view, canvas);\n    var lastTargetInView = this._lastCanvasTarget ? isInView(this._lastCanvasTarget, view, canvas) : false;\n\n    if (target !== this._lastCanvasTarget) {\n      if (lastTargetInView && !targetInView) {\n        this.view.emit('mouseleave', eventObj);\n      } else if (!lastTargetInView && targetInView) {\n        this.view.emit('mouseenter', eventObj);\n      }\n    }\n\n    this._lastCanvasTarget = target;\n  };\n\n  EventController.prototype._onCanvasDomLeave = function (ev) {\n    // 解决padding为0时的panel leave问题\n    var eventObj = this._getEventObj(ev); // ev.event,  g事件的才有。解决移动太快的时候, wrapBehavior 触发的 event === undefined；\n\n\n    eventObj.event = ev;\n    this.view.emit('panel:mouseleave', eventObj);\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.removeEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","import * as _ from '@antv/util';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n * 2. 清除事件\n * 3. 清除 group\n */\n\nvar Facet =\n/** @class */\nfunction () {\n  function Facet(view, cfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this.init();\n  }\n  /**\n   * 初始化过程\n   */\n\n\n  Facet.prototype.init = function () {\n    // 初始化流程\n    this.container = this._createContainer(); // 生成分面布局信息\n\n    var data = this.view.get('data');\n    this.facets = this.generateFacets(data);\n  }; // 创建容器\n\n\n  Facet.prototype._createContainer = function () {\n    var foregroundGroup = this.view.get('frontgroundGroup');\n    return foregroundGroup.addGroup();\n  };\n  /**\n   * 渲染分面，由上层 view 调用。包括：\n   *  - 分面 view\n   *  - 轴\n   *  - title\n   *\n   *  子类可以复写，添加一些其他组件，比如滚动条等\n   */\n\n\n  Facet.prototype.render = function () {\n    this._renderViews();\n\n    this.renderTitle();\n    this.renderAxis();\n  };\n  /**\n   * 初始化 view\n   */\n\n\n  Facet.prototype._renderViews = function () {\n    // 先清空，再绘制\n    this._clearFacetViews();\n\n    this._createFacetViews();\n  };\n  /**\n   * 创建 分面 view\n   */\n\n\n  Facet.prototype._createFacetViews = function () {\n    var _this = this; // 使用分面数据 创建分面 view\n\n\n    return this.facets.map(function (facet) {\n      return _this.facetToView(facet);\n    });\n  };\n  /**\n   * 从 view 中清除 facetView\n   */\n\n\n  Facet.prototype._clearFacetViews = function () {\n    var _this = this; // 从 view 中移除分面 view\n\n\n    _.each(this.facets, function (facet) {\n      if (facet.view) {\n        _this.view.removeView(facet.view);\n\n        facet.view = undefined;\n      }\n    });\n  };\n  /**\n   * 根据 facet 生成 view，可以给上层自定义使用\n   * @param facet\n   */\n\n\n  Facet.prototype.facetToView = function (facet) {\n    var region = facet.region,\n        data = facet.data;\n    var view = this.view.createView({\n      start: region.start,\n      end: region.end,\n      padding: _.get(facet, 'padding', this.cfg.padding || 0)\n    }); // 设置分面的数据\n\n    view.data(data || []);\n    this.beforeProcessView(view, facet);\n    var eachView = this.cfg.eachView;\n\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    this.afterProcessView(view, facet); // 挂载在 facet 中\n\n    facet.view = view;\n    return view;\n  };\n  /**\n   * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n   * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n   */\n\n\n  Facet.prototype.clear = function () {\n    this._clearFacetViews();\n  };\n  /**\n   * 销毁\n   */\n\n\n  Facet.prototype.destroy = function () {\n    this.clear();\n    if (this.container) this.container.remove();\n    this.view = undefined;\n    this.facets = [];\n    this.container = undefined;\n    this.destroyed = true;\n  }; // override 开始处理 eachView\n\n\n  Facet.prototype.beforeProcessView = function (view, facet) {}; // override 处理 eachView 之后\n\n\n  Facet.prototype.afterProcessView = function (view, facet) {}; // 其他一些提供给子类使用的方法\n\n  /**\n   * 获取这个字段对应的所有值，数组\n   * @protected\n   * @param data 数据\n   * @param field 字段名\n   * @return 字段对应的值\n   */\n\n\n  Facet.prototype.getFieldValues = function (data, field) {\n    var rst = [];\n    var cache = {}; // 去重、去除 Nil 值\n\n    _.each(data, function (d) {\n      var value = d[field];\n\n      if (!_.isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获得每个分面的 region，平分区域\n   * @param rows\n   * @param cols\n   * @param xIndex\n   * @param yIndex\n   */\n\n\n  Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n    var xWidth = 1 / (cols === 0 ? 1 : cols); // x轴方向的每个分面的偏移\n\n    var yWidth = 1 / (rows === 0 ? 1 : rows); // y轴方向的每个分面的偏移\n\n    var start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex\n    };\n    var end = {\n      x: xWidth * (xIndex + 1),\n      y: yWidth * (yIndex + 1)\n    };\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return Facet;\n}();\n\nexport { Facet };","import * as _ from '@antv/util';\nexport { Facet } from './base'; // 所有的 Facet 类\n\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type\n */\n\nexport var getFacet = function getFacet(type) {\n  return Facets[_.lowerFirst(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type\n * @param ctor\n */\n\nexport var registerFacet = function registerFacet(type, ctor) {\n  Facets[_.lowerFirst(type)] = ctor;\n};","import { registerViewPrototype } from '../plot/view';\nexport var ELEMENT_MAP = {}; // element 映射\n\n/**\n * 根据类型获取 Element 类\n * @param type\n */\n\nexport var getElement = function getElement(type) {\n  return ELEMENT_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Element 类\n * @param type\n * @param ctor\n */\n\nexport var registerElement = function registerElement(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getElement(type)) {\n    throw new Error(\"Element type '\" + type + \"' existed.\");\n  }\n\n  var t = type.toLowerCase(); // 存储到 map 中\n\n  ELEMENT_MAP[t] = ctor;\n  registerViewPrototype(t, ctor);\n};","/**\n * @description Element 上 tooltip 的辅助类\n */\nimport { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin';\n\nfunction _snapEqual(v1, v2, scale) {\n  var value1 = scale.translate(v1);\n  var value2 = scale.translate(v2);\n\n  if (scale.isCategory) {\n    return value1 === value2;\n  }\n\n  return _.isNumberEqual(value1, value2);\n}\n\nfunction _getScaleName(scale) {\n  return scale.alias || scale.field;\n}\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(element) {\n    this.element = null;\n    this._xDistance = null;\n    this.element = element;\n  }\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  TooltipController.prototype.findPoint = function (point, source) {\n    if (source.length === 0) return null; // 数据为空\n\n    var element = this.element;\n    var elementType = element.get('type');\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n\n    if (elementType === 'point' || elementType === 'heatmap') {\n      // 将 point 画布坐标转换为原始数据值\n      var coord = element.get('coord');\n      var invertPoint = coord.invert(point); // 转换成归一化的数据\n\n      var xValue_1 = xScale.invert(invertPoint.x); // 转换为原始值\n\n      var yValue_1 = yScale.invert(invertPoint.y); // 转换为原始值\n      // 根据最小逼近原则查找 point 击中的数据\n\n      var min_1 = Infinity;\n\n      _.each(source, function (obj) {\n        var originData = obj[FIELD_ORIGIN];\n        var distance = Math.pow(originData[xField] - xValue_1, 2) + Math.pow(originData[yField] - yValue_1, 2);\n\n        if (distance < min_1) {\n          min_1 = distance;\n          rst = obj;\n        }\n      });\n\n      return rst;\n    } // 其他 Element 类型按照 x 字段数据进行查找\n\n\n    var first = source[0];\n    var last = source[source.length - 1];\n\n    var xValue = this._getXValueByPoint(point);\n\n    var firstXValue = first[FIELD_ORIGIN][xField];\n    var firstYValue = first[FIELD_ORIGIN][yField];\n    var lastXValue = last[FIELD_ORIGIN][xField];\n\n    var isYArray = yScale.isLinear && _.isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n\n\n    if (_.isArray(firstXValue)) {\n      _.each(source, function (record) {\n        var origin = record[FIELD_ORIGIN]; // xValue 在 origin[xField] 的数值区间内\n\n        if (xScale.translate(origin[xField][0]) <= xValue && xScale.translate(origin[xField][1]) >= xValue) {\n          if (isYArray) {\n            // 层叠直方图场景，x 和 y 都是数组区间\n            if (!_.isArray(rst)) {\n              rst = [];\n            }\n\n            rst.push(record);\n          } else {\n            rst = record;\n            return false;\n          }\n        }\n      });\n\n      if (_.isArray(rst)) {\n        rst = this._filterYValue(rst, point);\n      }\n    } else {\n      var next_1;\n\n      if (!xScale.isLinear && xScale.type !== 'timeCat') {\n        // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n        _.each(source, function (record, index) {\n          var origin = record[FIELD_ORIGIN];\n\n          if (_snapEqual(origin[xField], xValue, xScale)) {\n            if (isYArray) {\n              if (!_.isArray(rst)) {\n                rst = [];\n              }\n\n              rst.push(record);\n            } else {\n              rst = record;\n              return false;\n            }\n          } else if (xScale.translate(origin[xField]) <= xValue) {\n            last = record;\n            next_1 = source[index + 1];\n          }\n        });\n\n        if (_.isArray(rst)) {\n          rst = this._filterYValue(rst, point);\n        }\n      } else {\n        // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n        if (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) {\n          // 不在数据范围内\n          return null;\n        }\n\n        var firstIdx = 0;\n        var lastIdx = source.length - 1;\n        var middleIdx = void 0;\n\n        while (firstIdx <= lastIdx) {\n          middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n          var item = source[middleIdx][FIELD_ORIGIN][xField];\n\n          if (_snapEqual(item, xValue, xScale)) {\n            return source[middleIdx];\n          }\n\n          if (xScale.translate(item) <= xScale.translate(xValue)) {\n            firstIdx = middleIdx + 1;\n            last = source[middleIdx];\n            next_1 = source[middleIdx + 1];\n          } else {\n            if (lastIdx === 0) {\n              last = source[0];\n            }\n\n            lastIdx = middleIdx - 1;\n          }\n        }\n      }\n\n      if (last && next_1) {\n        // 计算最逼近的\n        if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) > Math.abs(xScale.translate(next_1[FIELD_ORIGIN][xField]) - xValue)) {\n          last = next_1;\n        }\n      }\n    }\n\n    var distance = this._getXDistance(); // 每个分类间的平均间距\n\n\n    if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n      rst = last;\n    }\n\n    return rst;\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  TooltipController.prototype.getTooltipItems = function (data, titleField) {\n    var element = this.element;\n    var origin = data[FIELD_ORIGIN];\n\n    var tooltipTitle = this._getTooltipTitle(origin, titleField);\n\n    var tooltipOptions = element.get('tooltipOptions');\n    var defaultColor = element.get('theme').defaultColor;\n\n    var size = this._getSize(data);\n\n    var items = [];\n    var name;\n    var value;\n\n    function addItem(itemName, itemValue) {\n      if (!_.isNil(itemValue) && itemValue !== '') {\n        // 值为 null的时候，忽视\n        var item = {\n          title: tooltipTitle,\n          point: data,\n          name: itemName || tooltipTitle,\n          value: itemValue,\n          color: data.color || defaultColor,\n          marker: true,\n          size: size\n        };\n        items.push(item);\n      }\n    }\n\n    if (tooltipOptions) {\n      var fields = tooltipOptions.fields,\n          callback = tooltipOptions.callback;\n\n      if (callback) {\n        // 用户定义了回调函数\n        var callbackParams = fields.map(function (field) {\n          return data[FIELD_ORIGIN][field];\n        });\n        var cfg = callback.apply(void 0, callbackParams);\n\n        var itemCfg = __assign({\n          point: data,\n          title: tooltipTitle,\n          color: data.color || defaultColor,\n          marker: true,\n          // 默认展示 marker\n          size: size\n        }, cfg);\n\n        items.push(itemCfg);\n      } else {\n        var scales_1 = element.get('scales');\n\n        _.each(fields, function (field) {\n          if (!_.isNil(origin[field])) {\n            // 字段数据为null, undefined 时不显示\n            var scale = scales_1[field];\n            name = _getScaleName(scale);\n            value = scale.getText(origin[field]);\n            addItem(name, value);\n          }\n        });\n      }\n    } else {\n      var valueScale = this._getTooltipValueScale();\n\n      if (!_.isNil(origin[valueScale.field])) {\n        // 字段数据为null ,undefined时不显示\n        value = this._getTooltipValue(origin, valueScale);\n        name = this._getTooltipName(origin);\n        addItem(name, value);\n      }\n    }\n\n    return items;\n  };\n\n  TooltipController.prototype.clear = function () {\n    this._xDistance = null;\n  }; // 返回画布坐标点对应的 x 字段数值\n\n\n  TooltipController.prototype._getXValueByPoint = function (point) {\n    var result = 0;\n    var element = this.element;\n    var coord = element.get('coord');\n    var xScale = element.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coord.invert(point);\n    var xValue = invertPoint.x;\n\n    if (element.isInCircle() && xValue > (1 + rangeMax) / 2) {\n      xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理 see view.js#L88\n    }\n\n    result = xScale.invert(xValue);\n\n    if (xScale.isCategory) {\n      // 分类类型，要将字符串类型转换成数字\n      result = xScale.translate(result);\n    }\n\n    return result;\n  };\n\n  TooltipController.prototype._filterYValue = function (arr, point) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var yScale = element.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coord.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var rst = arr[arr.length - 1];\n\n    _.each(arr, function (obj) {\n      var origin = obj[FIELD_ORIGIN];\n\n      if (origin[yField][0] <= yValue && origin[yField][1] >= yValue) {\n        rst = obj;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  TooltipController.prototype._getXDistance = function () {\n    var distance = this._xDistance;\n\n    if (!distance) {\n      var element = this.element;\n      var xScale_1 = element.getXScale();\n\n      if (xScale_1.isCategory) {\n        distance = 1;\n      } else {\n        var values = xScale_1.values; // values 是无序的\n\n        var min_2 = xScale_1.translate(values[0]);\n        var max_1 = min_2;\n\n        _.each(values, function (value) {\n          var numericValue = xScale_1.translate(value);\n\n          if (numericValue < min_2) {\n            min_2 = numericValue;\n          }\n\n          if (numericValue > max_1) {\n            max_1 = numericValue;\n          }\n        });\n\n        var length_1 = values.length; // 应该是除以 length - 1\n\n        distance = (max_1 - min_2) / (length_1 - 1);\n      }\n\n      this._xDistance = distance; // 缓存，防止重复计算\n    }\n\n    return distance;\n  }; // 获取 title 字段对应的度量\n\n\n  TooltipController.prototype._getTooltipTitleScale = function (titleField) {\n    var element = this.element;\n    var scales = element.get('scales');\n\n    if (titleField) {\n      return scales[titleField];\n    }\n\n    var positionAttr = element.getAttr('position');\n    var fields = positionAttr.getFields();\n    return scales[fields[0]];\n  }; // 获取原始数据的 tooltip title 字符串\n\n\n  TooltipController.prototype._getTooltipTitle = function (originData, titleField) {\n    var tooltipTitle = '';\n    var element = this.element;\n\n    var titleScale = this._getTooltipTitleScale(titleField);\n\n    if (titleScale) {\n      var value = originData[titleScale.field];\n      tooltipTitle = titleScale.getText(value);\n    } else if (element.get('type') === 'heatmap') {\n      // 热力图在不存在 title 的时候特殊处理\n      var xScale = element.getXScale();\n      var yScale = element.getYScale();\n      var xValue = xScale.getText(originData[xScale.field]);\n      var yValue = yScale.getText(originData[yScale.field]);\n      tooltipTitle = \"( \" + xValue + \", \" + yValue + \" )\";\n    }\n\n    return tooltipTitle;\n  }; // 获取 tooltip value 值对应的度量\n\n\n  TooltipController.prototype._getTooltipValueScale = function () {\n    var element = this.element;\n    var attrs = element.getAttrsForLegend();\n    var scale;\n\n    _.each(attrs, function (attr) {\n      var tmpScale = attr.getScale(attr.type);\n\n      if (tmpScale && tmpScale.isLinear) {\n        // 如果指定字段是非 position 的，同时是连续的\n        scale = tmpScale;\n        return false;\n      }\n    });\n\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    return scale || yScale || xScale;\n  }; // 根据原始数据以及对应的 value 度量获取 tooltip 对应的 value 值\n\n\n  TooltipController.prototype._getTooltipValue = function (originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n\n    if (_.isArray(value)) {\n      var values = value.map(function (eachValue) {\n        return valueScale.getText(eachValue);\n      });\n      return values.join('-');\n    }\n\n    return valueScale.getText(value);\n  }; // 根据原始数据获取 tooltip item 中 name 值\n\n\n  TooltipController.prototype._getTooltipName = function (originData) {\n    var nameScale;\n    var element = this.element;\n    var groupScales = element.getGroupScales();\n\n    if (groupScales.length) {\n      // 如果存在分组类型，取第一个分组类型\n      _.each(groupScales, function (scale) {\n        nameScale = scale;\n        return false;\n      });\n    }\n\n    if (nameScale) {\n      var field = nameScale.field;\n      return nameScale.getText(originData[field]);\n    }\n\n    var valueScale = this._getTooltipValueScale();\n\n    return _getScaleName(valueScale);\n  }; // TODO: 需要改造\n\n\n  TooltipController.prototype._getSize = function (obj) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var size = element.getSize(obj[FIELD_ORIGIN]);\n\n    if (coord.isRect && size) {\n      var dim = coord.isTransposed ? 'y' : 'x';\n\n      if (_.isArray(obj[dim])) {\n        var width = Math.abs(obj[dim][1] - obj[dim][0]);\n        size = size < width ? null : size; // 直方图计算错误\n      }\n    }\n\n    return size;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign, __extends } from \"tslib\";\nimport { Label } from '@antv/component';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar IGNORE_ARR = ['line', 'point', 'path'];\nvar ORIGIN = '_origin';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n} // 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n\n\nfunction getCentroid(xs, ys) {\n  if (_.isNumber(xs) && _.isNumber(ys)) {\n    // 普通色块图，xs 和 ys 是数值\n    return [xs, ys];\n  }\n\n  var i = -1;\n  var x = 0;\n  var y = 0;\n  var former;\n  var current = xs.length - 1;\n  var diff;\n  var k = 0;\n\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n\n  k *= 3;\n  return [x / k, y / k];\n}\n\nvar ElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(ElementLabels, _super);\n\n  function ElementLabels(cfg) {\n    var _this = _super.call(this, __assign({\n      labelOptions: null,\n      coord: null,\n      elementType: null,\n      zIndex: 6\n    }, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').label);\n\n    return _this;\n  }\n\n  ElementLabels.prototype._renderUI = function () {\n    _super.prototype._renderUI.call(this);\n\n    var labelsGroup = this.addGroup({\n      name: 'element-labels-group'\n    });\n    var lineGroup = this.addGroup({\n      name: 'element-labels-line-group'\n    });\n    var labelsRenderer = new Label();\n    labelsRenderer.set('coord', this.get('coord'));\n    labelsRenderer.set('group', labelsGroup);\n    labelsRenderer.set('lineGroup', lineGroup);\n    this.set('labelsRenderer', labelsRenderer);\n    this.set('labelsGroup', labelsGroup);\n    this.set('lineGroup', lineGroup);\n  };\n\n  ElementLabels.prototype.destroy = function () {\n    this.get('labelsRenderer').destroy(); // 清理文本\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ElementLabels.prototype.showLabels = function (points, originShapes) {\n    var labelsRenderer = this.get('labelsRenderer');\n    var items = this.getLabelsItems(points, originShapes);\n    var shapes = [].concat(originShapes);\n    var type = this.get('type');\n    items = this.adjustItems(items, shapes);\n    this.drawLines(items);\n    labelsRenderer.set('items', items.filter(function (item, i) {\n      if (!item) {\n        shapes.splice(i, 1);\n        return false;\n      }\n\n      return true;\n    }));\n\n    if (type) {\n      labelsRenderer.set('shapes', shapes);\n      labelsRenderer.set('type', type);\n      labelsRenderer.set('points', points);\n    }\n\n    labelsRenderer.set('canvas', this.get('canvas'));\n    labelsRenderer.draw();\n  };\n\n  ElementLabels.prototype.adjustItems = function (items, shapes) {\n    _.each(items, function (item) {\n      if (!item) {\n        return;\n      }\n\n      if (item.offsetX) {\n        item.x += item.offsetX;\n      }\n\n      if (item.offsetY) {\n        item.y += item.offsetY;\n      }\n    });\n\n    return items;\n  };\n  /**\n   * drawing lines to labels\n   * @param  {Array} items labels\n   * @param  {Object} labelLine configuration for label lines\n   */\n\n\n  ElementLabels.prototype.drawLines = function (items) {\n    var _this = this;\n\n    _.each(items, function (point) {\n      if (!point) {\n        return;\n      }\n\n      if (point.offset > 0 && point.labelLine) {\n        _this.lineToLabel(point);\n      }\n    });\n  }; // 定义连接线\n\n\n  ElementLabels.prototype.lineToLabel = function (point) {};\n\n  ElementLabels.prototype.setLabelPosition = function (label, point, index, position) {};\n\n  ElementLabels.prototype.transLabelPoint = function (point) {\n    var coord = this.get('coord');\n    var tmpPoint = coord.applyMatrix(point.x, point.y, 1);\n    point.x = tmpPoint[0];\n    point.y = tmpPoint[1];\n  };\n\n  ElementLabels.prototype.getOffsetVector = function (point) {\n    var offset = point.offset || 0;\n    var coord = this.get('coord');\n    var vector;\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      vector = coord.applyMatrix(offset, 0);\n    } else {\n      // 否则，偏转y\n      vector = coord.applyMatrix(0, offset);\n    }\n\n    return vector;\n  }; // 获取默认的偏移量\n\n\n  ElementLabels.prototype.getDefaultOffset = function (point) {\n    var offset = 0;\n    var coord = this.get('coord');\n    var vector = this.getOffsetVector(point);\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      offset = vector[0];\n    } else {\n      // 否则，偏转y\n      offset = vector[1];\n    }\n\n    return offset;\n  }; // 获取文本的偏移位置，x,y\n\n\n  ElementLabels.prototype.getLabelOffset = function (point, index, total) {\n    var offset = this.getDefaultOffset(point);\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var yField = transposed ? 'x' : 'y';\n    var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n\n    var offsetPoint = {\n      x: 0,\n      y: 0\n    };\n\n    if (index > 0 || total === 1) {\n      // 判断是否小于0\n      offsetPoint[yField] = offset * factor;\n    } else {\n      offsetPoint[yField] = offset * factor * -1;\n    }\n\n    return offsetPoint;\n  };\n  /**\n   * @protected\n   * 获取labels\n   * @param {Array} points points\n   * @param {Array} shapes shapes\n   * @return {Array} label items\n   */\n\n\n  ElementLabels.prototype.getLabelsItems = function (points, shapes) {\n    var _this = this;\n\n    var items = [];\n    var element = this.get('element');\n    var coord = this.get('coord');\n\n    var labelOptions = this._getlabelOptions(points, shapes); // 获取label相关的x，y的值，获取具体的x,y,防止存在数组\n\n\n    _.each(points, function (point, i) {\n      var origin = point[ORIGIN];\n      var label = labelOptions[i];\n\n      if (!label) {\n        items.push(null);\n        return;\n      }\n\n      if (!_.isArray(label.text)) {\n        label.text = [label.text];\n      }\n\n      var total = label.length;\n\n      _.each(label.text, function (sub, subIndex) {\n        if (_.isNil(sub) || sub === '') {\n          items.push(null);\n          return;\n        }\n\n        var obj = _this.getLabelPoint(label, point, subIndex);\n\n        obj = _.mix({}, label, obj);\n\n        if (!obj.textAlign) {\n          obj.textAlign = _this.getLabelAlign(obj, subIndex, total);\n        }\n\n        if (element) {\n          obj.id = element.getShapeId(origin) + \"-glabel-\" + subIndex + \"-\" + obj.text;\n        }\n\n        obj.coord = coord;\n        items.push(obj);\n      });\n    });\n\n    return items;\n  };\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} labelOptions labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  ElementLabels.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var coord = this.get('coord');\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个y,取最后一个y\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    }; // 多边形场景,多用于地图\n\n    if (point && this.get('elementType') === 'polygon') {\n      var centroid = getCentroid(point.x, point.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else {\n      label.x = getDimValue(point.x, index);\n      label.y = getDimValue(point.y, index);\n    } // get nearest point of the shape as the label line start point\n\n\n    if (point && point.nextPoints && (point.shape === 'funnel' || point.shape === 'pyramid')) {\n      var maxX_1 = -Infinity;\n      point.nextPoints.forEach(function (p) {\n        var p1 = coord.convert(p);\n\n        if (p1.x > maxX_1) {\n          maxX_1 = p1.x;\n        }\n      });\n      label.x = (label.x + maxX_1) / 2;\n    } // sharp edge of the pyramid\n\n\n    if (point.shape === 'pyramid' && !point.nextPoints && point.points) {\n      point.points.forEach(function (p) {\n        var p1 = p;\n        p1 = coord.convert(p1);\n\n        if (_.isArray(p1.x) && point.x.indexOf(p1.x) === -1 || _.isNumber(p1.x) && point.x !== p1.x) {\n          label.x = (label.x + p1.x) / 2;\n        }\n      });\n    }\n\n    if (labelOptions.position) {\n      this.setLabelPosition(label, point, index, labelOptions.position);\n    }\n\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  ElementLabels.prototype.getLabelAlign = function (point, index, total) {\n    var align = 'center';\n    var coord = this.get('coord');\n\n    if (coord.isTransposed) {\n      var offset = this.getDefaultOffset(point);\n\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n\n    return align;\n  };\n\n  ElementLabels.prototype._getLabelValue = function (origin, originScales) {\n    var scales = originScales;\n\n    if (!_.isArray(scales)) {\n      scales = [scales];\n    }\n\n    var text = [];\n\n    _.each(scales, function (scale) {\n      var value = origin[scale.field];\n\n      if (_.isArray(value)) {\n        var tmp_1 = [];\n\n        _.each(value, function (subVal) {\n          tmp_1.push(scale.getText(subVal));\n        });\n\n        value = tmp_1;\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (_.isNil(value) || value === '') {\n        text.push(null);\n      } else {\n        text.push(value);\n      }\n    });\n\n    return text;\n  }; // 获取每个label的配置\n\n\n  ElementLabels.prototype._getlabelOptions = function (points, shapes) {\n    var _this = this;\n\n    var elementType = this.get('elementType');\n    var theme = this.get('theme');\n    var labelOptions = this.get('labelOptions');\n    var scales = labelOptions.scales;\n    var cfgs = [];\n\n    _.each(points, function (point, i) {\n      var cfg = {};\n      var origin = point[ORIGIN];\n\n      var originText = _this._getLabelValue(origin, scales);\n\n      if (labelOptions.callback) {\n        // callback 中应使用原始数据，而不是数据字符串\n        var originValues = scales.map(function (scale) {\n          return origin[scale.field];\n        });\n        cfg = labelOptions.callback.apply(labelOptions, originValues);\n      }\n\n      if (_.isNil(cfg)) {\n        cfgs.push(null);\n        return;\n      }\n\n      if (_.isString(cfg.content)) {\n        cfg.text = cfg.content;\n        delete cfg.content;\n      } else if (_.isFunction(cfg.content)) {\n        cfg.text = cfg.content(origin, point, i);\n        delete cfg.content;\n      } else {\n        cfg.text = originText[0]; // 默认展示声明的第一个字段对应的值\n      }\n\n      if (cfg.htmlTemplate) {\n        cfg.useHtml = true;\n        cfg.text = cfg.htmlTemplate(origin, point, i);\n        delete cfg.htmlTemplate;\n      }\n\n      if (cfg.formatter) {\n        cfg.text = cfg.formatter.call(null, cfg.text, point, i);\n        delete cfg.formatter;\n      }\n\n      if (elementType === 'polygon' || cfg.offset < 0 && _.indexOf(IGNORE_ARR, elementType) === -1) {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.innerLabels, cfg);\n      } else {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.label, cfg);\n      } // 将 shape 的原始数据存入\n\n\n      cfg.origin = origin; // delete cfg.items;\n\n      cfgs.push(cfg);\n    });\n\n    return cfgs;\n  };\n\n  return ElementLabels;\n}(Group);\n\nexport default ElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\n\nvar IntervalElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(IntervalElementLabels, _super);\n\n  function IntervalElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalElementLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    switch (position) {\n      case 'right':\n        if (transposed) {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'left';\n        }\n\n        break;\n\n      case 'left':\n        if (transposed) {\n          point.x -= width;\n          point.y -= height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x += width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'right';\n        }\n\n        break;\n\n      case 'bottom':\n        if (transposed) {\n          point.x -= width * 2;\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.y += height * 2;\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      case 'middle':\n        if (transposed) {\n          point.x -= width;\n        } else {\n          point.y += height;\n        }\n\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        if (transposed) {\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return IntervalElementLabels;\n}(ElementLabels);\n\nexport default IntervalElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\nimport * as PathUtil from '../../../util/path';\n\nvar PolarElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PolarElementLabels, _super);\n\n  function PolarElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} label labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  PolarElementLabels.prototype.getLabelPoint = function (label, point, i) {\n    var index = i;\n    var text = label.text[index];\n    var factor = 1;\n    var arcPoint;\n\n    if (this._isToMiddle(point)) {\n      arcPoint = this._getMiddlePoint(point.points);\n    } else {\n      if (label.text.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n\n      arcPoint = this.getArcPoint(point, index);\n    }\n\n    var offset = this.getDefaultOffset(label);\n    offset = offset * factor;\n    var middleAngle = this.getPointAngle(arcPoint);\n    var isLabelEmit = label.labelEmit;\n    var labelPoint = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n\n    if (!labelPoint) {\n      labelPoint = {\n        text: ''\n      };\n    } else {\n      labelPoint.text = text;\n      labelPoint.angle = middleAngle;\n      labelPoint.color = point.color;\n    }\n\n    if (label.autoRotate || label.autoRotate === undefined) {\n      // 自动旋转文本呢\n      labelPoint.rotate = this.getLabelRotate(middleAngle, offset, isLabelEmit);\n    } else {\n      labelPoint.rotate = label.rotate;\n    }\n\n    labelPoint.start = {\n      x: arcPoint.x,\n      y: arcPoint.y\n    };\n    return labelPoint;\n  };\n\n  PolarElementLabels.prototype.getCirclePoint = function (originAngle, offset, point, isLabelEmit) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var angle = originAngle;\n    var r = PathUtil.getPointRadius(coord, point);\n\n    if (r === 0) {\n      return null;\n    }\n\n    if (coord.isTransposed && r > offset && !isLabelEmit) {\n      var appendAngle = Math.asin(offset / (2 * r));\n      angle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(angle),\n      y: center.y + r * Math.sin(angle),\n      angle: angle,\n      r: r\n    };\n  };\n\n  PolarElementLabels.prototype.getArcPoint = function (point, i) {\n    var index = i;\n    var outerPoint; // 圆弧上的中点\n\n    index = index || 0;\n\n    if (_.isArray(point.x) || _.isArray(point.y)) {\n      outerPoint = {\n        x: _.isArray(point.x) ? point.x[index] : point.x,\n        y: _.isArray(point.y) ? point.y[index] : point.y\n      };\n    } else {\n      outerPoint = point;\n    }\n\n    this.transLabelPoint(outerPoint);\n    return outerPoint;\n  }; // 获取点所在的角度\n\n\n  PolarElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    return PathUtil.getPointAngle(coord, point);\n  };\n  /**\n   * @protected\n   * 获取文本旋转的方向\n   * @param {Number} angle angle\n   * @return {Number} angle\n   */\n\n\n  PolarElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n    var rotate;\n    rotate = angle * 180 / Math.PI;\n    rotate += 90;\n\n    if (isLabelEmit) {\n      rotate -= 90;\n    }\n\n    if (rotate) {\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      } else if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  }; // override\n\n\n  PolarElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var align;\n\n    if (point.labelEmit) {\n      if (point.angle <= Math.PI / 2 && point.angle > -Math.PI / 2) {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    } else if (!coord.isTransposed) {\n      align = 'center';\n    } else {\n      var center = coord.getCenter();\n      var offset = this.getDefaultOffset(point);\n\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        if (offset > 0) {\n          align = 'left';\n        } else {\n          align = 'right';\n        }\n      } else {\n        if (offset > 0) {\n          align = 'right';\n        } else {\n          align = 'left';\n        }\n      }\n    }\n\n    return align;\n  }; // 定义连接线\n\n\n  PolarElementLabels.prototype.lineToLabel = function (point) {}; // 获取中心的位置\n\n\n  PolarElementLabels.prototype._getMiddlePoint = function (points) {\n    var coord = this.get('coord');\n    var count = points.length;\n    var middlePoint = {\n      x: 0,\n      y: 0\n    };\n\n    _.each(points, function (point) {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n    middlePoint = coord.convert(middlePoint);\n    return middlePoint;\n  }; // 是否居中\n\n\n  PolarElementLabels.prototype._isToMiddle = function (point) {\n    return point.x.length > 2;\n  };\n\n  return PolarElementLabels;\n}(ElementLabels);\n\nexport default PolarElementLabels;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as PathUtil from '../../../util/path';\nimport PolarElementLabels from './polar';\n/** label text和line距离 4px */\n\nvar MARGIN = 4;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction antiCollision(labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  var overlapping = true;\n  var start = plotRange.start;\n  var end = plotRange.end;\n  var startY = Math.min(start.y, end.y);\n  var totalHeight = Math.abs(start.y - end.y);\n  var i;\n  var maxY = 0;\n  var minY = Number.MIN_VALUE;\n  var boxes = labels.map(function (label) {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n\n    if (label.y < minY) {\n      minY = label.y;\n    }\n\n    return {\n      size: lineHeight,\n      targets: [label.y - startY]\n    };\n  });\n  minY -= startY;\n\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach(function (box) {\n      var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size); // box.pos = Math.max(0, target - box.size / 2);\n    }); // detect overlapping and join boxes\n\n    overlapping = false;\n    i = boxes.length;\n\n    while (i--) {\n      if (i > 0) {\n        var previousBox = boxes[i - 1];\n        var box = boxes[i];\n\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n\n          boxes.splice(i, 1); // removing box\n\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0; // step 4: normalize y and adjust x\n\n  boxes.forEach(function (b) {\n    var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n\n    b.targets.forEach(function () {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  }); // (x - cx)^2 + (y - cy)^2 = totalR^2\n\n  labels.forEach(function (label) {\n    var rPow2 = label.r * label.r;\n    var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      var dx = Math.sqrt(rPow2 - dyPow2);\n\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n  });\n}\n\nvar PieElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PieElementLabels, _super);\n\n  function PieElementLabels(cfg) {\n    var _this = _super.call(this, __assign({}, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').thetaLabels);\n\n    return _this;\n  }\n\n  PieElementLabels.prototype.getDefaultOffset = function (point) {\n    return point.offset || 0;\n  };\n  /**\n   * @protected\n   * to avoid overlapping\n   * @param {Array} items labels to be placed\n   * @return {Array} items\n   */\n\n\n  PieElementLabels.prototype.adjustItems = function (originItems) {\n    var items = originItems;\n    var offset = items[0] ? items[0].offset : 0;\n\n    if (offset > 0) {\n      items = this._distribute(items, offset);\n    }\n\n    return _super.prototype.adjustItems.call(this, items);\n  }; // 连接线\n\n\n  PieElementLabels.prototype.lineToLabel = function (label) {\n    var coord = this.get('coord');\n    var r = coord.getRadius();\n    var distance = label.offset;\n    var angle = label.orignAngle || label.angle;\n    var center = coord.getCenter(); // 贴近圆周\n\n    var start = getEndPoint(center, angle, r);\n    var inner = getEndPoint(center, angle, r + distance / 2);\n    var end = {\n      x: label.x - Math.cos(angle) * MARGIN,\n      y: label.y - Math.sin(angle) * MARGIN\n    };\n\n    if (!_.isObject(label.labelLine)) {\n      // labelLine: true\n      label.labelLine = {};\n    }\n\n    label.labelLine.path = [\"M \" + start.x, start.y + \" Q\" + inner.x, inner.y + \" \" + end.x, end.y].join(',');\n  };\n  /**\n   * @protected\n   * get rotation for label\n   * @param {Number} angle angle\n   * @param {Number} offset offset\n   * @return {Number} rotate\n   */\n\n\n  PieElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n    var rotate;\n\n    if (offset < 0) {\n      rotate = angle * 180 / Math.PI;\n\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      }\n\n      if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  };\n  /**\n   * @protected\n   * get text align for label\n   * @param {Object} point point\n   * @return {String} align\n   */\n\n\n  PieElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var align;\n\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n\n    var offset = this.getDefaultOffset(point);\n\n    if (offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n\n    return align;\n  };\n\n  PieElementLabels.prototype.getArcPoint = function (point) {\n    return point;\n  };\n\n  PieElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    var startPoint = {\n      x: _.isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0]\n    };\n    this.transLabelPoint(startPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var endPoint = {\n      x: _.isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1]\n    };\n    this.transLabelPoint(endPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var angle;\n    var startAngle = PathUtil.getPointAngle(coord, startPoint);\n\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      var endAngle = PathUtil.getPointAngle(coord, endPoint);\n\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n\n    return angle;\n  };\n\n  PieElementLabels.prototype.getCirclePoint = function (angle, offset, p) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var r = coord.getRadius() + offset;\n    var point = getEndPoint(center, angle, r);\n    point.angle = angle;\n    point.r = r;\n    return point;\n  }; // distribute labels\n\n\n  PieElementLabels.prototype._distribute = function (labels, offset) {\n    var coord = this.get('coord');\n    var radius = coord.getRadius();\n    var lineHeight = this.get('defaultLabelCfg').labelHeight;\n    var center = coord.getCenter();\n    var totalR = radius + offset;\n    var totalHeight = totalR * 2 + lineHeight * 2;\n    var plotRange = {\n      start: coord.start,\n      end: coord.end\n    };\n    var element = this.get('element');\n\n    if (element) {\n      var view = element.get('view');\n      plotRange = {\n        start: view.get('panelRange').bl,\n        end: view.get('panelRange').tr\n      };\n    } // step 1: separate labels\n\n\n    var halves = [[], []];\n    labels.forEach(function (label) {\n      if (!label) {\n        return;\n      }\n\n      if (label.textAlign === 'right') {\n        // left\n        halves[0].push(label);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(label);\n      }\n    });\n    halves.forEach(function (half, index) {\n      // step 2: reduce labels\n      var maxLabelsCountForOneSide = totalHeight / lineHeight;\n\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort(function (a, b) {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      } // step 3: distribute position (x and y)\n\n\n      half.sort(function (a, b) {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n      antiCollision(half, lineHeight, plotRange, center, index);\n    });\n    return halves[0].concat(halves[1]);\n  };\n\n  return PieElementLabels;\n}(PolarElementLabels);\n\nexport default PieElementLabels;","var ELEMENT_LABELS_MAP = {};\nexport function getElementLabels(type) {\n  return ELEMENT_LABELS_MAP[type.toLowerCase()];\n}\nexport function registerElementLabels(type, ctor) {\n  if (getElementLabels(type)) {\n    throw new Error(\"ElementLabels type '\" + type + \"' existed.\");\n  }\n\n  ELEMENT_LABELS_MAP[type.toLowerCase()] = ctor;\n}","import * as _ from '@antv/util';\nimport ElementLabels from './components/base';\nimport IntervalElementLabels from './components/interval';\nimport PieElementLabels from './components/pie';\nimport PolarElementLabels from './components/polar';\nimport { getElementLabels, registerElementLabels } from './components/factory';\nexport { getElementLabels, registerElementLabels, ElementLabels };\n\nvar LabelController =\n/** @class */\nfunction () {\n  function LabelController(element) {\n    this.element = null;\n    this.labelsContainer = null;\n    this.element = element;\n  }\n\n  LabelController.prototype._createLabelsContainer = function () {\n    var element = this.element;\n    var elementType = element.get('type');\n    var coord = element.get('coord');\n    var labelOptions = element.get('labelOptions');\n\n    var Ctor = this._getElementLabelsConstructor(labelOptions.labelType, coord.type, elementType);\n\n    var container = element.get('frontgroundGroup');\n\n    var scales = _.map(element.get('labelOptions').fields, function (field) {\n      return element.createScale(field);\n    });\n\n    var labelsContainer = container.addGroup(Ctor, {\n      labelOptions: _.mix({\n        scales: scales\n      }, labelOptions),\n      coord: coord,\n      element: element,\n      elementType: elementType,\n      theme: element.get('theme'),\n      visible: element.get('visible')\n    });\n    this.labelsContainer = labelsContainer;\n  };\n\n  LabelController.prototype.addLabels = function (points, shapes) {\n    this._createLabelsContainer();\n\n    this.labelsContainer.showLabels(points, shapes);\n    var labelsGroup = this.labelsContainer.get('labelsGroup');\n    return labelsGroup.get('children'); // 返回创建的 labels\n  };\n\n  LabelController.prototype.changeVisible = function (visible) {\n    this.labelsContainer && this.labelsContainer.set('visible', visible);\n  };\n\n  LabelController.prototype.clear = function () {\n    var labelsContainer = this.labelsContainer;\n    labelsContainer && !labelsContainer.destroyed && labelsContainer.remove();\n  };\n\n  LabelController.prototype._getElementLabelsConstructor = function (labelType, coordType, elementType) {\n    var type = labelType || 'base';\n\n    if (coordType === 'polar' && type === 'base') {\n      type = 'polar';\n    } else if (coordType === 'theta' && type === 'base') {\n      // pie chart\n      type = 'pie';\n    } else if ((elementType === 'interval' || elementType === 'polygon') && type === 'base') {\n      // bar\n      type = 'interval';\n    }\n\n    return getElementLabels(type);\n  };\n\n  return LabelController;\n}();\n\nexport default LabelController;\nregisterElementLabels('base', ElementLabels);\nregisterElementLabels('interval', IntervalElementLabels);\nregisterElementLabels('pie', PieElementLabels);\nregisterElementLabels('polar', PolarElementLabels);","/**\n * @description Element 上响应 shape 状态的改变\n */\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin'; // 通过 shape 上的原始数据来判断两个 shape 是否相同\n\nfunction _isSameShape(shape1, shape2) {\n  if (_.isNil(shape1) || _.isNil(shape2)) {\n    return false;\n  }\n\n  var shape1Origin = shape1.get('origin');\n  var shape2Origin = shape2.get('origin');\n  return _.isEqual(shape1Origin, shape2Origin);\n}\n\nfunction isChange(preShapes, shapes) {\n  if (!preShapes) {\n    return true;\n  }\n\n  if (preShapes.length !== shapes.length) {\n    return true;\n  }\n\n  var rst = false;\n\n  _.each(shapes, function (shape, index) {\n    if (!_isSameShape(shape, preShapes[index])) {\n      rst = true;\n      return false;\n    }\n  });\n\n  return rst;\n}\n\nfunction getOriginAttrs(modifiedAttrs, originAttrs) {\n  var result = {};\n\n  _.each(modifiedAttrs, function (v, k) {\n    var originValue = originAttrs[k];\n\n    if (_.isArray(originValue)) {\n      originValue = originValue.concat(); // 缓存原来的属性，由于 .attr('matrix') 是数组，所以此处需要深度复制\n    }\n\n    result[k] = originValue;\n  });\n\n  return result;\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(element) {\n    this.element = null;\n    this._activeShapes = null;\n    this._selectedShapes = null;\n    this._inactiveShapes = null;\n    this.element = element;\n  }\n\n  StateController.prototype.bind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.on('active:change', _.wrapBehavior(this, '_onActive'));\n    view.on('selected:change', _.wrapBehavior(this, '_onSelected'));\n    view.on('inactive:change', _.wrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype.unbind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.off('active:change', _.getWrapBehavior(this, '_onActive'));\n    view.off('selected:change', _.getWrapBehavior(this, '_onSelected'));\n    view.off('inactive:change', _.getWrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype._onActive = function (activeObject) {\n    var _this = this;\n\n    var element = this.element;\n    var activeOptions = element.get('activeOptions');\n\n    if (activeOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var shapeContainer = element.get('shapeContainer');\n    var exp = activeObject.exp,\n        draw = activeObject.draw;\n\n    var activeShapes = this._filterShapes(exp); // 判断是否同上一次 activeShapes 相同，相同则不需要处理\n\n\n    var preActiveShapes = this._activeShapes;\n\n    if (!isChange(preActiveShapes, activeShapes)) {\n      return;\n    }\n\n    if (preActiveShapes) {\n      this._clearActiveShapes();\n    }\n\n    this._clearInactiveShapes(); // active 和 inactive 互斥，故需要清空\n\n\n    activeShapes.forEach(function (activeShape) {\n      if (activeShape.get('animating')) {\n        activeShape.stopAnimate();\n      }\n\n      _this._setShapeActive(activeShape);\n    });\n    this._activeShapes = activeShapes;\n    shapeContainer.sort();\n    draw && this._draw();\n  }; // 清空原先 active 状态的 shapes\n\n\n  StateController.prototype._clearActiveShapes = function () {\n    var shapes = this._activeShapes;\n\n    _.each(shapes, function (shape) {\n      var originAttrs = shape.get('_beforeActiveAttrs');\n      shape.attr(originAttrs);\n      shape.setZIndex(0);\n      shape.set('_beforeActiveAttrs', null);\n    }); // 恢复原来排序\n\n\n    var shapeContainer = this.element.get('shapeContainer');\n    var children = shapeContainer.get('children');\n    children.sort(function (obj1, obj2) {\n      return obj1._INDEX - obj2._INDEX;\n    });\n    this._activeShapes = null;\n  };\n\n  StateController.prototype._setShapeActive = function (shape) {\n    var activeStyle = this._getShapeStyleByState(shape, 'active'); // active 是基于当前 shape 的样式进行变化\n\n\n    var originAttrs = getOriginAttrs(activeStyle, shape.attr());\n    shape.setSilent('_beforeActiveAttrs', originAttrs);\n    shape.attr(activeStyle);\n    shape.setZIndex(1); // 将 activeShapes 图层提前\n  };\n\n  StateController.prototype._onSelected = function (selectedObj) {\n    var _this = this;\n\n    var selectedOptions = this.element.get('selectedOptions');\n\n    if (selectedOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = selectedObj.exp,\n        draw = selectedObj.draw;\n\n    var selectedShapes = this._filterShapes(exp); // 判断是否同上一次 selectedShapes 相同，相同则不需要处理\n\n\n    var preSelectedShapes = this._selectedShapes;\n\n    if (!isChange(preSelectedShapes, selectedShapes)) {\n      return;\n    }\n\n    if (preSelectedShapes) {\n      this._clearSelectedShapes();\n    }\n\n    this._clearInactiveShapes(); // selected 和 inactive 互斥，故需要清空\n\n\n    selectedShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeSelected(shape);\n    });\n    this._selectedShapes = selectedShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearSelectedShapes = function () {\n    var shapes = this._selectedShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('selected', false);\n\n      if (!shape.get('inactive')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._selectedShapes = null;\n  };\n\n  StateController.prototype._setShapeSelected = function (shape) {\n    shape.set('selected', true);\n\n    var selectedStyle = this._getShapeStyleByState(shape, 'selected');\n\n    this._applyShapeStyle(shape, selectedStyle);\n  };\n\n  StateController.prototype._onInactive = function (inactiveObj) {\n    var _this = this;\n\n    var inactiveOptions = this.element.get('inactiveOptions');\n\n    if (inactiveOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = inactiveObj.exp,\n        draw = inactiveObj.draw;\n\n    var inactiveShapes = this._filterShapes(exp); // 判断是否同上一次 _inactiveShapes 相同，相同则不需要处理\n\n\n    var preinactiveShapes = this._inactiveShapes;\n\n    if (!isChange(preinactiveShapes, inactiveShapes)) {\n      return;\n    }\n\n    if (preinactiveShapes) {\n      this._clearInactiveShapes();\n    }\n\n    inactiveShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeInactive(shape);\n    });\n    this._inactiveShapes = inactiveShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearInactiveShapes = function () {\n    var shapes = this._inactiveShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('inactive', false);\n\n      if (!shape.get('selected')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._inactiveShapes = null;\n  };\n\n  StateController.prototype._setShapeInactive = function (shape) {\n    shape.set('inactive', true);\n\n    var inactiveStyle = this._getShapeStyleByState(shape, 'inactive');\n\n    this._applyShapeStyle(shape, inactiveStyle);\n  };\n\n  StateController.prototype._applyShapeStyle = function (shape, style) {\n    // 基于 shape 的初始状态\n    var originAttrs = shape.get('_originAttrs');\n\n    if (originAttrs) {\n      shape.attr(originAttrs);\n    }\n\n    originAttrs = getOriginAttrs(style, shape.attr());\n    shape.setSilent('_originAttrs', originAttrs);\n    shape.attr(style);\n  };\n\n  StateController.prototype._filterShapes = function (exp) {\n    var element = this.element;\n    var shapeContainer = element.get('shapeContainer');\n    var shapes = shapeContainer.get('children');\n    return _.filter(shapes, function (shape) {\n      if (shape.get('origin') && shape.get('visible')) {\n        var origin_1 = shape.get('origin'); // line、area、path 这三种 element，shape 的 origin 存储的是整个序列的数据集合\n\n        var data = _.isArray(origin_1) ? origin_1[0][FIELD_ORIGIN] : origin_1[FIELD_ORIGIN];\n        return exp(data);\n      }\n    });\n  };\n\n  StateController.prototype._getShapeStyleByState = function (shape, state) {\n    var element = this.element;\n    var shapeData = shape.get('origin');\n    var shapeName = shapeData.shape || element.getDefaultValue('shape');\n\n    if (_.isArray(shapeName)) {\n      shapeName = shapeName[0];\n    }\n\n    var shapeFactory = element.get('shapeFactory');\n\n    var shapeStyle = _.mix({}, shape.attr(), {\n      origin: shapeData\n    });\n\n    if (state === 'active') {\n      var activeOptions = element.get('activeOptions');\n      var defaultActiveStyle = shapeFactory.getActiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultActiveStyle, activeOptions);\n    }\n\n    if (state === 'selected') {\n      var selectedOptions = element.get('selectedOptions');\n      var defaultSelectedStyle = shapeFactory.getSelectedStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultSelectedStyle, selectedOptions);\n    }\n\n    if (state === 'inactive') {\n      var inactiveOptions = element.get('inactiveOptions');\n      var defaultInactiveStyle = shapeFactory.getInactiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultInactiveStyle, inactiveOptions);\n    }\n\n    return shapeStyle;\n  };\n\n  StateController.prototype._draw = function () {\n    var canvas = this.element.get('canvas'); // 防止因为 state 处理是异步的，在 dom 元素移除之后再处理\n\n    if (!canvas) return;\n    var drawTimer = canvas.get('_drawTimer');\n\n    if (drawTimer) {\n      clearTimeout(drawTimer);\n      canvas.set('_drawTimer', null);\n    }\n\n    drawTimer = setTimeout(function () {\n      canvas.draw();\n    }, 16);\n    canvas.set('_drawTimer', drawTimer);\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nexport function parseFields(field) {\n  if (_.isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}","import { __assign, __extends } from \"tslib\";\nimport { getAttribute, getAdjust } from '../dependents';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from './shape/base';\nimport Base from '../base';\nimport Global from '../global';\nimport TooltipController from './controller/tooltip';\nimport LabelController from './controller/label';\nimport StateController from './controller/state';\nimport { parseFields } from './util/parse-fields';\nvar GROUP_ATTRS = ['color', 'shape', 'size'];\nexport var FIELD_ORIGIN = '_origin';\n\nvar Element =\n/** @class */\nfunction (_super) {\n  __extends(Element, _super);\n\n  function Element(cfg) {\n    var _this = _super.call(this, __assign({\n      id: null,\n      type: 'base',\n      shapeType: null,\n      coord: null,\n      attrs: {},\n      data: [],\n      scales: {},\n      attrOptions: {},\n      view: null,\n      canvas: null,\n      container: null,\n      shapeContainer: null,\n      generatePoints: false,\n      sortable: false,\n      animate: true,\n      visible: true,\n      shareTooltip: true,\n      activeOptions: null,\n      inactiveOptions: null,\n      selectedOptions: null,\n      labelOptions: null,\n      tooltipOptions: null,\n      adjustOptions: null,\n      styleOptions: null,\n      statOptions: null,\n      animateOptions: null,\n      theme: null,\n      widthRatio: Global.widthRatio\n    }, cfg)) || this; // 设置 theme\n\n\n    var theme = _this.get('theme') || Global.theme;\n\n    _this.set('theme', theme); // 初始化容器，container 容器在 view 中添加 element 的时候创建\n\n\n    _this.get('container') && _this._initContainer(); // 初始化 Element 的辅助控制器对象\n\n    _this._initController();\n\n    return _this;\n  }\n\n  Element.prototype.position = function (cfg) {\n    if (_.isString(cfg)) {\n      this._setAttrOptions('position', {\n        fields: parseFields(cfg)\n      });\n    } else {\n      this._setAttrOptions('position', cfg);\n    }\n\n    return this;\n  };\n\n  Element.prototype.color = function (field, cfg) {\n    this._createAttrOption('color', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.shape = function (field, cfg) {\n    this._createAttrOption('shape', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.size = function (field, cfg) {\n    this._createAttrOption('size', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.opacity = function (field, callback) {\n    this._createAttrOption('opacity', field, callback);\n\n    return this;\n  };\n\n  Element.prototype.adjust = function (adjustCfg) {\n    var adjusts = adjustCfg;\n\n    if (_.isString(adjustCfg) || _.isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n\n    _.each(adjusts, function (adjust, index) {\n      if (!_.isObject(adjust)) {\n        adjusts[index] = {\n          type: adjust\n        };\n      }\n    });\n\n    this.set('adjustOptions', adjusts);\n    return this;\n  };\n\n  Element.prototype.style = function (field, callback) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('styleOptions', {\n        fields: fields,\n        callback: callback\n      });\n    } else {\n      var fields = field.fields,\n          callback_1 = field.callback,\n          cfg = field.cfg;\n\n      if (fields || callback_1 || cfg) {\n        this.set('styleOptions', field);\n      } else {\n        this.set('styleOptions', {\n          cfg: field\n        });\n      }\n    }\n\n    return this;\n  };\n\n  Element.prototype.tooltip = function (field, cfg) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('tooltipOptions', {\n        fields: fields,\n        callback: cfg\n      });\n    } else {\n      this.set('tooltipOptions', field);\n    }\n\n    return this;\n  };\n\n  Element.prototype.label = function (field, cfg) {\n    var labelOptions = {};\n\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      labelOptions.fields = fields;\n      labelOptions.callback = cfg;\n      this.set('labelOptions', labelOptions);\n    } else {\n      this.set('labelOptions', field);\n    }\n\n    return this;\n  };\n  /**\n   * element 上的动画配置\n   * @param cfg 动画配置\n   */\n\n\n  Element.prototype.animate = function (cfg) {\n    this.set('animateOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 active 状态下的样式\n   * @param cfg active 的样式，为 false 时表示不允许 active\n   */\n\n\n  Element.prototype.active = function (cfg) {\n    this.set('activeOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 selected 状态下的样式\n   * @param cfg selected 的样式，为 false 时表示不允许 selected\n   */\n\n\n  Element.prototype.selected = function (cfg) {\n    this.set('selectedOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 inactive 状态下的样式\n   * @param cfg inactive 的样式，为 false 时表示不允许 inactive\n   */\n\n\n  Element.prototype.inactive = function (cfg) {\n    this.set('inactiveOptions', cfg);\n    return this;\n  };\n  /**\n   * 初始化 element，生成 attribute, scale 对象，同时对数据进行处理\n   */\n\n\n  Element.prototype.init = function () {\n    var _this = this; // 将容器应用坐标系的变换\n\n\n    var coord = this.get('coord');\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer.setMatrix(coord.matrix); // 执行统计函数\n\n    var data = this.get('data'); // 原始数据\n    // 生成图形属性对象以及对应的 scales\n\n    this._initAttrs(data); // 创建 tooltip() 方法上声明字段对应的 scale 对象\n\n\n    var tooltipOptions = this.get('tooltipOptions');\n\n    if (tooltipOptions && tooltipOptions.fields) {\n      var fields = tooltipOptions.fields;\n      fields.forEach(function (field) {\n        _this.createScale(field, data); // 创建 tooltip 上对应的度量\n\n      });\n    }\n\n    var dataArray = this._processData(data);\n\n    dataArray = this._adjustData(dataArray);\n    this.set('dataArray', dataArray);\n  };\n\n  Element.prototype.bindStates = function () {\n    if (this.get('view')) {\n      var stateController = new StateController(this);\n      stateController.bind();\n      this.set('stateController', stateController);\n    }\n  };\n\n  Element.prototype.unbindStates = function () {\n    if (this.get('view')) {\n      var stateController = this.get('stateController');\n      stateController && stateController.unbind();\n    }\n  };\n  /**\n   * 进行数据到图形空间的映射同时绘制图形\n   */\n\n\n  Element.prototype.paint = function () {\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var dataArray = this.get('dataArray');\n    var mappedArray = [];\n\n    var shapeFactory = this._getShapeFactory();\n\n    shapeFactory.setCoord(coord);\n    shapeFactory.setTheme(theme.shape); // 获取主题\n\n    var shapeContainer = this.get('shapeContainer');\n\n    this._beforeMapping(dataArray);\n\n    for (var i = 0, len = dataArray.length; i < len; i += 1) {\n      var data = dataArray[i];\n      data = this._mapping(data);\n      mappedArray.push(data);\n      this.draw(data, shapeContainer, shapeFactory, i);\n    } // 添加 label\n\n\n    if (this.get('labelOptions')) {\n      var labelController = this.get('labelController');\n      var labels = labelController.addLabels(_.union.apply(_, mappedArray), shapeContainer.get('children'));\n      this.set('labels', labels);\n    }\n\n    if (!this.get('sortable')) {\n      this._sort(mappedArray); // 便于数据的查找，需要对数据进行排序，用于 geom.findPoint()\n\n    } else {\n      this.set('dataArray', mappedArray);\n    }\n  };\n\n  Element.prototype.clear = function () {\n    this.clearInner();\n    this.set('scales', {});\n    this.set('labels', null);\n  };\n\n  Element.prototype.destroy = function () {\n    this.clear();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.remove();\n    var container = this.get('container');\n    container && container.remove();\n    this.unbindStates();\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * 获取图形属性对应的默认值\n   * @param attrName 图形属性名称\n   */\n\n\n  Element.prototype.getDefaultValue = function (attrName) {\n    var value;\n    var attr = this.getAttr(attrName);\n\n    if (attr && _.isEmpty(attr.scales)) {\n      // 获取映射至常量的值\n      value = attr.values[0];\n    }\n\n    return value;\n  };\n  /**\n   * 隐藏或者展示 Element\n   * @param visible boolean 类型，是否可见\n   * @param stopDraw 可选，boolean 类型，是否结束绘画\n   */\n\n\n  Element.prototype.changeVisible = function (visible, stopDraw) {\n    this.set('visible', visible);\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.set('visible', visible); // should be done in controller\n\n    var labelController = this.get('labelController');\n    labelController && labelController.changeVisible(visible);\n\n    if (!stopDraw && shapeContainer) {\n      var canvas = this.get('canvas');\n      canvas.draw();\n    }\n  };\n  /**\n   * 根据图形属性名称获取对应的图形属性对象\n   * @param name 图形属性名\n   */\n\n\n  Element.prototype.getAttr = function (name) {\n    return this.get('attrs')[name];\n  };\n  /**\n   * 获取同图例相关的图形属性对象\n   */\n\n\n  Element.prototype.getAttrsForLegend = function () {\n    var attrs = _.values(this.get('attrs'));\n\n    return _.filter(attrs, function (attr) {\n      return _.contains(GROUP_ATTRS, attr.type);\n    });\n  };\n  /**\n   * 获取 x 方向上的度量\n   */\n\n\n  Element.prototype.getXScale = function () {\n    return this.getAttr('position').scales[0];\n  };\n  /**\n   * 获取 y 方向上的度量，目前只支持二维\n   */\n\n\n  Element.prototype.getYScale = function () {\n    return this.getAttr('position').scales[1];\n  };\n  /**\n   * 获取 Element 上对应所有的图形对象 shape\n   */\n\n\n  Element.prototype.getShapes = function () {\n    var shapeContainer = this.get('shapeContainer');\n    return shapeContainer.get('children');\n  };\n  /**\n   * 判断 Element 是否位于极坐标系下\n   */\n\n\n  Element.prototype.isInCircle = function () {\n    var coord = this.get('coord');\n    return !!(coord && coord.isPolar);\n  };\n  /**\n   * 为每个 shape 添加额外的信息，用于动画\n   * @param shape shape 实例\n   * @param index 索引值，绘制的顺序，同数据顺序对应\n   */\n\n\n  Element.prototype.appendShapeInfo = function (shape, index) {\n    if (shape) {\n      shape.setSilent('index', index);\n      shape.setSilent('coord', this.get('coord'));\n      shape.setSilent('scales', this.get('scales'));\n\n      if (this.get('animate') && !_.isNil(this.get('animateOptions'))) {\n        shape.setSilent('animateOptions', this.get('animateOptions'));\n      }\n    }\n  };\n  /**\n   * 判断是否发生同 adjustType 对应的调整\n   * @param adjustType adjust 类型\n   */\n\n\n  Element.prototype.hasAdjust = function (adjustType) {\n    var adjustOptions = this.get('adjustOptions');\n    var rst = false;\n\n    _.each(adjustOptions, function (adjustOption) {\n      if (adjustOption.type === adjustType) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获取图形属性对应的值\n   * @param attr 图形属性对象\n   * @param record 数据\n   */\n\n\n  Element.prototype.getAttrValues = function (attr, record) {\n    var scales = attr.scales;\n\n    var params = _.map(scales, function (scale) {\n      var field = scale.field;\n\n      if (scale.type === 'identity') {\n        return scale.values[0];\n      }\n\n      if (scale.isCategory) {\n        return record[field]; // 数据有可能发生过 adjust\n      }\n\n      return record[field];\n    });\n\n    return attr.mapping.apply(attr, params);\n  };\n\n  Element.prototype.getSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getSize(obj);\n    }\n  };\n\n  Element.prototype.getNormalizedSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getNormalizedSize(obj);\n    }\n  };\n  /**\n   * 获取分组相关的度量\n   */\n\n\n  Element.prototype.getGroupScales = function () {\n    var scales = this.get('groupScales');\n\n    if (!scales) {\n      var attrs = _.values(this.get('attrs')); // 所有的分组 Attribute 实例\n\n\n      var groupAttrs = _.filter(attrs, function (attr) {\n        return _.contains(GROUP_ATTRS, attr.type);\n      }); // 所有的分组 scale\n\n\n      var groupScales = _.map(groupAttrs, function (attr) {\n        return _.filter(attr.scales, function (scale) {\n          return scale.isCategory;\n        });\n      }); // 打平，去重\n\n\n      scales = _.uniq(_.flatten(groupScales));\n      this.set('groupScales', scales);\n    }\n\n    return scales;\n  };\n  /**\n   * 获取图例的字段集合\n   */\n\n\n  Element.prototype.getLegendFields = function () {\n    var fields = [];\n    var attrOptions = this.get('attrOptions'); // 因为会在生成 scale 前调用，所以通过 attrOptions 进行判断\n\n    GROUP_ATTRS.forEach(function (attrName) {\n      var attrOption = attrOptions[attrName];\n\n      var attrFields = _.get(attrOption, 'fields', []);\n\n      fields = fields.concat(attrFields);\n    });\n    return _.uniq(fields);\n  };\n  /**\n   * 是否合并 tooltip\n   */\n\n\n  Element.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n\n    if (!this.getYScale()) {\n      // 一维图表不合并 tooltip\n      isShareTooltip = false;\n    }\n\n    return isShareTooltip;\n  };\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  Element.prototype.findPoint = function (point, source) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.findPoint(point, source);\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  Element.prototype.getTooltipItems = function (data, titleField) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.getTooltipItems(data, titleField);\n  };\n  /**\n   * 获取 Y 轴上的最小值\n   */\n\n\n  Element.prototype.getYMinValue = function () {\n    var yScale = this.getYScale();\n    var min = yScale.min,\n        max = yScale.max;\n    var value;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n      value = max;\n    } else {\n      value = 0;\n    }\n\n    return value;\n  };\n  /**\n   * 为每个 shape 生成唯一标识 ID，用于动画\n   * @param dataObj shape 的原始数据\n   */\n\n\n  Element.prototype.getShapeId = function (dataObj) {\n    var id = this.get('id');\n    var keyFields = this.get('keyFields');\n\n    if (keyFields && keyFields.length > 0) {\n      _.each(keyFields, function (key) {\n        id = id + \"-\" + dataObj[key];\n      });\n    } else {\n      var type = this.get('type');\n      var xScale = this.getXScale();\n      var yScale = this.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal = void 0;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.values[0];\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id = id + \"-\" + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id = id + \"-\" + type;\n      } else {\n        id = id + \"-\" + xVal + \"-\" + yVal;\n      }\n\n      var groupScales = this.getGroupScales();\n\n      if (!_.isEmpty(groupScales)) {\n        _.each(groupScales, function (groupScale) {\n          // @ts-ignore\n          var field = groupScale.field;\n\n          if (groupScale.type !== 'identity') {\n            id = id + \"-\" + dataObj[field];\n          }\n        });\n      }\n    }\n\n    return id;\n  };\n  /**\n   * 根据画布坐标点获取对应的原始数据\n   * @param point 画布坐标点\n   */\n\n\n  Element.prototype.getOriginDataByPoint = function (point) {\n    var _a;\n\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n    var coord = this.get('coord');\n    var invertPoint = coord.invert(point);\n    var xValue = xScale.invert(invertPoint.x);\n    var yValue = yScale.invert(invertPoint.y);\n    var xField = xScale.field;\n    var yField = yScale.field;\n    return _a = {}, _a[xField] = xValue, _a[yField] = yValue, _a;\n  };\n  /**\n   * @protected\n   * 根据数据获取图形的关键点数据\n   * @param obj 数据对象\n   */\n\n\n  Element.prototype.createShapePointsCfg = function (obj) {\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n\n    var x = this._normalizeValues(obj[xScale.field], xScale);\n\n    var y; // 存在没有 y 的情况\n\n    if (yScale) {\n      y = this._normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x: x,\n      y: y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n    };\n  };\n  /**\n   * @protected\n   * 根据数据生成图形\n   * @param data 需要绘制的数据集合\n   * @param container 图形容器\n   * @param shapeFactory shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.draw = function (data, container, shapeFactory, index) {\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      this.drawPoint(obj, container, shapeFactory, index + i);\n    }\n  };\n  /**\n   * @protected\n   * 绘制具体的 shape\n   * @param obj 需要绘制的一套数据\n   * @param container 图形容器\n   * @param shapeFactory  shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n    var geomShape = shapeFactory.drawShape(shape, cfg, container);\n    this.appendShapeInfo(geomShape, index);\n  };\n  /**\n   * 构造绘图图形需要的属性\n   * @param obj 数据\n   */\n\n\n  Element.prototype.getDrawCfg = function (obj) {\n    var cfg = {\n      origin: obj,\n      x: obj.x,\n      y: obj.y,\n      color: obj.color,\n      size: obj.size,\n      shape: obj.shape,\n      isInCircle: this.isInCircle(),\n      opacity: obj.opacity\n    };\n    var styleOptions = this.get('styleOptions');\n\n    if (styleOptions) {\n      cfg.style = this._getStyleCfg(styleOptions, obj[FIELD_ORIGIN]);\n    }\n\n    if (this.get('generatePoints')) {\n      cfg.points = obj.points;\n      cfg.nextPoints = obj.nextPoints;\n    }\n\n    cfg.id = this.getShapeId(obj[FIELD_ORIGIN]);\n    return cfg;\n  };\n\n  Element.prototype.clearInner = function () {\n    // this.clearActivedShapes();\n    // this.clearSelected();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.clear(); // 由于 Labels 对应的模块需要生成group，所以这个地方需要删除\n\n    var labelController = this.get('labelController');\n    labelController && labelController.clear();\n    this.set('attrs', {});\n    this.set('groupScales', null);\n    var sizeController = this.get('sizeController');\n    sizeController && sizeController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController.clear(); // todo clear other controller\n  }; // 创建图形属性相关的配置项\n\n\n  Element.prototype._createAttrOption = function (attrName, field, cfg) {\n    if (_.isObject(field)) {\n      this._setAttrOptions(attrName, field);\n    } else {\n      var attrCfg = {};\n\n      if (_.isNumber(field)) {\n        // size(3), opacity(0.8)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (_.isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      this._setAttrOptions(attrName, attrCfg);\n    }\n  }; // 初始化容器\n\n\n  Element.prototype._initContainer = function () {\n    var container = this.get('container');\n    var view = this.get('view'); // element 所在的 view\n\n    var viewId = view.get('id');\n    var visible = this.get('visible');\n    var shapeContainer = container.addGroup({\n      viewId: viewId,\n      visible: visible\n    });\n    this.set('shapeContainer', shapeContainer);\n  }; // 初始化 element 相关的控制器\n\n\n  Element.prototype._initController = function () {\n    // tooltipController\n    var tooltipController = new TooltipController(this);\n    this.set('tooltipController', tooltipController); // labelController\n\n    var labelController = new LabelController(this);\n    this.set('labelController', labelController);\n  }; // 存储用户设置的图形属性配置项\n\n\n  Element.prototype._setAttrOptions = function (name, cfg) {\n    var attrOptions = this.get('attrOptions');\n    attrOptions[name] = cfg;\n  }; // 给字段创建度量\n\n\n  Element.prototype.createScale = function (field, data) {\n    var view = this.get('view');\n    var scales = this.get('scales');\n    var scale = scales[field];\n\n    if (!scale) {\n      scale = view._initScale(field, data);\n      scales[field] = scale;\n    }\n\n    return scale;\n  }; // 初始化 Attribute 实例同时生成相关的 scale 度量\n\n\n  Element.prototype._initAttrs = function (data) {\n    var _this = this;\n\n    var attrs = this.get('attrs'); // attribute 实例\n\n    var attrOptions = this.get('attrOptions'); // 传入的配置\n\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var geomType = this.get('type'); // 遍历每一个 attrOption，各自创建 Attribute 实例\n\n    _.each(attrOptions, function (option, type) {\n      var attrOption = __assign({}, option);\n\n      var callback = attrOption.callback,\n          values = attrOption.values,\n          _a = attrOption.fields,\n          fields = _a === void 0 ? [] : _a; // 饼图的特殊逻辑，填充 position 上的一维映射\n\n      if (type === 'position' && fields.length === 1 && coord.type === 'theta') {\n        fields.unshift('1');\n      } // 给每一个字段创建 scale\n\n\n      var scales = _.map(fields, function (field) {\n        return _this.createScale(field, data);\n      }); // 饼图需要填充满整个空间\n\n\n      if (coord.type === 'theta' && type === 'position' && scales.length > 1) {\n        var yScale = scales[1];\n        yScale.change({\n          nice: false,\n          min: 0,\n          max: Math.max.apply(null, yScale.values)\n        });\n      }\n\n      attrOption.scales = scales;\n\n      if (_.indexOf(['color', 'size', 'shape', 'opacity'], type) !== -1 && scales.length === 1 && scales[0].isIdentity) {\n        // 用户在图形通道上声明了常量字段 color('red'), size(5)\n        attrOption.values = scales[0].values;\n      } else if (!callback && !values) {\n        // 用户没有指定任何规则，则使用默认的映射规则\n        if (type === 'size') {\n          attrOption.values = theme.sizes;\n        } else if (type === 'shape') {\n          attrOption.values = theme.shapes[geomType] || [];\n        } else if (type === 'opacity') {\n          attrOption.values = theme.opacities;\n        } else if (type === 'color' && scales.length) {\n          // TODO 需要优化\n          var valuesLen = scales[0].values.length;\n\n          if (valuesLen <= 10) {\n            attrOption.values = theme.colors;\n          } else {\n            attrOption.values = theme.colors_20;\n          }\n        }\n      }\n\n      var attrCtor = getAttribute(type);\n      attrs[type] = new attrCtor(attrOption);\n    });\n  }; // 更新发生层叠后的数据对应的度量范围\n\n\n  Element.prototype._updateStackRange = function (field, scale, dataArray) {\n    var mergeArray = _.flatten(dataArray);\n\n    var min = scale.min;\n    var max = scale.max;\n\n    for (var i = 0, len = mergeArray.length; i < len; i += 1) {\n      var obj = mergeArray[i];\n      var tmpMin = Math.min.apply(null, obj[field]);\n      var tmpMax = Math.max.apply(null, obj[field]);\n\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n\n    if (min < scale.min || max > scale.max) {\n      scale.change({\n        min: min,\n        max: max\n      });\n    }\n  }; // 对数据进行分组\n\n\n  Element.prototype._groupData = function (data) {\n    var groupScales = this.getGroupScales();\n    var fields = groupScales.map(function (scale) {\n      return scale.field;\n    });\n    return _.group(data, fields);\n  }; // 数据调整前保存原始数据\n\n\n  Element.prototype._saveOrigin = function (data) {\n    return _.map(data, function (origin) {\n      var _a;\n\n      return __assign(__assign({}, origin), (_a = {}, _a[FIELD_ORIGIN] = origin, _a));\n    });\n  }; // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n\n\n  Element.prototype._numeric = function (data) {\n    var positionAttr = this.getAttr('position');\n    var scales = positionAttr.scales;\n\n    for (var j = 0, len = data.length; j < len; j += 1) {\n      var obj = data[j];\n\n      for (var i = 0; i < Math.min(2, scales.length); i += 1) {\n        var scale = scales[i];\n\n        if (scale.isCategory) {\n          var field = scale.field;\n          obj[field] = scale.translate(obj[field]); // TODO\n        }\n      }\n    }\n  }; // 处理数据：分组、存储原始数据、将分类数据数字化\n\n\n  Element.prototype._processData = function (data) {\n    var _this = this;\n\n    var groupedArray = this._groupData(data);\n\n    return _.map(groupedArray, function (subData) {\n      var tempData = _this._saveOrigin(subData);\n\n      _this._numeric(tempData);\n\n      return tempData;\n    });\n  }; // 进行数据调整\n\n\n  Element.prototype._adjustData = function (dataArray) {\n    var _this = this;\n\n    var adjustOptions = this.get('adjustOptions');\n    var result = dataArray;\n\n    if (adjustOptions) {\n      var theme = this.get('theme');\n      var xScale_1 = this.getXScale();\n      var yScale_1 = this.getYScale();\n      var xField_1 = xScale_1.field;\n      var yField_1 = yScale_1 ? yScale_1.field : null;\n      adjustOptions.forEach(function (adjust) {\n        var adjustCfg = __assign({\n          xField: xField_1,\n          yField: yField_1\n        }, adjust);\n\n        var type = adjust.type;\n\n        if (type === 'dodge') {\n          var adjustNames = [];\n\n          if (xScale_1.isCategory || xScale_1.isIdentity) {\n            adjustNames.push('x');\n          } else if (!yScale_1) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n\n          adjustCfg.adjustNames = adjustNames;\n          adjustCfg.dodgeRatio = _this.get('widthRatio').column;\n        } else if (type === 'stack') {\n          var coord = _this.get('coord');\n\n          if (!yScale_1) {\n            // 一维的情况下获取高度和默认size\n            adjustCfg.height = coord.getHeight();\n            var size = _this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          } // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n\n\n          if (!coord.isTransposed && _.isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n\n        var adjustCtor = getAdjust(type);\n        var adjustInstance = new adjustCtor(adjustCfg);\n        result = adjustInstance.process(result);\n\n        if (type === 'stack' && yScale_1) {\n          _this._updateStackRange(yField_1, yScale_1, result);\n        }\n      });\n    }\n\n    return result;\n  }; // 获取 element 对应 shape 的工厂对象\n\n\n  Element.prototype._getShapeFactory = function () {\n    var shapeFactory = this.get('shapeFactory');\n\n    if (!shapeFactory) {\n      var shapeType = this.get('shapeType');\n      shapeFactory = getShapeFactory(shapeType);\n      this.set('shapeFactory', shapeFactory);\n    }\n\n    return shapeFactory;\n  }; // 生成 shape 的关键点\n\n\n  Element.prototype._generatePoints = function (data) {\n    var shapeFactory = this._getShapeFactory();\n\n    var shapeAttr = this.getAttr('shape');\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      var cfg = this.createShapePointsCfg(obj);\n      var shape = shapeAttr ? this.getAttrValues(shapeAttr, obj) : null;\n      var points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }; // 将数据归一化\n\n\n  Element.prototype._normalizeValues = function (values, scale) {\n    var rst = [];\n\n    if (_.isArray(values)) {\n      for (var i = 0, len = values.length; i < len; i += 1) {\n        var v = values[i];\n        rst.push(scale.scale(v));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n\n    return rst;\n  }; // 将数据映射至图形空间前的操作：排序以及关键点的生成\n\n\n  Element.prototype._beforeMapping = function (dataArray) {\n    var _this = this;\n\n    if (this.get('sortable')) {\n      var xScale_2 = this.getXScale();\n      var field_1 = xScale_2.field;\n\n      _.each(dataArray, function (data) {\n        data.sort(function (v1, v2) {\n          return xScale_2.translate(v1[field_1]) - xScale_2.translate(v2[field_1]); // TODO\n        });\n      });\n    }\n\n    if (this.get('generatePoints')) {\n      _.each(dataArray, function (data) {\n        _this._generatePoints(data);\n      });\n\n      _.each(dataArray, function (data, index) {\n        var nextData = dataArray[index + 1];\n\n        if (nextData) {\n          data[0].nextPoints = nextData[0].points;\n        }\n      });\n    }\n  }; // 将数据映射至图形空间\n\n\n  Element.prototype._mapping = function (data) {\n    var attrs = this.get('attrs');\n    var mappedData = [];\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var record = data[i];\n      var newRecord = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints\n      };\n\n      for (var k in attrs) {\n        if (attrs.hasOwnProperty(k)) {\n          var attr = attrs[k];\n          var names = attr.names;\n          var values = this.getAttrValues(attr, record);\n\n          if (names.length > 1) {\n            // position 之类的生成多个字段的属性\n            for (var j = 0; j < values.length; j += 1) {\n              var val = values[j];\n              var name_1 = names[j];\n              newRecord[name_1] = _.isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            // newRecord[names[0]] = values.length === 1 ? values[0] : values;\n            // FIXME: 目前只有 color 通道是受 attr 结果统一为数组的影响的，暂时这么调整\n            if (values.length === 1 || names[0] === 'color') {\n              newRecord[names[0]] = values[0];\n            } else {\n              newRecord[names[0]] = values;\n            }\n          }\n        }\n      }\n\n      this._convertPoint(newRecord); // 将 x、y 转换成画布坐标\n\n\n      mappedData.push(newRecord);\n    }\n\n    return mappedData;\n  }; // 将归一化的坐标值转换成画布坐标\n\n\n  Element.prototype._convertPoint = function (mappedRecord) {\n    var x = mappedRecord.x,\n        y = mappedRecord.y;\n\n    if (_.isNil(x) || _.isNil(y)) {\n      return;\n    }\n\n    var rstX;\n    var rstY;\n    var obj;\n    var coord = this.get('coord');\n\n    if (_.isArray(y) && _.isArray(x)) {\n      rstX = [];\n      rstY = [];\n\n      for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coord.convertPoint({\n          x: x[i],\n          y: y[j]\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (_.isArray(y)) {\n      rstY = [];\n      y.forEach(function (yVal) {\n        obj = coord.convertPoint({\n          x: x,\n          y: yVal\n        });\n\n        if (rstX && rstX !== obj.x) {\n          if (!_.isArray(rstX)) {\n            rstX = [rstX];\n          }\n\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n\n        rstY.push(obj.y);\n      });\n    } else if (_.isArray(x)) {\n      rstX = [];\n      x.forEach(function (xVal) {\n        obj = coord.convertPoint({\n          x: xVal,\n          y: y\n        });\n\n        if (rstY && rstY !== obj.y) {\n          if (!_.isArray(rstY)) {\n            rstY = [rstY];\n          }\n\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n\n        rstX.push(obj.x);\n      });\n    } else {\n      var point = coord.convertPoint({\n        x: x,\n        y: y\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n\n    mappedRecord.x = rstX;\n    mappedRecord.y = rstY;\n  }; // 获取 style 配置\n\n\n  Element.prototype._getStyleCfg = function (styleOptions, origin) {\n    var _a = styleOptions.fields,\n        fields = _a === void 0 ? [] : _a,\n        callback = styleOptions.callback,\n        cfg = styleOptions.cfg;\n\n    if (cfg) {\n      // 用户直接配置样式属性\n      return cfg;\n    }\n\n    var params = fields.map(function (field) {\n      return origin[field];\n    });\n    return callback.apply(void 0, params);\n  }; // 对数据进行排序\n\n\n  Element.prototype._sort = function (mappedArray) {\n    var xScale = this.getXScale();\n    var xField = xScale.field;\n\n    _.each(mappedArray, function (itemArr) {\n      itemArr.sort(function (obj1, obj2) {\n        return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n      });\n    });\n\n    this.set('dataArray', mappedArray);\n  };\n\n  return Element;\n}(Base);\n\nexport default Element;","import * as _ from '@antv/util';\nvar EVENT_TYPES = ['start', 'process', 'end', 'reset'];\n\nvar Interaction =\n/** @class */\nfunction () {\n  function Interaction(cfg) {\n    var defaultCfg = this._getDefaultCfg();\n\n    _.assign(this, defaultCfg, cfg);\n\n    this.canvas = this.view.get('canvas');\n    this._eventHandlers = [];\n\n    this._bindEvents();\n  }\n\n  Interaction.prototype._getDefaultCfg = function () {\n    return {\n      startEvent: 'mousedown',\n      processEvent: 'mousemove',\n      endEvent: 'mouseup',\n      resetEvent: 'dblclick'\n    };\n  };\n\n  Interaction.prototype._start = function (ev) {\n    this.preStart(ev);\n    this.start(ev);\n    this.afterStart(ev);\n  };\n\n  Interaction.prototype.preStart = function (ev) {};\n\n  Interaction.prototype.start = function (ev) {};\n\n  Interaction.prototype.afterStart = function (ev) {};\n\n  Interaction.prototype._process = function (ev) {\n    this.preProcess(ev);\n    this.process(ev);\n    this.afterProcess(ev);\n  };\n\n  Interaction.prototype.preProcess = function (ev) {};\n\n  Interaction.prototype.process = function (ev) {};\n\n  Interaction.prototype.afterProcess = function (ev) {};\n\n  Interaction.prototype._end = function (ev) {\n    this.preEnd(ev);\n    this.end(ev);\n    this.afterEnd(ev);\n  };\n\n  Interaction.prototype.preEnd = function (ev) {};\n\n  Interaction.prototype.end = function (ev) {};\n\n  Interaction.prototype.afterEnd = function (ev) {};\n\n  Interaction.prototype._reset = function (ev) {\n    this.preReset(ev);\n    this.reset(ev);\n    this.afterReset(ev);\n  };\n\n  Interaction.prototype.preReset = function (ev) {};\n\n  Interaction.prototype.reset = function (ev) {};\n\n  Interaction.prototype.afterReset = function (ev) {};\n\n  Interaction.prototype._bindEvents = function () {\n    var _this = this;\n\n    _.each(EVENT_TYPES, function (type) {\n      var eventName = _this[type + \"Event\"];\n\n      var handler = _.wrapBehavior(_this, \"_\" + type);\n\n      _this.view.on(eventName, handler);\n\n      _this._eventHandlers.push({\n        type: eventName,\n        handler: handler\n      });\n    });\n  };\n\n  Interaction.prototype._unbindEvents = function () {\n    var _this = this;\n\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      _this.view.off(eh.type, eh.handler);\n    });\n  };\n\n  Interaction.prototype.destroy = function () {\n    this._unbindEvents();\n\n    this._reset();\n  };\n\n  return Interaction;\n}();\n\nexport default Interaction;","export var INTERACTION_MAP = {};\nexport var getInteraction = function getInteraction(type) {\n  return INTERACTION_MAP[type];\n};\nexport var registerInteraction = function registerInteraction(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getInteraction(type)) {\n    throw new Error(\"Interaction type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  INTERACTION_MAP[type] = ctor;\n};","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from '../base';\nimport Global from '../global';\nimport Animate from '../animate';\nimport ScaleController from './controller/scale';\nimport CoordController from './controller/coordinate';\nimport AnnController from './controller/annotation';\nimport LegendController from './controller/legend';\nimport AxisController from './controller/axis';\nimport TooltipController from './controller/tooltip';\nimport ShapeStateController from './controller/shape-state';\nimport EventController from './controller/event';\nimport { getTheme } from '../theme';\nimport { getFacet } from '../facet';\nimport { getElement } from '../element';\nimport { getInteraction } from '../interaction';\nimport { BBox } from '@antv/g';\nimport { parsePadding } from '../util'; // 判断极坐标是否是一个整圆\n\nfunction isFullCircle(coord) {\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n\n  return false;\n}\n\nvar FIELD_ORIGIN = '_origin'; // TODO maintaining options\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View(cfg) {\n    var _this = _super.call(this, __assign({\n      animate: Global.animate,\n      widthRatio: Global.widthRatio,\n      canvas: null,\n      container: null,\n      coord: null,\n      elements: [],\n      guideController: null,\n      id: _.uniqueId('view_'),\n      options: {},\n      padding: Global.theme.padding,\n      parent: null,\n      scaleController: null,\n      scales: {},\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      },\n      width: null,\n      height: null,\n      theme: null,\n      title: null,\n      views: [],\n      visible: true,\n      backgroundStyle: {},\n      interactions: {}\n    }, cfg)) || this;\n\n    _this.init();\n\n    return _this;\n  }\n\n  View.prototype.axis = function (field, cfg) {\n    var options = this.get('options') || {};\n\n    if (field === false) {\n      options.axes = false;\n\n      _.set(options, 'axes', false);\n    } else if (_.isObject(field)) {\n      _.set(options, ['axes', 'fields'], field);\n    } else if (_.isString(field)) {\n      _.set(options, ['axes', 'fields', field], cfg);\n    } else {\n      _.set(options, 'axes', cfg);\n    }\n\n    return this;\n  }; // TODO: 图表标题配置\n\n\n  View.prototype.title = function (options) {};\n\n  View.prototype.tooltip = function (visible, cfg) {\n    var options = this.get('options');\n\n    if (!options.tooltip) {\n      options.tooltip = {};\n    }\n\n    if (visible === false) {\n      options.tooltip = false;\n    } else if (_.isObject(visible)) {\n      _.mix(options.tooltip, visible);\n    } else {\n      _.mix(options.tooltip, cfg);\n    }\n\n    return this;\n  };\n\n  View.prototype.legend = function (field, cfg) {\n    var options = this.get('options');\n\n    if (field === false) {\n      // 整体关闭图例\n      _.set(options, 'legends', false);\n    } else if (_.isObject(field)) {\n      // 全局配置图例\n      _.set(options, 'legends', field);\n    } else if (_.isString(field)) {\n      _.set(options, ['legends', 'fields', field], cfg);\n    } else {\n      _.set(options, 'legends', cfg);\n    }\n\n    return this;\n  }; // 静态标注\n\n\n  View.prototype.annotation = function () {\n    return this.get('annotationController');\n  }; // data\n  // 更新数据\n\n\n  View.prototype.changeData = function (data) {\n    this.emit('beforechangedata');\n    this.set('data', data);\n\n    this._initData();\n\n    this.emit('afterchangedata');\n    this.repaint();\n    return this;\n  }; // 加载数据\n\n\n  View.prototype.data = function (data) {\n    this.set('data', data);\n\n    this._initData();\n\n    return this;\n  };\n\n  View.prototype.scale = function (field, cfg) {\n    var options = this.get('options');\n    var scaleDefs = options.scales;\n\n    if (_.isObject(field)) {\n      _.mix(scaleDefs, field);\n    } else {\n      scaleDefs[field] = cfg;\n    }\n\n    return this;\n  }; // 过滤需要绘制的数据，但是不会改变传入的数据源，如果存在对应的图例，则过滤掉的字段置灰\n\n\n  View.prototype.filter = function (field, condition) {\n    var options = this.get('options');\n\n    if (!options.filters) {\n      options.filters = {};\n    }\n\n    options.filters[field] = condition;\n    return this;\n  };\n\n  View.prototype.coordinate = function (type, cfg) {\n    var coordController = this.get('coordController');\n\n    if (_.isObject(type)) {\n      coordController.reset(type);\n    } else {\n      coordController.reset({\n        type: type,\n        cfg: cfg\n      });\n    }\n\n    return coordController;\n  };\n  /**\n   * 创建新的子 view\n   * @param cfg\n   */\n\n\n  View.prototype.createView = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    } // view 中已有的子 views 数组\n\n\n    var views = this.get('views');\n\n    var newCfg = __assign({\n      theme: this.get('theme'),\n      parent: this,\n      container: this.get('panelGroup'),\n      canvas: this.get('canvas'),\n      animate: this.get('animate')\n    }, cfg); // options 中的配置\n\n\n    newCfg.options = _.mix({}, this._getSharedOptions(), cfg.options);\n    var view = new View(newCfg);\n    view.set('id', _.uniqueId('view_')); // 标识 ID，防止同用户设定的 id 重名\n\n    views.push(view);\n    this.emit('addview', {\n      view: view\n    });\n    return view;\n  };\n  /**\n   * 移除 view\n   * @param view\n   */\n\n\n  View.prototype.removeView = function (view) {\n    var views = this.get('views');\n\n    _.pull(views, view);\n\n    view.destroy();\n  };\n  /**\n   * 分面操作\n   * @param option\n   */\n\n\n  View.prototype.facet = function (option) {\n    // 先销毁掉之前的分面\n    var preFacet = this.get('facet');\n    if (preFacet) preFacet.destroy(); // 创建新的分面\n\n    var type = _.get(option, 'type');\n\n    var ctor = getFacet(type);\n    if (!ctor) throw new Error(\"facet '\" + type + \"' is not exist!\");\n    this.set('facet', new ctor(this, option));\n  };\n  /**\n   * 配置动画参数\n   * @param enable\n   */\n\n\n  View.prototype.animate = function (enable) {\n    var options = this.get('options');\n    options.animate = enable;\n    this.set('animate', enable);\n    return this;\n  };\n\n  View.prototype.render = function (stopDrawing) {\n    this._clearInner();\n\n    this.emit('beforerender');\n\n    this._beforeRender();\n\n    this.emit('beforedraw');\n\n    this._drawGuides();\n\n    this._drawElements(); // 渲染 facet\n\n\n    this._renderFacet(); // TODO children\n\n\n    if (this.get('views').length) {\n      _.each(this.get('views'), function (view) {\n        view.render(stopDrawing);\n      });\n    }\n\n    this._addBackShape();\n\n    this._canvasDraw(stopDrawing);\n\n    this.emit('afterdraw');\n    this.emit('afterrender');\n    this.set('rendered', true);\n    return this;\n  };\n\n  View.prototype.changeVisible = function (visible, stopDrawing) {\n    _.each(this.get('elements'), function (element) {\n      element.changeVisible(visible, true);\n    });\n\n    this.get('container').set('visible', visible);\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.changeVisible(visible);\n    var axisController = this.get('axisController');\n    axisController && axisController.changeVisible(visible);\n\n    if (!stopDrawing) {\n      this.get('canvas').draw();\n    }\n  };\n\n  View.prototype.isShapeInView = function (shape) {\n    var id = this.get('id');\n    var shapeViewId = shape.get('viewId');\n\n    if (shapeViewId) {\n      return shapeViewId === id;\n    }\n\n    {\n      var container = this.get('container');\n      var parent_1 = shape.get('parent');\n\n      while (parent_1) {\n        if (parent_1 === container) {\n          shape.set('viewId', this.get('id'));\n          return true;\n        }\n\n        parent_1 = parent_1.get('parent');\n      }\n    }\n    return false;\n  };\n\n  View.prototype.isPointInView = function (point) {\n    var viewRange = this.get('viewRange');\n\n    if (point.x > viewRange.minX && point.x < viewRange.maxX && point.y > viewRange.minY && point.y < viewRange.maxY) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * 获取 x 轴的度量\n   */\n\n\n  View.prototype.getXScale = function () {\n    var elements = this.get('elements');\n\n    if (elements.length) {\n      return elements[0].getXScale();\n    }\n\n    return null;\n  };\n  /**\n   * 获取 y 轴所有的度量\n   */\n\n\n  View.prototype.getYScales = function () {\n    var elements = this.get('elements');\n    var yScales = [];\n    elements.forEach(function (element) {\n      var yScale = element.getYScale();\n\n      if (yScale && _.indexOf(yScales, yScale) === -1) {\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  };\n  /**\n   * 获取原始数据对应的画布坐标\n   * @param data 原始数据\n   */\n\n\n  View.prototype.getXY = function (data) {\n    var coord = this.get('coord');\n\n    var xScales = this._getScales('x');\n\n    var yScales = this._getScales('y');\n\n    var x;\n    var y;\n\n    for (var field in data) {\n      if (xScales[field]) {\n        x = xScales[field].scale(data[field]);\n      }\n\n      if (yScales[field]) {\n        y = yScales[field].scale(data[field]);\n      }\n    }\n\n    if (!_.isNil(x) && !_.isNil(y)) {\n      return coord.convert({\n        x: x,\n        y: y\n      });\n    }\n\n    return null;\n  };\n  /**\n   * 根据传入的坐标展示该点对应的 tooltip 内容\n   * @param point 画布坐标\n   */\n\n\n  View.prototype.showTooltip = function (point) {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.showTooltip(point, this);\n    return this;\n  };\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  View.prototype.hideTooltip = function () {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.hideTooltip();\n    return this;\n  };\n  /**\n   * 根据传入的画布坐标，获取该处的 tooltip 上的记录信息\n   * @param point 画布坐标点\n   */\n\n\n  View.prototype.getTooltipItems = function (point) {\n    var rst = []; // const elements = this.get('elements');\n\n    var elements = this.getElements();\n\n    _.each(elements, function (element) {\n      var dataArray = element.get('dataArray');\n      var items = [];\n\n      _.each(dataArray, function (data) {\n        var tmpPoint = element.findPoint(point, data);\n\n        if (tmpPoint) {\n          var subItems = element.getTooltipItems(tmpPoint);\n          items = items.concat(subItems);\n        }\n      });\n\n      rst = rst.concat(items);\n    });\n\n    return rst;\n  }; // lifecycle\n\n\n  View.prototype.init = function () {\n    this._initTheme();\n\n    this._initLayers();\n\n    this.initRegion();\n\n    this._initOptions();\n\n    this._initControllers();\n\n    this._bindEvents();\n\n    if (this.get('data')) {\n      this._initData();\n    }\n  };\n\n  View.prototype.destroy = function () {\n    this._clearEvents();\n\n    this.off(); // events\n\n    this.clear(); // UI, models, etc.\n\n    this.clearAllInteractions(); // clearAllInteractions需要在_destroyViewGroups前面，因为某些interaction依赖group\n\n    this._destroyViewGroups();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  View.prototype.clear = function () {\n    this.set('isUpdate', false);\n\n    this._clearInner();\n\n    this._destroyElements();\n\n    return this;\n  };\n  /**\n   * 清空并重绘\n   */\n\n\n  View.prototype.repaint = function () {\n    this.set('isUpdate', true); // 标识符，用于更新动画\n    // this._clearInner();\n\n    this.render();\n    return this;\n  };\n  /* 还有其他的一些 view 数据获取的方法 */\n\n  /**\n   * 深度遍历所有的 shape，执行回调函数\n   * @param fn 回调函数包含参数：record,shape,element,view\n   * @return view 当前视图\n   */\n\n\n  View.prototype.eachShape = function (fn) {\n    var _this = this;\n\n    var views = this.get('views');\n    var canvas = this.get('canvas'); // 先深度遍历 views\n\n    _.each(views, function (view) {\n      view.eachShape(fn);\n    }); // 在遍历当前 view 中的 elements\n\n\n    var elements = this.get('elements');\n\n    _.each(elements, function (element) {\n      // 遍历每一个 shape\n      var shapes = element.getShapes();\n\n      _.each(shapes, function (shape) {\n        var origin = shape.get('origin');\n\n        if (_.isArray(origin)) {\n          var arr = origin.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n          });\n          fn(arr, shape, element, _this);\n        } else {\n          var obj = origin[FIELD_ORIGIN];\n          fn(obj, shape, element, _this);\n        }\n      });\n    });\n\n    canvas.draw();\n    return this;\n  };\n  /**\n   * 获得所有的 element，\n   * @param recursive 是否递归获取，默认为 false\n   */\n\n\n  View.prototype.getElements = function (recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var elements = __spreadArrays(this.get('elements'));\n\n    if (recursive) {\n      var views = this.get('views');\n\n      _.each(views, function (view) {\n        elements = elements.concat(view.getElements(recursive));\n      });\n    }\n\n    return elements;\n  };\n  /**\n   * 获取过滤后的值（需要显示的值）\n   * @param field 度量\n   * @return  滤后的值\n   */\n\n\n  View.prototype.getFilteredValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(filters[field]);\n    } else {\n      rst = values.slice(0);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取被过滤的值（不需显示的值）\n   * @param field 度量\n   * @return 滤出的值\n   */\n\n\n  View.prototype.getFilteredOutValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(function (v) {\n        return !filters[field](v);\n      });\n    } else {\n      rst = [];\n    }\n\n    return rst;\n  };\n  /**\n   * 设置图形active状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setActive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('active', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形selected状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setSelected = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('selected', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形inactive状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setInactive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('inactive', exp, draw);\n    return this;\n  };\n\n  View.prototype.clearAllInteractions = function () {\n    var interactions = this.get('interactions');\n\n    _.each(interactions, function (interaction, key) {\n      interaction.destroy();\n      delete interactions[key];\n    });\n\n    return this;\n  };\n\n  View.prototype.clearInteraction = function (type) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n      delete interactions[type];\n    }\n\n    return this;\n  };\n\n  View.prototype.interaction = function (type, cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    var Ctor = getInteraction(type);\n    var interaction = new Ctor(cfg);\n\n    this._setInteraction(type, interaction);\n\n    return this;\n  }; // private / protected methods\n  // if facet exist, render it.\n\n\n  View.prototype._renderFacet = function () {\n    var facet = this.get('facet');\n    if (facet) facet.render();\n  };\n  /* 获得可以共享给子 view 的配置信息\n   * @private\n   */\n\n\n  View.prototype._getSharedOptions = function () {\n    var options = this.get('options');\n    var scales = options.scales,\n        coord = options.coord,\n        axes = options.axes;\n    return {\n      scales: scales,\n      coord: coord,\n      axes: axes\n    };\n  };\n\n  View.prototype._getFilters = function () {\n    var options = this.get('options');\n    return options.filters;\n  }; // TODO 在 extend 之前，保留 private，如果 Plot 类有调用，再改为 protected\n\n\n  View.prototype._initTheme = function () {\n    var theme = this.get('theme');\n    var viewTheme = {};\n    var newTheme = {};\n\n    if (_.isObject(theme)) {\n      newTheme = theme;\n    } else if (_.isString(theme)) {\n      newTheme = getTheme(theme);\n    }\n\n    _.deepMix(viewTheme, Global.theme, newTheme);\n\n    this.set('theme', viewTheme);\n  };\n\n  View.prototype._bindEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.bindEvents();\n  };\n\n  View.prototype._clearEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.clearEvents();\n  };\n\n  View.prototype._initLayers = function () {\n    var container = this.get('container');\n    var backgroundGroup = container.addGroup({\n      name: 'backgroundGroup',\n      zIndex: 0,\n      viewId: this.get('id')\n    });\n    var panelGroup = container.addGroup({\n      name: 'panelGroup',\n      zIndex: 1,\n      viewId: this.get('id')\n    });\n    var frontgroundGroup = container.addGroup({\n      name: 'frontgroundGroup',\n      zIndex: 2\n    });\n    this.set('frontgroundGroup', frontgroundGroup);\n    this.set('backgroundGroup', backgroundGroup);\n    this.set('panelGroup', panelGroup);\n  }; // 生成 view 以及绘图区域的范围\n\n\n  View.prototype.initRegion = function () {\n    // TODO: AutoPadding 场景\n    var _a = this.get('start'),\n        startX = _a.x,\n        startY = _a.y;\n\n    var _b = this.get('end'),\n        endX = _b.x,\n        endY = _b.y;\n\n    var parent = this.get('parent');\n\n    if (parent) {\n      var _c = parent.get('panelRange'),\n          width = _c.width,\n          height = _c.height,\n          tl = _c.tl; // 判断 start 和 end 是像素值还是 0 - 1 范围的数据\n\n\n      if (endX - startX <= 1) {\n        // 0 -1 返回的数据，将其转换为像素值\n        startX *= width;\n        startY *= height;\n        endX *= width;\n        endY *= height;\n      }\n\n      startX += tl.x;\n      endX += tl.x;\n      startY += tl.y;\n      endY += tl.y;\n    } else if (endX - startX <= 1) {\n      var width = this.get('width');\n      var height = this.get('height');\n      startX *= width;\n      startY *= height;\n      endX *= width;\n      endY *= height;\n    } // else {\n    //   startX = 0;\n    //   startY = 0;\n    //   endX = this.get('width');\n    //   endY = this.get('height');\n    // }\n\n\n    var viewWidth = endX - startX;\n    var viewHeight = endY - startY;\n    this.set('viewRange', new BBox(startX, startY, viewWidth, viewHeight)); // 获取子 view 整体范围（包含坐标轴）\n\n    var padding = parsePadding(this.get('padding'));\n    var top = padding[0],\n        right = padding[1],\n        bottom = padding[2],\n        left = padding[3];\n    var panelRange = new BBox(startX + left, startY + top, viewWidth - left - right, viewHeight - top - bottom);\n    this.set('panelRange', panelRange); // 获取子 view 绘图区域范围，即 elements 绘图范围\n  };\n\n  View.prototype._initData = function () {// now do nothing here.\n  };\n\n  View.prototype._initOptions = function () {\n    var _this = this;\n\n    var options = _.mix({}, this.get('options')); // shadow copy\n\n\n    if (!options.scales) {\n      options.scales = {};\n    }\n\n    if (!options.coord) {\n      options.coord = {};\n    } // animate 默认为 true，只有显示设置为 false 的时候，才为 false\n\n\n    if (!_.isUndefined(options.animate)) {\n      this.set('animate', !!options.animate);\n    } // TODO guides, annotations\n\n\n    if (options.elements && options.elements.length) {\n      _.each(options.elements, function (cfg) {\n        _this._createElement(cfg);\n      });\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (scaleController) {\n      scaleController.defs = options.scales;\n    }\n\n    var coordController = this.get('coordController');\n\n    if (coordController) {\n      coordController.reset(options.coord);\n    }\n\n    this.set('options', options);\n  };\n\n  View.prototype._drawGuides = function () {\n    if (!this.get('keepLegend')) {\n      this._renderLegend();\n    }\n\n    this._renderAnnotations();\n\n    this._renderAxes();\n\n    this._renderTooltip();\n  };\n\n  View.prototype._renderAxes = function () {\n    var options = this.get('options');\n    var axesOptions = options.axes;\n\n    if (axesOptions === false) {\n      return; // 不渲染\n    }\n\n    var axisController = this.get('axisController'); // 如果直接传入 this.get('backgroundGroup')，当调用 axisController.clear() 时，会将 annotationController 创建的 backgroundGroup 销毁\n\n    axisController.container = this.get('backgroundGroup').addGroup({\n      name: 'axisGroup'\n    });\n    axisController.coord = this.get('coord');\n    axisController.options = _.get(options, 'axes', {});\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var viewId = this.get('id');\n    axisController.createAxis(xScale, yScales, viewId);\n  };\n\n  View.prototype._renderTooltip = function () {\n    var options = this.get('options'); // 用户没有配置 tooltip 或者未显示关闭，则进行 tooltip 的渲染\n\n    if (_.isNil(options.tooltip) || options.tooltip !== false) {\n      var tooltipController = this.get('tooltipController');\n      tooltipController.options = options.tooltip || {};\n      tooltipController.renderTooltip();\n    }\n  };\n\n  View.prototype._initControllers = function () {\n    var options = this.get('options');\n    var theme = this.get('theme');\n    var canvas = this.get('canvas');\n    var scaleController = new ScaleController(options.scales); // TODO 支持透传图表尺寸等\n\n    this.set('scaleController', scaleController);\n    var coordController = new CoordController(options.coord);\n    this.set('coordController', coordController);\n    var eventController = new EventController({\n      canvas: this.get('canvas'),\n      view: this\n    });\n    this.set('eventController', eventController);\n    var shapeStateController = new ShapeStateController({\n      view: this\n    });\n    this.set('shapeStateController', shapeStateController);\n    var legendController = new LegendController({\n      view: this\n    });\n    this.set('legendController', legendController);\n    var annotationController = new AnnController({\n      theme: this.get('theme'),\n      view: this,\n      frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n      backgroundGroup: this.get('backgroundGroup').addGroup(),\n      // @ts-ignore\n      options: options.annotations || []\n    });\n    this.set('annotationController', annotationController);\n    var axisController = new AxisController({\n      canvas: canvas,\n      theme: theme\n    });\n    this.set('axisController', axisController);\n    var tooltipController = new TooltipController({\n      view: this,\n      theme: theme\n    });\n    this.set('tooltipController', tooltipController);\n  };\n\n  View.prototype._initScale = function (field, data) {\n    if (data === void 0) {\n      data = [];\n    }\n\n    var scales = this.get('scales'); // const parent = this.get('parent');\n\n    var scale = scales[field];\n    var _data = data; // let scale = scales[field];\n    // const filteredData = this.get('filteredData'); // 过滤后的数据\n\n    var legendFields = this._getLegendFields(); // 过滤导致数据为空或者 field 字2段参与了图例生成，都使用全局数据，使图例过滤前后图形映射通道保持一致\n\n\n    if (!_data.length || legendFields.indexOf(field) !== -1) {\n      _data = this.get('data') || [];\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (!scale) {\n      scale = scaleController.createScale(field, _data); // TODO due with scale syncing, etc.\n\n      scales[field] = scale; // 存储至 scales 变量中\n    }\n\n    return scale;\n  };\n\n  View.prototype._createElement = function (cfg) {\n    var type = cfg.type;\n    var element;\n\n    if (getElement(type)) {\n      var elementCfg = __assign(__assign({}, cfg), {\n        container: this.get('panelGroup').addGroup(),\n        frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n        view: this,\n        canvas: this.get('canvas'),\n        theme: this.get('theme')\n      });\n\n      var ElementCtor = getElement(type);\n      element = new ElementCtor(elementCfg);\n\n      _.each(cfg, function (v, k) {\n        if (element[k]) {\n          element[k](v); // 只支持 options\n        }\n      });\n\n      this._addElement(element);\n    }\n  };\n\n  View.prototype._addElement = function (element) {\n    var elements = this.get('elements');\n    elements.push(element);\n    element.bindStates();\n  };\n\n  View.prototype._drawElements = function () {\n    this.emit('beforedrawelements');\n\n    _.each(this.get('elements'), function (element) {\n      element.paint();\n    });\n\n    this.emit('afterdrawelements');\n  };\n\n  View.prototype._clearElements = function () {\n    _.each(this.get('elements'), function (element) {\n      element.clear();\n    });\n  };\n\n  View.prototype._destroyElements = function () {\n    var elements = this.get('elements');\n\n    while (elements.length > 0) {\n      var element = elements.shift();\n      element.destroy();\n    }\n  };\n\n  View.prototype._clearInner = function () {\n    this.set('scales', {});\n    this.emit('beforeclearinner');\n    var options = this.get('options');\n    options.elements = [];\n\n    this._clearElements(); // clear facet\n\n\n    var facet = this.get('facet');\n    if (facet) facet.clear();\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.reset();\n    var axisController = this.get('axisController');\n    axisController && axisController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController && tooltipController.clear(); // 当不需要保留图例的时候，需要将图例清空，否则 legend 还会残留\n\n    if (!this.get('keepLegend')) {\n      var legendController = this.get('legendController');\n      legendController && legendController.clear();\n    } // _addBackShape() 在 render() 方法中调用，为了防止重复创建，需要清空\n\n\n    var backgroundGroup = this.get('backgroundGroup');\n    var panelGroup = this.get('panelGroup');\n    backgroundGroup.get('backShape') && backgroundGroup.get('backShape').remove();\n    panelGroup.get('backShape') && panelGroup.get('backShape').remove();\n    this.emit('afterclearinner');\n  };\n\n  View.prototype._beforeRender = function () {\n    _.each(this.get('views'), function (view) {\n      view._beforeRender();\n    });\n\n    this._initView();\n  };\n\n  View.prototype._initView = function () {\n    this._execFilters();\n\n    this._initCoord();\n\n    this.emit('beforeinitelements');\n\n    this._initElements();\n\n    this._adjustScales();\n  };\n\n  View.prototype._initCoord = function () {\n    var panelRange = this.get('panelRange');\n    var coordController = this.get('coordController');\n    var coord = coordController.createCoord(panelRange.bl, panelRange.tr);\n    this.set('coord', coord);\n  };\n\n  View.prototype._getScales = function (dim) {\n    var elements = this.get('elements');\n    return _.reduce(elements, function (result, element) {\n      var scale = dim === 'x' ? element.getXScale() : element.getYScale();\n\n      if (scale && !_.has(result, scale.field)) {\n        result[scale.field] = scale;\n      }\n\n      return result;\n    }, {});\n  };\n\n  View.prototype._initElements = function () {\n    var filteredData = this.get('filteredData');\n    var coord = this.get('coord');\n    var viewId = this.get('id');\n    var options = this.get('options');\n    var animate = this.get('animate');\n    var widthRatio = this.get('widthRatio');\n    var isShareTooltip = options.tooltip && options.tooltip.shared;\n\n    _.each(this.get('elements'), function (element, i) {\n      element.set('data', filteredData);\n      element.set('coord', coord);\n      element.set('id', viewId + \"-element-\" + i);\n      element.set('animate', animate);\n      element.set('widthRatio', _.deepMix({}, widthRatio, element.get('widthRatio')));\n      _.isBoolean(isShareTooltip) && element.set('shareTooltip', isShareTooltip);\n      element.init();\n    });\n  };\n\n  View.prototype._adjustScales = function () {\n    // 调整分类度量的 range 属性\n    this._adjustCategoryScalesRange(); // 特殊逻辑：柱状图数值轴默认从 0 开始\n\n\n    var elements = this.get('elements');\n    var scaleDefs = this.get('scaleController').defs;\n    elements.forEach(function (element) {\n      if (element.get('type') === 'interval') {\n        var yScale = element.getYScale();\n        var field = yScale.field,\n            min = yScale.min,\n            max = yScale.max,\n            type = yScale.type; // 如果用户使用 view.scale() 自己定义了 min，则以用户的为准\n        // time 类型不做调整\n\n        if (!(scaleDefs[field] && scaleDefs[field].min) && type !== 'time') {\n          if (min > 0) {\n            yScale.change({\n              min: 0\n            });\n          } else if (max <= 0) {\n            // 当柱状图全为负值时也需要从 0 开始生长\n            yScale.change({\n              max: 0\n            });\n          }\n        }\n      }\n    });\n  }; // 调整 x y 两个维度分类度量的 range 属性\n\n\n  View.prototype._adjustCategoryScalesRange = function () {\n    var coord = this.get('coord');\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var widthRatio = this.get('widthRatio');\n    var scales = [];\n    xScale && scales.push(xScale); // 一维图表没有 x 度量\n\n    scales = scales.concat(yScales);\n    var inFullCircle = isFullCircle(coord);\n    var scaleController = this.get('scaleController');\n    var scaleDefs = scaleController.defs;\n    scales.forEach(function (scale) {\n      var field = scale.field,\n          values = scale.values; // 分类或者常量度量，同时用户没有通过 view.scale() 配置 range 属性\n\n      if ((scale.isCategory || scale.isIdentity) && values && !(scaleDefs[field] && scaleDefs[field].range)) {\n        var count = values.length;\n        var range = void 0;\n\n        if (count === 1) {\n          range = [0.5, 1]; // 只有一个分类时,防止计算出现 [ 0.5,0.5 ] 的状态\n        } else {\n          var wr = 1;\n          var offset = 0;\n\n          if (inFullCircle) {\n            if (!coord.isTransposed) {\n              range = [0, 1 - 1 / count];\n            } else {\n              wr = widthRatio.multiplePie;\n              offset = 1 / count * wr;\n              range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            offset = 1 / count * 1 / 2; // 两边留下分类空间的一半\n\n            range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n          }\n        }\n\n        scale.range = range;\n      }\n    });\n  }; // 过滤数据\n\n\n  View.prototype._execFilters = function () {\n    var data = this.get('data');\n    var result = this.get('data') || [];\n\n    var filters = this._getFilters();\n\n    if (filters) {\n      result = result.filter(function (obj) {\n        var rst = true;\n\n        _.each(filters, function (callback, field) {\n          if (callback) {\n            rst = callback(obj[field], obj);\n\n            if (!rst) {\n              return false;\n            }\n          }\n        });\n\n        return rst;\n      });\n    }\n\n    this.set('filteredData', result);\n  };\n\n  View.prototype._addBackShape = function () {\n    // TODO：再飞，有没有更好的办法？\n    // add backgroundGroup backShape\n    var backgroundGroup = this.get('backgroundGroup');\n    var viewRange = this.get('viewRange');\n    var backShapeAttrs = {\n      x: viewRange.x,\n      y: viewRange.y,\n      width: viewRange.width,\n      height: viewRange.height,\n      fill: 'rgba(255,255,255,0)'\n    };\n\n    var backgroundStyle = _.mix(this.get('theme').backgroundStyle, this.get('backgroundStyle'));\n\n    var backgroundBackShape = backgroundGroup.addShape('rect', {\n      attrs: _.mix(backShapeAttrs, backgroundStyle),\n      zIndex: -1\n    });\n    backgroundGroup.set('backShape', backgroundBackShape);\n    backgroundGroup.sort(); // add panelGroup backShape\n\n    var panelGroup = this.get('panelGroup');\n    var panelRange = this.get('panelRange');\n    var panelBackShape = panelGroup.addShape('rect', {\n      attrs: {\n        x: panelRange.x,\n        y: panelRange.y,\n        width: panelRange.width,\n        height: panelRange.height,\n        fill: 'rgba(255,255,255,0)'\n      },\n      zIndex: -1\n    });\n    panelGroup.set('backShape', panelBackShape);\n    panelGroup.sort();\n  };\n\n  View.prototype._destroyViewGroups = function () {\n    this.get('frontgroundGroup').remove();\n    this.get('backgroundGroup').remove();\n    this.get('panelGroup').remove();\n    this.set('frontgroundGroup', null);\n    this.set('backgroundGroup', null);\n    this.set('panelGroup', null);\n  };\n\n  View.prototype._canvasDraw = function (stopDrawing) {\n    var canvas = this.get('canvas');\n\n    if (!stopDrawing) {\n      var views = this.get('views'); // sorting\n\n      if (this.get('animate')) {\n        // start animation\n        var isUpdate_1 = this.get('isUpdate');\n\n        _.each(views, function (view) {\n          Animate.execAnimation(view, isUpdate_1);\n        });\n\n        Animate.execAnimation(this, isUpdate_1);\n        canvas.draw();\n      } else {\n        canvas.draw();\n      }\n    }\n  };\n\n  View.prototype._renderLegend = function () {\n    var legendController = this.get('legendController');\n    legendController.render();\n  };\n\n  View.prototype._renderAnnotations = function () {\n    var coord = this.get('coord');\n    var annotationController = this.get('annotationController');\n    annotationController.xScales = this._getScales('x');\n    annotationController.yScales = this._getScales('y');\n    annotationController.render(coord);\n  };\n\n  View.prototype._getLegendFields = function () {\n    var fields = [];\n    var elements = this.get('elements');\n    elements.forEach(function (element) {\n      var elementFields = element.getLegendFields();\n      fields = fields.concat(elementFields);\n    });\n    return _.uniq(fields);\n  }; // interaction相关\n\n\n  View.prototype._setInteraction = function (type, interaction) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n    }\n\n    interactions[type] = interaction;\n  };\n\n  return View;\n}(Base);\n\nexport default View; // TODO mixin element methods\n\nexport var registerViewPrototype = function registerViewPrototype(key, Ctor) {\n  View.prototype[key] = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    cfg.theme = this.get('theme');\n    cfg.container = this.get('panelGroup').addGroup();\n    cfg.frontgroundGroup = this.get('frontgroundGroup').addGroup();\n    cfg.canvas = this.get('canvas');\n    var element = new Ctor(cfg);\n\n    this._addElement(element);\n\n    return element;\n  };\n};","import * as _ from '@antv/util';\n/**\n * 解析 padding 格式为标准的上、右、下、左格式\n * @param padding 内边距，可以是数组、数字或者 'auto'\n */\n\nexport function parsePadding(padding) {\n  var top;\n  var left;\n  var right;\n  var bottom;\n\n  if (_.isNumber(padding) || _.isString(padding)) {\n    top = left = right = bottom = padding;\n  } else if (_.isArray(padding)) {\n    top = padding[0];\n    right = !_.isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !_.isNil(padding[2]) ? padding[2] : padding[0];\n    left = !_.isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Global from '../global';\nimport View from './view';\n\nvar Plot =\n/** @class */\nfunction (_super) {\n  __extends(Plot, _super);\n\n  function Plot(cfg) {\n    return _super.call(this, __assign({\n      containerDOM: null,\n      containerId: null,\n      width: Global.width,\n      height: Global.height,\n      pixelRatio: Global.pixelRatio,\n      renderer: Global.renderer,\n      forceFit: false\n    }, cfg)) || this;\n  }\n\n  Plot.prototype.init = function () {\n    this.set('id', _.uniqueId('chart'));\n\n    this._initCanvas();\n\n    this._initEvents();\n\n    _super.prototype.init.call(this);\n  };\n  /**\n   * 修改画布的大小，用于外部做自适应\n   * @param width\n   * @param height\n   * @param autoRender\n   */\n\n\n  Plot.prototype.changeSize = function (width, height, autoRender) {\n    if (autoRender === void 0) {\n      autoRender = true;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.changeSize(width, height); // 设置宽高之后，重新计算 region 大小（viewRange、panelRange）\n\n    this.set('width', width);\n    this.set('height', height);\n    this.initRegion();\n\n    if (autoRender) {\n      // 重新绘制\n      this.render();\n      this.emit('afterchangesize');\n    }\n\n    return this;\n  };\n\n  Plot.prototype.render = function (stopDrawing) {\n    _super.prototype.render.call(this, stopDrawing);\n\n    this.get('canvas').draw();\n    return this;\n  };\n\n  Plot.prototype.destroy = function () {\n    window.removeEventListener('resize', _.getWrapBehavior(this, '_initForceFitEvent'));\n\n    _super.prototype.destroy.call(this);\n  };\n\n  Plot.prototype._initCanvas = function () {\n    var canvas = new Canvas({\n      containerDOM: this.get('containerDOM'),\n      containerId: this.get('containerId'),\n      width: this.get('width'),\n      height: this.get('height'),\n      renderer: this.get('renderer'),\n      pixelRatio: this.get('pixelRatio')\n    });\n    this.set('canvas', canvas);\n    this.set('container', canvas);\n\n    if (this.get('forceFit')) {\n      var container = this._getContainerDOM();\n\n      var width = domUtil.getWidth(container, this.get('width'));\n      this.set('width', width);\n    }\n  };\n\n  Plot.prototype._initEvents = function () {\n    if (this.get('forceFit')) {\n      window.addEventListener('resize', _.wrapBehavior(this, '_initForceFitEvent'));\n    }\n  };\n\n  Plot.prototype._initForceFitEvent = function () {\n    var timer = setTimeout(_.wrapBehavior(this, 'forceFit'), 200);\n    clearTimeout(this.get('resizeTimer'));\n    this.set('resizeTimer', timer);\n  };\n  /**\n   * 自适应宽度\n   * @chainable\n   * @return {Chart} 图表对象\n   */\n\n\n  Plot.prototype.forceFit = function () {\n    if (this.destroyed) {\n      return;\n    }\n\n    var container = this._getContainerDOM();\n\n    var oldWidth = this.get('width');\n    var width = domUtil.getWidth(container, oldWidth);\n\n    if (width !== 0 && width !== oldWidth) {\n      var height = this.get('height');\n      this.changeSize(width, height);\n    }\n\n    return this;\n  };\n\n  Plot.prototype._getContainerDOM = function () {\n    var container = this.get('containerDOM');\n\n    if (!_.isElement(container)) {\n      container = document.getElementById(this.get('containerId'));\n    }\n\n    return container;\n  };\n\n  return Plot;\n}(View);\n\nexport default Plot;","/**\n * 提供绘制 shape 时的一些通用方法\n */\nimport * as _ from '@antv/util';\nexport function splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n} // rename addFillAttrs\n\nexport function setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n} // rename addStrokeAttrs\n\nexport function setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}","/**\n * @description Area Element shapes\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getSplinePath, getLinePath } from '../util/path';\n\nfunction getLineAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n}\n\nfunction getFillAttrs(cfg) {\n  var areaAttrs = cfg.style;\n  setFillStyle(areaAttrs, cfg);\n  return areaAttrs;\n}\n\nfunction getPath(cfg, smooth, shape) {\n  var path = [];\n  var pointsArr = [];\n  var topLinePoints = []; // area 区域上部分\n\n  var bottomLinePoints = []; // area 区域下部分\n\n  var isInCircle = cfg.isInCircle;\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = bottomLinePoints.reverse();\n  pointsArr.push(topLinePoints, bottomLinePoints);\n\n  _.each(pointsArr, function (pointsData, index) {\n    var subPath = [];\n    var points = shape.parsePoints(pointsData);\n    var p1 = points[0];\n\n    if (isInCircle) {\n      points.push({\n        x: p1.x,\n        y: p1.y\n      });\n    }\n\n    if (smooth) {\n      subPath = getSplinePath(points, false, cfg.constraint);\n    } else {\n      subPath = getLinePath(points, false);\n    }\n\n    if (index > 0) {\n      subPath[0][0] = 'L';\n    }\n\n    path = path.concat(subPath);\n  });\n\n  path.push(['Z']);\n  return path;\n} // TODO: 目前这个 marker 是一个矩形，不适用于 area，有以下几种解决方案：\n// 1. marker 可能需要支持 group，这样就可以恢复到之前矩形上方加一个描边\n// 2. 使用 circle marker\n// get marker style\n\n\nfunction _getMarkerAttr(markerCfg) {\n  return {\n    symbol: function symbol(x, y) {\n      return [['M', x - 5.5, y - 4], ['L', x + 5.5, y - 4], ['L', x + 5.5, y + 4], ['L', x - 5.5, y + 4], ['Z']];\n    },\n    radius: 5,\n    fill: markerCfg.color\n  };\n} // 当只有一个数据时绘制点\n\n\nfunction drawPointShape(shapeObj, cfg, container) {\n  var coord = shapeObj._coord;\n  var point = coord.convertPoint(cfg.points[0][1]);\n  return container.addShape('circle', {\n    attrs: _.mix({\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }, cfg.style)\n  });\n}\n\nvar AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n\n  /**\n   * @override\n   * @protected\n   * 计算点 如果存在多个点，分割成单个的点, 不考虑多个x对应一个y的情况\n   * 单点则补上y0点\n   */\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var x = pointInfo.x;\n    var y = pointInfo.y;\n    var y0 = pointInfo.y0;\n    y = _.isArray(y) ? y : [y0, y];\n    return y.map(function (yItem) {\n      return {\n        x: x,\n        y: yItem\n      };\n    });\n  },\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type);\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      var defaultShapeStyle = theme.area[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? drawPointShape(this, cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.set('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttr(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      markerStyle = _.mix({}, theme.area[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 默认：填充区域图\n\nregisterShape('area', 'area', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 填充平滑区域图\n\nregisterShape('area', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的折线\n\nregisterShape('area', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的平滑线\n\nregisterShape('area', 'smoothLine', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n});\nexport default AreaShapeFactory;","import * as _ from '@antv/util';\n/**\n * 分割数据，用于处理存在 null、undefined 值的折线图、区域图\n * @param data 需要进行分割的数据\n * @param connectNulls 是否连接空值数据\n * @param field 字段名\n */\n\nexport function splitData(data, connectNulls, field) {\n  if (!data.length) return [];\n  var splitData = [];\n  var tmp = [];\n  var yValue;\n  data.forEach(function (obj) {\n    yValue = obj._origin ? obj._origin[field] : obj[field];\n\n    if (connectNulls) {\n      // 如果忽视 Null 直接连接节点，则将 value = null 的数据过滤掉\n      if (!_.isNil(yValue)) {\n        tmp.push(obj);\n      }\n    } else {\n      if (_.isArray(yValue) && _.isNil(yValue[0]) || _.isNil(yValue)) {\n        if (tmp.length) {\n          splitData.push(tmp);\n          tmp = [];\n        }\n      } else {\n        tmp.push(obj);\n      }\n    }\n  });\n  tmp.length && splitData.push(tmp);\n  return splitData;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport AreaShapeFactory from './shape/area';\nimport { splitData } from './util/split-data';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'area',\n      shapeType: 'area',\n      generatePoints: true,\n      sortable: true,\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', AreaShapeFactory);\n\n    return _this;\n  }\n\n  Area.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var cfg = this.getDrawCfg(data[0]);\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    cfg.origin = data; // path,line,area 等图的origin 是整个序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n      var points = subData.map(function (obj) {\n        return obj.points;\n      });\n      cfg.points = points;\n      var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n      _this.appendShapeInfo(geomShape, index + splitedIndex);\n    });\n  };\n\n  return Area;\n}(Element);\n\nexport default Area;","/**\n * @description 计算 element shape 的 size 辅助类\n */\nimport * as _ from '@antv/util'; // 已经排序后的数据查找距离最小的\n\nfunction findMinDistance(arr, scale) {\n  var count = arr.length;\n  var sourceArr = arr; // 日期类型的 values 经常上文本类型，所以需要转换一下\n\n  if (_.isString(sourceArr[0])) {\n    sourceArr = arr.map(function (v) {\n      return scale.translate(v);\n    });\n  }\n\n  var distance = sourceArr[1] - sourceArr[0];\n\n  for (var i = 2; i < count; i++) {\n    var tmp = sourceArr[i] - sourceArr[i - 1];\n\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n\n  return distance;\n}\n\nvar SizeController =\n/** @class */\nfunction () {\n  function SizeController(element) {\n    this.element = null;\n    this.element = element;\n  }\n  /**\n   * 获取数据对应的实际画布大小\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      var defaultSize = this._getDefaultSize();\n\n      return this._toCoordinateSize(defaultSize);\n    }\n\n    return size;\n  };\n  /**\n   * 获取数据对应归一化后的 size 值\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getNormalizedSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      return this._getDefaultSize();\n    }\n\n    return this._toNormalizedSize(size);\n  };\n\n  SizeController.prototype.clear = function () {\n    this._defaultSize = null;\n  }; // 根据 size 图形属性对应获取数据映射后的 size 值\n\n\n  SizeController.prototype._getSizeValue = function (record) {\n    var result;\n    var element = this.element;\n    var sizeAttr = element.getAttr('size');\n\n    if (sizeAttr) {\n      result = element.getAttrValues(sizeAttr, record)[0];\n    }\n\n    return result;\n  };\n\n  SizeController.prototype._getDodgeCount = function (dataArray) {\n    var element = this.element;\n    var adjusts = element.get('adjustOptions');\n    var dodgeBy;\n\n    _.each(adjusts, function (adjust) {\n      if (adjust.type === 'dodge') {\n        dodgeBy = adjust.dodgeBy;\n        return false;\n      }\n    });\n\n    if (dodgeBy) {\n      var mergeData = _.flatten(dataArray);\n\n      var values = _.valuesOfKey(mergeData, dodgeBy);\n\n      return values.length;\n    }\n\n    return dataArray.length;\n  }; // 计算默认大小\n\n\n  SizeController.prototype._getDefaultSize = function () {\n    var widthRatio = this.element.get('widthRatio');\n    var defaultSize = this._defaultSize;\n\n    if (!defaultSize) {\n      var element = this.element;\n      var coord = element.get('coord');\n      var xScale = element.getXScale();\n      var xValues = xScale.values;\n      var dataArray = element.get('dataArray');\n      var count = xValues.length;\n\n      if (xScale.isLinear && xValues.length > 1) {\n        // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n        xValues.sort();\n        var interval = findMinDistance(xValues, xScale);\n        count = (xScale.max - xScale.min) / interval;\n\n        if (xValues.length > count) {\n          count = xValues.length;\n        }\n      }\n\n      var range = xScale.range;\n      var normalizedSize = 1 / count;\n      var wr = 1;\n\n      if (element.isInCircle()) {\n        if (coord.isTransposed && count > 1) {\n          // 极坐标下多层环图\n          wr = widthRatio.multiplePie;\n        } else {\n          wr = widthRatio.rose;\n        }\n        /* if (dataArray.length > 1) {\n          normalizedSize *= (range[1] - range[0]);\n        } */\n\n      } else {\n        if (xScale.isLinear) {\n          normalizedSize *= range[1] - range[0];\n        }\n\n        wr = widthRatio.column; // 柱状图要除以2\n      }\n\n      normalizedSize *= wr;\n\n      if (element.hasAdjust('dodge')) {\n        var dodgeCount = this._getDodgeCount(dataArray);\n\n        normalizedSize = normalizedSize / dodgeCount;\n      }\n\n      this._defaultSize = normalizedSize;\n      return normalizedSize;\n    }\n\n    return defaultSize;\n  }; // 获取坐标系 x 轴的长度\n\n\n  SizeController.prototype._getCoordinateWidth = function () {\n    var element = this.element;\n    var coord = element.get('coord');\n\n    if (element.isInCircle() && !coord.isTransposed) {\n      // 极坐标下 width 为弧长\n      return (coord.endAngle - coord.startAngle) * coord.getRadius();\n    }\n\n    var start = coord.convertPoint({\n      x: 0,\n      y: 0\n    });\n    var end = coord.convertPoint({\n      x: 1,\n      y: 0\n    });\n    var width = 0;\n\n    if (start && end) {\n      width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n    }\n\n    return width;\n  }; // 将归一化的数值转换成实际像素大小\n\n\n  SizeController.prototype._toCoordinateSize = function (normalizedSize) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return normalizedSize * coordinateWidth;\n  }; // 将实际像素大小进行归一化处理\n\n\n  SizeController.prototype._toNormalizedSize = function (size) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return size / coordinateWidth;\n  };\n\n  return SizeController;\n}();\n\nexport default SizeController;","/**\n * @description Box Element shapes\n */\nimport * as _ from '@antv/util';\nimport { setStrokeStyle } from '../util/shape';\nimport { registerShape, registerShapeFactory } from './base';\n\nfunction _parseValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  }\n\n  var min = value[0]; // 最小值\n\n  var max = value[value.length - 1]; // 最大值\n\n  var min1 = value.length > 1 ? value[1] : min;\n  var max1 = value.length > 3 ? value[3] : max;\n  var median = value.length > 2 ? value[2] : min1;\n  return {\n    min: min,\n    max: max,\n    min1: min1,\n    max1: max1,\n    median: median\n  };\n}\n\nfunction addPoints(from, to) {\n  _.each(from, function (subArr) {\n    to.push({\n      x: subArr[0],\n      y: subArr[1]\n    });\n  });\n}\n\nfunction getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nfunction _getBoxPoints(pointX, pointY, width) {\n  var points = [];\n  var pointsArray;\n  var obj;\n  var x = pointX;\n  var y = pointY;\n\n  if (_.isArray(y)) {\n    // position('x*range')\n    // 2维\n    obj = _parseValue(y);\n    pointsArray = [[x - width / 2, obj.max], [x + width / 2, obj.max], [x, obj.max], [x, obj.max1], [x - width / 2, obj.min1], [x - width / 2, obj.max1], [x + width / 2, obj.max1], [x + width / 2, obj.min1], [x, obj.min1], [x, obj.min], [x - width / 2, obj.min], [x + width / 2, obj.min], [x - width / 2, obj.median], [x + width / 2, obj.median]];\n  } else {\n    // position('range*1') 一维图表\n    y = y || 0.5;\n    obj = _parseValue(x);\n    pointsArray = [[obj.min, y - width / 2], [obj.min, y + width / 2], [obj.min, y], [obj.min1, y], [obj.min1, y - width / 2], [obj.min1, y + width / 2], [obj.max1, y + width / 2], [obj.max1, y - width / 2], [obj.max1, y], [obj.max, y], [obj.max, y - width / 2], [obj.max, y + width / 2], [obj.median, y - width / 2], [obj.median, y + width / 2]];\n  }\n\n  addPoints(pointsArray, points);\n  return points;\n}\n\nfunction _getBoxPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x, points[10].y], ['L', points[11].x, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n  return path;\n}\n\nvar BoxShapeFactory = registerShapeFactory('box', {\n  defaultShapeType: 'box'\n}); // 箱线图\n\nregisterShape('box', 'box', {\n  getPoints: function getPoints(pointInfo) {\n    return _getBoxPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getBoxPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n\n        var points = _getBoxPoints(x, yValues, r);\n\n        return [['M', points[0].x + 1, points[0].y], ['L', points[1].x - 1, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x + 1, points[10].y], ['L', points[11].x - 1, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n      },\n      radius: 6,\n      lineWidth: 1,\n      stroke: markerCfg.color\n    };\n  }\n});\nexport default BoxShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport BoxShapeFactory from './shape/box';\n\nvar Box =\n/** @class */\nfunction (_super) {\n  __extends(Box, _super);\n\n  function Box(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'box',\n      shapeType: 'box',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', BoxShapeFactory);\n\n    return _this;\n  }\n\n  Box.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return Box;\n}(Element);\n\nexport default Box;","/**\n * @description Edge Element shapes\n * @author xinming002@gmail.com\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nvar CORNER_PERCENT = 1 / 3; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n} // 获取Marker的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerStyle = {\n    symbol: 'circle',\n    radius: 4.5\n  };\n  setStrokeStyle(markerStyle, cfg);\n  return markerStyle;\n} // 获取Cubic Bezier路径\n\n\nfunction _getCPath(from, to) {\n  var points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2\n  });\n  points.push({\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2,\n    x: to.x\n  });\n  points.push(to);\n  var sub = ['C'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n} // 获取Quadratic Bezier路径\n\n\nfunction _getQPath(to, center) {\n  var points = [];\n  points.push({\n    x: center.x,\n    y: center.y\n  });\n  points.push(to);\n  var sub = ['Q'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n\nfunction _createSmoothPath(from, to) {\n  var sub = _getCPath(from, to);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcPath(from, to, center) {\n  var sub = _getQPath(to, center);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcWeightPath(points, center) {\n  var arc1 = _getQPath(points[1], center);\n\n  var arc2 = _getQPath(points[3], center);\n\n  var path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\nfunction _createRectPath(from, to) {\n  var points = [];\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: from.x\n  });\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: to.x\n  });\n  points.push(to);\n  var path = [['M', from.x, from.y]];\n\n  _.each(points, function (point) {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.edge && theme.edge[shapeName]) {\n      markerStyle = _.mix({}, theme.edge[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n});\nregisterShape('edge', 'line', {\n  draw: function draw(cfg, container) {\n    var isInCircle = cfg.isInCircle;\n    var points = this.parsePoints(cfg.points);\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = getLinePath(points, isInCircle);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'vhv', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createRectPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'smooth', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createSmoothPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n}); // 弧线包括:\n// 1. 笛卡尔坐标系下的半圆弧线\n// 2. 极坐标系下以圆心为控制点的二阶曲线\n// 3. 笛卡尔坐标系下带权重的三阶曲线\n// 4. 极坐标系下带权重的以圆心为控制点的二阶曲线\n\nregisterShape('edge', 'arc', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n    var type = points.length > 2 ? 'weight' : 'normal';\n\n    var attrCfg = _getAttrs(cfg);\n\n    var line;\n    var path;\n\n    if (cfg.isInCircle) {\n      var center = {\n        x: 0,\n        y: 1\n      };\n\n      if (type === 'normal') {\n        path = _createArcPath(points[0], points[1], center);\n      } else {\n        attrCfg.fill = attrCfg.stroke;\n        path = _createArcWeightPath(points, center);\n      }\n\n      path = this.parsePath(path);\n      line = container.addShape('path', {\n        attrs: _.mix(attrCfg, {\n          path: path\n        })\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        line = container.addShape('arc', {\n          attrs: _.mix(attrCfg, {\n            x: (points[1].x + points[0].x) / 2,\n            y: points[0].y,\n            r: Math.abs(points[1].x - points[0].x) / 2,\n            startAngle: Math.PI,\n            endAngle: Math.PI * 2\n          })\n        });\n      } else {\n        path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y]];\n\n        var c1 = _getCPath(points[1], points[3]);\n\n        var c2 = _getCPath(points[2], points[0]);\n\n        path.push(c1);\n        path.push(['L', points[3].x, points[3].y]);\n        path.push(['L', points[2].x, points[2].y]);\n        path.push(c2);\n        path.push(['Z']);\n        path = this.parsePath(path);\n        attrCfg.fill = attrCfg.stroke;\n        line = container.addShape('path', {\n          attrs: _.mix(attrCfg, {\n            path: path\n          })\n        });\n      }\n    }\n\n    return line;\n  }\n});\nexport default EdgeShapeFactory;","/**\n * @description 关系图的边\n */\nimport { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport EdgeShapeFactory from './shape/edge';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'edge',\n      generatePoints: true,\n      shapeType: 'edge',\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', EdgeShapeFactory);\n\n    return _this;\n  }\n\n  return Edge;\n}(Element);\n\nexport default Edge;","import { __assign, __extends } from \"tslib\";\nimport { colorUtil } from '../dependents';\nimport Element from './base';\nimport * as _ from '@antv/util';\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'heatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  Heatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  Heatmap.prototype._prepareSize = function () {\n    var radius = this.getDefaultValue('size');\n\n    if (!_.isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  Heatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  Heatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  Heatmap.prototype._prepareGreyScaleBlurredCircle = function (r, blur) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var r2 = r + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  Heatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  Heatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('viewRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    return canvas.getContext('2d');\n  };\n\n  Heatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  Heatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  Heatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  Heatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  Heatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius, size.blur);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range); // super.draw(data, container, shapeFactory, index);\n  };\n\n  return Heatmap;\n}(Element);\n\nexport default Heatmap;","/**\n * 为不同的 element shape 定义对应的 marker symbol\n */\nvar SQRT_3 = Math.sqrt(3); // Line shape 对应的 symbols\n\nexport var LineSymbols = {\n  line: function line(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  smooth: function smooth(x, y, r) {\n    return [['M', x - r, y], ['A', r / 2, r / 2, 0, 1, 1, x, y], ['A', r / 2, r / 2, 0, 1, 0, x + r, y]];\n  },\n  hv: function hv(x, y, r) {\n    return [['M', x - r - 1, y - 2.5], ['L', x, y - 2.5], ['L', x, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vh: function vh(x, y, r) {\n    return [['M', x - r - 1, y + 2.5], ['L', x, y + 2.5], ['L', x, y - 2.5], ['L', x + r + 1, y - 2.5]];\n  },\n  hvh: function hvh(x, y, r) {\n    return [['M', x - (r + 1), y + 2.5], ['L', x - r / 2, y + 2.5], ['L', x - r / 2, y - 2.5], ['L', x + r / 2, y - 2.5], ['L', x + r / 2, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vhv: function vhv(x, y) {\n    // 宽 13px，高 8px\n    return [['M', x - 5, y + 2.5], ['L', x - 5, y], ['L', x, y], ['L', x, y - 3], ['L', x, y + 3], ['L', x + 6.5, y + 3]];\n  }\n}; // Point shape 对应的 symbols\n\nexport var PointSymbols = {\n  hexagon: function hexagon(x, y, r) {\n    var diffX = r / 2 * SQRT_3;\n    return [['M', x, y - r], ['L', x + diffX, y - r / 2], ['L', x + diffX, y + r / 2], ['L', x, y + r], ['L', x - diffX, y + r / 2], ['L', x - diffX, y - r / 2], ['Z']];\n  },\n  bowtie: function bowtie(x, y, r) {\n    var diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: function cross(x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y + r], ['M', x + r, y - r], ['L', x - r, y + r]];\n  },\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  plus: function plus(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y], ['M', x, y - r], ['L', x, y + r]];\n  },\n  hyphen: function hyphen(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n}; // interval 对应的 symbols\n\nexport var IntervalSymbols = {\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n};","import { __assign } from \"tslib\";\n/**\n * @description Interval Element shapes\n */\n\nimport * as _ from '@antv/util';\nimport { Marker } from '@antv/g';\nimport { registerShapeFactory, registerShape } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getPointAngle } from '../util/path';\nimport { IntervalSymbols } from '../util/symbol';\n\n_.each(IntervalSymbols, function (func, symbol) {\n  // Interval 中需要用到的 symbol\n  // 使用 Marker 提供的静态方法注册进去\n  // 用户有可能使用动态加载 Element，所以需要注册\n  Marker.symbolsFactory.register(symbol, func);\n}); // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 获取描边图形的图形属性\n\n\nfunction _getLineAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n} // 根据数据点生成矩形的四个关键点\n\n\nfunction _getRectPoints(cfg, isPyramid) {\n  if (isPyramid === void 0) {\n    isPyramid = false;\n  }\n\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size; // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMin;\n  var xMax;\n\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  var points = [{\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMax\n  }];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({\n      x: xMax,\n      y: yMax\n    }, {\n      x: xMax,\n      y: yMin\n    });\n  }\n\n  return points;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points) {\n  var path = [];\n  var firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n\n  path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n} // 根据数据点生成 Line 的两个关键点\n\n\nfunction _getLinePoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0;\n\n  if (_.isArray(y)) {\n    return y.map(function (yItem, idx) {\n      return {\n        x: _.isArray(x) ? x[idx] : x,\n        y: yItem\n      };\n    });\n  }\n\n  return [{\n    x: x,\n    y: y\n  }, {\n    x: x,\n    y: y0\n  }];\n} // 根据数据点生成 tick shape 的 6 个关键点\n\n\nfunction _getTickPoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size;\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMax = x + size / 2;\n  var xMin = x - size / 2; // tick 关键点顺序\n  // 0 - 2 - 1\n  //     |\n  // 4 - 3 - 5\n\n  return [{\n    x: xMin,\n    y: yMax\n  }, {\n    x: xMax,\n    y: yMax\n  }, {\n    x: x,\n    y: yMax\n  }, {\n    x: x,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMax,\n    y: yMin\n  }];\n} // 根据 tick 关键点绘制 path\n\n\nfunction _getTickPath(points) {\n  return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y]];\n} // 根据关键点绘制漏斗图的 path\n\n\nfunction _getFunnelPath(cfg, isFunnel) {\n  var path = [];\n  var points = cfg.points,\n      nextPoints = cfg.nextPoints;\n\n  if (!_.isNil(nextPoints)) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n  } else if (isFunnel) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n  } else {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], // [ 'L', points[2].x, points[2].y ],\n    ['Z']);\n  }\n\n  return path;\n}\n\nfunction _getThetaAngle(point, coord) {\n  var startAngle;\n  var endAngle;\n  var startPoint;\n  var endPoint;\n\n  if (!_.isArray(point.x) && _.isArray(point.y)) {\n    // 如果x是一个值，y是数组，将x转成数组\n    point.x = [point.x, point.x];\n  }\n\n  if (_.isArray(point.x)) {\n    startPoint = {\n      x: point.x[0],\n      y: point.y[0]\n    };\n    endPoint = {\n      x: point.x[1],\n      y: point.y[1]\n    };\n    startAngle = getPointAngle(coord, startPoint);\n    endAngle = getPointAngle(coord, endPoint);\n\n    if (endAngle <= startAngle) {\n      // 考虑占比百分百的情形\n      endAngle = endAngle + Math.PI * 2;\n    }\n  } else {\n    endPoint = point;\n    startAngle = coord.startAngle;\n    endAngle = getPointAngle(coord, endPoint);\n  }\n\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return _getRectPoints(pointInfo);\n  }\n}); // 默认 rect\n\nregisterShape('interval', 'rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 描边矩形\n\nregisterShape('interval', 'hollowInterval', {\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 直线柱图\n\nregisterShape('interval', 'line', {\n  getPoints: function getPoints(pointInfo) {\n    return _getLinePoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    attrs.lineWidth = cfg.size || 1;\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'line',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // I 形柱状图\n\nregisterShape('interval', 'tick', {\n  getPoints: function getPoints(pointInfo) {\n    return _getTickPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getTickPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'tick',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 漏斗图\n\nregisterShape('interval', 'funnel', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, true);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 金字塔图，即尖底漏斗图\n\nregisterShape('interval', 'pyramid', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo, true);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, false);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // TODO：top-line 这个 shape 后续是否可以直接由上层业务自己去封装\n// 带顶部描边的柱状图，用于满足业务视觉上对层叠柱状图以及直方图描边的需求\n\nregisterShape('interval', 'top-line', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, _getFillAttrs(cfg));\n\n    var style = cfg.style,\n        points = cfg.points;\n\n    var rectPath = _getRectPath(points);\n\n    rectPath = this.parsePath(rectPath);\n    delete attrs.stroke; // 不允许为柱子描边\n\n    var rectShape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        zIndex: 0,\n        path: rectPath\n      })\n    }); // 绘制 top line\n\n    var topLinePath = [['M', points[1].x, points[1].y], ['L', points[2].x, points[2].y]];\n    container.addShape('path', {\n      zIndex: 1,\n      attrs: {\n        stroke: style.stroke || 'white',\n        lineWidth: style.lineWidth || 1,\n        path: this.parsePath(topLinePath)\n      }\n    });\n    return rectShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default IntervalShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport IntervalShapeFactory from './shape/interval';\n\nvar Interval =\n/** @class */\nfunction (_super) {\n  __extends(Interval, _super);\n\n  function Interval(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'interval',\n      shapeType: 'interval',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController); // 设置 IntervalShapeFactory\n\n\n    _this.set('shapeFactory', IntervalShapeFactory);\n\n    return _this;\n  }\n\n  Interval.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj); // 获取每条数据对应的 size 归一化后的值\n\n    return cfg;\n  };\n\n  Interval.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n    var coord = this.get('coord');\n    var coordType = coord.type;\n\n    if (coordType === 'theta' || coordType === 'polar' && coord.isTransposed) {\n      isShareTooltip = false; // 饼图不合并\n    }\n\n    return isShareTooltip;\n  };\n\n  return Interval;\n}(Element);\n\nexport default Interval;","import * as _ from '@antv/util';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { registerShapeFactory, registerShape } from './base';\n\nfunction _sortValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  } // 从大到小排序\n\n\n  var sorted = value.sort(function (a, b) {\n    return a < b ? 1 : -1;\n  });\n  var length = sorted.length;\n\n  if (length < 4) {\n    var min = sorted[length - 1];\n\n    for (var i = 0; i < 4 - length; i++) {\n      sorted.push(min);\n    }\n  }\n\n  return sorted;\n}\n\nfunction _getPoints(x, y, width) {\n  var yValues = _sortValue(y);\n\n  var points = [{\n    x: x,\n    y: yValues[0]\n  }, {\n    x: x,\n    y: yValues[1]\n  }, {\n    x: x - width / 2,\n    y: yValues[2]\n  }, {\n    x: x - width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[3]\n  }]; // 按照顺时针连接\n\n  return points;\n}\n\nfunction _getPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n  return path;\n}\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setFillStyle(lineAttrs, cfg);\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nvar KLineShapeFactory = registerShapeFactory('kline', {\n  defaultShapeType: 'kline'\n});\nregisterShape('kline', 'kline', {\n  getPoints: function getPoints(pointInfo) {\n    return _getPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n\n        var points = _getPoints(x, yValues, r);\n\n        return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n      },\n      lineWidth: 1,\n      stroke: markerCfg.color,\n      fill: markerCfg.color,\n      radius: 6\n    };\n  }\n});\nexport default KLineShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport KLineShapeFactory from './shape/k-line';\n\nvar KLine =\n/** @class */\nfunction (_super) {\n  __extends(KLine, _super);\n\n  function KLine(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'kline',\n      shapeType: 'kline',\n      generatePoints: true\n    }, cfg)) || this;\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', KLineShapeFactory);\n\n    return _this;\n  }\n\n  KLine.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return KLine;\n}(Element);\n\nexport default KLine;","import { __assign } from \"tslib\";\n/**\n * @description line shapes\n */\n\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nimport { LineSymbols } from '../util/symbol';\nvar DOT_LINEDASH = [1, 1];\nvar DASH_LINEDASH = [5.5, 1]; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (cfg.size) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n} // 获取 Marker 的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerAttrs = {\n    lineWidth: 2,\n    radius: 6\n  };\n  setStrokeStyle(markerAttrs, cfg);\n  return markerAttrs;\n} // 当只有一个数据时绘制点\n\n\nfunction _drawPointShape(cfg, container) {\n  var point = cfg.points[0];\n  return container.addShape('circle', {\n    attrs: {\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }\n  });\n} // 获取带有上下区间的 path\n\n\nfunction _getRangePath(points, smooth, isInCircle, cfg) {\n  var isStack = cfg.isStack;\n  var topPoints = [];\n  var bottomPoints = [];\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n    var tmp = splitPoints(point);\n    bottomPoints.push(tmp[0]);\n    topPoints.push(tmp[1]);\n  }\n\n  var topPath = _getSinglePath(topPoints, smooth, isInCircle, cfg);\n\n  var bottomPath = _getSinglePath(bottomPoints, smooth, isInCircle, cfg);\n\n  if (isStack) {\n    return topPath;\n  }\n\n  return topPath.concat(bottomPath);\n} // 单条 path\n\n\nfunction _getSinglePath(points, smooth, isInCircle, cfg) {\n  var path;\n\n  if (!smooth) {\n    path = getLinePath(points, false);\n    isInCircle && path.push(['Z']);\n  } else {\n    // 直角坐标系下绘制曲线时限制最大值、最小值\n    var constraint = cfg.constraint;\n    isInCircle && points.length && points.push({\n      x: points[0].x,\n      y: points[0].y\n    });\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n} // get line path\n\n\nfunction _getPath(cfg, smooth) {\n  var points = cfg.points,\n      isInCircle = cfg.isInCircle;\n  var first = points[0];\n  return _.isArray(first.y) ? _getRangePath(points, smooth, isInCircle, cfg) : _getSinglePath(points, smooth, isInCircle, cfg);\n}\n\nfunction _interpPoints(points, fn) {\n  var tmpPoints = [];\n\n  _.each(points, function (point, index) {\n    var nextPoint = points[index + 1];\n    tmpPoints.push(point);\n\n    if (nextPoint) {\n      tmpPoints = tmpPoints.concat(fn(point, nextPoint));\n    }\n  });\n\n  return tmpPoints;\n} // 插值的图形path，不考虑null\n\n\nfunction _getInterPath(points) {\n  var path = points.map(function (point, index) {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n  return path;\n} // 插值的图形\n\n\nfunction _getInterPointShapeCfg(cfg, fn) {\n  var points = _interpPoints(cfg.points, fn);\n\n  return _getInterPath(points);\n}\n\nvar LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 因为覆盖了 ShapeFactotyBase.drawShape 方法，所以记得要应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      var defaultShapeStyle = theme.line[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? _drawPointShape(cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n      var symbol = LineSymbols[type];\n\n      if (type === 'dot') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DOT_LINEDASH;\n      }\n\n      if (type === 'dash') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DASH_LINEDASH;\n      }\n\n      markerStyle.symbol = symbol;\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      markerStyle = _.mix({}, theme.line[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 开始往 LineShapeFactory 注册具体的 shape\n\nregisterShape('line', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 点线 ···\n\nregisterShape('line', 'dot', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DOT_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 断线 - - -\n\nregisterShape('line', 'dash', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DASH_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 平滑曲线\n\nregisterShape('line', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n\n    var path = _getPath(cfg, true);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // step line,\n\nregisterShape('line', 'hv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: nextPoint.x,\n        y: point.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: point.x,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'hvh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleX = (nextPoint.x + point.x) / 2;\n      return [{\n        x: middleX,\n        y: point.y\n      }, {\n        x: middleX,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vhv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleY = (point.y + nextPoint.y) / 2;\n      return [{\n        x: point.x,\n        y: middleY\n      }, {\n        x: nextPoint.x,\n        y: middleY\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nexport default LineShapeFactory;","import { __assign, __extends } from \"tslib\";\n/**\n * @description path，路径图，用于绘制无序的线图\n */\n\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport { splitData } from './util/split-data';\nimport LineShapeFactory from './shape/line';\n\nvar Path =\n/** @class */\nfunction (_super) {\n  __extends(Path, _super);\n\n  function Path(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'path',\n      shapeType: 'line',\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', LineShapeFactory); // 设置 path 对应的 shapeFactory\n\n\n    return _this;\n  }\n  /**\n   * @override\n   * 构造绘制 path 需要的属性\n   * @param obj 数据\n   */\n\n\n  Path.prototype.getDrawCfg = function (obj) {\n    var drawCfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var isStack = this.hasAdjust('stack');\n    return __assign(__assign({}, drawCfg), {\n      isStack: isStack,\n      showSinglePoint: this.get('showSinglePoint')\n    });\n  };\n\n  Path.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    var cfg = this.getDrawCfg(data[0]);\n    cfg.origin = data; // path,line 等图的 origin 是整个数据序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      if (!_.isEmpty(subData)) {\n        cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n        cfg.points = subData;\n        var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n        _this.appendShapeInfo(geomShape, index + splitedIndex);\n      }\n    });\n  };\n\n  return Path;\n}(Element);\n\nexport default Path;","/**\n * @description Line，有序的线图\n */\nimport { __assign, __extends } from \"tslib\";\nimport Path from './path';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    return _super.call(this, __assign({\n      type: 'line',\n      sortable: true\n    }, cfg)) || this;\n  }\n\n  return Line;\n}(Path);\n\nexport default Line;","import { __assign } from \"tslib\";\n/**\n * Point shape factory\n */\n\nimport { Marker } from '@antv/g';\nimport * as _ from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setStrokeStyle, setFillStyle } from '../util/shape';\nimport { PointSymbols } from '../util/symbol';\n\n_.each(PointSymbols, function (func, symbol) {\n  // point 中需要用到这么些 Marker.symbol\n  // 使用 Marker 提供的静态方法注册进去\n  Marker.symbolsFactory.register(symbol, func);\n});\n\nvar SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangleDown'];\nvar HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\nfunction getFillAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setFillStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getLineAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setStrokeStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getRectPath(cfg) {\n  var x = cfg.points[0].x;\n  var y = cfg.points[0].y;\n  var w = cfg.size[0];\n  var h = cfg.size[1];\n  var path = [['M', x - 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y + 0.5 * h], ['L', x - 0.5 * w, y + 0.5 * h], ['z']];\n  return path;\n}\n\nvar PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollowCircle',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n}); // 用于桑基图的节点\n\nregisterShape('point', 'rect', {\n  draw: function draw(cfg, container) {\n    var rectAttrs = getFillAttrs(cfg);\n    var path = getRectPath(cfg);\n    path = this.parsePath(path);\n    var gShape = container.addShape('path', {\n      attrs: _.mix(rectAttrs, {\n        path: path\n      })\n    });\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'rect',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 所有的 SHAPES 都注册一下\n\n_.each(SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getFillAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setFillStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  }); // 添加该 shape 对应的 hollow-shape\n\n  registerShape('point', \"hollow\" + _.upperFirst(shape), {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // 添加 hollowShapes\n\n\n_.each(HOLLOW_SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // image\n\n\nregisterShape('point', 'image', {\n  draw: function draw(cfg, container) {\n    cfg.points = this.parsePoints(cfg.points);\n    return container.addShape('image', {\n      attrs: {\n        x: cfg.points[0].x - cfg.size / 2,\n        y: cfg.points[0].y - cfg.size,\n        width: cfg.size,\n        height: cfg.size,\n        img: cfg.shape[1]\n      }\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // path 解析，缓存一下\n\nvar pathMetaParser = _.memoize(function (path) {\n  var segments = pathUtil.parsePathString(path);\n\n  var nums = _.flatten(segments).filter(function (num) {\n    return _.isNumber(num);\n  });\n\n  return {\n    range: Math.max.apply(null, nums) - Math.min.apply(null, nums),\n    segments: segments\n  };\n}); // path\n\n\nregisterShape('point', 'path', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, getLineAttrs(cfg), getFillAttrs(cfg));\n\n    var path = cfg.shape[1];\n    var size = cfg.size || 10;\n    var pathMeta = pathMetaParser(path);\n    var scale = size / pathMeta.range;\n    var transform = [];\n\n    if (attrs.rotate) {\n      transform.push(['r', attrs.rotate / 180 * Math.PI]);\n      delete attrs.rotate;\n    }\n\n    var shape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: pathMeta.segments\n      })\n    });\n    transform.push(['s', scale, scale], ['t', cfg.x, cfg.y]);\n    shape.transform(transform);\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default PointShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport PointShapeFactory from './shape/point';\n/**\n * Point 类型的几何图形\n * 绘制散点图\n */\n\nvar Point =\n/** @class */\nfunction (_super) {\n  __extends(Point, _super);\n\n  function Point(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'point',\n      shapeType: 'point',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', PointShapeFactory);\n\n    return _this;\n  } // overwrite\n\n\n  Point.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var _this = this;\n\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n\n    if (_.isArray(obj.y)) {\n      var hasStackAdjust_1 = this.hasAdjust('stack');\n\n      _.each(obj.y, function (y, idx) {\n        cfg.y = y;\n        cfg.yIndex = idx;\n\n        if (!hasStackAdjust_1 || idx !== 0) {\n          var geomShape = shapeFactory.drawShape(shape, cfg, container);\n\n          _this.appendShapeInfo(geomShape, index + idx);\n        }\n      });\n    } else if (!_.isNil(obj.y)) {\n      var geomShape = shapeFactory.drawShape(shape, cfg, container);\n      this.appendShapeInfo(geomShape, index);\n    }\n  };\n\n  return Point;\n}(Element);\n\nexport default Point;","import * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\n\nfunction getAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getHollowAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getPath(points) {\n  var flag = points[0];\n  var i = 1;\n  var path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    var c = points[i];\n\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n\n    i++;\n  }\n\n  if (!_.isEqual(path[path.length - 1], flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n  return path;\n}\n\nfunction getMarkerAttrs(markerCfg) {\n  var markerStyle = {\n    symbol: 'square',\n    radius: 4\n  };\n  setFillStyle(markerStyle, markerCfg);\n  return markerStyle;\n}\n\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var points = [];\n\n    _.each(pointInfo.x, function (subX, index) {\n      var subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY\n      });\n    });\n\n    return points;\n  }\n});\nregisterShape('polygon', 'polygon', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nregisterShape('polygon', 'hollow', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getHollowAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nexport default PolygonShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Element from './base';\nimport PolygonShapeFactory from './shape/polygon';\n/**\n * Polygon 多边形\n */\n\nvar Polygon =\n/** @class */\nfunction (_super) {\n  __extends(Polygon, _super);\n\n  function Polygon(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'polygon',\n      shapeType: 'polygon',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', PolygonShapeFactory);\n\n    return _this;\n  }\n\n  Polygon.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    var x = cfg.x;\n    var y = cfg.y;\n    var temp;\n\n    if (!(Util.isArray(x) && Util.isArray(y))) {\n      // x y 都是数组时，不做处理\n      var xScale = this.getXScale();\n      var yScale = this.getYScale(); // scale 中保证了 values 都会有，所以去掉之前的逻辑判断\n\n      var xCount = xScale.values.length;\n      var yCount = yScale.values.length;\n      var xOffset = 0.5 * 1 / xCount;\n      var yOffset = 0.5 * 1 / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // 如果x,y都是分类\n        // @ts-ignore\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (Util.isArray(x)) {\n        // x 是数组\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (Util.isArray(y)) {\n        // y 是数组\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]]; // @ts-ignore\n\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n\n      cfg.x = x;\n      cfg.y = y;\n    }\n\n    return cfg;\n  };\n\n  return Polygon;\n}(Element);\n\nexport default Polygon;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setFillStyle } from '../util/shape';\n\nfunction getFillAttrs(cfg) {\n  var textAttrs = cfg.style;\n  setFillStyle(textAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    // 如果设置了size，则text的字体大小由size决定\n    textAttrs.fontSize = cfg.size;\n  }\n\n  return textAttrs;\n}\n\nvar TextShapeFactory = registerShapeFactory('text', {\n  defaultShapeType: 'text',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n});\nregisterShape('text', 'text', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var shape = container.addShape('text', {\n      attrs: __assign(__assign({}, attrs), {\n        x: cfg.x,\n        y: cfg.y,\n        text: cfg.text\n      })\n    });\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default TextShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { FIELD_ORIGIN } from './base';\nimport Point from './point';\nimport TextShapeFactory from './shape/text';\nimport { parseFields } from './util/parse-fields';\n/**\n * Text 类型的几何图形\n */\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'text',\n      shapeType: 'text'\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', TextShapeFactory);\n\n    return _this;\n  }\n\n  Text.prototype.content = function (field, callback) {\n    if (_.isObject(field)) {\n      this.set('contentOptions', field);\n    } else {\n      var fields = parseFields(field);\n      this.set('contentOptions', {\n        fields: fields,\n        callback: callback\n      });\n    }\n\n    return this;\n  }; // 获取 content 配置\n\n\n  Text.prototype._getContent = function (contentOptions, origin) {\n    var fields = contentOptions.fields || [];\n    var callback = contentOptions.callback;\n\n    if (callback) {\n      // content({ fields: [ 'a', 'b' ], callback(a, b) {} })\n      var params = fields.map(function (field) {\n        return origin[field];\n      });\n      return callback.apply(void 0, params);\n    }\n\n    return origin[fields[0]]; // content({ fields: [ 'a' ] })\n  };\n  /**\n   * @override\n   * @desc 添加content内容,复写cfg.text\n   */\n\n\n  Text.prototype.getDrawCfg = function (obj) {\n    var cfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var contentOptions = this.get('contentOptions');\n\n    if (contentOptions) {\n      cfg.text = this._getContent(contentOptions, obj[FIELD_ORIGIN]);\n    }\n\n    return cfg;\n  };\n\n  return Text;\n}(Point);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Facet } from './base';\n/**\n * TODO 暂时欠缺 title、axis 的渲染逻辑\n */\n\nvar Rect =\n/** @class */\nfunction (_super) {\n  __extends(Rect, _super);\n\n  function Rect(view, cfg) {\n    return _super.call(this, view, __assign({\n      /**\n       * 是否默认显示每个分面的title\n       */\n      showTitle: true,\n\n      /**\n       * 是否自动修改坐标轴的信息\n       */\n      autoSetAxis: true,\n\n      /**\n       * View 的内边框\n       */\n      padding: 16\n    }, cfg)) || this;\n  }\n\n  Rect.prototype.generateFacets = function (data) {\n    var _this = this;\n\n    var fields = this.cfg.fields;\n    var columnField = fields[0],\n        rowField = fields[1];\n    var rst = [];\n    var columnValuesLength = 0;\n    var rowValuesLength = 0;\n    var columnValues = [];\n    var rowValues = [];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    } // 获取每个维度对应的frame\n\n\n    columnValues.forEach(function (xVal, xIndex) {\n      rowValues.forEach(function (yVal, yIndex) {\n        var conditions = [{\n          field: columnField,\n          value: xVal,\n          values: columnValues\n        }, {\n          field: rowField,\n          value: yVal,\n          values: rowValues\n        }];\n\n        var facetData = _.filter(data, function (data) {\n          // 过滤出全部满足条件的数据\n          return _.every(conditions, function (condition) {\n            var field = condition.field,\n                value = condition.value;\n            return data[field] === value;\n          });\n        });\n\n        var facet = {\n          type: _this.cfg.type,\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField: columnField,\n          rowField: rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength: columnValuesLength,\n          rowValuesLength: rowValuesLength,\n          data: facetData,\n          region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex)\n        };\n        rst.push(facet);\n      });\n    });\n    return rst;\n  };\n\n  Rect.prototype.renderAxis = function () {// todo\n  };\n\n  Rect.prototype.renderTitle = function () {// todo\n  };\n\n  return Rect;\n}(Facet);\n\nexport { Rect };","import { __spreadArrays } from \"tslib\";\n/**\n * 判断text是否可用, title description\n *\n * @param source\n */\n\nexport function isTextUsable(source) {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n/**\n * 为字符串添加换行符\n * @param source - 字符串数组 ['a', 'b', 'c']\n * @param breaks - 要添加换行的index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\n\nexport function breakText(source, breaks) {\n  var result = __spreadArrays(source);\n\n  breaks.forEach(function (pos, index) {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}","import * as G from '@antv/g';\nimport * as Util from '@antv/util';\nimport * as Interface from './interface';\nexport { Util };\nexport { G };\nexport { Interface };\nexport { default as Plot } from './plot/plot';\nexport { default as View } from './plot/view';\nimport { Element, getElement, registerElement } from './element';\nimport Area from './element/area';\nimport Box from './element/box';\nimport Edge from './element/edge';\nimport Heatmap from './element/heatmap';\nimport Interval from './element/interval';\nimport Kline from './element/k-line';\nimport Line from './element/line';\nimport Path from './element/path';\nimport Point from './element/point';\nimport Polygon from './element/polygon';\nimport * as Shape from './element/shape/base';\nimport Text from './element/text'; // 注册 element\n\nregisterElement('Line', Line);\nregisterElement('Path', Path);\nregisterElement('Point', Point);\nregisterElement('Interval', Interval);\nregisterElement('Edge', Edge);\nregisterElement('Polygon', Polygon);\nregisterElement('Area', Area);\nregisterElement('Box', Box);\nregisterElement('Kline', Kline);\nregisterElement('Text', Text);\nregisterElement('Heatmap', Heatmap);\nexport { registerElement, getElement, Element };\nexport { registerShape, registerShapeFactory, getShapeFactory } from './element/shape/base';\nexport { Shape };\nimport { Facet, registerFacet } from './facet';\nimport { Rect } from './facet/rect';\nregisterFacet('rect', Rect);\nexport { registerFacet, Facet };\nexport { registerInteraction, getInteraction, Interaction } from './interaction';\nexport { default as Global, setTheme, version } from './global';\nexport { registerTheme, getTheme } from './theme';\nimport Animate from './animate/animate';\nexport { Animate };\nexport { registerScale, getScale, Scale } from '@antv/scale';\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\nexport { getCoordinate, Coordinate } from '@antv/coord';\nexport { getAttribute, Attribute } from '@antv/attr';\nimport * as Option from './plot/interface';\nexport { Option };\nexport { registerElementLabels, getElementLabels, ElementLabels } from './element/controller/label/';","import { __assign } from \"tslib\";\nimport { BBox, Text } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { breakText } from '../util/common';\n/**\n * 图表的文字描述，一般用于生成图表的标题和副标题\n */\n\nvar TextDescription =\n/** @class */\nfunction () {\n  function TextDescription(cfg) {\n    this.position = 'top';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  TextDescription.prototype.getBBox = function () {\n    var _this = this;\n\n    if (this.shape) {\n      var bbox = this.shape.getBBox();\n\n      if (this.index === 0) {\n        return bbox;\n      }\n\n      var padding_1 = this.plot.theme.description.padding;\n\n      if (_.isArray(padding_1)) {\n        _.each(padding_1, function (it, index) {\n          if (typeof padding_1[index] === 'function') {\n            padding_1[index] = padding_1[index](_this.plot.options.legend.position);\n          }\n        });\n      }\n\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height + padding_1[2]);\n    }\n\n    return null;\n  };\n\n  TextDescription.prototype.clear = function () {\n    if (this.shape) {\n      this.shape.attr('text', '');\n    }\n  };\n\n  TextDescription.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.remove();\n    }\n  };\n\n  TextDescription.prototype._init = function () {\n    var content = this._textWrapper();\n\n    this.shape = this.container.addShape('text', {\n      attrs: _.mix({\n        x: this.leftMargin,\n        y: this.topMargin,\n        text: content\n      }, this.style)\n    });\n    this.shape.name = this.name;\n  };\n  /**\n   * 当text过长时，默认换行\n   * 1. 注意初始text带换行符的场景\n   */\n\n\n  TextDescription.prototype._textWrapper = function () {\n    var width = this.wrapperWidth;\n    var style = this.style;\n    var textContent = this.text;\n    var tShape = new Text({\n      attrs: __assign({\n        text: '',\n        x: 0,\n        y: 0\n      }, style)\n    });\n    var textArr = textContent.split('\\n');\n    var wrappedTextArr = textArr.map(function (wrappedText) {\n      var text = '';\n      var chars = wrappedText.split('');\n      var breakIndex = [];\n\n      for (var i = 0; i < chars.length; i++) {\n        var item = chars[i];\n        tShape.attr('text', text += item);\n        var currentWidth = tShape.getBBox().width - 1;\n\n        if (currentWidth > width) {\n          // 如果是第一个字符就大于宽度不做任何换行处理\n          if (i === 0) {\n            break;\n          }\n\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  };\n\n  return TextDescription;\n}();\n\nexport default TextDescription;","import { __assign, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\nvar AxisParser =\n/** @class */\nfunction () {\n  function AxisParser(cfg) {\n    this.config = false;\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n\n    this._init();\n  }\n\n  AxisParser.prototype._init = function () {\n    this.config = false;\n    var theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  };\n\n  AxisParser.prototype._styleParser = function () {\n    this.config = __assign({}, this.localProps);\n    this._isVisible('line') ? this._lineParser() : this.config.line = null;\n    this._isVisible('grid') ? this._gridParser() : this.config.grid = null;\n    this._isVisible('tickLine') ? this._tickLineParser() : this.config.tickLine = null;\n    this._isVisible('label') ? this._labelParser() : this.config.label = null;\n    this._isVisible('title') ? this._titleParser() : this.config.title = null;\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  };\n\n  AxisParser.prototype._needDraw = function () {\n    /** 如果在图表配置项里没有设置坐标轴整体的visibility则去对应的theme取 */\n    var propos = this.plot.options;\n    var propsConfig = propos[this.dim + \"Axis\"] ? propos[this.dim + \"Axis\"] : {};\n\n    var config = _.deepMix({}, this.themeConfig, propsConfig);\n\n    this.localProps = config;\n\n    if (config.visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype._lineParser = function () {\n    this.config.line = this.localProps.line;\n\n    if (this.localProps.line.style) {\n      this.config.line = this.localProps.line.style;\n    }\n\n    this.applyThemeConfig('line');\n  };\n\n  AxisParser.prototype._gridParser = function () {\n    var _this = this;\n\n    var gridCfg = this.localProps.grid;\n    var style = gridCfg.style;\n\n    if (_.isFunction(style)) {\n      // @see g2/component/src/axis/base:_renderGrid\n      this.config.grid = function (text, index, count) {\n        var cfg = style(text, index, count);\n        return _.deepMix({}, _.get(_this.themeConfig, \"grid.style\"), cfg);\n      };\n    } else if (style) {\n      this.config.grid = style;\n      this.applyThemeConfig('grid');\n    }\n  };\n\n  AxisParser.prototype._tickLineParser = function () {\n    this.config.tickLine = this.localProps.tickLine;\n\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = this.localProps.tickLine.style;\n    }\n\n    this.applyThemeConfig('tickLine');\n  };\n\n  AxisParser.prototype._labelParser = function () {\n    var _a = this.localProps.label,\n        style = _a.style,\n        restLabelProps = __rest(_a, [\"style\"]);\n\n    var labelConfig = __assign({}, restLabelProps);\n    /** label style */\n\n\n    if (style) {\n      labelConfig.textStyle = this.localProps.label.style;\n    }\n\n    labelConfig.textStyle = _.deepMix({}, _.get(this.themeConfig, 'label.style'), labelConfig.textStyle);\n    this.config.label = labelConfig;\n  };\n\n  AxisParser.prototype._titleParser = function () {\n    var titleConfig = __assign({}, this.localProps.title);\n\n    var _a = this.localProps.title,\n        visible = _a.visible,\n        style = _a.style,\n        text = _a.text;\n\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n\n      if (style) {\n        titleConfig.textStyle = style;\n      }\n\n      titleConfig.textStyle = _.deepMix({}, _.get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n\n    this.config.title = titleConfig;\n  };\n\n  AxisParser.prototype._isVisible = function (name) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype.applyThemeConfig = function (type) {\n    this.config[type] = _.deepMix({}, _.get(this.themeConfig, type + \".style\"), this.config[type]);\n  };\n\n  return AxisParser;\n}();\n\nexport default AxisParser;","import * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n  matrixUtil.vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nvar tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  var point = null;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) / kross;\n    var t = (E.x * D0.y - E.y * D0.x) / kross;\n\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y\n      };\n    }\n  }\n\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /** 射线法 */\n  var inside = false;\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var intersect = yi > p.y !== yj > p.y && p.x <= (xj - xi) * (p.y - yi) / (yj - yi) + xi;\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return sqr(a.x - b.x) + sqr(a.y - b.y);\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(dist2(a, b));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  var l2 = dist2(p1, p2);\n\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n\n  var t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  var distSquare = dist2(p, {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  });\n  return Math.sqrt(distSquare);\n} // todo：待优化 https://blog.csdn.net/WilliamSun0122/article/details/77994526\n\n\nfunction minDistBetweenPointPolygon(p, polygon) {\n  var min = Infinity;\n  /** vertice to vertice */\n\n  _.each(polygon, function (v) {\n    var dist = Math.sqrt(dist2(v, p));\n\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var dist = distBetweenPointLine(p, {\n      x: xi,\n      y: yi\n    }, {\n      x: xj,\n      y: yj\n    });\n\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (var _i = 0, polyA_1 = polyA; _i < polyA_1.length; _i++) {\n    var p = polyA_1[_i];\n    var inside = isPointInPolygon(p, polyB);\n\n    if (inside) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n\n  var minA = Infinity;\n  var minB = Infinity;\n\n  _.each(polyA, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyB);\n\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n\n  _.each(polyB, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyA);\n\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  var bbox = shape.getBBox();\n  var x = bbox.minX;\n  var y = bbox.minY;\n  /*\n   * step1: 获得旋转后的shape包围盒\n   * 将包围盒对齐到原点，apply旋转矩阵\n   * 移回原来的位置\n   */\n\n  var bboxWidth = bbox.tr.x - bbox.tl.x;\n  var bboxHeight = bbox.bl.y - bbox.tl.y; // const matrix = shape.getTotalMatrix();\n\n  var matrix = shape.attr('matrix');\n  var ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  var top_left = applyMatrix({\n    x: 0,\n    y: 0\n  }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  var top_right = applyMatrix({\n    x: bboxWidth,\n    y: 0\n  }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  var bottom_left = applyMatrix({\n    x: 0,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  var bottom_right = applyMatrix({\n    x: bboxWidth,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2：根据旋转后的画布位置重新计算包围盒，以免图形进行旋转后上下颠倒 */\n\n  var points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort(function (a, b) {\n    return a.y - b.y;\n  });\n  var minY = points[0].y;\n  var maxY = points[points.length - 1].y;\n  var tops = [points[0], points[1]];\n  var bottoms = [points[2], points[3]];\n  var topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  var topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  var bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  var bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort(function (a, b) {\n    return a.x - b.x;\n  });\n  var minX = points[0].x;\n  var maxX = points[points.length - 1].x;\n  var node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft: topLeft,\n    topRight: topRight,\n    bottomLeft: bottomLeft,\n    bottomRight: bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2\n  };\n  return node;\n}\n/**\n * 线简化算法\n */\n\n\nvar THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n\n  return DouglasPeucker(points, THRESHOLD);\n} // https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\n\n\nfunction DouglasPeucker(points, threshold) {\n  var result;\n  var max = -Infinity;\n  var index = 0;\n  var endIndex = points.length - 1;\n\n  for (var i = 1; i < endIndex; i++) {\n    var point = points[i];\n    var line = {\n      start: points[0],\n      end: points[endIndex]\n    };\n    var dist = distBetweenPointLine(point, line.start, line.end);\n\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    var list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    var list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n\n  return result;\n}\n/** 统计的以后迁出去，暂时先放这里 */\n\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  var sum = 0;\n\n  _.each(array, function (num) {\n    sum += num;\n  });\n\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nfunction linearRegression() {}\n\nexport { applyMatrix, isBetween, getLineIntersect, isPointInPolygon, distBetweenPoints, distBetweenPointLine, isPolygonIntersection, minDistBetweenConvexPolygon, bboxOnRotate, dotProduct2D, lineSimplification, getMedian, getMean, sturges, linearRegression };","import { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nvar GuideLine =\n/** @class */\nfunction () {\n  function GuideLine(cfg) {\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  GuideLine.prototype._init = function () {\n    var props = this.plot.options;\n\n    var defaultStyle = this._getDefaultStyle();\n\n    var baseConfig = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end\n    };\n    baseConfig.line = _.deepMix({}, defaultStyle.line, {\n      style: this.cfg.lineStyle\n    });\n    baseConfig.text = _.deepMix({}, defaultStyle.text, this.cfg.text);\n\n    if (this.cfg.type) {\n      var stateValue = this._getState(this.cfg.type);\n\n      var minValue = this._getState('min');\n\n      var maxValue = this._getState('max');\n\n      var Scale = getScale('linear'); // 重新组织scale并使用scale的min和max来计算guide point的百分比位置，以避免受nice的影响\n\n      var scale = new Scale(_.mix({}, {\n        min: minValue,\n        max: maxValue,\n        nice: true\n      }, props.meta));\n      var percent = (stateValue - scale.min) / (scale.max - scale.min) * 100 + \"%\";\n      var start = ['0%', percent];\n      var end = ['100%', percent];\n      this.config = _.mix({\n        start: start,\n        end: end\n      }, baseConfig);\n    } else {\n      this.config = baseConfig;\n    }\n  };\n\n  GuideLine.prototype._getState = function (type) {\n    var values = this._extractValues();\n\n    if (type === 'median') {\n      return getMedian(values);\n    }\n\n    if (type === 'mean') {\n      return getMean(values);\n    }\n\n    if (type === 'max') {\n      return Math.max.apply(Math, values);\n    }\n\n    if (type === 'min') {\n      return Math.min.apply(Math, values);\n    }\n  };\n\n  GuideLine.prototype._extractValues = function () {\n    var props = this.plot.options;\n    var field = props.yField;\n    var values = [];\n\n    _.each(props.data, function (d) {\n      values.push(d[field]);\n    });\n\n    return values;\n  };\n\n  GuideLine.prototype._getDefaultStyle = function () {\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0]\n        }\n      },\n      text: {\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2\n        }\n      }\n    };\n  };\n\n  return GuideLine;\n}();\n\nexport default GuideLine;","import * as _ from '@antv/util'; // import { compare } from '../../base/controller/state';\n// 对axis label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelActiveStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var axes = plot.view.get('axisController').axes;\n\n  _.each(axes, function (axis) {\n    var labelArr = [];\n    var scale = getScale(plot, axis);\n    var labelShapes = axis.get('labelRenderer').get('group').get('children');\n\n    _.each(labelShapes, function (shape) {\n      if (shape.type === 'text') {\n        labelArr.push({\n          shape: shape\n        });\n        originAttrs.push(shape.attr());\n      }\n    });\n\n    if (scale) {\n      // 取到scale values作为原始数据，避免被label format的影响\n      var ticks_1 = scale.ticks,\n          field_1 = scale.field;\n\n      _.each(labelArr, function (label, index) {\n        label.value = ticks_1[index];\n        label.scaleField = field_1;\n        label.type = scale.type;\n      });\n    }\n\n    labels.push.apply(labels, labelArr);\n  });\n} // 获取坐标轴对应的scale\n\n\nfunction getScale(plot, axis) {\n  var props = plot.options;\n  var dim = 'y';\n  var position = axis.get('position');\n\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n\n  var scaleField = props[dim + \"Field\"];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  var _a;\n\n  var labelData = (_a = {}, _a[label.scaleField] = label.value, _a);\n\n  var con = _.clone(condition);\n\n  if (label.type === 'time' && _.isObject(condition) && !_.isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n\n  return {\n    labelData: labelData,\n    con: con\n  };\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nfunction labelActiveStyle(style) {\n  return {\n    opacity: 1,\n    fontWeight: 600,\n    fill: 'red'\n  };\n}\n\nfunction compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (!origin[name_1]) {\n      return false;\n    }\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { isNil } from '@antv/util';\nexport var combineFormatter = function combineFormatter() {\n  var formatters = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    formatters[_i] = arguments[_i];\n  }\n\n  return function (text, item, idx) {\n    return formatters.reduce(function (curText, formatter) {\n      return formatter(curText, item, idx);\n    }, text);\n  };\n};\nexport var getNoopFormatter = function getNoopFormatter() {\n  return function (text, item, idx) {\n    return text;\n  };\n};\nexport var getPrecisionFormatter = function getPrecisionFormatter(precision) {\n  return function (text, item, idx) {\n    var num = Number(text);\n    return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n  };\n};\nexport var getSuffixFormatter = function getSuffixFormatter(suffix) {\n  return function (text, item, idx) {\n    return isNil(suffix) ? text : text + \" \" + suffix;\n  };\n};","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nvar LabelParser =\n/** @class */\nfunction () {\n  function LabelParser(cfg) {\n    this.config = {};\n\n    var plot = cfg.plot,\n        rest = __rest(cfg, [\"plot\"]);\n\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  LabelParser.prototype.getConfig = function () {\n    return this.config;\n  };\n\n  LabelParser.prototype.init = function (cfg) {\n    var _this = this;\n\n    _.assign(this.config, cfg);\n\n    this.config.callback = function (val) {\n      var restArgs = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        restArgs[_i - 1] = arguments[_i];\n      }\n\n      return _this.parseCallBack.apply(_this, __spreadArrays([val], restArgs));\n    };\n  };\n\n  LabelParser.prototype.parseCallBack = function (val) {\n    var restArgs = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      restArgs[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    var theme = this.plot.getPlotTheme();\n\n    var config = __assign({}, labelProps);\n\n    this.parseOffset(labelProps, config);\n\n    if (labelProps.position) {\n      if (_.isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n\n    this.parseFormatter.apply(this, __spreadArrays([config, val], restArgs));\n\n    if (labelProps.style) {\n      if (_.isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n\n    config.textStyle = _.deepMix({}, _.get(theme, 'label.style'), config.textStyle);\n\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  };\n\n  LabelParser.prototype.parseOffset = function (props, config) {\n    var mapper = ['offset', 'offsetX', 'offsetY'];\n    var count = 0;\n\n    _.each(mapper, function (m) {\n      if (_.has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    }); // 如用户没有设置offset，而label position又为middle时，则默认设置offset为0\n\n\n    if (count === 0 && _.get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  };\n\n  LabelParser.prototype.parseFormatter = function (config) {\n    var values = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      values[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    config.formatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n\n    if (labelProps.formatter) {\n      config.formatter = combineFormatter(config.formatter, labelProps.formatter);\n    }\n  };\n\n  return LabelParser;\n}();\n\nexport default LabelParser;","import { __extends } from \"tslib\";\n/**\n * 可插拔的状态量管理机\n */\n// todo: 后续还需要加入交互互斥的维护机制\n\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\n\nvar StateManager =\n/** @class */\nfunction (_super) {\n  __extends(StateManager, _super);\n\n  function StateManager(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this._states = {};\n    _this._stateStack = {};\n    return _this;\n  }\n\n  StateManager.prototype.setState = function (name, exp) {\n    this._stateStack[name] = exp;\n\n    this._onUpdate();\n  };\n\n  StateManager.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  StateManager.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  StateManager.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  StateManager.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      // for (const name in stateStack) {\n      _.each(stateStack, function (exp, name) {\n        var state = stateStack[name];\n\n        if (!_this._states[name] || _this._states[name] !== exp) {\n          // update states\n          _this._states[name] = exp; // dispatch state event\n\n          _this._triggerEvent(name, state);\n        }\n      }); // }\n      // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  StateManager.prototype._triggerEvent = function (name, exp) {\n    this.emit(name + \":change\", {\n      name: name,\n      exp: exp\n    });\n  };\n\n  return StateManager;\n}(EventEmitter);\n\nexport default StateManager;","import * as _ from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\nexport function compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(cfg) {\n    this.shapeContainers = [];\n\n    _.assign(this, cfg);\n  }\n\n  StateController.prototype.createStateManager = function (cfg) {\n    this.stateManager = new StateManager(cfg);\n  };\n\n  StateController.prototype.bindStateManager = function (manager, cfg) {\n    this.stateManager = manager;\n\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  };\n\n  StateController.prototype.defaultStates = function (states) {\n    var _this = this;\n\n    _.each(states, function (state, type) {\n      var condition = state.condition,\n          style = state.style,\n          related = state.related;\n\n      _this.setState({\n        type: type,\n        condition: condition,\n        related: related\n      });\n    });\n  };\n\n  StateController.prototype.setState = function (cfg) {\n    var _this = this;\n\n    var type = cfg.type,\n        condition = cfg.condition,\n        related = cfg.related;\n\n    if (!this.shapes) {\n      this.shapes = this._getShapes();\n      this.originAttrs = this._getOriginAttrs();\n    } // this.resetZIndex();\n\n\n    _.each(this.shapes, function (shape, index) {\n      var shapeOrigin = shape.get('origin');\n      var origin = _.isArray(shapeOrigin) ? shapeOrigin[0]._origin : shapeOrigin._origin;\n\n      if (compare(origin, condition)) {\n        var stateStyle = cfg.style ? cfg.style : _this._getDefaultStateStyle(type, shape);\n        var originAttr = _this.originAttrs[index];\n        var attrs = void 0;\n\n        if (_.isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = _.mix({}, originAttr, stateStyle);\n        }\n\n        shape.attr(attrs);\n\n        _this.setZIndex(type, shape); // const canvas = this.plot.canvas;\n        // canvas.draw();\n\n      }\n    }); // 组件与图形对状态量的响应不一定同步\n\n\n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n\n    this.plot.canvas.draw();\n  };\n\n  StateController.prototype._updateStateProcess = function (setStateCfg) {\n    var _this = this;\n\n    _.each(setStateCfg, function (cfg) {\n      var state = cfg.state;\n      var handler;\n\n      if (_.isFunction(state)) {\n        handler = function handler(e) {\n          var s = state(e);\n\n          _this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = function handler() {\n          _this.stateManager.setState(state.name, state.exp);\n        };\n      }\n\n      if (cfg.event) {\n        onEvent(_this.plot, _this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  };\n\n  StateController.prototype._stateChangeProcess = function (onChangeCfg) {\n    var _this = this;\n\n    _.each(onChangeCfg, function (cfg) {\n      _this.stateManager.on(cfg.name + \":change\", function (props) {\n        cfg.callback(props, _this.plot);\n      });\n    });\n  };\n\n  StateController.prototype._getShapes = function () {\n    var _this = this;\n\n    var shapes = [];\n    var geoms = this.plot.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapeContainer = geom.get('shapeContainer');\n\n      _this.shapeContainers.push(shapeContainer);\n\n      if (!geom.destroyed) {\n        shapes.push.apply(shapes, geom.getShapes());\n      }\n    });\n\n    return shapes;\n  };\n\n  StateController.prototype._getOriginAttrs = function () {\n    var attrs = [];\n\n    _.each(this.shapes, function (shape) {\n      attrs.push(_.clone(shape.attr()));\n    });\n\n    return attrs;\n  }; // 将g2 geomtry转为plot层geometry\n\n\n  StateController.prototype._eventParser = function (event) {\n    var eventCfg = event.split(':');\n    var eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    var eventName = eventCfg[1];\n    return eventTarget + \":\" + eventName;\n  };\n\n  StateController.prototype._getDefaultStateStyle = function (type, shape) {\n    var theme = this.plot.theme;\n    var plotGeomType = this.plot.geometryParser('plot', shape.name);\n    var styleField = plotGeomType + \"Style\";\n\n    if (theme[styleField]) {\n      var style = theme[styleField][type];\n\n      if (_.isFunction(style)) {\n        style = style(shape.attr());\n      }\n\n      return style;\n    }\n\n    return {};\n  };\n\n  StateController.prototype._parserRelated = function (type, related, condition) {\n    var _this = this;\n\n    _.each(related, function (r) {\n      if (_this.plot[r]) {\n        // fixme: 自定义组件\n        // this.plot[r].setState(type, condition);\n        var method = getComponentStateMethod(r, type);\n        method(_this.plot, condition);\n      }\n    });\n  }; // private set\n\n\n  StateController.prototype.setZIndex = function (stateType, shape) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      var children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  };\n\n  StateController.prototype.resetZIndex = function () {\n    _.each(this.shapeContainers, function (container) {\n      var children = container.get('children');\n      children.sort(function (obj1, obj2) {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state'; // 对label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n\n      var style = _.mix({}, originAttr, {\n        opacity: 1\n      });\n\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var geoms = plot.view.get('elements');\n\n  _.each(geoms, function (geom) {\n    var geomLabels = geom.get('labels');\n\n    if (geomLabels) {\n      _.each(geomLabels, function (label) {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser'; // components state methods\n\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\nvar COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine\n};\nvar STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState\n};\nexport function getComponent(name, cfg) {\n  var Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state';\nvar POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  var props = plot.options; // 获取state condition对应在画布的位置，只有在state condition对应字段为位置映射字段时，tooltip才会对齐进行响应\n\n  if (shouldActive(props, condition)) {\n    var data = props.data;\n\n    _.each(data, function (d) {\n      if (compare(d, condition)) {\n        var point = plot.view.getXY(d); // 调用showTooltip方法\n\n        plot.view.on('tooltip:create', function (e) {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', function (e) {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  var expected = inverse ? false : true;\n\n  var originItems = _.clone(e.items);\n\n  e.items.splice(0);\n\n  _.each(originItems, function (item) {\n    var origin = item.point._origin;\n\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  var fields = getPositionField(props);\n  return !_.isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  var fields = [];\n\n  _.each(POSITION_MAPPER, function (v) {\n    if (_.has(props, v)) {\n      fields.push(v);\n    }\n  });\n\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar BaseInteraction =\n/** @class */\nfunction (_super) {\n  __extends(BaseInteraction, _super);\n\n  function BaseInteraction(cfg, viewLayer, interactionRange, interaction) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.viewLayer = viewLayer;\n    _this.interactionRange = interactionRange;\n    _this.interactionConfig = interaction;\n\n    _this.render();\n\n    return _this;\n  }\n\n  BaseInteraction.registerInteraction = function (type, ctor) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  };\n\n  BaseInteraction.registerPlotInteraction = function (plotType, type, ctor) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  };\n\n  BaseInteraction.getInteraction = function (type, plotType) {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  };\n\n  BaseInteraction.getInteractionRange = function (layerRange, interaction) {\n    return undefined;\n  };\n\n  BaseInteraction.prototype.destroy = function () {\n    this.clear();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  BaseInteraction.prototype.getViewLayer = function () {\n    return this.viewLayer;\n  };\n\n  BaseInteraction.prototype.getRange = function () {\n    return this.interactionRange;\n  };\n\n  BaseInteraction.prototype.getInteractionConfig = function () {\n    return this.interactionConfig;\n  };\n\n  BaseInteraction.prototype.render = function () {};\n\n  BaseInteraction.prototype.clear = function () {};\n\n  BaseInteraction.GLOBAL_INTERACTION_MAP = {};\n  BaseInteraction.PLOT_INTERACTION_MAP = {};\n  return BaseInteraction;\n}(Interaction);\n\nexport default BaseInteraction;","var DEFAULT_STYLE = {\n  trackColor: 'rgba(0,0,0,0)',\n  thumbColor: 'rgba(0,0,0,0.15)',\n  size: 8,\n  lineCap: 'round'\n};\nexport var DEFAULT_THEME = {\n  // 默认样式\n  default: DEFAULT_STYLE,\n  // 鼠标 hover 的样式\n  hover: {\n    thumbColor: 'rgba(0,0,0,0.2)'\n  }\n};","import { __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { DEFAULT_THEME } from './style';\n\nvar ScrollBar =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBar, _super);\n\n  function ScrollBar(scrollBarCfg) {\n    var _this = _super.call(this) || this; // 通过拖拽开始的事件是 mousedown 还是 touchstart 来决定是移动端还是 pc 端\n\n\n    _this._isMobile = false;\n\n    _this._onStartEvent = function (isMobile) {\n      return function (e) {\n        _this._isMobile = isMobile; // 阻止冒泡\n\n        e.event.preventDefault();\n        var event = _this._isMobile ? _.get(e.event, 'touches.0', e) : e;\n        var clientX = event.clientX,\n            clientY = event.clientY; // 将开始的点记录下来\n\n        _this._startPos = _this.isHorizontal ? clientX : clientY;\n\n        _this._bindLaterEvent();\n      };\n    }; // 点击滑道的事件回调,移动滑块位置\n\n\n    _this._onTrackClick = function (e) {\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      var rect = containerDOM.getBoundingClientRect();\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      var offset = _this.isHorizontal ? clientX - rect.left - _this.position.x - _this.thumbLen / 2 : clientY - rect.top - _this.position.y - _this.thumbLen / 2;\n\n      var newOffset = _this._validateRange(offset);\n\n      _this.updateThumbOffset(newOffset);\n    }; // 拖拽滑块的事件回调\n    // 这里是 dom 原生事件，绑定在 dom 元素上的\n\n\n    _this._onMouseMove = function (e) {\n      e.preventDefault();\n      var event = _this._isMobile ? _.get(e, 'touches.0', e) : e;\n      var clientX = event.clientX;\n      var clientY = event.clientY; // 鼠标松开的位置\n\n      var endPos = _this.isHorizontal ? clientX : clientY; // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n\n      var diff = endPos - _this._startPos; // 更新 _startPos\n\n      _this._startPos = endPos;\n\n      _this.updateThumbOffset(_this.thumbOffset + diff);\n    }; // 滑块鼠标松开事件回调\n\n\n    _this._onMouseUp = function (e) {\n      // 松开鼠标时，清除所有事件\n      e.preventDefault();\n\n      _this._clearEvents();\n    };\n\n    _this._onTrackMouseOver = function (e) {\n      var thumbColor = _this.theme.hover.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    _this._onTrackMouseOut = function (e) {\n      var thumbColor = _this.theme.default.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    var _a = scrollBarCfg.isHorizontal,\n        isHorizontal = _a === void 0 ? false : _a,\n        trackLen = scrollBarCfg.trackLen,\n        thumbLen = scrollBarCfg.thumbLen,\n        position = scrollBarCfg.position,\n        _b = scrollBarCfg.minThumbLen,\n        minThumbLen = _b === void 0 ? 20 : _b,\n        _c = scrollBarCfg.thumbOffset,\n        thumbOffset = _c === void 0 ? 0 : _c,\n        theme = scrollBarCfg.theme;\n    _this.isHorizontal = isHorizontal;\n    _this.thumbOffset = thumbOffset;\n    _this.trackLen = trackLen;\n    _this.thumbLen = thumbLen;\n    _this.position = position;\n    _this.minThumbLen = minThumbLen;\n    _this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n\n    _this._initScrollBar();\n\n    return _this;\n  }\n  /**\n   * 当前滑块滑动的位置 0 ~ 1\n   */\n\n\n  ScrollBar.prototype.current = function () {\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    return offsetRate / (1 - thumbRate);\n  };\n  /**\n   * 更新滑道长度\n   * @param newTrackLen 新的滑块长度\n   */\n\n\n  ScrollBar.prototype.updateTrackLen = function (newTrackLen) {\n    // 如果更新后的 trackLen 没改变，无需执行后续逻辑\n    if (this.trackLen === newTrackLen) {\n      return;\n    } // 更新滑道长度的时候，同时按比例更新滑块长度和 offset(增大视窗或者减小视窗的场景))\n\n\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    var newThumbLen = newTrackLen * thumbRate;\n    var newOffset = newTrackLen * offsetRate;\n    this.trackLen = newTrackLen;\n\n    if (this.isHorizontal) {\n      this.trackShape.attr('x2', newTrackLen);\n    } else {\n      this.trackShape.attr('y2', newTrackLen);\n    }\n\n    this.updateThumbLen(newThumbLen);\n    this.updateThumbOffset(newOffset);\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块长度\n   * @param newThumbLen 新的滑道长度\n   */\n\n\n  ScrollBar.prototype.updateThumbLen = function (newThumbLen) {\n    // 如果更新后的 thumbLen 没改变，无需执行后续逻辑\n    if (this.thumbLen === newThumbLen) {\n      return;\n    }\n\n    this.thumbLen = newThumbLen;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr('x2', this.thumbOffset + newThumbLen);\n    } else {\n      this.thumbShape.attr('y2', this.thumbOffset + newThumbLen);\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块的 offset 值\n   * @param offset\n   */\n\n\n  ScrollBar.prototype.updateThumbOffset = function (offset) {\n    var newOffset = this._validateRange(offset); // 如果更新后的 offset 与原值相同，则不改变\n\n\n    if (this.thumbOffset === newOffset) {\n      return;\n    }\n\n    this.thumbOffset = newOffset;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr({\n        x1: newOffset,\n        x2: newOffset + this.thumbLen\n      });\n    } else {\n      this.thumbShape.attr({\n        y1: newOffset,\n        y2: newOffset + this.thumbLen\n      });\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑道位置\n   * @param newPos 新的滑块位置\n   */\n\n\n  ScrollBar.prototype.updateScrollBarPos = function (newPos) {\n    if (newPos.x === this.position.x && newPos.y === this.position.y) {\n      return;\n    }\n\n    this.position = newPos;\n    this.scrollBarGroup.move(newPos.x, newPos.y);\n\n    this._renderNewScrollBar();\n  }; // 绘制新的 scrollBar\n\n\n  ScrollBar.prototype._renderNewScrollBar = function () {\n    // 发送事件\n    this.emit('scrollchange', {\n      thumbOffset: this.thumbOffset,\n      ratio: _.clamp(this.thumbOffset / (this.trackLen - this.thumbLen), 0, 1)\n    }); // 渲染\n\n    this.get('canvas').draw();\n  };\n\n  ScrollBar.prototype.updateTheme = function (theme) {\n    this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n    this.thumbShape.attr('stroke', this.theme.default.thumbColor);\n    this.thumbShape.attr('lineWidth', this.theme.default.size);\n    this.thumbShape.attr('lineCap', this.theme.default.lineCap);\n    this.get('canvas').draw();\n  }; // 初始化 scrollBar\n\n\n  ScrollBar.prototype._initScrollBar = function () {\n    this.scrollBarGroup = this._createScrollBarGroup();\n    this.scrollBarGroup.move(this.position.x, this.position.y); // 绑定事件\n\n    this._bindEvents();\n  }; // 创建 scrollBar 的 group\n\n\n  ScrollBar.prototype._createScrollBarGroup = function () {\n    var group = this.addGroup({\n      className: this.isHorizontal ? 'horizontalBar' : 'verticalBar'\n    });\n    this.trackShape = this._createTrackShape(group);\n    this.thumbShape = this._createThumbShape(group);\n    return group;\n  }; // 创建滑道的 shape\n\n\n  ScrollBar.prototype._createTrackShape = function (group) {\n    var _a = this.theme.default,\n        lineCap = _a.lineCap,\n        trackColor = _a.trackColor,\n        size = _a.size;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: 0,\n          y1: size / 2,\n          x2: this.trackLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: trackColor,\n          lineCap: lineCap\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: 0,\n        x2: size / 2,\n        y2: this.trackLen,\n        lineWidth: size,\n        stroke: trackColor,\n        lineCap: lineCap\n      }\n    });\n  }; // 创建滑块的 shape\n\n\n  ScrollBar.prototype._createThumbShape = function (group) {\n    var _a = this.theme.default,\n        size = _a.size,\n        lineCap = _a.lineCap,\n        thumbColor = _a.thumbColor;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: this.thumbOffset,\n          y1: size / 2,\n          x2: this.thumbOffset + this.thumbLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: thumbColor,\n          lineCap: lineCap,\n          cursor: 'default'\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: this.thumbOffset,\n        x2: size / 2,\n        y2: this.thumbOffset + this.thumbLen,\n        lineWidth: size,\n        stroke: thumbColor,\n        lineCap: lineCap,\n        cursor: 'default'\n      }\n    });\n  }; // 事件绑定\n\n\n  ScrollBar.prototype._bindEvents = function () {\n    this.on('mousedown', this._onStartEvent(false)); // 因为上层交叉表交互 prevent 事件，导致 containerDOM 上的 mouseup 事件没有执行，\n    // 整个拖拽过程没有 cancel 掉。\n\n    this.on('mouseup', this._onMouseUp);\n    this.on('touchstart', this._onStartEvent(true));\n    this.on('touchend', this._onMouseUp);\n    this.trackShape.on('click', this._onTrackClick);\n    this.thumbShape.on('mouseover', this._onTrackMouseOver);\n    this.thumbShape.on('mouseout', this._onTrackMouseOut);\n  };\n\n  ScrollBar.prototype._bindLaterEvent = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var events = [];\n\n    if (this._isMobile) {\n      events = [domUtil.addEventListener(containerDOM, 'touchmove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'touchend', this._onMouseUp), domUtil.addEventListener(containerDOM, 'touchcancel', this._onMouseUp)];\n    } else {\n      events = [domUtil.addEventListener(containerDOM, 'mousemove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'mouseup', this._onMouseUp), // 为了保证划出 canvas containerDom 时还没触发 mouseup\n      domUtil.addEventListener(containerDOM, 'mouseleave', this._onMouseUp)];\n    }\n\n    this._clearEvents = function () {\n      events.forEach(function (e) {\n        e.remove();\n      });\n    };\n  }; // 判断滑块位置是否超出滑道区域\n\n\n  ScrollBar.prototype._validateRange = function (offset) {\n    var newOffset = offset;\n\n    if (offset + this.thumbLen > this.trackLen) {\n      newOffset = this.trackLen - this.thumbLen;\n    } else if (offset + this.thumbLen < this.thumbLen) {\n      newOffset = 0;\n    }\n\n    return newOffset;\n  };\n\n  return ScrollBar;\n}(Group);\n\nexport default ScrollBar;","import { __assign, __extends } from \"tslib\";\nimport { Group, Path } from '@antv/g';\nvar DIR_MAPPER = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction (_super) {\n  __extends(Arrow, _super);\n\n  function Arrow(cfg) {\n    var _this = _super.call(this) || this; // 解构，追加默认值\n\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        _b = cfg.width,\n        width = _b === void 0 ? 10 : _b,\n        _c = cfg.height,\n        height = _c === void 0 ? 10 : _c,\n        _d = cfg.direction,\n        direction = _d === void 0 ? 'right' : _d,\n        _e = cfg.shapeAttrs,\n        shapeAttrs = _e === void 0 ? {} : _e;\n    _this.position = position;\n    _this.width = width;\n    _this.height = height;\n    _this.direction = direction;\n    _this.shapeAttrs = shapeAttrs;\n\n    _this._init();\n\n    return _this;\n  }\n\n  Arrow.prototype._init = function () {\n    var _this = this;\n\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    var shape = new Path({\n      attrs: __assign({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.shapeAttrs)\n    });\n    this.add(shape); // rotate\n\n    this.rotate(DIR_MAPPER[this.direction]); // move to\n\n    this.move(this.position.x, this.position.y);\n    shape.on('click', function (e) {\n      e.stopPropagation();\n\n      _this.emit('click', e);\n    });\n  };\n\n  return Arrow;\n}(Group);\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\n/**\n * Icon 需求和设计：https://yuque.antfin-inc.com/eva-engine/specs/sh9uyn\n * 使用 icon font\n */\n\nimport { Group } from '@antv/g';\n\nvar Icon =\n/** @class */\nfunction (_super) {\n  __extends(Icon, _super);\n\n  function Icon(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        icon = cfg.icon,\n        _b = cfg.text,\n        text = _b === void 0 ? '' : _b,\n        _c = cfg.spacing,\n        spacing = _c === void 0 ? 8 : _c,\n        iconStyle = cfg.iconStyle,\n        textStyle = cfg.textStyle,\n        _d = cfg.interactive,\n        interactive = _d === void 0 ? false : _d;\n    _this.position = position;\n    _this.icon = icon;\n    _this.text = text;\n    _this.spacing = spacing; // todo 默认样式\n\n    _this.iconStyle = __assign({\n      fontFamily: 'iconfont',\n      fontSize: 16,\n      textAlign: 'left',\n      textBaseline: 'top',\n      fill: '#1890ff'\n    }, iconStyle);\n    _this.textStyle = __assign({\n      fontSize: 12,\n      textAlign: 'left',\n      textBaseline: 'middle',\n      fill: '#000'\n    }, textStyle);\n    _this.interactive = interactive; // 渲染\n\n    _this._initIcon();\n\n    if (_this.interactive) {\n      _this._bindEvent();\n    }\n\n    return _this;\n  } // 绘制 icon\n\n\n  Icon.prototype._initIcon = function () {\n    var _a = this.position,\n        x = _a.x,\n        y = _a.y;\n    var icon = String.fromCharCode(parseInt(this.icon, 16)); // icon\n\n    var iconShape = this.addShape('text', {\n      attrs: __assign({\n        x: x,\n        y: y,\n        text: icon\n      }, this.iconStyle)\n    }); // text\n\n    if (this.text) {\n      var iconBBox = iconShape.getBBox();\n      this.addShape('text', {\n        attrs: __assign({\n          x: x + iconBBox.width + this.spacing,\n          y: y + iconBBox.height / 2,\n          text: this.text\n        }, this.textStyle)\n      });\n    } // 背景\n\n\n    var bbox = this.getBBox();\n    this.bg = this.addShape('rect', {\n      attrs: {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n        radius: 2,\n        fill: '#fff'\n      },\n      zIndex: -1\n    });\n    this.sort();\n  };\n  /**\n   * 绑定事件：\n   * 1. hover 加背景\n   * 2. 点击 emit 出去\n   * @private\n   */\n\n\n  Icon.prototype._bindEvent = function () {\n    var _this = this;\n\n    this.on('mouseover', function () {\n      _this.bg.attr('fill', '#F5F5F5');\n\n      _this.get('canvas').draw();\n    });\n    this.on('mouseout', function () {\n      _this.bg.attr('fill', '#fff');\n\n      _this.get('canvas').draw();\n    });\n  };\n\n  return Icon;\n}(Group);\n\nexport default Icon;","export var BACKGROUND_STYLE = {\n  // fill: 'red',\n  opacity: 0\n};\nexport var LINE_STYLE = {\n  stroke: '#C5C5C5',\n  strokeOpacity: 0.85\n};\nexport var AREA_STYLE = {\n  fill: '#CACED4',\n  opacity: 0.85\n};","import { __spreadArrays } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport Category from '@antv/scale/lib/category';\nimport Linear from '@antv/scale/lib/linear';\nimport * as _ from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\n\nfunction pointsToPath(points) {\n  return _.map(points, function (p, idx) {\n    var command = idx === 0 ? 'M' : 'L';\n    var x = p[0],\n        y = p[1];\n    return [command, x, y];\n  });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\n\n\nexport function getLinePath(points) {\n  return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\n\nexport function getSmoothLinePath(points) {\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points);\n  }\n\n  var data = [];\n\n  _.each(points, function (p) {\n    // 当前点和上一个点一样的时候，忽略掉\n    if (!_.isEqual(p, data.slice(data.length - 2))) {\n      data.push(p[0], p[1]);\n    }\n  }); // const constraint = [ // 范围\n  //   [ 0, 0 ],\n  //   [ 1, 1 ],\n  // ];\n\n\n  var path = pathUtil.catmullRom2Bezier(data, false);\n\n  var _a = _.head(points),\n      x = _a[0],\n      y = _a[1];\n\n  path.unshift(['M', x, y]);\n  return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\n\nexport function dataToPath(data, width, height, smooth) {\n  if (smooth === void 0) {\n    smooth = true;\n  } // 利用 scale 来获取 y 上的映射\n\n\n  var y = new Linear({\n    values: data\n  });\n  var x = new Category({\n    values: _.map(data, function (v, idx) {\n      return idx;\n    })\n  });\n\n  var points = _.map(data, function (v, idx) {\n    return [x.scale(idx) * width, height - y.scale(v) * height];\n  });\n\n  return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\n\nexport function linePathToAreaPath(path, width, height) {\n  var areaPath = __spreadArrays(path);\n\n  areaPath.push(['L', width, 0]);\n  areaPath.push(['L', 0, height]);\n  areaPath.push(['Z']);\n  return areaPath;\n}","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\n/**\n * 缩略趋势图\n */\n\nvar Trend =\n/** @class */\nfunction (_super) {\n  __extends(Trend, _super);\n\n  function Trend(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 200 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        _e = cfg.smooth,\n        smooth = _e === void 0 ? true : _e,\n        _f = cfg.isArea,\n        isArea = _f === void 0 ? false : _f,\n        _g = cfg.data,\n        data = _g === void 0 ? [] : _g,\n        backgroundStyle = cfg.backgroundStyle,\n        lineStyle = cfg.lineStyle,\n        areaStyle = cfg.areaStyle;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.data = data;\n    _this.smooth = smooth;\n    _this.isArea = isArea;\n    _this.backgroundStyle = _.assign({}, BACKGROUND_STYLE, backgroundStyle);\n    _this.lineStyle = _.assign({}, LINE_STYLE, lineStyle);\n    _this.areaStyle = _.assign({}, AREA_STYLE, areaStyle);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 构造\n   * @private\n   */\n\n\n  Trend.prototype._initial = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height,\n        data = _a.data,\n        smooth = _a.smooth,\n        isArea = _a.isArea,\n        backgroundStyle = _a.backgroundStyle,\n        lineStyle = _a.lineStyle,\n        areaStyle = _a.areaStyle; // 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, backgroundStyle)\n    });\n    var path = dataToPath(data, width, height, smooth); // 线\n\n    this.lineShape = this.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, lineStyle)\n    }); // area\n    // 在 path 的基础上，增加两个坐标点\n\n    var areaPath = linePathToAreaPath(path, width, height);\n\n    if (isArea) {\n      this.areaShape = this.addShape('path', {\n        attrs: __assign({\n          path: areaPath\n        }, areaStyle)\n      });\n    } // 统一移动到对应的位置\n\n\n    this.move(x, y);\n  };\n\n  return Trend;\n}(Group);\n\nexport default Trend;","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n  fill: '#416180 ',\n  opacity: 0.05\n};\nexport var FOREGROUND_STYLE = {\n  fill: '#5B8FF9',\n  opacity: 0.15,\n  cursor: 'move'\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n  width: DEFAULT_HANDLER_WIDTH,\n  height: 24\n};\nexport var TEXT_STYLE = {\n  textBaseline: 'middle',\n  fill: '#000',\n  opacity: 0.45\n};\nexport var SLIDER_CHANGE = 'sliderchange';","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar DEFAULT_STYLE = {\n  fill: '#F7F7F7',\n  stroke: '#BFBFBF',\n  radius: 2,\n  opacity: 1,\n  cursor: 'ew-resize',\n  // 高亮的颜色\n  highLightFill: '#FFF'\n};\n\nvar Handler =\n/** @class */\nfunction (_super) {\n  __extends(Handler, _super);\n\n  function Handler(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 10 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 24 : _d,\n        _e = cfg.style,\n        style = _e === void 0 ? {} : _e;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.style = __assign(__assign({}, DEFAULT_STYLE), style);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 设置位置 x\n   * @param x\n   */\n\n\n  Handler.prototype.setX = function (x) {\n    this.setXY(x, undefined);\n  };\n  /**\n   * 设置位置 y\n   * @param y\n   */\n\n\n  Handler.prototype.setY = function (y) {\n    this.setXY(undefined, y);\n  };\n\n  Handler.prototype.setXY = function (x, y) {\n    if (_.isNumber(x)) {\n      this.x = x;\n    }\n\n    if (_.isNumber(y)) {\n      this.y = y;\n    }\n\n    this._updateXY();\n  };\n  /**\n   * 初始化组件\n   * @private\n   */\n\n\n  Handler.prototype._initial = function () {\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        style = _a.style;\n\n    var fill = style.fill,\n        stroke = style.stroke,\n        radius = style.radius,\n        opacity = style.opacity,\n        cursor = style.cursor; // 按钮框框\n\n    this.background = this.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        stroke: stroke,\n        radius: radius,\n        opacity: opacity,\n        cursor: cursor\n      }\n    }); // 两根竖线\n\n    var x1 = 1 / 3 * width;\n    var x2 = 2 / 3 * width;\n    var y1 = 1 / 4 * height;\n    var y2 = 3 / 4 * height;\n    this.addShape('line', {\n      attrs: {\n        x1: x1,\n        y1: y1,\n        x2: x1,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    });\n    this.addShape('line', {\n      attrs: {\n        x1: x2,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    }); // 移动到对应的位置\n\n    this._updateXY();\n\n    this._bindEvents();\n  };\n\n  Handler.prototype._bindEvents = function () {\n    var _this = this;\n\n    this.on('mouseenter', function () {\n      var highLightFill = _this.style.highLightFill;\n\n      _this.background.attr('fill', highLightFill);\n\n      _this._getCanvas().draw();\n    });\n    this.on('mouseleave', function () {\n      var fill = _this.style.fill;\n\n      _this.background.attr('fill', fill);\n\n      _this._getCanvas().draw();\n    });\n  };\n\n  Handler.prototype._updateXY = function () {\n    this.move(this.x, this.y);\n  };\n  /**\n   * 因为 get('canvas') 因为构建顺序问题，导致不存在，所以采用这种方式拿到 canvas\n   * @private\n   */\n\n\n  Handler.prototype._getCanvas = function () {\n    var t = this;\n\n    while (t.get('parent')) {\n      t = t.get('parent');\n    } // 最顶层的 parent 就是 canvas 实例\n\n\n    return t;\n  };\n\n  return Handler;\n}(Group);\n\nexport default Handler;","/**\n * @file 基于 G 的缩略轴组件（Slider 组件）\n * @author hustcc\n */\nimport { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Trend from '../trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE } from './constant';\nimport Handler from './handler';\n/**\n * 缩略轴组件\n * 设计稿：https://yuque.antfin-inc.com/antv/cfksca/432935?artboard_type=artboard&view=&from=#comment-518267\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.prevX = 0;\n    _this.prevY = 0;\n\n    _this.onMouseDown = function (handler) {\n      return function (e) {\n        // 1. 记录点击的滑块\n        _this.currentHandler = handler; // 2. 存储当前点击位置\n\n        var event = e.event;\n        event.stopPropagation();\n        event.preventDefault(); // 兼容移动端获取数据\n\n        _this.prevX = _.get(event, 'touches.0.pageX', event.pageX);\n        _this.prevY = _.get(event, 'touches.0.pageY', event.pageY); // 3. 开始滑动的时候，绑定 move 和 up 事件\n\n        var containerDOM = _this.get('canvas').get('containerDOM');\n\n        containerDOM.addEventListener('mousemove', _this.onMouseMove);\n        containerDOM.addEventListener('mouseup', _this.onMouseUp);\n        containerDOM.addEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.addEventListener('touchmove', _this.onMouseMove);\n        containerDOM.addEventListener('touchend', _this.onMouseUp);\n        containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n      };\n    };\n\n    _this.onMouseMove = function (e) {\n      // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n      e.stopPropagation();\n      e.preventDefault();\n\n      var x = _.get(e, 'touches.0.pageX', e.pageX);\n\n      var y = _.get(e, 'touches.0.pageY', e.pageY); // 横向的 slider 只处理 x\n\n\n      var offsetX = x - _this.prevX;\n\n      var offsetXRange = _this.adjustOffsetRange(offsetX / _this.width); // 更新 start end range 范围\n\n\n      _this.updateStartEnd(offsetXRange); // 更新 ui\n\n\n      _this._updateUI();\n\n      _this.prevX = x;\n      _this.prevY = y;\n\n      _this.get('canvas').draw(); // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n\n\n      _this.emit(SLIDER_CHANGE, [_this.start, _this.end].sort());\n    };\n\n    _this.onMouseUp = function () {\n      // 结束之后，取消绑定的事件\n      if (_this.currentHandler) {\n        _this.currentHandler = undefined;\n      }\n\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      if (containerDOM) {\n        containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n        containerDOM.removeEventListener('mouseup', _this.onMouseUp); // 防止滑动到 canvas 外部之后，状态丢失\n\n        containerDOM.removeEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n        containerDOM.removeEventListener('touchend', _this.onMouseUp);\n        containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n      }\n    };\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 100 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        trendCfg = cfg.trendCfg,\n        _e = cfg.backgroundStyle,\n        backgroundStyle = _e === void 0 ? {} : _e,\n        _f = cfg.foregroundStyle,\n        foregroundStyle = _f === void 0 ? {} : _f,\n        _g = cfg.handlerStyle,\n        handlerStyle = _g === void 0 ? {} : _g,\n        _h = cfg.textStyle,\n        textStyle = _h === void 0 ? {} : _h,\n        // 缩略轴的初始位置\n    _j = cfg.start,\n        // 缩略轴的初始位置\n    start = _j === void 0 ? 0 : _j,\n        _k = cfg.end,\n        end = _k === void 0 ? 1 : _k,\n        _l = cfg.minText,\n        minText = _l === void 0 ? '' : _l,\n        _m = cfg.maxText,\n        maxText = _m === void 0 ? '' : _m; // position size\n\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.trendCfg = trendCfg; // style\n\n    _this.backgroundStyle = __assign(__assign({}, BACKGROUND_STYLE), backgroundStyle);\n    _this.foregroundStyle = __assign(__assign({}, FOREGROUND_STYLE), foregroundStyle);\n    _this.handlerStyle = __assign(__assign({}, HANDLER_STYLE), handlerStyle);\n    _this.textStyle = __assign(__assign({}, TEXT_STYLE), textStyle); // 初始信息\n\n    _this.start = start;\n    _this.end = end;\n    _this.minText = minText;\n    _this.maxText = maxText;\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Slider.prototype.update = function (cfg) {\n    var x = cfg.x,\n        y = cfg.y,\n        width = cfg.width,\n        height = cfg.height,\n        minText = cfg.minText,\n        maxText = cfg.maxText,\n        start = cfg.start,\n        end = cfg.end; // start、end 只能是 0~1 范围\n\n    this.start = Math.min(1, Math.max(start, 0));\n    this.end = Math.min(1, Math.max(end, 0)); // 如果传了则更新，没有传则不更新\n    // @ts-ignore\n\n    _.assign(this, {\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      minText: minText,\n      maxText: maxText\n    }); // 更新 ui，不自动绘制\n\n\n    this._updateUI();\n  };\n  /**\n   * 初始化组件结构\n   * @private\n   */\n\n\n  Slider.prototype._initial = function () {\n    var width = this.width;\n    var height = this.height; // 趋势图数据\n\n    if (_.size(_.get(this.trendCfg, 'data'))) {\n      this.trendShape = new Trend(__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.trendCfg));\n      this.add(this.trendShape);\n    } // 1. 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.backgroundStyle)\n    }); // 2. 左右文字\n\n    this.minTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'right',\n        text: this.minText,\n        silent: false\n      }, this.textStyle)\n    });\n    this.maxTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'left',\n        text: this.maxText,\n        silent: false\n      }, this.textStyle)\n    }); // 3. 前景 选中背景框\n\n    this.foregroundShape = this.addShape('rect', {\n      attrs: __assign({\n        // x: 0,\n        y: 0,\n        // width: 0,\n        height: height\n      }, this.foregroundStyle)\n    }); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', 10);\n\n    var handlerHeight = _.get(this.handlerStyle, 'height', 24); // 4. 左右滑块\n\n\n    this.minHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.minHandlerShape);\n    this.maxHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.maxHandlerShape); // 根据 start end 更新 ui 的位置信息\n\n    this._updateUI(); // 移动到对应的位置\n\n\n    this.move(this.x, this.y); // 绑定事件鼠标事件\n\n    this._bindEvents();\n  };\n  /**\n   * 绑定事件：\n   *  - 点击\n   *  - 滑动\n   *  - 拖拽\n   *  - 滚动\n   * @private\n   */\n\n\n  Slider.prototype._bindEvents = function () {\n    // 1. 左滑块的滑动\n    this.minHandlerShape.on('mousedown', this.onMouseDown(this.minHandlerShape));\n    this.minHandlerShape.on('touchstart', this.onMouseDown(this.minHandlerShape)); // 2. 右滑块的滑动\n\n    this.maxHandlerShape.on('mousedown', this.onMouseDown(this.maxHandlerShape));\n    this.maxHandlerShape.on('touchstart', this.onMouseDown(this.maxHandlerShape)); // 3. 前景选中区域\n\n    this.foregroundShape.on('mousedown', this.onMouseDown(this.foregroundShape));\n    this.foregroundShape.on('touchstart', this.onMouseDown(this.foregroundShape));\n  };\n  /**\n   * 调整 offsetRange，因为一些范围的限制\n   * @param offsetRange\n   */\n\n\n  Slider.prototype.adjustOffsetRange = function (offsetRange) {\n    // 针对不同的滑动组件，处理的方式不同\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.start;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.maxHandlerShape:\n        {\n          var min = 0 - this.end;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.foregroundShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      default:\n        return 0;\n    }\n  };\n\n  Slider.prototype.updateStartEnd = function (offsetRange) {\n    // 操作不同的组件，反馈不一样\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        this.start += offsetRange;\n        break;\n\n      case this.maxHandlerShape:\n        this.end += offsetRange;\n        break;\n\n      case this.foregroundShape:\n        this.start += offsetRange;\n        this.end += offsetRange;\n        break;\n    }\n  };\n  /**\n   * 根据移动的比例来更新 ui\n   * @private\n   */\n\n\n  Slider.prototype._updateUI = function () {\n    var _this = this;\n\n    var min = this.start * this.width;\n    var max = this.end * this.width; // 1. foreground\n\n    this.foregroundShape.attr('x', min);\n    this.foregroundShape.attr('width', max - min); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH); // 设置文本\n\n\n    this.minTextShape.attr('text', this.minText);\n    this.maxTextShape.attr('text', this.maxText);\n\n    var _a = this._dodgeText([min, max]),\n        minAttrs = _a[0],\n        maxAttrs = _a[1]; // 2. 左侧滑块和文字位置\n\n\n    this.minHandlerShape.setX(min - handlerWidth / 2); // this.minText.attr('x', min);\n\n    _.each(minAttrs, function (v, k) {\n      return _this.minTextShape.attr(k, v);\n    }); // 3. 右侧滑块和文字位置\n\n\n    this.maxHandlerShape.setX(max - handlerWidth / 2); // this.maxText.attr('x', max);\n\n    _.each(maxAttrs, function (v, k) {\n      return _this.maxTextShape.attr(k, v);\n    });\n  };\n  /**\n   * 调整 text 的位置，自动躲避\n   * 根据位置，调整返回新的位置\n   * @param range\n   */\n\n\n  Slider.prototype._dodgeText = function (range) {\n    var _a, _b;\n\n    var PADDING = 2;\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n\n    var minTextShape = this.minTextShape;\n    var maxTextShape = this.maxTextShape;\n    var min = range[0],\n        max = range[1];\n    var sorted = false; // 如果交换了位置，则对应的 min max 也交互\n\n    if (min > max) {\n      _a = [max, min], min = _a[0], max = _a[1];\n      _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n      sorted = true;\n    } // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n\n\n    var minBBox = minTextShape.getBBox();\n    var maxBBox = maxTextShape.getBBox();\n    var minAttrs = minBBox.width > min - PADDING ? {\n      x: min + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    } : {\n      x: min - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    };\n    var maxAttrs = maxBBox.width > this.width - max - PADDING ? {\n      x: max - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    } : {\n      x: max + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    };\n    return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","import { flatten, groupBy, map } from '@antv/util';\n/**\n * 按照scale字段values中的start和end信息从全部数据中取出对应的部分\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\n\nexport var getDataByScaleRange = function getDataByScaleRange(field, values, data, _a, vertical) {\n  var start = _a[0],\n      end = _a[1];\n\n  if (vertical === void 0) {\n    vertical = false;\n  }\n\n  var groupedData = groupBy(data, field);\n  var newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n  return flatten(map(newValues, function (value) {\n    return groupedData[value] || [];\n  }));\n};","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { ScrollBar } from '@antv/gui';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 8;\nvar DEFAULT_CATEGORY_SIZE = 32;\nvar MIN_THUMB_LENGTH = 8;\nvar SCROLL_BAR_Z_INDEX = 999;\n\nvar getValidScrollBarConfig = function getValidScrollBarConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0]\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nvar ScrollBarInteraction =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBarInteraction, _super);\n\n  function ScrollBarInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  ScrollBarInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidScrollBarConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  ScrollBarInteraction.prototype.render = function () {\n    var _this = this;\n\n    var view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', function () {\n      var padding = _this.view.get('padding'); // if we're not in `auto padding` process\n\n\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!_this.trackLen) {\n          _this.measureScrollBar();\n\n          _this.changeViewData(_this.getScrollRange());\n        } else {\n          _this.renderScrollbar();\n        }\n      }\n    });\n  };\n\n  ScrollBarInteraction.prototype.clear = function () {\n    if (this.scrollBar) {\n      this.scrollBar.destroy();\n      this.scrollBar = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n\n    this.trackLen = null;\n    this.thumbLen = null;\n  };\n\n  ScrollBarInteraction.prototype.renderScrollbar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var range = this.getRange();\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingLeft = _a[3];\n    var position = isHorizontal ? {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop\n    } : {\n      x: range.tl.x + paddingLeft,\n      y: panelRange.minY + paddingTop\n    };\n\n    if (!this.scrollBar) {\n      this.container = this.canvas.addGroup();\n      this.scrollBar = new ScrollBar({\n        isHorizontal: isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        position: position,\n        thumbOffset: this.ratio * this.trackLen\n      });\n      this.container.add(this.scrollBar);\n      this.scrollBar.set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollBar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollBar.updateTrackLen(this.trackLen);\n      this.scrollBar.updateThumbLen(this.thumbLen);\n      this.scrollBar.updateScrollBarPos(position);\n      this.scrollBar.updateThumbOffset(this.thumbOffset);\n    }\n  };\n\n  ScrollBarInteraction.prototype.measureScrollBar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var xScale = this.view.getXScale();\n    var yScales = this.view.getYScales();\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || []\n    };\n    this.yScalesCfg = map(yScales, function (item) {\n      return {\n        field: item.field,\n        type: item.type,\n        min: item.min,\n        max: item.max,\n        ticks: item.ticks,\n        formatter: item.formatter\n      };\n    });\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal ? panelRange.width - paddingLeft - paddingRight : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  };\n\n  ScrollBarInteraction.prototype.getScrollRange = function () {\n    var startIdx = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    var endIdx = Math.min(startIdx + this.step, this.cnt);\n    return [startIdx, endIdx];\n  };\n\n  ScrollBarInteraction.prototype.changeViewData = function (_a) {\n    var _this = this;\n\n    var startIdx = _a[0],\n        endIdx = _a[1];\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var viewLayer = this.getViewLayer();\n    var meta = viewLayer.options.meta;\n    var origData = viewLayer.getData();\n    var newData = getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx], config.type === 'vertical'); // ScrollBar在滚动过程中保持\b\bY轴上scale配置: min/max/ticks\n\n    this.yScalesCfg.forEach(function (cfg) {\n      var metaCfg = get(meta, cfg.field) || {};\n\n      _this.view.scale(cfg.field, __assign(__assign({\n        formatter: cfg.formatter\n      }, metaCfg), {\n        type: cfg.type,\n        min: cfg.min,\n        max: cfg.max\n      }));\n    });\n    this.view.set('data', newData);\n    this.view.repaint();\n  };\n\n  ScrollBarInteraction.prototype.onChange = function (_a) {\n    var ratio = _a.ratio,\n        thumbOffset = _a.thumbOffset;\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n    var origAnimation = this.view.get('animation');\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimation);\n  };\n\n  return ScrollBarInteraction;\n}(BaseInteraction);\n\nexport default ScrollBarInteraction;","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { Slider } from '@antv/gui';\nimport { clamp, head, last, map, size, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 16;\n\nvar getValidSliderConfig = function getValidSliderConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundColor: undefined,\n    foregroundColor: undefined\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  } // default size\n\n\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  } // start & end\n\n\n  var start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  var end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n  return _cfg;\n};\n\nvar SliderInteraction =\n/** @class */\nfunction (_super) {\n  __extends(SliderInteraction, _super);\n\n  function SliderInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  SliderInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidSliderConfig(interaction);\n\n    var _a = config.padding || [0, 0, 0, 0],\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  SliderInteraction.prototype.render = function () {\n    var _this = this; // 设置初始化的 start/end\n\n\n    var config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined; // 等待 view 每次 render 完成后更新 slider 组件\n\n    this.view.on('afterrender', function () {\n      if (!_this.xScaleCfg) {\n        // 初始化配置和数据\n        var xScale = _this.view.getXScale();\n\n        _this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || []\n        }; // 初始化 data\n\n        _this.view.set('data', _this.getSliderData(_this.curStart, _this.curEnd));\n\n        _this.view.repaint();\n      } else {\n        _this.renderSlider();\n      }\n    });\n  };\n\n  SliderInteraction.prototype.clear = function () {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  };\n\n  SliderInteraction.prototype.renderSlider = function () {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider(this.getSliderConfig());\n      this.slider.on('sliderchange', this.onChangeFn);\n      this.container.add(this.slider);\n    } else {\n      this.slider.update(this.getSliderConfig());\n    }\n  };\n\n  SliderInteraction.prototype.getSliderConfig = function () {\n    var view = this.view;\n    var panelRange = view.get('panelRange');\n    var range = this.getRange();\n    var config = getValidSliderConfig(this.getInteractionConfig());\n\n    var _a = config || {},\n        _b = _a.padding,\n        padding = _b === void 0 ? [0, 0, 0, 0] : _b,\n        foregroundColor = _a.foregroundColor,\n        backgroundColor = _a.backgroundColor;\n\n    var paddingTop = padding[0],\n        paddingRight = padding[1],\n        paddingBottom = padding[2],\n        paddingLeft = padding[3];\n\n    var _c = this.getSliderMinMaxText(this.curStart, this.curEnd),\n        minText = _c.minText,\n        maxText = _c.maxText;\n\n    var cfg = {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText: minText,\n      maxText: maxText,\n      trendCfg: {\n        data: this.getSliderTrendData(),\n        isArea: false,\n        smooth: false\n      },\n      foregroundStyle: {},\n      backgroundStyle: {}\n    };\n\n    if (foregroundColor) {\n      cfg.foregroundStyle.fill = foregroundColor;\n    }\n\n    if (backgroundColor) {\n      cfg.backgroundStyle.fill = backgroundColor;\n    }\n\n    return cfg;\n  };\n\n  SliderInteraction.prototype.getSliderTrendData = function () {\n    var _a = this.getViewLayer().options,\n        data = _a.data,\n        yField = _a.yField;\n    return map(data, function (item) {\n      return item[yField];\n    });\n  };\n\n  SliderInteraction.prototype.getSliderData = function (start, end) {\n    var origData = this.getViewLayer().getData();\n    var length = size(this.xScaleCfg.values);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  };\n\n  SliderInteraction.prototype.getSliderMinMaxText = function (start, end) {\n    var _a = this.getViewLayer().options,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        xField = _a.xField;\n    var length = size(data);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    var newData = data.slice(startIdx, endIdx);\n    return {\n      minText: head(newData)[xField],\n      maxText: last(newData)[xField]\n    };\n  };\n\n  SliderInteraction.prototype.onChange = function (range) {\n    var view = this.view;\n    var start = clamp(Math.min(range[0], range[1]), 0, 1);\n    var end = clamp(Math.max(range[0], range[1]), 0, 1);\n    var data = this.getSliderData(start, end);\n\n    var _a = this.getSliderMinMaxText(start, end),\n        minText = _a.minText,\n        maxText = _a.maxText;\n\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start: start,\n      end: end,\n      minText: minText,\n      maxText: maxText\n    });\n    var origAnimation = view.get('animation');\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimation);\n  };\n\n  return SliderInteraction;\n}(BaseInteraction);\n\nexport default SliderInteraction;","import BaseInteraction from './base';\nimport ScrollBarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollBarInteraction);\nexport * from './base';\nexport default BaseInteraction;","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\n/**\n * 处理图表padding的逻辑：\n * 注册参与padding的自定义组件\n */\n\nvar PaddingController =\n/** @class */\nfunction () {\n  function PaddingController(cfg) {\n    this.innerPaddingComponents = [];\n    this.outerPaddingComponents = [];\n    this.plot = cfg.plot;\n  }\n\n  PaddingController.prototype.registerPadding = function (component, type) {\n    if (type === void 0) {\n      type = 'outer';\n    }\n\n    if (type === 'inner') {\n      this.innerPaddingComponents.push(component);\n    } else {\n      this.outerPaddingComponents.push(component);\n    }\n  };\n  /**\n   * 清除已经注册的元素\n   */\n\n\n  PaddingController.prototype.clear = function () {\n    var _this = this;\n\n    this.innerPaddingComponents = [];\n\n    _.each(this.outerPaddingComponents, function (component, index) {\n      // 一些组件是在view渲染完成之后渲染初始化的\n      if (component && !component.afterRender) {\n        _this.outerPaddingComponents.splice(1, index);\n      }\n    }); // this.outerPaddingComponents = [];\n\n  };\n\n  PaddingController.prototype.getPadding = function () {\n    var props = this.plot.options;\n    var padding = props.padding ? props.padding : this.plot.config.theme.padding;\n\n    if (padding === 'auto') {\n      return [0, 0, 0, 0];\n    }\n\n    return padding;\n  };\n  /** view层的padding计算 */\n\n\n  PaddingController.prototype.processAutoPadding = function () {\n    var padding = this._getInnerAutoPadding();\n\n    this.plot.updateConfig({\n      padding: padding\n    });\n    this.plot.render();\n  };\n\n  PaddingController.prototype.processOuterPadding = function () {\n    var viewMinX = this.plot.layerBBox.minX;\n    var viewMaxX = this.plot.layerBBox.maxX;\n    var viewMinY = this.plot.layerBBox.minY;\n    var viewMaxY = this.plot.layerBBox.maxY;\n\n    _.each(this.outerPaddingComponents, function (component) {\n      var position = component.position;\n\n      var _a = component.getBBox(),\n          minX = _a.minX,\n          maxX = _a.maxX,\n          minY = _a.minY,\n          maxY = _a.maxY;\n\n      if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n\n      if (minY > viewMinY && minY < viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n\n      if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n\n      if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  };\n\n  PaddingController.prototype._getInnerAutoPadding = function () {\n    var props = this.plot.options;\n    var view = this.plot.view;\n    var viewRange = view.get('viewRange');\n    var maxX = viewRange.maxX,\n        maxY = viewRange.maxY;\n    var bleeding = this.plot.config.theme.bleeding;\n\n    if (_.isArray(bleeding)) {\n      _.each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = _.clone(bleeding); // 参与auto padding的components: axis legend\n\n    var components_bbox = [view.get('panelRange')];\n\n    this._getAxis(view, components_bbox);\n\n    var box = this._mergeBBox(components_bbox);\n\n    this._getLegend(view, components_bbox, box);\n\n    box = this._mergeBBox(components_bbox); // 参与auto padding的自定义组件\n\n    var components = this.innerPaddingComponents;\n\n    _.each(components, function (obj) {\n      var component = obj;\n      var bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n\n    box = this._mergeBBox(components_bbox);\n    var minY = box.minY;\n    /** 极坐标下padding计算错误问题 */\n\n    if (minY === viewRange.minY) {\n      minY = 0;\n    }\n\n    var padding = [0 - minY + this.bleeding[0], box.maxX - maxX + this.bleeding[1], box.maxY - maxY + this.bleeding[2], 0 - box.minX + this.bleeding[3]];\n    this.adjustAxisPadding(view, padding); // label、annotation等\n\n    var panelPadding = this._getPanel(view, box);\n\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n    return padding;\n  };\n\n  PaddingController.prototype._getAxis = function (view, bboxes) {\n    var axes = view.get('axisController').axes;\n\n    if (axes.length > 0) {\n      _.each(axes, function (a) {\n        var axis = a;\n        var bbox = axis.get('group').getBBox();\n        bboxes.push(bbox);\n      });\n    }\n  };\n\n  PaddingController.prototype._getLegend = function (view, bboxes, box) {\n    var _this = this;\n\n    var viewRange = view.get('viewRange');\n    var legends = view.get('legendController').legends;\n\n    if (legends.length > 0) {\n      _.each(legends, function (l) {\n        var legend = l;\n\n        _this._adjustLegend(legend, view, box);\n\n        var legendBBox = legend.getBBox();\n        var width = legendBBox.width,\n            height = legendBBox.height;\n        var x = 0;\n        var y = 0;\n        var position = legend.get('position').split('-');\n\n        if (position[0] === 'right') {\n          x = viewRange.maxX;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'left') {\n          x = box.minX - width;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'top') {\n          x = legendBBox.minX;\n          y = -height;\n        }\n\n        if (position[0] === 'bottom') {\n          x = legendBBox.minX;\n          y = viewRange.maxY + height;\n        }\n\n        var bbox = new BBox(x, y, width, height);\n        bboxes.push(bbox);\n\n        var innerPadding = _this._getLegendInnerPadding(legend);\n\n        _this._mergeBleeding(innerPadding);\n      });\n    }\n  };\n\n  PaddingController.prototype._getPanel = function (view, box) {\n    var groups = [];\n    var geoms = view.get('elements');\n\n    _.each(geoms, function (geom) {\n      if (geom.get('labelController')) {\n        var labelContainer = geom.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          groups.push(labelContainer);\n        }\n      }\n    });\n\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(groups, function (group) {\n      var children = group.get('children');\n      children.forEach(function (child) {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n\n        var bbox = child.getBBox();\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n\n    var panelRange = view.get('panelRange'); //right\n\n    var rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n\n    if (rightDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    } //left\n\n\n    var leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n\n    if (leftDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    } //top\n\n\n    var topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n\n    if (topDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    } //bottom\n\n\n    var bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n\n    if (bottomDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  };\n\n  PaddingController.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return {\n      minX: minX,\n      maxX: maxX,\n      minY: minY,\n      maxY: maxY\n    }; // return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  PaddingController.prototype._adjustLegend = function (legend, view, box) {\n    var position = legend.get('position').split('-');\n    var container = legend.get('container');\n    var bbox = container.getBBox();\n\n    var _a = view.get('viewRange'),\n        width = _a.width,\n        height = _a.height,\n        maxX = _a.maxX,\n        minX = _a.minX,\n        maxY = _a.maxY,\n        minY = _a.minY;\n\n    if (position[0] === 'right') {\n      container.move(width, minY);\n    }\n\n    if (position[0] === 'left') {\n      container.move(box.minX - bbox.width, minY);\n    }\n\n    if (position[0] === 'top') {\n      container.move(0, box.minY - bbox.height);\n    }\n\n    if (position[0] === 'bottom') {\n      container.move(0, Math.max(maxY, box.maxY));\n    }\n  };\n\n  PaddingController.prototype._getLegendInnerPadding = function (legend) {\n    var innerPadding = this.plot.theme.legend.innerPadding;\n    var position = legend.get('position').split('-');\n\n    if (position[0] === 'top') {\n      return [innerPadding[0], 0, 0, 0];\n    }\n\n    if (position[0] === 'bottom') {\n      return [0, 0, innerPadding[2], 0];\n    }\n\n    if (position[0] === 'left') {\n      return [0, 0, 0, innerPadding[3]];\n    }\n\n    if (position[0] === 'right') {\n      return [0, innerPadding[1], 0, 0];\n    }\n  };\n\n  PaddingController.prototype._mergeBleeding = function (source) {\n    var target = this.bleeding;\n\n    if (source.length !== target.length) {\n      return;\n    }\n\n    for (var i = 0; i < source.length; i++) {\n      target[i] += source[i];\n    }\n  };\n\n  PaddingController.prototype.adjustAxisPadding = function (view, padding) {\n    // 3.6.x Axis组件的 autoRotate padding 修正\n    var xAxis = view.get('axisController').axes[0];\n\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n\n    var labelRenderer = xAxis.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n    var curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    var curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x); // 如果只有一项数据, 平均宽度 = 总宽\n\n    var curAvgWidth = curTotalWidth; // 当多项数据时，根据 label 位置计算均宽\n\n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n\n    var newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    var newAvgWidth = curAvgWidth * newTotalWidth / curTotalWidth;\n    var newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  };\n\n  return PaddingController;\n}();\n\nexport default PaddingController;","var COLOR = '#5B8FF9';\nvar COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nvar COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7'];\nimport { some } from '@antv/util';\nexport var DESCRIPTION_BOTTOM_MARGIN = function DESCRIPTION_BOTTOM_MARGIN(legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n\n  return 24;\n};\nexport var TOP_BLEEDING = function TOP_BLEEDING(props) {\n  var titleVisible = props.title && props.title.visible;\n  var descriptionVisible = props.description && props.description.visible;\n\n  if (titleVisible || descriptionVisible) {\n    // 由 title/description 的 bottom-padding 负责\n    return 12;\n  }\n\n  return 24;\n};\nexport var BOTTOM_BLEEDING = function BOTTOM_BLEEDING(props) {\n  if (some(props.interactions || [], function (interaction) {\n    return (interaction.type === 'slider' || interaction.type === 'scrollbar') && (interaction.cfg && interaction.cfg.type) !== 'vertical';\n  })) {\n    return 8;\n  }\n\n  return 24;\n};\nexport var DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.15)'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(0, 0, 0, 0.65)'\n    },\n    style: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      stroke: '#ffffff',\n      lineWidth: 2\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)'\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n/** 所有的全局主题 */\n\nvar GLOBAL_THEME_MAP = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME\n};\n/**\n * 注册全局主题\n * @param name\n * @param theme\n */\n\nexport function registerGlobalTheme(name, theme) {\n  var defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = _.deepMix({}, defaultTheme, theme);\n}\n/**\n * 获取默认主题\n * @param name 如果 name 为空，则返回默认的主题，否则返回指定 name 的主题\n */\n\nexport function getGlobalTheme(name) {\n  if (name === void 0) {\n    name = 'default';\n  }\n\n  var theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n\n  if (theme) {\n    return theme;\n  } // 如没有找到，则使用当前全局主题替代\n\n\n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\nexport var DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626'\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: '#767b84',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)'\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      backgroundColor: 'rgba(33,33,33, 0.95)',\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n      color: 'rgba(255, 255, 255, 0.65)'\n    }\n  }\n};","/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nvar PLOT_THEME_MAP = {};\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\n\nexport function registerTheme(type, theme) {\n  PLOT_THEME_MAP[type.toLowerCase()] = theme;\n}\n/**\n * 根据类型获取主题\n * @param type\n */\n\nexport function getTheme(type) {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}","import * as StyleParser from '../util/style-parser';\nexport function extractAxis(desAxis, axis) {\n  if (!axis) {\n    return desAxis;\n  }\n\n  StyleParser.AxisStyleParser(desAxis, axis);\n  return desAxis;\n}\nexport function processAxisVisible(axisCfg) {\n  if (axisCfg.line && axisCfg.line.visible === false) {\n    axisCfg.line = null;\n  }\n\n  if (axisCfg.grid && axisCfg.grid.visible === false) {\n    axisCfg.grid = null;\n  }\n\n  if (axisCfg.tickLine && axisCfg.tickLine.visible === false) {\n    axisCfg.tickLine = null;\n  }\n\n  if (axisCfg.title && axisCfg.title.visible === false) {\n    axisCfg.title = null;\n  }\n\n  if (axisCfg.label && axisCfg.label.visible === false) {\n    axisCfg.label = null;\n  }\n}","// 存储一些共用部分\nexport var DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'textWrapper',\n            option: {\n              lineNumber: 2\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      linear: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'nodesResampling',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'robustAbbrevaite',\n            option: {\n              unit: 'thousand',\n              decimal: 1,\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      dateTime: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'datetimeStringAbbrevaite'\n          }, {\n            name: 'nodesResamplingByAbbrevate',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    },\n    y: {\n      linear: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'digitsAbbreviate'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      category: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n/**\n * 所有的响应式主题配置\n */\n\nvar RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME\n};\n/**\n * 添加一个响应式主题配置\n * @param name\n * @param theme\n */\n\nexport function registerResponsiveTheme(name, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = _.deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n/**\n * 获取一个响应式主题配置，如果找不到则返回默认\n * @param name\n */\n\nexport function getResponsiveTheme(name) {\n  var theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}","import * as G2 from '@antv/g2';\nimport * as _ from '@antv/util'; // import Theme from '../../theme';\n\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { processAxisVisible } from '../../util/axis';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\n/**\n * 负责图表theme的管理\n */\n\nvar G2DefaultTheme = G2.Global.theme;\n\nvar ThemeController =\n/** @class */\nfunction () {\n  function ThemeController() {}\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n\n\n  ThemeController.getGlobalTheme = function (theme) {\n    if (_.isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n\n    return _.deepMix({}, getGlobalTheme(), theme);\n  };\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getPlotTheme = function (props, type) {\n    var theme = props.theme;\n\n    if (_.isString(theme)) {\n      return _.deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n\n    return _.deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  };\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getTheme = function (props, type) {\n    var plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n\n    var g2Theme = _.deepMix({}, G2DefaultTheme, plotG2Theme); // this._processVisible(g2Theme);\n\n\n    return g2Theme;\n  };\n\n  ThemeController.prototype.getResponsiveTheme = function (type) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  };\n\n  ThemeController.prototype._processVisible = function (theme) {\n    processAxisVisible(theme.axis.left);\n    processAxisVisible(theme.axis.right);\n    processAxisVisible(theme.axis.top);\n    processAxisVisible(theme.axis.bottom);\n    return theme;\n  };\n\n  return ThemeController;\n}();\n\nexport default ThemeController;","import * as _ from '@antv/util';\n/**\n * mutable 的方式修改 axis 配置\n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     _.mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     _.mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     _.mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n * 将图形主题转换成 g2 theme 格式\n * @param plotTheme\n */\n\nexport function convertToG2Theme(plotTheme) {\n  var g2Theme = _.clone(plotTheme);\n  /** tempo: legend margin设置为0 */\n\n\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  } // g2Theme.legend.margin = [0, 0, 0, 0];\n  // if (g2Theme.axis) {\n  //   if (g2Theme.axis.x) {\n  //     convertToG2Axis(g2Theme.axis.x);\n  //     g2Theme.axis.bottom = {};\n  //     _.deepMix(g2Theme.axis.bottom, g2Theme.axis.x, { position: 'bottom' });\n  //     g2Theme.axis.top = {};\n  //     _.deepMix(g2Theme.axis.top, g2Theme.axis.x, { position: 'top' });\n  //     delete g2Theme.axis.x;\n  //   }\n  //   if (g2Theme.axis.y) {\n  //     convertToG2Axis(g2Theme.axis.y);\n  //     g2Theme.axis.left = {};\n  //     _.deepMix(g2Theme.axis.left, g2Theme.axis.y, { position: 'left' });\n  //     g2Theme.axis.right = {};\n  //     _.deepMix(g2Theme.axis.right, g2Theme.axis.y, { position: 'right' });\n  //     delete g2Theme.axis.y;\n  //   }\n  // }\n\n\n  return g2Theme;\n}","import { __extends } from \"tslib\";\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport TextDescription from '../components/description';\nimport { getComponent } from '../components/factory';\nimport BaseInteraction from '../interaction/index';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer from './layer';\nimport { isTextUsable } from '../util/common';\n/**\n * 获取Region\n *\n * @param viewRange - box\n */\n\nfunction getRegion(viewRange) {\n  return {\n    start: {\n      x: viewRange.minX,\n      y: viewRange.minY\n    },\n    end: {\n      x: viewRange.maxX,\n      y: viewRange.maxY\n    }\n  };\n}\n\nvar ViewLayer =\n/** @class */\nfunction (_super) {\n  __extends(ViewLayer, _super);\n\n  function ViewLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.interactions = [];\n    _this.options = _this.getOptions(props);\n    _this.initialOptions = _.deepMix({}, _this.options);\n    _this.paddingController = new PaddingController({\n      plot: _this\n    });\n    _this.stateController = new StateController({\n      plot: _this\n    });\n    _this.themeController = new ThemeController();\n    return _this;\n  }\n\n  ViewLayer.getDefaultOptions = function () {\n    return {\n      title: {\n        visible: false,\n        text: ''\n      },\n      description: {\n        visible: false,\n        text: ''\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'y'\n        }\n      },\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      label: {\n        visible: false\n      }\n    };\n  };\n\n  ViewLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  ViewLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n  };\n\n  ViewLayer.prototype.init = function () {\n    var _this = this;\n\n    _super.prototype.init.call(this);\n\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n        triggerOn: 'mousemove',\n        inPanel: true,\n        useHtml: true\n      },\n      axes: {\n        fields: {}\n      },\n      coord: {\n        type: 'cartesian'\n      },\n      elements: [],\n      annotations: [],\n      interactions: {},\n      theme: this.theme,\n      panelRange: {},\n      animate: true\n    };\n    this.paddingController.clear();\n    this.drawTitle();\n    this.drawDescription();\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n    var viewRange = this.getViewRange();\n    this.view = new G2.View({\n      width: this.width,\n      height: this.height,\n      canvas: this.canvas,\n      container: this.container,\n      padding: this.paddingController.getPadding(),\n      data: this.processData(this.options.data),\n      theme: this.theme,\n      options: this.config,\n      start: {\n        x: viewRange.minX,\n        y: viewRange.minY\n      },\n      end: {\n        x: viewRange.maxX,\n        y: viewRange.maxY\n      }\n    });\n    this.applyInteractions();\n    this.view.on('afterrender', function () {\n      _this.afterRender();\n    });\n  };\n\n  ViewLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  };\n\n  ViewLayer.prototype.afterRender = function () {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var options = this.options;\n    var padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n\n\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  };\n  /** 完整生命周期渲染 */\n\n\n  ViewLayer.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    var data = this.options.data;\n\n    if (!_.isEmpty(data)) {\n      this.view.render();\n    }\n  };\n  /** 销毁 */\n\n\n  ViewLayer.prototype.destroy = function () {\n    this.doDestroy();\n\n    _super.prototype.destroy.call(this);\n  };\n  /** 更新配置项 */\n\n\n  ViewLayer.prototype.updateConfig = function (cfg) {\n    this.doDestroy();\n\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  };\n\n  ViewLayer.prototype.changeData = function (data) {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }; // plot 不断销毁重建，需要一个api获取最新的plot\n\n\n  ViewLayer.prototype.getPlot = function () {\n    return this.view;\n  }; // 获取对应的G2 Theme\n\n\n  ViewLayer.prototype.getTheme = function () {\n    return this.theme;\n  };\n\n  ViewLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme(this.type);\n  }; // 获取对应的Plot Theme\n\n\n  ViewLayer.prototype.getPlotTheme = function () {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }; // 绑定一个外部的stateManager\n\n\n  ViewLayer.prototype.bindStateManager = function (stateManager, cfg) {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }; // 响应状态量更新的快捷方法\n\n\n  ViewLayer.prototype.setActive = function (condition, style) {\n    this.stateController.setState({\n      type: 'active',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setSelected = function (condition, style) {\n    this.stateController.setState({\n      type: 'selected',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setDisable = function (condition, style) {\n    this.stateController.setState({\n      type: 'disable',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setNormal = function (condition) {\n    this.stateController.setState({\n      type: 'normal',\n      condition: condition,\n      style: {}\n    });\n  }; // 获取 ViewLayer 的数据项\n\n\n  ViewLayer.prototype.getData = function (start, end) {\n    return this.processData((this.options.data || []).slice(start, end));\n  };\n\n  ViewLayer.prototype.processData = function (data) {\n    return data;\n  };\n\n  ViewLayer.prototype.scale = function () {\n    /** scale meta配置 */\n    // 1. this.config.scales中已有子图形在处理xAxis/yAxis是写入的xField/yField对应的scale信息，这里再检查用户设置的meta，将meta信息合并到默认的scale中\n    // 2. 同时xAxis/yAxis中的type优先级更高，覆盖meta中的type配置\n    var scaleTypes = _.mapValues(this.config.scales, function (scaleConfig) {\n      var type = scaleConfig.type;\n      return type ? {\n        type: type\n      } : {};\n    });\n\n    var scales = _.deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  };\n\n  ViewLayer.prototype.axis = function () {\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  ViewLayer.prototype.tooltip = function () {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n\n    this.setConfig('tooltip', _.deepMix({}, _.get(this.options, 'tooltip')));\n\n    _.deepMix(this.config.theme.tooltip, this.options.tooltip.style);\n  };\n\n  ViewLayer.prototype.legend = function () {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n\n    var flipOption = _.get(this.options, 'legend.flipPage');\n\n    this.setConfig('legends', {\n      position: _.get(this.options, 'legend.position'),\n      formatter: _.get(this.options, 'legend.formatter'),\n      offsetX: _.get(this.options, 'legend.offsetX'),\n      offsetY: _.get(this.options, 'legend.offsetY'),\n      // wordSpacing: _.get(this.options, 'legend.wordSpacing'),\n      flipPage: flipOption\n    });\n  };\n\n  ViewLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var config = [];\n\n    if (this.config.coord.type === 'cartesian' && this.options.guideLine) {\n      _.each(this.options.guideLine, function (line) {\n        var guideLine = getComponent('guideLine', {\n          plot: _this,\n          cfg: line\n        });\n        config.push(guideLine);\n      });\n    }\n\n    this.setConfig('annotations', config);\n  };\n\n  ViewLayer.prototype.animation = function () {\n    if (this.options.animation === false || this.options.padding === 'auto') {\n      this.config.animate = false;\n    }\n  };\n\n  ViewLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n\n      if (Ctor) {\n        var inst = new Ctor({\n          view: _this.view\n        }, _this, Ctor.getInteractionRange(_this.layerBBox, interaction.cfg), interaction.cfg);\n\n        _this.interactions.push(inst);\n      }\n    });\n  };\n  /** 设置G2 config，带有类型推导 */\n\n\n  ViewLayer.prototype.setConfig = function (key, config) {\n    if (key === 'element') {\n      this.config.elements.push(config);\n      return;\n    }\n\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n\n    _.assign(this.config[key], config);\n  };\n\n  ViewLayer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var options = this.options;\n\n    if (options.events) {\n      _super.prototype.parseEvents.call(this, options.events);\n\n      var eventmap_1 = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n\n      _.each(options.events, function (e, k) {\n        if (_.isFunction(e)) {\n          var eventName = eventmap_1[k] || k;\n          var handler = e;\n          onEvent(_this, eventName, handler);\n        }\n      });\n    }\n  };\n\n  ViewLayer.prototype.drawTitle = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: _.mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        name: 'title'\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  };\n\n  ViewLayer.prototype.drawDescription = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var topMargin = 0;\n\n      if (this.title) {\n        var titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // 无title的情况下使用title的上padding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      var description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin: topMargin,\n        text: props.description.text,\n        style: _.mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: 1,\n        plot: this,\n        name: 'description'\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  };\n  /** 抽取destroy和updateConfig共有代码为_destroy方法 */\n\n\n  ViewLayer.prototype.doDestroy = function () {\n    this.doDestroyInteractions();\n    /** 销毁g2.view实例 */\n\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  };\n\n  ViewLayer.prototype.doDestroyInteractions = function () {\n    // 移除注册的 interactions\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n  };\n\n  ViewLayer.prototype.getViewRange = function () {\n    var _this = this; // 有 Range 的 Interaction 参与 ViewMargin 计算\n\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n    var layerBBox = this.layerBBox;\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n      var range = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      var position = '';\n\n      if (range) {\n        // 先只考虑 Range 靠边的情况\n        if (range.bottom === layerBBox.bottom && range.top > layerBBox.top) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.right === layerBBox.right && range.left > layerBBox.left) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.left === layerBBox.left && range.right > layerBBox.right) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.top === layerBBox.top && range.bottom > layerBBox.bottom) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n\n        _this.paddingController.registerPadding({\n          getBBox: function getBBox() {\n            return range;\n          },\n          position: position\n        }, 'outer');\n      }\n    });\n    var viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  };\n\n  return ViewLayer;\n}(Layer);\n\nexport default ViewLayer;","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport ThemeController from './theme';\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nvar CanvasController =\n/** @class */\nfunction () {\n  function CanvasController(cfg) {\n    var _this = this;\n    /**\n     * when the container size changed, trigger it after 300ms.\n     */\n\n\n    this.onResize = _.debounce(function () {\n      if (_this.plot.destroyed) {\n        return;\n      }\n\n      var _a = _this.getCanvasSize(),\n          width = _a.width,\n          height = _a.height;\n      /** height measure不准导致重复 forceFit */\n\n\n      if (_this.width === width\n      /*&& this.height === height*/\n      ) {\n          return;\n        } // got new width, height, re-render the plot\n\n\n      _this.width = width;\n      _this.height = height;\n\n      _this.plot.updateConfig({\n        width: width,\n        height: height\n      });\n\n      _this.plot.render();\n    }, 300);\n    var containerDOM = cfg.containerDOM,\n        plot = cfg.plot;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n\n\n  CanvasController.prototype.getCanvasSize = function () {\n    var theme = getGlobalTheme();\n    var width = this.plot.width ? this.plot.width : theme.width;\n    var height = this.plot.height ? this.plot.height : theme.height; // if forceFit = true, then use the container's size as default.\n\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n\n\n  CanvasController.prototype.getCanvasDOM = function () {\n    return this.canvas.get('canvasDOM');\n  };\n  /**\n   * update the plot size\n   */\n\n\n  CanvasController.prototype.updateCanvasSize = function () {\n    var _a = this.getCanvasSize(),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height); // this.plot.updateRange();\n  };\n  /**\n   * 根据主题调整canvas样式\n   */\n\n\n  CanvasController.prototype.updateCanvasTheme = function () {\n    var theme = this.plot.theme;\n    var globalTheme = ThemeController.getGlobalTheme(theme);\n\n    var fill = _.get(globalTheme, 'backgroundStyle.fill');\n\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill\n      });\n    }\n  };\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n\n\n  CanvasController.prototype.updateCanvasStyle = function (styles) {\n    modifyCSS(this.getCanvasDOM(), styles);\n  };\n  /**\n   * destroy the plot, remove resize event.\n   */\n\n\n  CanvasController.prototype.destroy = function () {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    } // remove G.Canvas\n\n\n    this.canvas.destroy();\n  };\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n\n\n  CanvasController.prototype.bindForceFit = function () {\n    var forceFit = this.plot.forceFit; // use ResizeObserver to listen the container size change.\n\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  };\n  /**\n   * init life circle\n   */\n\n\n  CanvasController.prototype.init = function () {\n    this.initGCanvas();\n    this.bindForceFit();\n  };\n  /**\n   * init G.Canvas instance\n   */\n\n\n  CanvasController.prototype.initGCanvas = function () {\n    /** 创建canvas */\n    var _a = this.plot,\n        _b = _a.renderer,\n        renderer = _b === void 0 ? 'canvas' : _b,\n        pixelRatio = _a.pixelRatio;\n\n    var _c = this.getCanvasSize(),\n        width = _c.width,\n        height = _c.height;\n\n    this.canvas = new Canvas({\n      containerDOM: this.containerDOM,\n      width: width,\n      height: height,\n      renderer: renderer,\n      pixelRatio: pixelRatio\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  };\n\n  return CanvasController;\n}();\n\nexport default CanvasController;","import * as _ from '@antv/util';\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isPointInBBox(point, bbox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.pixelRatio = this.canvas.get('pixelRatio');\n    this.eventHandlers = [];\n  }\n\n  EventController.prototype.bindEvents = function () {\n    this.addEvent(this.canvas, 'mousedown', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', _.wrapBehavior(this, 'onEvents'));\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this.eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n  };\n\n  EventController.prototype.addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.onEvents = function (ev) {\n    var eventObj = this.getEventObj(ev);\n    var target = ev.target; // 判断是否拾取到view以外的shape\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, ev);\n    }\n\n    this.plot.emit(\"\" + ev.type, eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  };\n\n  EventController.prototype.onMove = function (ev) {\n    var target = ev.target;\n    var eventObj = this.getEventObj(ev); // shape的mouseenter, mouseleave和mousemove事件\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, eventObj); // mouseleave & mouseenter\n\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(this.lastShape.name + \":mouseleave\", eventObj);\n        }\n\n        this.plot.emit(target.name + \":mouseenter\", eventObj);\n      }\n\n      this.lastShape = target;\n    }\n\n    this.plot.emit('mousemove', eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  };\n\n  EventController.prototype.isShapeInView = function (shape) {\n    var groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    var parent = shape.get('parent');\n\n    while (parent) {\n      var parentName = parent.get('name');\n\n      if (parentName && _.contains(groupName, parentName)) {\n        return true;\n      }\n\n      parent = parent.get('parent');\n    }\n\n    return false;\n  };\n\n  EventController.prototype.getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this.pixelRatio,\n      y: ev.y / this.pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype.onLayerEvent = function (layers, eventObj, eventName) {\n    var _this = this;\n\n    _.each(layers, function (layer) {\n      var bbox = layer.getGlobalBBox();\n\n      if (isPointInBBox({\n        x: eventObj.x,\n        y: eventObj.y\n      }, bbox)) {\n        layer.emit(\"\" + eventName, eventObj);\n        var subLayers = layer.layers;\n\n        if (subLayers.length > 0) {\n          _this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","/** 所有统计图形 */\nvar GLOBAL_PLOT_MAP = {};\nexport function registerPlotType(name, ctr) {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\nexport function getPlotType(name) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nvar BasePlot =\n/** @class */\nfunction (_super) {\n  __extends(BasePlot, _super);\n\n  function BasePlot(container, props) {\n    var _this = _super.call(this) || this;\n\n    _this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    _this.forceFit = !_.isNil(props.forceFit) ? props.forceFit : _.isNil(props.width) && _.isNil(props.height);\n    _this.renderer = props.renderer || 'canvas';\n    _this.pixelRatio = props.pixelRatio || null;\n    _this.width = props.width;\n    _this.height = props.height;\n    _this.theme = props.theme;\n    _this.canvasController = new CanvasController({\n      containerDOM: _this.containerDOM,\n      plot: _this\n    });\n    /** update layer properties */\n\n    _this.width = _this.canvasController.width;\n    _this.height = _this.canvasController.height;\n    _this.canvas = _this.canvasController.canvas;\n    _this.layers = [];\n    _this.destroyed = false;\n\n    _this.createLayers(props);\n    /** bind events */\n\n\n    _this.eventController = new EventController({\n      plot: _this,\n      canvas: _this.canvasController.canvas\n    });\n\n    _this.eventController.bindEvents();\n\n    _this.parseEvents(props);\n\n    return _this;\n  }\n  /** 生命周期 */\n\n\n  BasePlot.prototype.destroy = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  };\n  /**\n   * 重新绘制图形\n   */\n\n\n  BasePlot.prototype.repaint = function () {\n    this.canvasController.canvas.draw();\n  };\n\n  BasePlot.prototype.updateConfig = function (config, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof ViewLayer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width;\n    }\n\n    if (config.height) {\n      this.height = config.height;\n    }\n\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  };\n\n  BasePlot.prototype.changeData = function (data, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  };\n\n  BasePlot.prototype.getPlotTheme = function () {\n    var layer = this.layers[0];\n    return layer.getPlotTheme();\n  };\n\n  BasePlot.prototype.getData = function () {\n    var layer = this.layers[0];\n    return layer.getData();\n  };\n  /**\n   * 绑定一个外部的stateManager\n   * 先直接传递给各个子 Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n\n\n  BasePlot.prototype.bindStateManager = function (stateManager, cfg) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  };\n  /**\n   * 响应状态量更新的快捷方法\n   *\n   *  @param condition\n   * @param style\n   */\n\n\n  BasePlot.prototype.setActive = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setSelected = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setDisable = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setNormal = function (condition) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setNormal(condition);\n      }\n    });\n  };\n  /**\n   * 获取图形下的图层 Layer，默认第一个 Layer\n   * @param idx\n   */\n\n\n  BasePlot.prototype.getLayer = function (idx) {\n    if (idx === void 0) {\n      idx = 0;\n    }\n\n    return this.layers[idx];\n  };\n\n  BasePlot.prototype.getCanvas = function () {\n    return this.canvasController.canvas;\n  };\n\n  BasePlot.prototype.getLayers = function () {\n    return this.layers;\n  };\n\n  BasePlot.prototype.render = function () {\n    this.eachLayer(function (layer) {\n      return layer.render();\n    });\n  };\n\n  BasePlot.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  BasePlot.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  };\n\n  BasePlot.prototype.createLayers = function (props) {\n    if (props.layers) {// TODO: combo plot\n    } else if (props.type) {\n      var viewLayerCtr = getPlotType(props.type);\n\n      var viewLayerProps = _.deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      });\n\n      var viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  };\n\n  BasePlot.prototype.parseEvents = function (props) {\n    var _this = this;\n\n    var eventsName = _.keys(CANVAS_EVENT_MAP);\n\n    if (props.events) {\n      _.each(props.events, function (e, k) {\n        if (_.contains(eventsName, k) && _.isFunction(e)) {\n          var eventName = CANVAS_EVENT_MAP[k] || k;\n          var handler = e;\n\n          _this.on(eventName, handler);\n        }\n      });\n    }\n  };\n\n  return BasePlot;\n}(EventEmitter);\n\nexport default BasePlot;","import * as _ from '@antv/util';\n\nvar ElementParser =\n/** @class */\nfunction () {\n  function ElementParser(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  ElementParser.prototype.init = function () {\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields\n      },\n      widthRatio: {\n        // 宽度所占的分类的比例\n        column: 3 / 5,\n        rose: 0.9999999,\n        multiplePie: 1 / 1.3\n      }\n    };\n  };\n\n  return ElementParser;\n}();\n\nexport default ElementParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar AreaParser =\n/** @class */\nfunction (_super) {\n  __extends(AreaParser, _super);\n\n  function AreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls || false\n    };\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || props.area && props.area.style) {\n      this.parseStyle();\n    }\n  };\n\n  AreaParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorMappingField = this._getColorMappingField();\n\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  AreaParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    var config = {};\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  AreaParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return AreaParser;\n}(ElementParser);\n\nexport default AreaParser;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nvar vector2 = matrixUtil.vec2;\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [// 范围\n  [0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('area', 'miniArea', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, false);\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.4\n      },\n      style: style\n    });\n    return shape;\n  }\n});\nG2.registerShape('area', 'miniAreaSmooth', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, true);\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.5\n      }\n    });\n    return shape;\n  }\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  var constraint = [[0, 0], [1, 1]];\n  var topLinePoints = [];\n  var bottomLinePoints = [];\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  var topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  var bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  var path = topPath.concat(bottomPath);\n  return path;\n}\n\nfunction getStraightPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    var flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n\n  return path;\n}\n\nfunction parseGradient(color) {\n  return \"l(90) 0:\" + color + \" 1:#ffffff\";\n}\n\nvar MiniAreaParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniAreaParser, _super);\n\n  function MiniAreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniAreaParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniAreaParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniAreaSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniArea']\n      };\n    }\n  };\n\n  return MiniAreaParser;\n}(AreaParser);\n\nexport default MiniAreaParser;","import AreaParser from './main';\nimport MiniAreaParser from './mini';\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\nvar COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nvar IntervalParser =\n/** @class */\nfunction (_super) {\n  __extends(IntervalParser, _super);\n\n  function IntervalParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalParser.prototype.init = function () {\n    this.type = 'interval';\n\n    _super.prototype.init.call(this);\n\n    var props = this.plot.options;\n\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n\n    if (!this.config.color) {\n      this.config.color = {\n        values: ['#5b8ff9']\n      };\n    }\n\n    var sizeProps = this._getSizeProps(props);\n\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n\n    var styleProps = this._getStyleProps(props);\n\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  };\n\n  IntervalParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n\n    var colorField = this._getColorMappingField(props);\n\n    var config = {};\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.color) {\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.values = props.color;\n      } else if (_.isObject(props.color)) {\n        config.fields = colorField;\n\n        config.callback = function (d) {\n          return props.color[d];\n        };\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  IntervalParser.prototype.parseSize = function (sizeProps) {\n    var props = this.plot.options;\n    var config = {};\n\n    if (_.isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n\n    this.config.size = config;\n  };\n\n  IntervalParser.prototype.parseStyle = function (styleProps) {\n    var style = this.plot.options[styleProps];\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.fields = [this.config.position.fields];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  };\n\n  IntervalParser.prototype._getSizeProps = function (props) {\n    var sizeMapper = ['columnSize', 'barSize'];\n\n    for (var _i = 0, sizeMapper_1 = sizeMapper; _i < sizeMapper_1.length; _i++) {\n      var m = sizeMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getStyleProps = function (props) {\n    var sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n\n    for (var _i = 0, sizeMapper_2 = sizeMapper; _i < sizeMapper_2.length; _i++) {\n      var m = sizeMapper_2[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getColorMappingField = function (props) {\n    /**如果有colorFiled或stackField配置项(后者为堆叠interval)，则参与colorMapping的字段为对应值\n     * 如没有特别设定，则一般是callback中的传参，传入位置映射的字段\n     */\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  IntervalParser.prototype._needParserColor = function () {\n    var props = this.plot.options;\n\n    if (props.color) {\n      return true;\n    }\n\n    for (var _i = 0, COLOR_MAPPER_2 = COLOR_MAPPER; _i < COLOR_MAPPER_2.length; _i++) {\n      var m = COLOR_MAPPER_2[_i];\n\n      if (props[m]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return IntervalParser;\n}(ElementParser);\n\nexport default IntervalParser;","import IntervalParser from './main';\nexport default {\n  main: IntervalParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar LineParser =\n/** @class */\nfunction (_super) {\n  __extends(LineParser, _super);\n\n  function LineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls\n    };\n\n    if (props.lineSize) {\n      this.parseSize();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (props.step) {\n      this.config.shape = {\n        values: [props.step]\n      };\n    }\n\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  };\n\n  LineParser.prototype.parseSize = function () {\n    var sizeProps = this.plot.options.lineSize;\n    var config = {};\n\n    if (_.isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n\n    this.config.size = config;\n  };\n\n  LineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  LineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.lineStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  return LineParser;\n}(ElementParser);\n\nexport default LineParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LineParser from './main';\n\nvar GuideLineParser =\n/** @class */\nfunction (_super) {\n  __extends(GuideLineParser, _super);\n\n  function GuideLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuideLineParser.prototype.init = function () {\n    var props = this.plot.options;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n  };\n\n  GuideLineParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // line作为辅助图形没有在style里指定size属性的情况下，设置默认值\n      config.values = [2];\n    }\n\n    this.config.size = config;\n  };\n\n  GuideLineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorField = this._getColorMappingField();\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      if (!colorField) {\n        colorField = this.config.position.fields;\n      } // line作为辅助图形没有在style里指定color属性的情况下，默认接受主体图形的透传\n\n\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.fields = colorField;\n        config.values = props.color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuideLineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.line.style;\n    var config = {};\n\n    if (_.isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuideLineParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n    var condition = !props.line || props.line[attr];\n    return condition;\n  };\n\n  GuideLineParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuideLineParser;\n}(LineParser);\n\nexport default GuideLineParser;","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('line', 'miniLine', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, style)\n    });\n    return shape;\n  }\n});\nG2.registerShape('line', 'miniLineSmooth', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, cfg.style)\n    });\n    return shape;\n  }\n});\n\nvar MiniLineParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniLineParser, _super);\n\n  function MiniLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniLineParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniLineParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniLineSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniLine']\n      };\n    }\n  };\n\n  return MiniLineParser;\n}(LineParser);\n\nexport default MiniLineParser;","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar CircleParser =\n/** @class */\nfunction (_super) {\n  __extends(CircleParser, _super);\n\n  function CircleParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CircleParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.pointStyle;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  };\n\n  CircleParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n    var colorField = props.colorField;\n\n    if (colorField) {\n      config.fields = _.isArray(colorField) ? colorField : [colorField];\n    }\n\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n\n    this.config.color = config;\n  };\n\n  CircleParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n\n    if (props.pointSize) {\n      config.values = props.pointSize;\n    }\n\n    this.config.size = config;\n  };\n\n  CircleParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  CircleParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.pointStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n    var xField = props.xField,\n        yField = props.yField,\n        colorField = props.colorField;\n\n    if (_.isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = _.isArray(colorField) ? [xField, yField, colorField].concat(colorField) : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  CircleParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  return CircleParser;\n}(ElementParser);\n\nexport default CircleParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  var values = [];\n\n  _.each(data, function (d) {\n    var v = d[field];\n    values.push(v);\n  });\n\n  return _.uniq(values);\n}\n\nvar COLOR_MAPPER = ['seriesField', 'stackField'];\n\nvar GuidePointParser =\n/** @class */\nfunction (_super) {\n  __extends(GuidePointParser, _super);\n\n  function GuidePointParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuidePointParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.point.style;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    }; // if (this._needParseAttribute('color')) {\n\n    this.parseColor(); // }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  };\n\n  GuidePointParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var mappingField = this._getColorMappingField(props);\n\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuidePointParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  };\n\n  GuidePointParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  GuidePointParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.point && props.point.style;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    var field = this._getColorMappingField(props);\n\n    if (_.isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuidePointParser.prototype._parseColorByField = function (props, config, field) {\n    config.fields = [field];\n\n    if (props.point.color) {\n      var count = getValuesByField(field, props.data).length;\n      var values = [];\n\n      for (var i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  };\n\n  GuidePointParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  GuidePointParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n\n    var condition = props.point && _.has(props.point, attr);\n\n    return condition; // const condition = !this.style || this.style[attr];\n    // return condition;\n  };\n\n  GuidePointParser.prototype._getColorMappingField = function (props) {\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuidePointParser;\n}(ElementParser);\n\nexport default GuidePointParser;","import Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * 将element的配置逻辑拆离出来，并将每类element细分为主体图形、辅助图形、mini图形三种\n * 这样也方便未来更灵活的调用和组装g2的element模块\n */\n\nvar GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval\n};\nexport function getGeom(name, type, cfg) {\n  var Geom = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}","import CircleParser from './circle';\nimport GuidePointParser from './guide';\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser\n};","import { isNil, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\n\nfunction adjustTimeTickInterval(interval) {\n  var intervals = timeIntervals;\n  var intervalArr = interval.split(' ');\n  var basicInterval = intervals[intervalArr[1]];\n  var intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot层处理\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\n    desScale.minLimit = axisConfig.minLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\n    desScale.maxLimit = axisConfig.maxLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n}\nexport function trySetScaleMinToZero(desScale, data) {\n  var validData = filter(data, function (v) {\n    return isNumber(v);\n  });\n  var min = Math.min.apply(Math, validData);\n  var max = Math.max.apply(Math, validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min) && isNil(desScale.minLimit)) {\n      desScale.min = 0;\n    }\n  } else if (max <= 0) {\n    if (isNil(desScale.max) && isNil(desScale.maxLimit)) {\n      desScale.max = 0;\n    }\n  }\n}","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction clipingWithData(shape, animateCfg) {\n  /** 动画初始状态 */\n  var index = shape.get('index');\n  var coord = shape.get('coord');\n  var scales = shape.get('scales');\n  var yScale = scales[animateCfg.yField];\n\n  var shapeData = _.clone(shape.get('origin'));\n\n  var clip = getClip(coord);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n  var label = getLineLabel(animateCfg.plot.view, shapeData[0]._origin[animateCfg.seriesField]);\n\n  if (label && !label.get('destroyed')) {\n    label.set('visible', false);\n  }\n\n  var parent = shape.get('parent');\n  var offsetX = 12;\n  var title;\n\n  if (animateCfg.seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData[0]._origin[animateCfg.seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      }\n    });\n  }\n\n  var offsetY = title ? 16 : 0;\n  var marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: \"test\" + index,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle'\n    }\n  });\n  /** 动画执行之后 */\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n      marker.animate({\n        opacity: 0\n      }, 300, function () {\n        marker.remove();\n\n        if (label && !label.get('destroyed')) {\n          label.set('visible', true);\n          animateCfg.plot.canvas.draw();\n        }\n      });\n\n      if (title) {\n        marker.animate({\n          opacity: 0\n        }, 300, function () {\n          marker.remove();\n        });\n      }\n    }\n  };\n  /** 执行动画 */\n\n  /** 准备动画参数 */\n\n\n  var delay = animateCfg.delay;\n\n  if (_.isFunction(delay)) {\n    delay = animateCfg.delay(index);\n  }\n\n  var easing = animateCfg.easing;\n\n  if (_.isFunction(easing)) {\n    easing = animateCfg.easing(index);\n  }\n  /** 动起来 */\n\n\n  var i = 0;\n  clip.animate({\n    width: coord.getWidth()\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n  marker.animate({\n    onFrame: function onFrame(ratio) {\n      var position = getPositionByRatio(ratio, shapeData, coord, i);\n      if (!position) return;\n      marker.attr('x', position[0] + offsetX);\n      marker.attr('y', position[1] + offsetY);\n      var yText = getDataByPosition(yScale, position[1], coord); // use formatter\n\n      if (yScale.formatter) {\n        yText = yScale.formatter(yText);\n      }\n\n      marker.attr('text', yText);\n    }\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n\n  if (title) {\n    title.animate({\n      onFrame: function onFrame(ratio) {\n        var position = getPositionByRatio(ratio, shapeData, coord, i);\n        if (!position) return;\n        title.attr('x', position[0] + offsetX);\n        title.attr('y', position[1]);\n      }\n    }, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height: height\n    }\n  });\n  clip.set('isClip', true);\n  return clip;\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord, index) {\n  var currentX = coord.start.x + coord.getWidth() * ratio;\n\n  for (var i = 0; i < dataPoints.length - 1; i++) {\n    var current = dataPoints[i];\n    var next = dataPoints[i + 1];\n\n    if (currentX >= current.x && currentX <= next.x) {\n      var m = (next.y - current.y) / (next.x - current.x); // 斜率\n\n      var y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  var yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nfunction getLineLabel(view, name) {\n  var label;\n  var elements = view.get('elements');\n\n  _.each(elements, function (e) {\n    if (e.get('type') === 'line') {\n      if (e.get('labelController')) {\n        var labelContainer = e.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          var labels = labelContainer.get('labelsRenderer').getLabels();\n\n          _.each(labels, function (l) {\n            if (l.attr('text') === name) {\n              label = l;\n            }\n          });\n        }\n      }\n    }\n  });\n\n  return label;\n}\n\nAnimate.registerAnimation('appear', 'clipingWithData', clipingWithData);","import * as _ from '@antv/util';\nimport * as MathUtil from '../../math';\n\nvar ShapeNodes =\n/** @class */\nfunction () {\n  function ShapeNodes(cfg) {\n    this.type = 'shape';\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n\n    this._parserNodes();\n\n    this.origion_nodes = _.deepMix([], this.nodes);\n  }\n\n  ShapeNodes.prototype.measure = function (shape) {\n    var node = _.deepMix({}, MathUtil.bboxOnRotate(shape), {\n      shape: shape\n    });\n\n    return node;\n  };\n\n  ShapeNodes.prototype.measureNodes = function () {\n    var _this = this;\n\n    var nodes = [];\n    var shapes = [];\n\n    _.each(this.shapes, function (shape, index) {\n      var node = _.deepMix({}, _this.nodes[index], _this.measure(shape));\n\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      } // this.nodes[index] = node;\n\n    });\n\n    this.nodes = nodes;\n    this.shapes = shapes;\n  };\n\n  ShapeNodes.prototype.updateShapes = function () {};\n\n  ShapeNodes.prototype._parserNodes = function () {\n    var _this = this;\n\n    _.each(this.shapes, function (shape) {\n      var node = _this.measure(shape);\n\n      _this.nodes.push(node);\n    });\n  };\n\n  return ShapeNodes;\n}();\n\nexport default ShapeNodes;","function ringThickness(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.8\n    };\n  }\n\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness\n};","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\nexport var constraintsLib = {\n  elementDist: elementDist,\n  elementDistVertical: elementDistVertical,\n  elementCollision: elementCollision,\n  elementWidth: elementWidth,\n  columnWidth: columnWidth,\n  ringThickness: ringThickness,\n  minRingThickness: minRingThickness\n};\nexport function registerResponsiveConstraint(name, constraint) {\n  // todo: 防止覆盖\n  constraintsLib[name] = constraint;\n}","import * as MathUtil from '../../math';\n\nfunction elementDist(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 4\n    };\n  }\n\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist\n};","function elementDistVertical(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 5\n    };\n  }\n\n  var dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical\n};","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision\n};","function elementWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.15\n    };\n  }\n\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth\n};","function columnWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.6\n    };\n  }\n\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth\n};","function minRingThickness(node, region) {\n  var minThicknessPixel = 2;\n  var minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness\n};","export default function textHide(shape) {\n  shape.attr('text', '');\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function clearOverlapping(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n  var overlapped = [];\n  /** 找到所有与当前点overlap的node */\n\n  if (!current.shape.get('blank')) {\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var _shape = node.shape;\n\n      if (i !== index && !_shape.get('blank')) {\n        var isOverlap = isNodeOverlap(current, node);\n\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap处理逻辑 */\n\n\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort(function (a, b) {\n      return b.top - a.top;\n    });\n    /** 隐藏除最高点以外的node */\n\n    _.each(overlapped, function (node, idx) {\n      if (idx > 0) {\n        var _shape = node.shape;\n        textHide(_shape);\n\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n\n  return true;\n}","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\n\nvar noop = function noop() {};\n\nfunction regexEscape(str) {\n  return str.replace(/[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n\n  while (val.length < len) {\n    val = '0' + val;\n  }\n\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\nvar formatFlags = {\n  D: function D(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function DD(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function Do(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function d(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function dd(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function ddd(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function dddd(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function M(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function MM(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function MMM(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function MMMM(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function YY(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function YYYY(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function h(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function hh(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function H(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function HH(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function m(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function mm(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function s(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function ss(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function S(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function SS(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function SSS(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function a(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function A(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function ZZ(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(),\n        cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi),\n        minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a; // Some common format strings\n\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\n\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n  var literals = []; // Make literals inactive by replacing them with ??\n\n  mask = mask.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  }); // Apply formatting rules\n\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  }); // Inline literal values back into the formatted value\n\n  return mask.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n};\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\n\n\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n\n  return date;\n};\n\nexport default fecha;","import * as _ from '@antv/util';\nimport fecha from 'fecha';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = 31 * DAY;\nvar YEAR = 365 * DAY;\nexport default function datetimeStringAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var campareText;\n\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('origin').text;\n  } else {\n    campareText = nodes[index + 1].shape.get('origin').text;\n  }\n\n  var compare = new Date(campareText);\n  /** 获取时间周期和时间间隔 */\n\n  var text = shape.get('origin').text;\n  var current = new Date(text);\n  var startText = nodes[0].shape.get('origin').text;\n  var start = new Date(startText);\n  var endText = nodes[nodes.length - 1].shape.get('origin').text;\n  var end = new Date(endText);\n  var timeDuration = getDateTimeMode(start, end);\n  var timeCycle = getDateTimeMode(current, compare); // time frequency\n  // 如果duration和frequency在同一区间\n\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      var formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n\n    return;\n  }\n\n  if (index !== 0) {\n    var previousText = nodes[index - 1].shape.get('origin').text;\n    var previous = new Date(previousText);\n    var isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n\n    if (isAbbreviate) {\n      var formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  var currentStamp = getTime(current, mode);\n  var previousStamp = getTime(previous, mode);\n\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  var mode;\n  var dist = Math.abs(a - b);\n  var mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity]\n  };\n\n  _.each(mapper, function (range, key) {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var startIndex = times.indexOf(duration) + 1;\n  var endIndex = times.indexOf(cycle);\n  var formatter = '';\n\n  for (var i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var index = times.indexOf(mode);\n  var formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date, mode) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n/*tslint:disable*/\n\n\nexport function isTime(string) {\n  var hourminExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;\n  var hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}","import * as _ from '@antv/util';\nimport { getMedian } from '../../math';\nvar unitMapper = {\n  k: {\n    number: 1e3,\n    index: 0\n  },\n  m: {\n    number: 1e6,\n    index: 1\n  },\n  b: {\n    number: 1e9,\n    index: 2\n  },\n  t: {\n    number: 1e12,\n    index: 3\n  }\n}; // https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var number = parseFloat(shape.get('origin').text);\n\n  if (number === 0) {\n    return;\n  }\n\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n\n  if (option.unit) {\n    var _a = abbravateDigitsByUnit(option, number),\n        num = _a.num,\n        unitname = _a.unitname;\n\n    shape.attr('text', num + unitname);\n  } else {\n    // 自动换算逻辑\n    // 根据中位数得到换算单位\n    var numbers = extractNumbers(nodes);\n    var median = getMedian(numbers);\n    var unitname = getUnitByNumber(median); //根据数值的interval计算换算后保留的浮点数\n\n    var unitNumber = unitMapper[unitname].number;\n    var interval = getLinearNodesInterval(nodes);\n    var decimal = getDigitsDecimal(interval, unitNumber);\n    var num = abbravateDigitsByUnit({\n      unit: unitname,\n      decimal: decimal\n    }, number).num;\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  var units = ['k', 'm', 'b', 't'];\n  var num;\n  var unitname;\n\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    var order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / Math.pow(1000, order)).toFixed(option.decimal);\n  } else if (option.unit) {\n    var unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n\n  return {\n    num: num,\n    unitname: unitname\n  };\n}\n\nfunction getUnitByNumber(number) {\n  var units = ['k', 'm', 'b', 't'];\n  var order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  var numbers = [];\n\n  _.each(nodes, function (node) {\n    var n = node;\n    var number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    var a = parseFloat(nodes[0].shape.get('origin').text);\n    var b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  var unitBit = Math.floor(Math.log10(unitNumber));\n\n  if (interval >= unitNumber) {\n    var remainder = interval % unitNumber;\n\n    if (remainder > 0) {\n      var remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    var intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n\n  return 0;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResampling(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  /** nodeLength为偶数，则奇数index的shape保留，反之则偶数index的shape保留 */\n\n  var oddKeep = nodes.length % 2 === 0 ? false : true;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var isOdd = index % 2 === 0 ? true : false;\n\n    if (!oddKeep && isOdd || oddKeep && !isOdd) {\n      textHide(shape);\n    }\n  }\n}\nexport function isKeep(keepCfg, index, nodes) {\n  /** 允许设置start end 或任意index */\n  var conditions = [];\n\n  _.each(keepCfg, function (cfg) {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (_.isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n\n  for (var _i = 0, conditions_1 = conditions; _i < conditions_1.length; _i++) {\n    var condition = conditions_1[_i];\n\n    if (condition === true) {\n      return true;\n    }\n  }\n\n  return false;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResamplingByState(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n\n  if (current.line) {\n    current.line.remove();\n  }\n\n  var data = cfg.plot.initialProps.data;\n  var field = cfg.plot[cfg.plot.type].label.fields[0];\n  var stateNodes = getStateNodes(data, field, nodes);\n  var isState = false;\n\n  _.each(stateNodes, function (node) {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n\n  if (isState) {\n    if (current.origin_position) {\n      var _a = current.origin_position,\n          x = _a.x,\n          y = _a.y;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  var extract_data = [];\n\n  _.each(data, function (d) {\n    extract_data.push(d[field]);\n  });\n\n  extract_data.sort(function (a, b) {\n    return a - b;\n  });\n  var min = extract_data[0];\n  var min_node = getNodeByNumber(nodes, field, min);\n  var max = extract_data[extract_data.length - 1];\n  var max_node = getNodeByNumber(nodes, field, max);\n  var median = getMedian(extract_data);\n  var median_node = getNodeByNumber(nodes, field, median);\n  return {\n    min: min_node,\n    max: max_node,\n    median: median_node\n  };\n}\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n    var d = node.shape.get('origin');\n\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}","export default function textAbbreviate(shape, option) {\n  var abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  var text = shape.attr('text');\n  var abbravateText;\n\n  if (abbreviateBy === 'end') {\n    abbravateText = text[0] + \"...\";\n  }\n\n  if (abbreviateBy === 'start') {\n    abbravateText = \"...\" + text[text.length - 1];\n  }\n\n  if (abbreviateBy === 'middle') {\n    abbravateText = text[0] + \"...\" + text[text.length - 1];\n  }\n\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\nexport var rulesLib = {\n  textWrapper: textWrapper,\n  textRotation: textRotation,\n  textAbbreviate: textAbbreviate,\n  textHide: textHide,\n  digitsAbbreviate: digitsAbbreviate,\n  datetimeStringAbbrevaite: datetimeStringAbbrevaite,\n  robustAbbrevaite: robustAbbrevaite,\n  nodesResampling: nodesResampling,\n  nodesResamplingByAbbrevate: nodesResamplingByAbbrevate,\n  nodesResamplingByChange: nodesResamplingByChange,\n  nodesResamplingByState: nodesResamplingByState,\n  nodeJitter: nodeJitter,\n  nodeJitterUpward: nodeJitterUpward,\n  clearOverlapping: clearOverlapping\n};\nexport function registerResponsiveRule(name, method) {\n  // todo: 防止覆盖\n  rulesLib[name] = method;\n}","export default function textWrapper(shape, option) {\n  var text = shape.attr('text');\n  var step = Math.ceil(text.length / option.lineNumber);\n  var wrapperText = '';\n\n  for (var i = 1; i < option.lineNumber; i++) {\n    var index = step * i;\n    wrapperText = text.slice(0, index) + \"\\n\" + text.slice(index);\n  }\n\n  var fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","export default function textRotation(shape, option) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle'\n  });\n}","import datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\nexport default function robustAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var text = shape.attr('text');\n  /** 判断text类型： 数字、时间、文本 */\n\n  var isnum = /^\\d+$/.test(text);\n\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}","import { isKeep } from './nodes-resampling';\nimport textHide from './text-hide';\nexport default function nodesResamplingByAbbrevate(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var currentText = shape.attr('text');\n    var originText = shape.get('origin').text;\n\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\n/** 根据变化进行抽样，保留变化较大的点，类似于点简化算法 */\n\nexport default function nodesResamplingByChange(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var tolerance = getGlobalTolerance(nodes);\n\n  if (index <= 1) {\n    return;\n  }\n\n  var current = nodes[index]; // const previous = nodes[index-1];\n\n  var previous = findPrevious(index, nodes);\n  var distX = previous.centerX - current.centerX;\n  var distY = previous.centerY - current.centerY;\n  var dist = Math.sqrt(distX * distX + distY * distY);\n\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (var i = index - 1; i > 0; i--) {\n    var node = nodes[i];\n\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  var nodesClone = _.deepMix([], nodes);\n\n  nodesClone.sort(function (a, b) {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}","import { dotProduct2D } from '../../math';\n/** 图形在水平或垂直方向抖开 */\n\nexport default function nodeJitter(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === nodes.length - 1) {\n    return;\n  }\n\n  var current = nodes[index];\n  var next = nodes[index + 1];\n\n  var _a = alignDirection(current, next),\n      dir = _a.dir,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var startPoint = shape.get('startPoint');\n\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  var dir;\n  /** 计算两个node 中心点向量的角度 */\n\n  var vector = {\n    x: nodeB.centerX - nodeA.centerX,\n    y: nodeB.centerY - nodeA.centerY\n  };\n  var mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  var vector_horizontal = {\n    x: 10,\n    y: 0\n  }; // 水平方向向量\n\n  /*tslint:disable*/\n\n  var mag_horizontal = Math.sqrt(vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y);\n  var dot = dotProduct2D(vector, vector_horizontal);\n  var angle = dot / (mag * mag_horizontal) * 180 / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 将角度从0-360转换到0-90\n\n  /** 计算两个node在x、y两个方向上的距离 */\n\n  var distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  var distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return {\n    dir: dir,\n    distX: distX,\n    distY: distY\n  };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n\n  return 360 - angle;\n}","import * as _ from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n/** 图形向上抖开并拉线 */\n// todo 允许设置offset和拉线样式\n\nexport default function nodeJitterUpward(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === 0) {\n    return;\n  }\n\n  var current = nodes[index];\n  var previous = nodes[index - 1];\n\n  if (isNodeOverlap(current, previous)) {\n    var element = cfg.plot.plot.get('elements')[0];\n    var y = previous.top - current.height / 2;\n    var offset = 10;\n\n    if (y - offset > cfg.region.top) {\n      // 取到label对应的element-shape\n      var origin_1 = current.shape.get('origin');\n      var shapeId = element.getShapeId(origin_1);\n      var shapes = element.getShapes();\n      var shapeBbox = getShapeById(shapeId, shapes).get('box');\n      var originX = shapeBbox.left + shapeBbox.width / 2;\n      var originY = shapeBbox.top; // 拉线\n\n      var container = element.get('labelController').labelsContainer;\n      var labelLine = container.addShape('path', {\n        attrs: {\n          path: [['M', originX, originY], ['L', current.shape.attr('x'), y]],\n          stroke: '#ccc',\n          lineWidth: 1\n        }\n      });\n      /** 保存labelLine和label初始位置信息 */\n\n      var origin_position = {\n        x: shape.attr('x'),\n        y: shape.attr('y')\n      }; // 更新标签位置，同步更新node\n\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  var target;\n\n  _.each(shapes, function (shape) {\n    var s = shape;\n    var id = s.id;\n\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n\n  return target;\n}","import * as _ from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport { rulesLib } from './rules/index';\n\nvar Responsive =\n/** @class */\nfunction () {\n  function Responsive(cfg) {\n    this.iterationTime = 10;\n    this.iterationIndex = 0;\n    this.rulesLocker = [];\n    this.constraintIndex = 0;\n\n    _.assign(this, cfg);\n\n    this.currentConstraint = this.constraints[0];\n\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n\n    this._start();\n\n    this._run();\n\n    this._end();\n  }\n\n  Responsive.prototype._start = function () {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  };\n\n  Responsive.prototype._iteration = function () {\n    var nodes;\n\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes;\n    } else {\n      nodes = this.nodes;\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.rules) {\n      this._applyRules();\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  };\n\n  Responsive.prototype._end = function () {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  };\n\n  Responsive.prototype._run = function () {\n    var constraintPassed = this._constraintsTest();\n\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n\n      this._iteration();\n\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n\n      this._run();\n    }\n  };\n\n  Responsive.prototype._constraintsTest = function () {\n    var constraint = constraintsLib[this.currentConstraint.name];\n    var constraintOption = this.currentConstraint.option;\n\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n\n    return this._constraintAssignment(constraint, constraintOption);\n  };\n\n  Responsive.prototype._constraintCompare = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length - 1; i++) {\n      var a = nodes[i];\n      var b = nodes[i + 1];\n\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintCompare = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._groupConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length; i++) {\n      var a = nodes[i];\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          var b = nodes[j];\n\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._constraintAssignment = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintAssign(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintAssign = function (expression, nodes, option) {\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintAssign = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_2 = nodes; _i < nodes_2.length; _i++) {\n        var node = nodes_2[_i];\n        var value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._applyRules = function () {\n    var ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex]; // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n\n    var rule = rulesLib[ruleCfg.name];\n    var option = ruleCfg.option ? ruleCfg.option : {};\n    var nodes = this.nodes.nodes;\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      /** apply rule上下文 */\n\n      this._applyRule(node.shape, rule, option, i);\n    } // this.rulesLocker.push(ruleCfg);\n    // }\n\n  };\n\n  Responsive.prototype._applyRule = function (shape, rule, option, index) {\n    var cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot\n    }; // rule(shape, option, index, this);\n\n    rule(shape, option, index, cfg);\n  };\n\n  return Responsive;\n}();\n\nexport default Responsive;","import * as _ from '@antv/util';\n\nvar ApplyResponsive =\n/** @class */\nfunction () {\n  function ApplyResponsive(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  ApplyResponsive.prototype.init = function () {\n    this.type = this.getType();\n\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  };\n\n  return ApplyResponsive;\n}();\n\nexport default ApplyResponsive;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nvar SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear'\n};\n\nfunction updateTicks(nodes, axis) {\n  var tickShape = null;\n  axis.get('group').get('children').forEach(function (shape) {\n    if (shape.name === 'axis-ticks') {\n      tickShape = shape;\n      return false;\n    }\n  });\n  var ticks = axis.get('ticks');\n  var tickItems = axis.get('tickItems');\n  var tickTexts = [];\n\n  _.each(ticks, function (tick) {\n    var t = tick;\n    tickTexts.push(t.text);\n  });\n\n  var pathes = [];\n\n  _.each(nodes.nodes, function (node) {\n    var n = node;\n\n    if (n.width > 0 && n.height > 0) {\n      var text = n.shape.get('origin').text;\n      var index = tickTexts.indexOf(text);\n      var tickItem = tickItems[index];\n      pathes.push(['M', tickItem.x1, tickItem.y1], ['L', tickItem.x2, tickItem.y2]);\n    }\n  });\n\n  if (pathes.length === 0) {\n    pathes = [['M', 0, 0]];\n  }\n\n  tickShape.attr('path', pathes);\n}\n\nvar ApplyResponsiveAxis =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveAxis, _super);\n\n  function ApplyResponsiveAxis() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveAxis.prototype.init = function () {\n    this.axisInstance = this.getAxisInstance();\n\n    _super.prototype.init.call(this);\n  };\n\n  ApplyResponsiveAxis.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n\n    if (this.responsiveTheme.axis[this.dim] && this.type && this.axisInstance) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ApplyResponsiveAxis.prototype.apply = function () {\n    var axisIndex = this.dim === 'x' ? 0 : 1;\n    var axis = this.plot.view.get('axisController').axes[axisIndex];\n    var rawLabels = axis.get('labelRenderer').get('group').get('children');\n    var shapes = [];\n\n    for (var i = 0; i < rawLabels.length - 1; i++) {\n      shapes.push(rawLabels[i]);\n    }\n\n    var shapeNodes = new ShapeNodes({\n      shapes: shapes\n    });\n    var _a = this.responsiveTheme.axis.x[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: shapeNodes,\n      constraints: constraints,\n      region: this.plot.view.get('viewRange'),\n      rules: rules,\n      plot: this.plot,\n      onEnd: function onEnd(nodes) {\n        if (axis.get('tickLine')) {\n          updateTicks(nodes, axis);\n        }\n      }\n    });\n  };\n\n  ApplyResponsiveAxis.prototype.getType = function () {\n    var props = this.plot.options;\n    var axis = this.dim + \"Axis\";\n    var field = this.dim + \"Field\";\n\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n\n    var scaleType = this.plot.view.get('scales')[props[field]].type;\n    return SCALE_MAPPER[scaleType];\n  };\n\n  ApplyResponsiveAxis.prototype.getAxisInstance = function () {\n    var axisIndex = this.dim === 'x' ? 0 : 1;\n    var axis = this.plot.view.get('axisController').axes[axisIndex];\n    return axis;\n  };\n\n  return ApplyResponsiveAxis;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveAxis;","import { __extends } from \"tslib\";\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nvar ApplyResponsiveLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLabel, _super);\n\n  function ApplyResponsiveLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLabel.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ApplyResponsiveLabel.prototype.apply = function () {\n    var labelShapes = this.plot.view.get('elements')[0].get('labels');\n    var nodes = new ShapeNodes({\n      shapes: labelShapes\n    });\n    var _a = this.responsiveTheme.label[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: nodes,\n      constraints: constraints,\n      rules: rules,\n      plot: this.plot,\n      region: this.plot.view.get('viewRange')\n    });\n  };\n\n  ApplyResponsiveLabel.prototype.getType = function () {\n    return null;\n  };\n\n  return ApplyResponsiveLabel;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveLabel;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveLineLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLineLabel, _super);\n\n  function ApplyResponsiveLineLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLineLabel.prototype.getType = function () {\n    var props = this.plot.options;\n\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n\n    return 'point';\n  };\n\n  return ApplyResponsiveLineLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveLineLabel = new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsivePointLabel',\n  method: responsivePointLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar lineTheme = {\n  label: {\n    point: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodesResamplingByChange'\n        }, {\n          name: 'clearOverlapping'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('line', lineTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport _cloneDeep from '@antv/util/lib/clone';\nimport _each from '@antv/util/lib/each'; // import verticalShatter from '../../../../util/layout/verticalShatter';\n\nvar MARGIN = 10;\n\nvar LineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(LineElementLabels, _super);\n\n  function LineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n\n    _each(shapes, function (shape) {\n      var originData = shape.get('origin');\n\n      var lastPoint = _cloneDeep(originData[originData.length - 1]);\n\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var field = this.get('labelOptions').fields[0];\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n\n    view.get('canvas').draw();\n  };\n\n  LineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n\n    _each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('stroke');\n      }\n    });\n\n    return color;\n  };\n\n  return LineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('line', LineElementLabels);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\n\nvar LinePointLabels =\n/** @class */\nfunction (_super) {\n  __extends(LinePointLabels, _super);\n\n  function LinePointLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LinePointLabels.prototype.showLabels = function (points, shapes) {\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    var anchorsBBox = renderer.get('items').map(function (item) {\n      return {\n        x: item.start.x - 4,\n        y: item.start.y - 4,\n        width: 8,\n        height: 8\n      };\n    });\n    /*layout(labels, anchorsBBox, view.get('panelRange'), {\n      nsweeps: 10,\n    });*/\n\n    view.get('canvas').draw();\n  };\n\n  return LinePointLabels;\n}(ElementLabels);\n\nregisterElementLabels('point', LinePointLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDoubleclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineActive =\n/** @class */\nfunction (_super) {\n  __extends(LineActive, _super);\n\n  function LineActive(cfg) {\n    return _super.call(this, __assign({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove'\n    }, cfg)) || this;\n  }\n\n  LineActive.prototype.process = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setActive(function (obj) {\n        return obj === data_1;\n      });\n    } else {\n      this.view.setActive(function () {\n        return false;\n      });\n    }\n  };\n\n  return LineActive;\n}(Interaction);\n\nexport default LineActive;","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineSelect =\n/** @class */\nfunction (_super) {\n  __extends(LineSelect, _super);\n\n  function LineSelect(cfg) {\n    return _super.call(this, __assign({\n      endEvent: 'click'\n    }, cfg)) || this;\n  }\n\n  LineSelect.prototype.end = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setInactive(function (obj) {\n        return obj !== data_1;\n      }); // TODO： 设置z-index\n    } else {\n      this.view.setInactive(function () {\n        return false;\n      }); // TODO: 重置z-index\n    }\n  };\n\n  return LineSelect;\n}(Interaction);\n\nexport default LineSelect;","import { registerTheme } from '../../theme';\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {}\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/line-label';\nimport './component/label/point-label';\nimport * as EventParser from './event';\nimport { LineActive, LineSelect } from './interaction/index';\nimport './theme';\nvar GEOM_MAP = {\n  line: 'line',\n  point: 'point'\n};\n\nvar LineLayer =\n/** @class */\nfunction (_super) {\n  __extends(LineLayer, _super);\n\n  function LineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'line';\n    return _this;\n  }\n\n  LineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff'\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  LineLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  LineLayer.prototype.afterRender = function () {\n    var props = this.options; // 响应式\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  LineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  LineLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(scales[props.yField], _.map(props.data, function (item) {\n      return item[props.yField];\n    }));\n\n    _super.prototype.scale.call(this);\n  };\n\n  LineLayer.prototype.coord = function () {};\n\n  LineLayer.prototype.addGeometry = function () {\n    // 配置线\n    this.addLine(); // 配置数据点\n\n    this.addPoint();\n  };\n\n  LineLayer.prototype.addLine = function () {\n    var props = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this\n    });\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.setConfig('element', this.line);\n  };\n\n  LineLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false\n    };\n\n    if (props.point) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    }\n\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.point.active = false;\n      this.setConfig('element', this.point);\n    }\n  };\n\n  LineLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      this.line.label = false;\n      return;\n    }\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n\n    if (label.type === 'line') {\n      label.offset = 0;\n    }\n\n    this.line.label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: label.type,\n      fields: label.type === 'line' ? [props.seriesField] : [props.yField]\n    }, label));\n  };\n\n  LineLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else if (_.has(props, 'animation')) {\n      // 根据动画类型区分图形动画和群组动画\n      if (props.animation.type === 'clipingWithData' && props.padding !== 'auto') {\n        this.line.animate = {\n          appear: {\n            animation: 'clipingWithData',\n            easing: 'easeLinear',\n            duration: 10000,\n            yField: props.yField,\n            seriesField: props.seriesField,\n            plot: this\n          }\n        }; // 如果有数据点的话要追加数据点的动画\n\n        if (props.point && props.point.visible) {\n          this.point.animate = {\n            appear: {\n              animation: 'zoomIn',\n              delay: 10000\n            }\n          };\n        }\n      }\n    }\n  };\n\n  LineLayer.prototype.applyInteractions = function () {\n    _super.prototype.applyInteractions.call(this); // 加入默认交互\n\n\n    var interactions = this.view.get('interactions');\n    var lineActive = new LineActive({\n      view: this.view\n    });\n    interactions.lineActive = lineActive;\n    var lineSelect = new LineSelect({\n      view: this.view\n    });\n    interactions.lineSelect = lineSelect;\n  };\n\n  LineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  LineLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  return LineLayer;\n}(ViewLayer);\n\nexport default LineLayer;\nregisterPlotType('line', LineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LineLayer from './layer';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Line.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Line.getDefaultOptions = LineLayer.getDefaultOptions;\n  return Line;\n}(BasePlot);\n\nexport default Line;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar AREA_ACTIVE_STYLE = function AREA_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar AREA_DISABLE_STYLE = function AREA_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar POINT_SELECTED_STYLE = function POINT_SELECTED_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2\n  };\n};\n\nvar POINT_DISABLED_STYLE = function POINT_DISABLED_STYLE(style) {\n  var opacity = style.opacity || style.fillOpacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('area', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: '#333333'\n    }\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar AreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(AreaLayer, _super);\n\n  function AreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'area';\n    return _this;\n  }\n\n  AreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n        fillOpacity: 1\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round'\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point'\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  AreaLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  AreaLayer.prototype.afterRender = function () {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  AreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  AreaLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  AreaLayer.prototype.coord = function () {};\n\n  AreaLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var area = getGeom('area', 'main', {\n      plot: this\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.adjustArea(area);\n    this.setConfig('element', area);\n    this.addLine();\n    this.addPoint();\n  };\n\n  AreaLayer.prototype.adjustArea = function (area) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustLine = function (line) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustPoint = function (point) {\n    return;\n  };\n\n  AreaLayer.prototype.addLine = function () {\n    var props = this.options;\n\n    var lineConfig = _.deepMix({}, props.line);\n\n    if (lineConfig.visible) {\n      var line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig\n      });\n      this.adjustLine(line);\n      this.setConfig('element', line);\n      this.line = line;\n    }\n  };\n\n  AreaLayer.prototype.addPoint = function () {\n    var props = this.options;\n\n    var pointConfig = _.deepMix({}, props.point);\n\n    if (pointConfig.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.adjustPoint(point);\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  AreaLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  AreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n\n      this.area.label = false;\n      return;\n    }\n\n    this.area.label = getComponent('label', {\n      fields: [props.yField],\n      plot: this\n    });\n  };\n\n  AreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  AreaLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  return AreaLayer;\n}(ViewLayer);\n\nexport default AreaLayer;\nregisterPlotType('area', AreaLayer);","import { __extends } from \"tslib\";\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Area from '../area/layer';\nvar kernels = {\n  epanechnikov: function epanechnikov(dist) {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: function gaussian(dist) {\n    return 1 / Math.sqrt(Math.PI * 2) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: function uniform(dist) {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: function triangle(dist) {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: function quartic(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * v * v : 0;\n  },\n  triweight: function triweight(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * Math.pow(v, 3) : 0;\n  },\n  cosinus: function cosinus(dist) {\n    var v = Math.PI / 4 * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  }\n};\n\nvar DensityLayer =\n/** @class */\nfunction (_super) {\n  __extends(DensityLayer, _super);\n\n  function DensityLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'density';\n    return _this;\n  }\n\n  DensityLayer.prototype.init = function () {\n    var originXAxisConfig = this.options.xAxis ? _.clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = _.deepMix({}, originXAxisConfig, {\n      type: 'linear'\n    });\n    this.options.smooth = true;\n\n    _super.prototype.init.call(this);\n  };\n\n  DensityLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber,\n        kernel = _a.kernel;\n\n    var _kernel = kernel ? kernel : 'epanechnikov';\n\n    var kernelFunc = kernels[_kernel];\n\n    var originDataCopy = _.clone(originData);\n\n    _.sortBy(originDataCopy, binField); // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n\n    var values = _.valuesOfKey(originDataCopy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min;\n    var _binNumber = binNumber;\n    var _binWidth = binWidth;\n\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    } // 根据binNumber获取samples\n\n\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false\n    });\n    var samples = scale.getTicks(); // 计算KDE\n\n    var densities = [];\n\n    _.each(samples, function (s) {\n      var density = _this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n\n      densities.push({\n        value: s.text,\n        density: density\n      });\n    });\n\n    return densities;\n  };\n\n  DensityLayer.prototype.kernelDensityEstimator = function (binWidth, kernelFunc, x, values) {\n    var sum = 0;\n\n    _.each(values, function (v) {\n      var dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n\n    return values.length === 0 ? 0 : sum / values.length;\n  };\n\n  return DensityLayer;\n}(Area);\n\nexport default DensityLayer;\nregisterPlotType('density', DensityLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport DensityLayer from './layer';\n\nvar Density =\n/** @class */\nfunction (_super) {\n  __extends(Density, _super);\n\n  function Density() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Density.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'density';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Density.getDefaultOptions = DensityLayer.getDefaultOptions;\n  return Density;\n}(BasePlot);\n\nexport default Density;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveColumnLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveColumnLabel, _super);\n\n  function ApplyResponsiveColumnLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveColumnLabel.prototype.getType = function () {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n\n    return 'inner';\n  };\n\n  return ApplyResponsiveColumnLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveColumnLabel = new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsiveLabel',\n  method: responsiveLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","export function rgb2arr(str) {\n  var arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\nexport function toHex(value) {\n  var v;\n  v = Math.round(value);\n  v = v.toString(16);\n\n  if (v.length === 1) {\n    v = \"0\" + value;\n  }\n\n  return v;\n}\nexport function arr2rgb(arr) {\n  return \"#\" + (toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]));\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar columnTheme = {\n  label: {\n    top: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodeJitterUpward'\n        }, {\n          name: 'nodesResamplingByState',\n          option: {\n            keep: ['min', 'max', 'median']\n          }\n        }, {\n          name: 'textHide'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('column', columnTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(ColumnLabels, _super);\n\n  function ColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ColumnLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.y < point1.y;\n    var width = (point0.x - point1.x) / 2;\n    var height = (point0.y - point1.y) / 2;\n\n    switch (position) {\n      case 'right':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x += width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'middle':\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ColumnLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.y < point1.y;\n\n      if (negative) {\n        item.y += item.offset * 2;\n        label.attr('textBaseline', 'top');\n        label.attr('y', label.attr('y') + item.offset * 2);\n      }\n    });\n  };\n\n  ColumnLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ColumnLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ColumnLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height && item.position !== 'top') {\n      var yPosition = shapeRange.minY - TOP_MARGIN;\n      label.attr('y', yPosition);\n    }\n  };\n\n  ColumnLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      // 非 shape 范围内的 label 需要考虑主题背景\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ColumnLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ColumnLabels;\n}(ElementLabels);\n\nexport { ColumnLabels };\nregisterElementLabels('columnLabel', ColumnLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar COLUMN_ACTIVE_STYLE = function COLUMN_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar COLUMN_DISABLE_STYLE = function COLUMN_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5,\n    fillOpacity: opacity * 0.5\n  };\n};\n\nregisterTheme('column', {\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/column-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar BaseColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseColumnLayer, _super);\n\n  function BaseColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'column';\n    return _this;\n  }\n\n  BaseColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        title: {\n          visible: true\n        }\n      },\n      yAxis: {\n        title: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        grid: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    });\n  };\n\n  BaseColumnLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  BaseColumnLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseColumnLayer.prototype.afterRender = function () {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseColumnLayer.prototype.coord = function () {};\n\n  BaseColumnLayer.prototype.adjustColumn = function (column) {\n    return;\n  };\n\n  BaseColumnLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this\n    });\n\n    if (options.label) {\n      column.label = this.extractLabel();\n    }\n\n    this.adjustColumn(column);\n    this.column = column;\n    this.setConfig('element', column);\n  };\n\n  BaseColumnLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.options.animation === false) {\n      /** 关闭动画 */\n      this.column.animate = false;\n    }\n  };\n\n  BaseColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'columnLabel',\n      fields: [this.options.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseColumnLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseColumnLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n        style: {\n          textBaseline: 'middle'\n        }\n      };\n    }\n\n    if (position === 'top') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    if (position === 'bottom') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    return {\n      offset: 0\n    };\n  };\n\n  return BaseColumnLayer;\n}(ViewLayer);\n\nexport default BaseColumnLayer;\nregisterPlotType('column', BaseColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ColumnLayer from './layer';\n\nvar Column =\n/** @class */\nfunction (_super) {\n  __extends(Column, _super);\n\n  function Column() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Column.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'column';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Column.getDefaultOptions = ColumnLayer.getDefaultOptions;\n  return Column;\n}(BasePlot);\n\nexport default Column;","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ScatterLabels =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLabels, _super);\n\n  function ScatterLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ScatterLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var size = originPoint.size;\n    var p = originPoint.points[0];\n    var coord = this.get('coord');\n    var width = size;\n    var height = size;\n\n    switch (position) {\n      case 'right':\n        point.x += width * 2;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'top';\n        break;\n\n      case 'middle':\n        point.textBaseline = 'middle';\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.y -= height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'bottom';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ScatterLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ScatterLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ScatterLabels.prototype.adjustPosition = function (label, shape, item) {\n    var originData = shape.get('origin')._origin;\n\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height || shapeRange.width <= labelRange.width && item.position === 'middle') {\n      label.attr('text', '');\n    }\n  };\n\n  ScatterLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ScatterLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ScatterLabels;\n}(ElementLabels);\n\nexport { ScatterLabels };\nregisterElementLabels('scatterLabel', ScatterLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign } from \"tslib\";\nimport { each, isArray, isFunction, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    this.xBaseline = 0;\n    this.yBaseline = 0;\n    this.quadrantGroups = [];\n    this.regionData = [];\n    this.lineData = [];\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    var _this = this;\n\n    var _a = this.options,\n        xBaseline = _a.xBaseline,\n        yBaseline = _a.yBaseline;\n    var coord = this.view.get('coord'); // TODO: xBaseline和yBaseline支持百分比\n    // 根据xBaseline和yBaseline分割象限\n\n    var scales = this.view.get('scales');\n    var xScale = scales[this.options.plotOptions.xField];\n    var yScale = scales[this.options.plotOptions.yField]; // 先进行x方向的分割\n\n    var xRegion;\n\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      var ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [new BBox(coord.start.x, coord.end.y, coord.width * ratio, coord.height), new BBox(coord.start.x + coord.width * ratio, coord.end.y, coord.width * (1 - ratio), coord.height)];\n      var verticalLineData = {\n        start: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.end.y\n        },\n        end: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.start.y\n        }\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = new BBox(coord.start.x, coord.start.y, coord.width, coord.height);\n    } // 再进行y方向的分割\n\n\n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      var ratio_1 = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      var horizontalLineData = {\n        start: {\n          x: coord.start.x,\n          y: coord.end.y + coord.height * ratio_1\n        },\n        end: {\n          x: coord.end.x,\n          y: coord.end.y + coord.height * ratio_1\n        }\n      };\n      this.lineData.push(horizontalLineData);\n      each(xRegion, function (region, index) {\n        var lastName = ['left', 'right'];\n        var upper = {\n          name: xRegion.length > 1 ? \"top-\" + lastName[index] : 'top',\n          bbox: new BBox(region.minX, region.minY, region.width, region.height * ratio_1)\n        };\n\n        _this.regionData.push(upper);\n\n        var lower = {\n          name: xRegion.length > 1 ? \"bottom-\" + lastName[index] : 'bottom',\n          bbox: new BBox(region.minX, region.minY + region.height * ratio_1, region.width, region.height * (1 - ratio_1))\n        };\n\n        _this.regionData.push(lower);\n      });\n    } else if (xRegion.length === 2) {\n      var left = {\n        name: 'left',\n        bbox: xRegion[0]\n      };\n      this.regionData.push(left);\n      var right = {\n        name: 'right',\n        bbox: xRegion[1]\n      };\n      this.regionData.push(right);\n    } // 创建container\n\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var _this = this;\n\n    if (this.regionData.length > 0) {\n      var defaultStyle_1 = this.getDefaultStyle();\n      var regionStyle_1 = this.getRegionStyle(this.regionData);\n      each(this.regionData, function (d, index) {\n        var group = _this.container.addGroup();\n\n        var rect = group.addShape('rect', {\n          attrs: __assign({\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height\n          }, regionStyle_1[index]),\n          name: 'quadrant'\n        });\n\n        if (_this.options.label && _this.options.label.text) {\n          var labelOptions = deepMix({}, defaultStyle_1.label, _this.options.label);\n\n          var labelCfg = _this.getLabelConfig(d, labelOptions, index);\n\n          var label = group.addShape('text', {\n            attrs: __assign({}, labelCfg)\n          });\n        }\n\n        rect.setSilent('data', d);\n\n        _this.quadrantGroups.push(group);\n      }); //绘制象限辅助线\n\n      var lineStyle_1 = deepMix({}, defaultStyle_1.line, this.options.lineStyle);\n      each(this.lineData, function (d) {\n        _this.container.addShape('path', {\n          attrs: __assign({\n            path: [['M', d.start.x, d.start.y], ['L', d.end.x, d.end.y]]\n          }, lineStyle_1)\n        });\n      });\n      this.view.get('canvas').draw();\n    }\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  Quadrant.prototype.getDefaultStyle = function () {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1\n      },\n      region_2: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }],\n      region_4: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#000000',\n        opacity: 0.05\n      }],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc'\n        }\n      }\n    };\n  };\n\n  Quadrant.prototype.getRegionStyle = function (regionData) {\n    var regionNum = regionData.length;\n    var defaultStyle = this.getDefaultStyle();\n    var style;\n\n    if (regionNum === 2) {\n      style = defaultStyle.region_2;\n    } else {\n      style = defaultStyle.region_4;\n    }\n\n    if (this.options.regionStyle) {\n      var regionStyle_2 = this.options.regionStyle;\n\n      if (isArray(regionStyle_2)) {\n        style = style.map(function (s, index) {\n          if (regionStyle_2.length >= index) {\n            return regionStyle_2[index];\n          }\n\n          return s;\n        });\n      } else if (isFunction(regionStyle_2)) {\n        each(regionData, function (d, index) {\n          style[index] = regionStyle_2(d);\n        });\n      }\n    }\n\n    return style;\n  };\n\n  Quadrant.prototype.getLabelConfig = function (region, labelOptions, index) {\n    var x = 0;\n    var y = 0;\n    var style = {};\n    var text = labelOptions.text;\n\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n\n    var position = labelOptions.position;\n    var pos = position.split('-');\n    var dim = region.name.split('-'); // x方向\n\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    } // y方向\n\n\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return __assign({\n      x: x,\n      y: y,\n      text: text\n    }, style);\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function points(data, x, y, sort) {\n  data = data.filter(function (d) {\n    var u = x(d),\n        v = y(d);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nexport function visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d),\n        dy = +y(d);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { visitPoints } from \"./points\"; // Given a dataset, x- and y-accessors, the mean center of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\n\nexport function determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nexport function midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\"; // Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\n\nexport function interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n    ;\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}","// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nexport function ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}","// Returns the medium value of an array of numbers.\nexport function median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from \"./utils/median\";\nimport { ols } from \"./utils/ols\";\nimport { points } from \"./utils/points\";\nvar maxiters = 2,\n    epsilon = 1e-12;\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx);\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  return logarithmic;\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}","import { __assign } from \"tslib\";\nimport { each, deepMix, minBy, maxBy } from '@antv/util';\nimport { getScale } from '@antv/scale';\nimport { regressionLinear, regressionExp, regressionLoess, regressionLog, regressionPoly, regressionPow, regressionQuad } from 'd3-regression';\nimport { getSplinePath } from '../../../util/path';\nvar REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad\n};\n\nfunction se95(p, n) {\n  return Math.sqrt(p * (1 - p) / n) * 1.96;\n}\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    var defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1\n      }\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    // 处理数据\n    var _a = this.options.plotOptions,\n        xField = _a.xField,\n        yField = _a.yField,\n        data = _a.data;\n    var reg = REGRESSION_MAP[this.options.type]().x(function (d) {\n      return d[xField];\n    }).y(function (d) {\n      return d[yField];\n    });\n    this.data = this.processData(reg(data)); // 创建container\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var xscale_view = scales[this.options.plotOptions.xField];\n    var yscale_view = scales[this.options.plotOptions.yField];\n    var coord = this.view.get('coord');\n    var trendlineData = this.data.trendlineData; // 创建图形绘制的scale\n\n    var LinearScale = getScale('linear');\n    var xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    var xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      nice: xscale_view.nice\n    });\n    var yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    var yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      nice: yscale_view.nice\n    }); // 绘制置信区间曲线\n\n    if (this.options.showConfidence) {\n      var confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: __assign({\n          path: confidencePath\n        }, this.options.confidenceStyle)\n      });\n    } // 绘制trendline\n\n\n    var points = this.getTrendlinePoints(xScale, yScale, coord);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, this.options.style)\n    });\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.destroy();\n    }\n  };\n\n  Quadrant.prototype.processData = function (data) {\n    var trendline = [];\n    var confidence = [];\n    each(data, function (d) {\n      trendline.push({\n        x: d[0],\n        y: d[1]\n      });\n      var conf = se95(data.rSquared, d[1]);\n      confidence.push({\n        x: d[0],\n        y0: d[1] - conf,\n        y1: d[1] + conf\n      });\n    });\n    return {\n      trendlineData: trendline,\n      confidenceData: confidence\n    };\n  };\n\n  Quadrant.prototype.getTrendlinePoints = function (xScale, yScale, coord) {\n    var points = [];\n    each(this.data.trendlineData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var yRatio = yScale.scale(d.y);\n      var x = coord.start.x + coord.width * xRatio;\n      var y = coord.start.y - coord.height * yRatio;\n      points.push({\n        x: x,\n        y: y\n      });\n    });\n    return points;\n  };\n\n  Quadrant.prototype.getConfidencePath = function (xScale, yScale, coord) {\n    var upperPoints = [];\n    var lowerPoints = [];\n    var path = [];\n    each(this.data.confidenceData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var y0Ratio = yScale.scale(d.y0);\n      var y1Ratio = yScale.scale(d.y1);\n      var x = coord.start.x + coord.width * xRatio;\n      var y0 = coord.start.y - coord.height * y0Ratio;\n      var y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({\n        x: x,\n        y: y0\n      });\n      lowerPoints.push({\n        x: x,\n        y: y1\n      });\n    });\n\n    for (var i = 0; i < upperPoints.length; i++) {\n      var flag = i === 0 ? 'M' : 'L';\n      var p = upperPoints[i];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n\n    for (var j = lowerPoints.length - 1; j > 0; j--) {\n      var p = lowerPoints[j];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n\n    return path;\n  };\n\n  Quadrant.prototype.adjustScale = function (viewScale, trendlineData, dim) {\n    // 处理用户自行配置min max的情况\n    var min = viewScale.min,\n        max = viewScale.max;\n    var _a = this.options.plotOptions,\n        data = _a.data,\n        xField = _a.xField,\n        yField = _a.yField;\n    var field = dim === 'x' ? xField : yField;\n    var dataMin = minBy(data, field)[field];\n    var dataMax = maxBy(data, field)[field];\n    var minRatio = (min - dataMin) / (dataMax - dataMin);\n    var maxRatio = (max - dataMax) / (dataMax - dataMin);\n    var trendMin = minBy(trendlineData, dim)[dim];\n    var trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin)\n    };\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","import _slicedToArray from \"F:\\\\yang\\\\project\\\\react-admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\"; // Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport Quadrant from './components/quadrant';\nimport Trendline from './components/trendline';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './components/label/scatter-label';\nvar G2_GEOM_MAP = {\n  scatter: 'point'\n};\nvar PLOT_GEOM_MAP = {\n  point: 'point'\n};\n\nvar ScatterLayer =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLayer, _super);\n\n  function ScatterLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'scatter';\n    return _this;\n  }\n\n  ScatterLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: 4,\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 0.4,\n        opacity: 0.65\n      },\n      xAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      yAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        // false 会造成 tooltip 只能显示一条数据，true 会造成 tooltip 在空白区域也会显示\n        shared: null,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top'\n      },\n      shape: 'circle'\n    });\n  };\n\n  ScatterLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    if (this.options.quadrant && this.options.quadrant.visible && !this.quadrant) {\n      if (this.quadrant) {\n        this.quadrant.destroy();\n      }\n\n      this.quadrant = new Quadrant(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.quadrant));\n      this.quadrant.render();\n    }\n\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.trendline));\n      this.trendline.render();\n    }\n  };\n\n  ScatterLayer.prototype.destroy = function () {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ScatterLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ScatterLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  ScatterLayer.prototype.coord = function () {};\n\n  ScatterLayer.prototype.annotation = function () {};\n\n  ScatterLayer.prototype.addGeometry = function () {\n    var points = getGeom('point', 'circle', {\n      plot: this\n    });\n    this.points = points;\n\n    if (this.options.label && this.options.label.visible) {\n      this.points.label = this.extractLabel();\n    }\n\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      this.points.tooltip = this.extractTooltip();\n      this.setConfig('tooltip', __assign({\n        showTitle: false\n      }, this.options.tooltip));\n    }\n\n    this.setConfig('element', points);\n  };\n\n  ScatterLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.points.animate = false;\n    }\n  };\n\n  ScatterLayer.prototype.parseEvents = function (eventParser) {\n    // 气泡图继承散点图时，会存在 eventParser\n    _super.prototype.parseEvents.call(this, eventParser || EventParser);\n  };\n\n  ScatterLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.yField],\n      position: 'right',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  ScatterLayer.prototype.extractTooltip = function () {\n    var props = this.options;\n    return {\n      fields: [props.xField, props.yField]\n    };\n  };\n\n  return ScatterLayer;\n}(ViewLayer);\n\nexport default ScatterLayer;\nregisterPlotType('scatter', ScatterLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport '../scatter/components/label/scatter-label';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer from '../scatter/layer';\n\nvar BubbleLayer =\n/** @class */\nfunction (_super) {\n  __extends(BubbleLayer, _super);\n\n  function BubbleLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bubble';\n    return _this;\n  }\n\n  BubbleLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: [8, 58],\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 1,\n        opacity: 0.5\n      },\n      label: {\n        position: 'middle'\n      }\n    });\n  };\n\n  BubbleLayer.prototype.legend = function () {\n    var _a;\n\n    _super.prototype.legend.call(this);\n    /** 取消气泡大小图例 */\n\n\n    this.setConfig('legends', {\n      fields: (_a = {}, _a[this.options.sizeField] = false, _a)\n    });\n  };\n\n  BubbleLayer.prototype.parseEvents = function () {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return BubbleLayer;\n}(ScatterLayer);\n\nexport default BubbleLayer;\nregisterPlotType('bubble', BubbleLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BubbleLayer from './layer';\n\nvar Bubble =\n/** @class */\nfunction (_super) {\n  __extends(Bubble, _super);\n\n  function Bubble() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bubble.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bubble';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bubble.getDefaultOptions = BubbleLayer.getDefaultOptions;\n  return Bubble;\n}(BasePlot);\n\nexport default Bubble;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ScatterLayer from './layer';\n\nvar Scatter =\n/** @class */\nfunction (_super) {\n  __extends(Scatter, _super);\n\n  function Scatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Scatter.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'scatter';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Scatter.getDefaultOptions = ScatterLayer.getDefaultOptions;\n  return Scatter;\n}(BasePlot);\n\nexport default Scatter;","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseColumnLayer from '../column/layer';\n\nvar GroupColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumnLayer, _super);\n\n  function GroupColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupColumn';\n    return _this;\n  }\n\n  GroupColumnLayer.getDefaultOptions = function () {\n    return deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        title: {\n          visible: true\n        }\n      }\n    });\n  };\n\n  GroupColumnLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme('column');\n  };\n\n  GroupColumnLayer.prototype.addGeometry = function () {\n    _super.prototype.addGeometry.call(this);\n  };\n\n  GroupColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupColumnLayer;\n}(BaseColumnLayer);\n\nexport default GroupColumnLayer;\nregisterPlotType('groupColumn', GroupColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupColumnLayer from './layer';\n\nvar GroupColumn =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumn, _super);\n\n  function GroupColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupColumn.getDefaultOptions = GroupColumnLayer.getDefaultOptions;\n  return GroupColumn;\n}(BasePlot);\n\nexport default GroupColumn;","/**\n * 区域连接组件，用于堆叠柱状图和堆叠条形图\n */\nimport { Shapes } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape) {\n  var parsedPoints = [];\n  var coord = shape.get('coord');\n  var points = shape.get('origin').points;\n\n  _.each(points, function (p) {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1\n    }\n  };\n}\n\nvar ConnectedArea =\n/** @class */\nfunction () {\n  function ConnectedArea(cfg) {\n    this.areas = [];\n    this.lines = [];\n    this._areaStyle = {};\n    this._lineStyle = {};\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  ConnectedArea.prototype.draw = function () {\n    var _this = this;\n\n    var groupedShapes = this._getGroupedShapes();\n\n    _.each(groupedShapes, function (shapes, name) {\n      if (shapes.length > 0) {\n        _this._drawConnection(shapes, name);\n      }\n    });\n\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // 如果定义了triggerOn的方式，则组件是响应交互的，初始化为不可见状态，因此无需动画\n      this._initialAnimation();\n    }\n  };\n\n  ConnectedArea.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n\n    this.areas = [];\n    this.lines = [];\n  };\n\n  ConnectedArea.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  ConnectedArea.prototype.setState = function (state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  };\n\n  ConnectedArea.prototype._init = function () {\n    var _this = this;\n\n    var layer = this.view.get('backgroundGroup');\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n  };\n\n  ConnectedArea.prototype._getGroupedShapes = function () {\n    var _this = this; // 根据堆叠字段对shape进行分组\n\n\n    var values = this.view.get('scales')[this.field].values;\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes(); // 创建分组\n\n    var groups = {};\n\n    _.each(values, function (v) {\n      groups[v] = [];\n    }); // 执行分组\n\n\n    _.each(shapes, function (shape) {\n      var origin = shape.get('origin')._origin;\n\n      var key = origin[_this.field];\n      groups[key].push(shape);\n    });\n\n    return groups;\n  };\n\n  ConnectedArea.prototype._drawConnection = function (shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    var originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n\n    for (var i = 0; i < shapes.length - 1; i++) {\n      var current = parsePoints(shapes[i]);\n      var next = parsePoints(shapes[i + 1]);\n\n      var areaStyle = _.mix({}, this._areaStyle[name]);\n\n      var lineStyle = _.mix({}, this._lineStyle[name]);\n\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n\n      var area = this.container.addShape('path', {\n        attrs: _.mix({}, areaStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y], ['L', next[0].x, next[0].y], ['L', current[3].x, current[3].y]]\n        }),\n        name: 'connectedArea'\n      });\n      var line = this.container.addShape('path', {\n        attrs: _.mix({}, lineStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y]]\n        }),\n        name: 'connectedArea'\n      }); // 在辅助图形上记录数据，用以交互和响应状态量\n\n      var originData = shapes[i].get('origin')._origin;\n\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  };\n\n  ConnectedArea.prototype._getShapeStyle = function (originColor, shapeType) {\n    var styleName = shapeType + \"Style\"; // 如果用户自己指定了样式，则不采用默认颜色映射\n\n    if (this[styleName]) {\n      return this[styleName];\n    }\n\n    var defaultStyle = getDefaultStyle()[styleName];\n    var mappedStyle = {\n      fill: originColor\n    };\n\n    if (shapeType === 'line') {\n      mappedStyle = {\n        stroke: originColor\n      };\n    }\n\n    return _.mix(defaultStyle, mappedStyle);\n  };\n\n  ConnectedArea.prototype._addInteraction = function () {\n    var _this = this;\n\n    var eventName = this.triggerOn;\n    this.view.on(\"interval:\" + eventName, function (e) {\n      var origin = e.target.get('origin')._origin[_this.field];\n\n      _this.setState('active', {\n        name: _this.field,\n        exp: origin\n      });\n\n      _this.setState('disabled', {\n        name: _this.field,\n        exp: function exp(d) {\n          return d !== origin;\n        }\n      });\n\n      _this.view.get('canvas').draw();\n    }); // 当鼠标移动到其他区域时取消显示\n\n    this.view.on('mousemove', function (e) {\n      if (e.target.name !== 'interval') {\n        _this.setState('disabled', {\n          name: _this.field,\n          exp: function exp() {\n            return true;\n          }\n        });\n      }\n    });\n  };\n\n  ConnectedArea.prototype._initialAnimation = function () {\n    // clipIn动画\n    var _a = this.view.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height;\n\n    var clipRect = new Shapes.Rect({\n      attrs: {\n        x: start.x,\n        y: end.y,\n        width: 0,\n        height: height\n      }\n    });\n    this.container.attr('clip', clipRect);\n    this.container.setSilent('animating', true);\n    clipRect.animate({\n      width: width\n    }, 600, 'easeQuadOut', function () {}, 400);\n  };\n\n  ConnectedArea.prototype._onActive = function (condition) {\n    var _this = this;\n\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._areaStyle[styleField].opacity || 1; // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n\n        area.stopAnimate();\n        area.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._lineStyle[styleField].opacity || 1; // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n\n        line.stopAnimate();\n        line.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onDisabled = function (condition) {\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onSelected = function (condition) {\n    this._onActive(condition);\n  };\n\n  return ConnectedArea;\n}();\n\nexport default ConnectedArea;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\n\nvar StackColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLabels, _super);\n\n  function StackColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumnLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackColumnLabels;\n}(ColumnLabels);\n\nregisterElementLabels('stackColumnLabel', StackColumnLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ConnectedArea from '../../components/connected-area';\nimport { getComponent } from '../../components/factory';\nimport BaseColumnLayer from '../column/layer';\nimport './component/label/stack-column-label';\n\nvar StackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLayer, _super);\n\n  function StackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackColum';\n    return _this;\n  }\n\n  StackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: true,\n        position: 'right-top'\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter'\n      }\n    });\n  };\n\n  StackColumnLayer.prototype.init = function () {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n\n    _super.prototype.init.call(this);\n  };\n\n  StackColumnLayer.prototype.afterRender = function () {\n    var props = this.options; // 绘制区域连接组件\n\n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea(__assign({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true\n      }, props.connectedArea));\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  StackColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackColumnLabel',\n      fields: [props.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackColumnLayer;\n}(BaseColumnLayer);\n\nexport default StackColumnLayer;\nregisterPlotType('stackColumn', StackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackColumnLayer from './layer';\n\nvar StackColumn =\n/** @class */\nfunction (_super) {\n  __extends(StackColumn, _super);\n\n  function StackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackColumn.getDefaultOptions = StackColumnLayer.getDefaultOptions;\n  return StackColumn;\n}(BasePlot);\n\nexport default StackColumn;","import { __assign } from \"tslib\";\nimport { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nexport var transformDataPercentage = function transformDataPercentage(data, groupField, measures) {\n  // 按照groupBy字段计算各个group的总和\n  var chain = groupBy(data, groupField);\n  chain = mapValues(chain, function (items) {\n    return map(items, function (item) {\n      return map(measures, function (field) {\n        return item[field];\n      });\n    });\n  });\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, function (vals) {\n    return map(vals, function (val) {\n      // @ts-ignore\n      var v = Number.parseFloat(val);\n\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n\n      return v;\n    });\n  }); // @ts-ignore\n\n  var groupTotals = mapValues(chain, function (vals) {\n    return reduce(vals, function (sum, val) {\n      return sum + val;\n    }, 0);\n  }); // 覆盖measures字段的值为对于的百分比\n\n  var newData = map(data, function (item) {\n    var rst = __assign(__assign({}, item), {\n      _origin: item,\n      total: groupTotals[item[groupField]]\n    });\n\n    each(measures, function (field) {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  }); // 检查精度，确保总和为1\n\n  each(groupBy(newData, groupField), function (items) {\n    var sum = 0;\n    each(items, function (item, itemIdx) {\n      each(measures, function (field, fieldIdx) {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || itemIdx === items.length - 1 && fieldIdx === measures.length - 1) {\n          item[field] = 1 - sum;\n        } // @ts-ignore\n\n\n        sum += item[field];\n      });\n    });\n  }); // @ts-ignore\n\n  return newData;\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackColumn from '../stack-column/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumnLayer, _super);\n\n  function PercentageStackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackColumn';\n    return _this;\n  }\n\n  PercentageStackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        }\n      }\n    });\n  };\n\n  PercentageStackColumnLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  };\n\n  PercentageStackColumnLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackColumnLayer;\n}(StackColumn);\n\nexport default PercentageStackColumnLayer;\nregisterPlotType('percentageStackColumn', PercentageStackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackColumnLayer from './layer';\n\nvar PercentageStackColumn =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumn, _super);\n\n  function PercentageStackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackColumn.getDefaultOptions = PercentageStackColumnLayer.getDefaultOptions;\n  return PercentageStackColumn;\n}(BasePlot);\n\nexport default PercentageStackColumn;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Column from '../column/layer';\n\nvar HistogramLayer =\n/** @class */\nfunction (_super) {\n  __extends(HistogramLayer, _super);\n\n  function HistogramLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'histogram';\n    return _this;\n  }\n\n  HistogramLayer.prototype.init = function () {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n\n    _super.prototype.init.call(this);\n  };\n\n  HistogramLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber;\n\n    var originData_copy = _.clone(originData); // 根据binField value对源数据进行排序\n\n\n    _.sortBy(originData_copy, binField); // 获取源数据binField values的range\n\n\n    var values = _.valuesOfKey(originData_copy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min; // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n    var _binWidth = binWidth;\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binWidth && !binNumber) {\n      var _defaultBinNumber = sturges(values);\n\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n\n    var bins = {};\n\n    _.each(originData_copy, function (data) {\n      var value = data[binField];\n\n      var bin = _this.getBin(value, _binWidth);\n\n      var binName = bin[0] + \"-\" + bin[1];\n\n      if (!_.hasKey(bins, binName)) {\n        bins[binName] = {\n          name: binName,\n          range: bin,\n          count: 0,\n          data: []\n        };\n      }\n\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    }); // 将分箱数据转换为plotData\n\n\n    var plotData = [];\n\n    _.each(bins, function (bin) {\n      plotData.push(bin);\n    });\n\n    return plotData;\n  };\n\n  HistogramLayer.prototype.scale = function () {\n    _super.prototype.scale.call(this); // fixme: 类型定义\n\n\n    var range = this.config.scales.range;\n    range.nice = false;\n    range.type = 'linear';\n  };\n\n  HistogramLayer.prototype.getBin = function (value, binWidth) {\n    var index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  };\n\n  return HistogramLayer;\n}(Column);\n\nexport default HistogramLayer;\nregisterPlotType('histogram', HistogramLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HistogramLayer from './layer';\n\nvar Histogram =\n/** @class */\nfunction (_super) {\n  __extends(Histogram, _super);\n\n  function Histogram() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Histogram.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'histogram';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Histogram.getDefaultOptions = HistogramLayer.getDefaultOptions;\n  return Histogram;\n}(BasePlot);\n\nexport default Histogram;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar RIGHT_MARGIN = 20;\n\nvar BarLabels =\n/** @class */\nfunction (_super) {\n  __extends(BarLabels, _super);\n\n  function BarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // TODO: 先实现功能，待抽象  position这里去掉在条形图场景下不必要的逻辑，位置计算调整\n\n\n  BarLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.x > point1.x;\n    var width = (point0.x - point1.x) / 2 * -1;\n    var height = (point0.y - point1.y) / 2 * -1;\n\n    switch (position) {\n      case 'bottom':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.x -= width;\n        point.y -= height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      case 'middle':\n        point.x -= width;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'right':\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      default:\n        break;\n    }\n  }; // 针对负数值的label调整\n\n\n  BarLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.x > point1.x;\n\n      if (negative && item.offset) {\n        item.x -= item.offset * 2;\n        label.attr('x', label.attr('x') - item.offset * 2);\n      }\n    });\n  };\n\n  BarLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    var _a = this.get('labelOptions'),\n        adjustColor = _a.adjustColor,\n        adjustPosition = _a.adjustPosition;\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  BarLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  BarLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width && item.position !== 'right') {\n      var xPosition = shapeRange.maxX + RIGHT_MARGIN;\n      label.attr('x', xPosition);\n    }\n  };\n\n  BarLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minX >= shapeRange.minX && labelRange.maxX <= shapeRange.maxX) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  BarLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return BarLabels;\n}(ElementLabels);\n\nexport { BarLabels };\nregisterElementLabels('barLabel', BarLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onBarClick: 'interval:click',\n  onBarDblclick: 'interval:dblclick',\n  onBarMousemove: 'interval:mousemove',\n  onBarMouseenter: 'interval:mouseenter',\n  onBarMouseleave: 'interval:mouseleave',\n  onBarMousedown: 'interval:mousedown',\n  onBarMouseup: 'interval:mouseup',\n  onBarContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar BAR_ACTIVE_STYLE = function BAR_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar BAR_DISABLE_STYLE = function BAR_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './component/label/bar-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  bar: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'bar'\n};\n\nvar BaseBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseBarLayer, _super);\n\n  function BaseBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bar';\n    return _this;\n  }\n\n  BaseBarLayer.getDefaultOptions = function () {\n    var cfg = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  BaseBarLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseBarLayer.prototype.afterRender = function () {\n    var props = this.options;\n    /** 响应式 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseBarLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseBarLayer.prototype.processData = function (data) {\n    return data ? data.slice().reverse() : data;\n  };\n\n  BaseBarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.yField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseBarLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  BaseBarLayer.prototype.adjustBar = function (bar) {\n    return;\n  };\n\n  BaseBarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n\n    if (props.label) {\n      bar.label = this.extractLabel();\n    }\n\n    this.adjustBar(bar);\n    this.bar = bar;\n    this.setConfig('element', bar);\n  };\n\n  BaseBarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.bar.animate = false;\n    }\n  };\n\n  BaseBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'barLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseBarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseBarLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseBarLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0\n        }\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4\n      };\n    }\n  };\n\n  return BaseBarLayer;\n}(ViewLayer);\n\nexport default BaseBarLayer;\nregisterPlotType('bar', BaseBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BarLayer from './layer';\n\nvar Bar =\n/** @class */\nfunction (_super) {\n  __extends(Bar, _super);\n\n  function Bar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bar.getDefaultOptions = BarLayer.getDefaultOptions;\n  return Bar;\n}(BasePlot);\n\nexport default Bar;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { BarLabels } from '../../../bar/component/label/bar-label';\n\nvar StackBarLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLabels, _super);\n\n  function StackBarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBarLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackBarLabels;\n}(BarLabels);\n\nregisterElementLabels('stackBarLabel', StackBarLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseBarLayer from '../bar/layer';\nimport './component/label/stack-bar-label';\n\nvar StackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLayer, _super);\n\n  function StackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackBar';\n    return _this;\n  }\n\n  StackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      }\n    });\n  };\n\n  StackBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackBarLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackBarLayer;\n}(BaseBarLayer);\n\nexport default StackBarLayer;\nregisterPlotType('stackBar', StackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackBarLayer from './layer';\n\nvar StackBar =\n/** @class */\nfunction (_super) {\n  __extends(StackBar, _super);\n\n  function StackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackBar.getDefaultOptions = StackBarLayer.getDefaultOptions;\n  return StackBar;\n}(BasePlot);\n\nexport default StackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackBar from '../stack-bar/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBarLayer, _super);\n\n  function PercentageStackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackBar';\n    return _this;\n  }\n\n  PercentageStackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true,\n          formatter: function formatter(v) {\n            return v + \" (%)\";\n          }\n        },\n        label: {\n          visible: false,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackBarLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var processData = _super.prototype.processData.call(this, originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  };\n\n  PercentageStackBarLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var xField = this.options.xField;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: xField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackBarLayer;\n}(StackBar);\n\nexport default PercentageStackBarLayer;\nregisterPlotType('percentageStackBar', PercentageStackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackBarLayer from './layer';\n\nvar PercentageStackBar =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBar, _super);\n\n  function PercentageStackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackBar.getDefaultOptions = PercentageStackBarLayer.getDefaultOptions;\n  return PercentageStackBar;\n}(BasePlot);\n\nexport default PercentageStackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseBarLayer from '../bar/layer';\n\nvar GroupBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupBarLayer, _super);\n\n  function GroupBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupBar';\n    return _this;\n  }\n\n  GroupBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true\n        }\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        offset: 8,\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'right-top'\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var names = _.valuesOfKey(this.options.data, this.options.groupField);\n\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      var origin_items = _.clone(items);\n\n      for (var i = 0; i < names.length; i++) {\n        var name_1 = names[i];\n\n        for (var j = 0; j < origin_items.length; j++) {\n          var item = origin_items[j];\n\n          if (item.name === name_1) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.scale = function () {\n    var defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: _.valuesOfKey(this.options.data, this.options.groupField)\n    };\n\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = _.deepMix({}, this.options.meta, defaultMeta);\n    }\n\n    _super.prototype.scale.call(this);\n  };\n\n  GroupBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupBarLayer;\n}(BaseBarLayer);\n\nexport default GroupBarLayer;\nregisterPlotType('groupBar', GroupBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupBarLayer from './layer';\n\nvar GroupBar =\n/** @class */\nfunction (_super) {\n  __extends(GroupBar, _super);\n\n  function GroupBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupBar.getDefaultOptions = GroupBarLayer.getDefaultOptions;\n  return GroupBar;\n}(BasePlot);\n\nexport default GroupBar;","import { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar ANCHOR_OFFSET = 0; // 锚点偏移量\n\nvar INFLECTION_OFFSET = 15; // 拐点偏移量\n\nvar DEFAULT_COLOR = '#CCC';\nvar LABEL1_OFFSETY = 2;\nvar LABEL2_OFFSETY = -2;\nvar ADJUSTOFFSET = 15;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    text: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      fontSize: 12\n    },\n    lineWidth: 0.5,\n    lineStroke: 'rgba(0, 0, 0, 0.45)',\n\n    /** distance between label and edge */\n    sidePadding: 20,\n    lineHeight: 32\n  };\n}\n\nvar SpiderLabel =\n/** @class */\nfunction () {\n  function SpiderLabel(cfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.offsetX = cfg.offsetX;\n    this.offsetY = cfg.offsetY;\n    this.config = _.assign(getDefaultCfg(), _.pick(cfg.style, ['lineStroke', 'lineWidth']));\n\n    if (cfg.style) {\n      this.config.text = _.mix(this.config.text, cfg.style);\n    }\n\n    this._adjustConfig(this.config);\n\n    this._init();\n  }\n\n  SpiderLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** 如果有formatter则事先处理数据 */\n\n\n    var data = _.clone(this.view.get('filteredData'));\n\n    this.halves = [[], []];\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes();\n    var coord = this.view.get('coord');\n    var angleField = this.fields[0];\n    var scale = this.view.get('scales')[angleField];\n    var center = coord.center,\n        startAngle = coord.startAngle;\n    var radius = coord.getRadius();\n\n    var _a = this.view.get('panelRange'),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    var angle = startAngle;\n\n    var _loop_1 = function _loop_1(idx) {\n      var d = data[idx]; // 计算每个切片的middle angle\n\n      var angleValue = scale.scale(d[angleField]);\n      var targetAngle = angle + Math.PI * 2 * angleValue;\n      var middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle; // 根据middle angle计算锚点和拐点距离\n\n      var anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      var inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET); // 获取对应shape的color\n\n      var color = DEFAULT_COLOR;\n\n      if (this_1.fields.length === 2) {\n        var colorField = this_1.fields[1];\n        var colorScale = this_1.view.get('scales')[colorField];\n        var colorIndex = colorScale.scale(d[colorField]);\n        var shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      } // 组装label数据\n\n\n      var label = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null\n      }; // 创建label文本\n\n      var texts = [];\n\n      _.each(this_1.fields, function (f) {\n        texts.push(d[f]);\n      });\n\n      if (this_1.formatter) {\n        var formatted = this_1.formatter(d[angleField], {\n          _origin: d,\n          color: color\n        }, idx);\n\n        if (_.isString(formatted)) {\n          formatted = [formatted];\n        }\n\n        texts = formatted;\n      }\n\n      var textGroup = new Group();\n      var textAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this_1.config.text.fontSize,\n        lineHeight: this_1.config.text.fontSize,\n        fontWeight: this_1.config.text.fontWeight,\n        fill: this_1.config.text.fill\n      }; // label1:下部label\n\n      var lowerText = d[angleField];\n\n      if (this_1.formatter) {\n        lowerText = texts[0];\n      }\n\n      var lowerTextAttrs = _.clone(textAttrs);\n\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n\n      var lowerTextShape = textGroup.addShape('text', {\n        attrs: _.mix({\n          textBaseline: texts.length === 2 ? 'top' : 'middle',\n          text: lowerText\n        }, lowerTextAttrs),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label'\n      });\n      lowerTextShape.name = 'label'; // 用于事件标记 shapeName\n\n      /** label2:上部label */\n\n      if (texts.length === 2) {\n        var topTextShape = textGroup.addShape('text', {\n          attrs: _.mix({\n            textBaseline: 'bottom',\n            text: texts[1]\n          }, textAttrs),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label'\n        });\n        topTextShape.name = 'label'; // 用于事件标记 shapeName\n      }\n\n      label.textGroup = textGroup;\n      /** 将label分组 */\n\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this_1.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this_1.halves[1].push(label);\n      }\n    };\n\n    var this_1 = this; // tslint:disable-next-line: prefer-for-of\n\n    for (var idx = 0; idx < data.length; idx++) {\n      _loop_1(idx);\n    }\n    /** 绘制label */\n\n\n    var _drawnLabels = [];\n    var maxCountForOneSide = Math.floor(height / this.config.lineHeight);\n\n    _.each(this.halves, function (half) {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort(function (a, b) {\n        return a.y - b.y;\n      });\n\n      _this._antiCollision(half);\n    });\n\n    this.view.get('canvas').draw();\n  };\n\n  SpiderLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  SpiderLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  SpiderLabel.prototype._antiCollision = function (half) {\n    var _this = this;\n\n    var coord = this.view.get('coord');\n    var canvasHeight = coord.getHeight();\n    var center = coord.center;\n    var radius = coord.getRadius();\n    var startY = center.y - radius - INFLECTION_OFFSET - this.config.lineHeight;\n    var overlapping = true;\n    var totalH = canvasHeight;\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var maxLabelWidth = 0;\n    var boxes = half.map(function (label) {\n      var labelY = label.y;\n\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      var textGroup = label.textGroup;\n      var labelWidth = textGroup.getBBox().width;\n\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: _this.config.lineHeight,\n        targets: [labelY - startY]\n      };\n    });\n\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    var iteratorBoxed = function iteratorBoxed(items) {\n      items.forEach(function (box) {\n        var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach(function (b) {\n      var posInCompositeBox = startY; // middle of the label\n\n      b.targets.forEach(function () {\n        half[i].y = b.pos + posInCompositeBox + _this.config.lineHeight / 2;\n        posInCompositeBox += _this.config.lineHeight;\n        i++;\n      });\n    });\n    var drawnLabels = [];\n    half.forEach(function (label) {\n      var textGroup = _this._drawLabel(label);\n\n      _this.container.add(textGroup);\n\n      _this._drawLabelLine(label, maxLabelWidth);\n\n      drawnLabels.push(textGroup);\n    });\n  };\n\n  SpiderLabel.prototype._drawLabel = function (label) {\n    var coord = this.view.get('coord');\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var width = this.width;\n    var y = label.y,\n        textGroup = label.textGroup;\n    var children = textGroup.get('children');\n    var x_dir = label._side === 'left' ? 1 : -1;\n    var textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x: label._side === 'left' ? center.x - radius - this.config.sidePadding : center.x + radius + this.config.sidePadding\n    };\n\n    if (this.offsetX) {\n      textAttrs.x += this.offsetX * x_dir;\n    }\n\n    children.forEach(function (child) {\n      var offsetY = child.get('offsetY');\n      var yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n    return textGroup;\n  };\n\n  SpiderLabel.prototype._drawLabelLine = function (label, maxLabelWidth) {\n    var _anchor = [label._anchor.x, label._anchor.y];\n    var _inflection = [label._inflection.x, label._inflection.y];\n    var fill = label.fill,\n        y = label.y,\n        textGroup = label.textGroup;\n    if (!textGroup) return;\n    var lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n    var points = [_anchor, _inflection, lastPoint];\n\n    if (_inflection[1] !== y) {\n      // 展示全部文本文本位置做过调整\n      if (_inflection[1] < y) {\n        // 文本被调整下去了，则添加拐点连接线\n        var point1 = _inflection;\n        var leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        var rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        var point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        var point3 = [label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth, lastPoint[1]];\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if (label._side === 'right' && point2[0] < point1[0] || label._side === 'left' && point2[0] > point1[0]) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var starter = 'L';\n\n      if (i === 0) {\n        starter = 'M';\n      }\n\n      path.push([starter, p[0], p[1]]);\n    }\n\n    this.container.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: this.config.lineWidth,\n        stroke: this.config.lineStroke\n      }\n    }); // 绘制锚点\n    // this.container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  };\n\n  SpiderLabel.prototype._adjustConfig = function (config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  };\n\n  return SpiderLabel;\n}();\n\nexport default SpiderLabel;","export function getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n/** 获取矩形中点 */\n\nexport function getCenter(box) {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2\n  };\n}\nexport function getOverlapArea(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin));\n  return xOverlap * yOverlap;\n}\n/**\n * 计算两个矩形之间的堆叠情况\n * @return xOverlap x方向重叠大小\n * @return yOverlap y方向重叠大小\n */\n\nexport function getOverlapInfo(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)); // 添加 sign\n\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  } // 重叠\n\n\n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return {\n    xOverlap: xOverlap,\n    yOverlap: yOverlap\n  };\n}\n/**\n * 粗略地判断是否在panel内部\n * @param panel\n * @param shape\n */\n\nexport function inPanel(panel, shape) {\n  return panel.x < shape.x && panel.x + panel.width > shape.x + shape.width && panel.y < shape.y && panel.y + panel.height > shape.y + shape.height;\n}\n/**\n * 判断两个数值 是否接近\n * - 解决精度问题（由于无法确定精度上限，根据具体场景可传入 精度 参数）\n */\n\nexport var near = function near(x, y, e) {\n  if (e === void 0) {\n    e = Math.pow(Number.EPSILON, 0.5);\n  }\n\n  return [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n};","import { __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nvar canvas = document.createElement('canvas');\nvar ctx = canvas.getContext('2d');\n/**\n * 计算文本在画布中的宽度\n */\n\nexport var measureTextWidth = _.memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n\n  var fontSize = font.fontSize,\n      fontFamily = font.fontFamily,\n      fontWeight = font.fontWeight,\n      fontStyle = font.fontStyle,\n      fontVariant = font.fontVariant;\n  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n  return ctx.measureText(_.isString(text) ? text : '').width;\n}, function (text, font) {\n  return font ? __spreadArrays([text], _.values(font)).join('') : text;\n});\n/**\n * 获取文本的 ... 文本。\n * 算法（减少每次 measureText 的长度，measureText 的性能跟字符串时间相关）：\n * 1. 先通过 STEP 逐步计算，找到最后一个小于 maxWidth 的字符串\n * 2. 然后对最后这个字符串二分计算\n * @param text 需要计算的文本, 由于历史原因 除了支持string，还支持空值,number和数组等\n * @param maxWidth\n * @param font\n * TODO 后续更新省略算法\n */\n\nexport var getEllipsisText = function getEllipsisText(text, maxWidth, font, priority) {\n  var STEP = 16; // 每次 16，调参工程师\n\n  var DOT_WIDTH = measureTextWidth('...', font);\n  var leftText;\n\n  if (!_.isString(text)) {\n    leftText = _.toString(text);\n  } else {\n    leftText = text;\n  }\n\n  var leftWidth = maxWidth;\n  var r = []; // 最终的分段字符串\n\n  var currentText;\n  var currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  } // 首先通过 step 计算，找出最大的未超出长度的\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, STEP); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP); // 字符串整体没有超出\n\n    if (!leftText) {\n      return r.join('');\n    }\n  } // 最下的最后一个 STEP，使用 1 递增（用二分效果更高）\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, 1); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return r.join('') + \"...\";\n};","import { __assign, __extends } from \"tslib\";\nimport { getElementLabels } from '@antv/g2';\nimport { getOverlapArea, getEndPoint, near } from './utils';\nimport { getEllipsisText } from './utils/text';\nvar PieElementLabels = getElementLabels('pie');\n/**\n * @desc eva-pie 所有自定义 pie-label 的基类\n */\n\nvar default_1 =\n/** @class */\nfunction (_super) {\n  __extends(default_1, _super);\n\n  function default_1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  default_1.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var view = this.get('element').get('view');\n    var coord = this.get('coord');\n    var panel = view.get('panelRange'); // 调整\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children'); // 注入data数据\n\n    var data = view.get('data');\n    var fields = this.getLabelOptions().fields;\n    var angleField = fields[0];\n    var colorField = fields[1];\n    var scale = view.get('scales')[angleField];\n    labels.forEach(function (label, idx) {\n      var dataItem = data[idx];\n      var percentage = scale.scale(dataItem[angleField]);\n      label.attr('data', {\n        value: dataItem[angleField],\n        name: dataItem[colorField],\n        percent: percentage\n      });\n    });\n    var items = renderer.get('items') || []; // 处理 label anchors\n\n    this.anchors = [];\n    var anchorRadius = coord.getRadius() + this.getOffsetOfLabel();\n    this.anchorRadius = anchorRadius;\n    labels.forEach(function (label, idx) {\n      var item = items[idx];\n      var point = getEndPoint(coord.getCenter(), item.angle, anchorRadius);\n\n      _this.anchors.push(__assign(__assign(__assign({}, item), point), {\n        id: label.id\n      }));\n    });\n    var labelLines = renderer.get('lineGroup').get('children') || [];\n    this.adjustPosition(labels, items, coord, panel);\n    this.adjustTexts(labels, items, coord, panel); // should adjust overlap before asjustLines\n\n    this.adjustOverlap(labels, panel);\n    this.adjustLines(labels, items, labelLines, coord, panel);\n    view.get('canvas').draw();\n  };\n  /** 调整 label texts */\n\n\n  default_1.prototype.adjustTexts = function (labels, items, coord, panel) {\n    var _this = this;\n\n    labels.forEach(function (label) {\n      var anchor = items.find(function (v) {\n        return v.id === label.id;\n      });\n\n      _this.adjustLabelText(label, anchor, coord, panel);\n    });\n  };\n\n  default_1.prototype.adjustItems = function (originItems) {\n    // could not extends super\n    return originItems;\n  };\n  /** 调整 label text */\n\n\n  default_1.prototype.adjustLabelText = function (label, item, coord, panel) {\n    var box = label.getBBox();\n    var textAlign = item.textAlign;\n    var maxWidth = textAlign === 'right' ? box.maxX - panel.minX : panel.maxX - box.minX;\n\n    if (maxWidth < box.width) {\n      var font_1 = {\n        fontFamily: label.attr('fontFamily'),\n        fontSize: label.attr('fontSize'),\n        fontVariant: label.attr('fontVariant'),\n        fontWeight: label.attr('fontWeight'),\n        fontStyle: label.attr('fontStyle')\n      };\n      var originText = label.attr('text');\n      var data = label.attr('data');\n      /** label 优先级: 数值 - 百分比 - 分类名(先通过正则的方式处理) */\n\n      var priority_1 = ['[\\\\d,.]*', '[\\\\d.]*%', data.name];\n      var EllipsisTextArr = originText.split('\\n').map(function (t) {\n        return getEllipsisText(t, maxWidth - 2, font_1, priority_1);\n      });\n      label.attr('text', EllipsisTextArr.join('\\n'));\n    }\n  };\n  /** 处理标签遮挡问题 */\n\n\n  default_1.prototype.adjustOverlap = function (labels, panel) {\n    var _this = this;\n\n    if (this.getLabelOptions().allowOverlap) {\n      return;\n    } // clearOverlap;\n\n\n    for (var i = 1; i < labels.length; i++) {\n      var label = labels[i];\n      var overlapArea = 0;\n\n      for (var j = i - 1; j >= 0; j--) {\n        var prev = labels[j]; // fix: start draw point.x is error when textAlign is right\n\n        var prevBox = prev.getBBox();\n        var currBox = label.getBBox(); // if the previous one is invisible, skip\n\n        if (prev.get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n\n          if (!near(overlapArea, 0)) {\n            label.set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n\n    labels.forEach(function (label) {\n      return _this.checkInPanel(label, panel);\n    });\n  };\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n\n\n  default_1.prototype.checkInPanel = function (label, panel) {\n    var box = label.getBBox(); //  横向溢出 暂不隐藏\n\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.set('visible', false);\n    }\n  };\n\n  default_1.prototype.getLabelOptions = function () {\n    return this.get('labelOptions');\n  };\n\n  return default_1;\n}(PieElementLabels);\n\nexport default default_1;","import { __assign, __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BaseLabel from './base-label'; // 默认label和element的偏移 16px\n\nvar DEFAULT_OFFSET = 16;\n/** label text和line距离 4px */\n\nvar CROOK_DISTANCE = 4;\n/**\n * @desc 环绕型 躲避 label 布局(类椭圆 - 优先顺时针偏移)\n */\n\nvar OuterPieLabel =\n/** @class */\nfunction (_super) {\n  __extends(OuterPieLabel, _super);\n\n  function OuterPieLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OuterPieLabel.prototype.adjustPosition = function (labels, items, coord, panel) {\n    var _this = this;\n\n    this._adjustLabelPosition(labels, coord, panel);\n\n    var leftHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'right';\n    });\n\n    var rightHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'left';\n    });\n\n    [rightHalf, leftHalf].forEach(function (half, isLeft) {\n      _this._antiCollision(half, coord, panel, !isLeft);\n    });\n  };\n  /** @override */\n\n\n  OuterPieLabel.prototype.adjustLines = function (labels, labelItems, labelLines, coord, panel) {\n    var _this = this;\n\n    _.each(labels, function (label, idx) {\n      var labelLine = labelLines[idx]; // 由于布局调整，修改的只是shape 所以取用使用shape(labelItem is read-only)\n\n      var path = _this._getLinePath(label, coord, panel);\n\n      labelLine.attr('path', path);\n      labelLine.set('visible', label.get('visible'));\n    });\n  };\n  /** override */\n\n\n  OuterPieLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.getLabelOptions();\n    var offset = labelOptions.offset;\n    return offset === undefined ? DEFAULT_OFFSET : offset < CROOK_DISTANCE * 2 ? offset / 2 : offset - CROOK_DISTANCE;\n  };\n  /** labels 碰撞处理（重点算法） */\n\n\n  OuterPieLabel.prototype._antiCollision = function (labels, coord, plotRange, isRight) {\n    var _this = this;\n\n    var labelHeight = this.getLabelHeight();\n    var totalR = this.anchorRadius;\n    var center = coord.getCenter();\n    var totalHeight = Math.min(plotRange.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    var maxLabelsCount = Math.floor(totalHeight / labelHeight); // fix-bug, maxLabelsCount 之后的labels 在非 allowOverlap 不显示（避免出现尾部label展示，而前置label不展示）\n\n    if (!this.get('labelOptions').allowOverlap) {\n      labels.slice(maxLabelsCount).forEach(function (label) {\n        label.set('visible', false);\n      });\n    }\n\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount); // sort by y DESC\n\n    labels.sort(function (a, b) {\n      return a.getBBox().y - b.getBBox().y;\n    }); // adjust y position of labels to avoid overlapping\n\n    var overlapping = true;\n    var i;\n    var maxY = center.y + totalHeight / 2;\n    var minY = center.y - totalHeight / 2;\n    var boxes = labels.map(function (label) {\n      var labelBox = label.getBBox();\n\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(plotRange.maxY, labelBox.maxY);\n      }\n\n      if (labelBox.minY < minY) {\n        minY = Math.max(plotRange.minY, labelBox.minY);\n      }\n\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: []\n      };\n    });\n    var j = 0;\n\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n\n      j++;\n    }\n\n    while (overlapping) {\n      boxes.forEach(function (box) {\n        var target = _.last(box.targets);\n\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      }); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            var target = _.last(previousBox.targets);\n\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          } else {\n            // 换掉最后一个\n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0; // step 4: normalize y and adjust x\n\n    boxes.forEach(function (b) {\n      var posInCompositeBox = labelHeight / 2; // middle of the label\n\n      b.targets.forEach(function () {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    }); // 调整 x 位置在椭圆轨道上\n\n    var topLabels = [];\n    var bottomLabels = [];\n    labels.forEach(function (label) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === label.id;\n      });\n\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach(function (adjustLabels, isBottom) {\n      if (!adjustLabels.length) {\n        return;\n      }\n\n      var ry = isBottom ? _.last(adjustLabels).getBBox().maxY - center.y : center.y - _.head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n\n      var offset = _this.getOffsetOfLabel();\n\n      var distance = _this.getCrookDistance();\n\n      var maxLabelWidth = Math.max.apply(0, _.map(labels, function (label) {\n        return label.getBBox().width;\n      })) + offset + distance;\n      var rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (plotRange.minX + maxLabelWidth)));\n      var rxPow2 = rx * rx;\n      var ryPow2 = ry * ry;\n      adjustLabels.forEach(function (label) {\n        var box = label.getBBox();\n        var boxCenter = {\n          x: box.minX + box.width / 2,\n          y: box.minY + box.height / 2\n        };\n        var dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n\n        var anchor = _this.anchors.find(function (a) {\n          return a.id === label.id;\n        });\n\n        var endPoint = getEndPoint(center, anchor.angle, coord.getRadius());\n        var distance_offset = (isRight ? 1 : -1) * distance * 2;\n\n        if (dyPow2 > ryPow2) {\n          console.warn('异常(一般不会出现)', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          // 避免 label的 拉线 在 element 上\n          var xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n\n          if (center.x === endPoint.x && boxCenter.y === endPoint.y || center.y === endPoint.y && xPos === endPoint.x) {\n            xPos = endPoint.x;\n          } else {\n            var k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            var k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            var theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n\n            if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n              xPos = endPoint.x;\n            }\n          }\n\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }; // label shape position\n\n\n  OuterPieLabel.prototype._adjustLabelPosition = function (labels, coord, panel) {\n    var _this = this;\n\n    var distance = this.getCrookDistance();\n    labels.forEach(function (l) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === l.id;\n      });\n\n      var isRight = anchor.textAlign === 'left';\n      l.attr('x', anchor.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', anchor.y); // 统一垂直居中\n\n      l.attr('textBaseline', 'middle');\n    });\n  };\n  /** 获取label leader-line, 默认 not smooth */\n\n\n  OuterPieLabel.prototype._getLinePath = function (label, coord, panel) {\n    var labelOptions = this.getLabelOptions();\n    var smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    var anchor = this.anchors.find(function (a) {\n      return a.id === label.id;\n    });\n    var angle = anchor.angle;\n    var center = coord.getCenter();\n    var distance = this.getCrookDistance();\n    var start = getEndPoint(center, angle, coord.getRadius());\n    var isRight = anchor.textAlign === 'left';\n    var breakAt = anchor;\n    var end = {\n      x: label.attr('x') + (isRight ? -distance : distance),\n      y: label.attr('y')\n    };\n    var smoothPath = [];\n\n    if (end.y < anchor.y) {\n      breakAt = __assign(__assign({}, breakAt), {\n        id: breakAt.id,\n        y: end.y,\n        x: end.x + (start.x - breakAt.x)\n      });\n    }\n\n    smoothPath = smoothPath.concat(['Q', breakAt.x, breakAt.y]).concat([end.x, end.y]);\n    var straightPath = ['L',\n    /** pointy break */\n    breakAt.x, breakAt.y].concat(['L', end.x, end.y]);\n    var linePath = smooth ? smoothPath : straightPath;\n    var path = ['M', start.x, start.y].concat(linePath);\n    return path.join(',');\n  };\n\n  OuterPieLabel.prototype.getCrookDistance = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  };\n  /** 获取label height */\n\n\n  OuterPieLabel.prototype.getLabelHeight = function () {\n    var labelOptions = this.get('labelOptions');\n\n    if (!labelOptions.labelHeight) {\n      var renderer = this.get('labelsRenderer');\n      var labels = renderer.get('group').get('children');\n      return _.head(labels) ? _.head(labels).getBBox().height : 14;\n    }\n\n    return labelOptions.labelHeight;\n  }; // tslint:disable\n\n\n  OuterPieLabel.prototype.getDefaultOffset = function (point) {\n    var offset = _super.prototype.getDefaultOffset.call(this, point);\n\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  };\n\n  return OuterPieLabel;\n}(BaseLabel);\n\nregisterElementLabels('outer', OuterPieLabel);","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from 'lodash';\nimport { getEndPoint, getOverlapInfo } from './utils';\nimport BaseLabel from './base-label';\nimport { distBetweenPoints } from '../../../../util/math';\n\nfunction percent2Number(value) {\n  var percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n/**\n * @desc 饼图 inner-label 布局\n * @done\n */\n\n\nvar InnerLabel =\n/** @class */\nfunction (_super) {\n  __extends(InnerLabel, _super);\n\n  function InnerLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  InnerLabel.prototype.adjustPosition = function (labels, items, coord) {\n    var _this = this;\n\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var offset = this.getOffsetOfLabel();\n    var r = radius + offset;\n    labels.forEach(function (label, idx) {\n      var anchor = items.find(function (i) {\n        return i.id === label.id;\n      });\n\n      var _a = getEndPoint(center, anchor.angle, r),\n          newX = _a.x,\n          newY = _a.y;\n\n      label.attr('x', newX);\n      label.attr('y', newY);\n      label.attr('textBaseline', 'middle');\n\n      if (idx > 0) {\n        var prevLabel = labels[idx - 1];\n\n        _this.resolveCollision(label, prevLabel, anchor, coord);\n      }\n    });\n  };\n  /** @override inner布局不需要拉线 */\n\n\n  InnerLabel.prototype.adjustLines = function (labels, items, labelLines, coord) {\n    labelLines.forEach(function (l) {\n      return l.set('visible', false);\n    });\n  };\n  /** @override */\n\n\n  InnerLabel.prototype.adjustLabelText = function () {};\n  /** @override 不能大于0 */\n\n\n  InnerLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    var radius = this.get('coord').getRadius();\n\n    if (_.isString(offset)) {\n      offset = radius * percent2Number(offset);\n    } else if (offset === undefined || offset === null) {\n      // 默认取 2/3 处（即 -1/3）\n      offset = radius * (-1 / 3);\n    }\n\n    return offset > 0 ? 0 : offset;\n  };\n  /** label 碰撞调整 */\n\n\n  InnerLabel.prototype.resolveCollision = function (label, prev, anchor, coord) {\n    var angle = anchor.angle;\n    var box = label.getBBox();\n    var prevBBox = prev.getBBox();\n    var pos = {\n      x: (box.minX + box.maxX) / 2,\n      y: (box.minY + box.maxY) / 2\n    }; // 两种调整方案\n\n    /** 先偏移 x 方向 -> 再计算 y 位置 */\n\n    var pos1 = _.clone(pos);\n    /** 先偏移 y 方向 -> 再计算 x 位置 */\n\n\n    var pos2 = _.clone(pos); // check overlap\n\n\n    if (prev.id !== label.id) {\n      var _a = getOverlapInfo(box, prevBBox),\n          xOverlap = _a.xOverlap,\n          yOverlap = _a.yOverlap;\n\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n\n      if (yOverlap) {\n        // fix issue-460\n        var yMover = yOverlap;\n        var center = coord.getCenter();\n\n        if (pos.y < center.y) {\n          // 上方label优先往上偏移\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // 下方label优先往下偏移\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      var dist1 = distBetweenPoints(pos, pos1);\n      var dist2 = distBetweenPoints(pos, pos2);\n      var actualPos = dist1 < dist2 ? pos1 : pos2; // 取偏移距离最小的\n\n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  };\n\n  return InnerLabel;\n}(BaseLabel);\n\nregisterElementLabels('inner', InnerLabel);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPieClick: 'interval:click',\n  onPieDblclick: 'interval:dblclick',\n  onPieMousemove: 'interval:mousemove',\n  onPieMouseenter: 'interval:mouseenter',\n  onPieMouseleave: 'interval:mouseleave',\n  onPieMousedown: 'interval:mousedown',\n  onPieMouseup: 'interval:mouseup',\n  onPieContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar PIE_ACTIVE_STYLE = function PIE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar PIE_DISABLE_STYLE = function PIE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport SpiderLabel from './component/label/spider-label';\nimport './component/label/outer-label';\nimport './component/label/inner-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  pie: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  pie: 'column'\n};\n\nvar PieLayer =\n/** @class */\nfunction (_super) {\n  __extends(PieLayer, _super);\n\n  function PieLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pie';\n    return _this;\n  }\n\n  PieLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        allowOverlap: false,\n        line: {\n          smooth: true\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1\n      }\n    });\n  };\n\n  PieLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  PieLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var props = this.options;\n    /** 蜘蛛布局label */\n\n    if (props.label && props.label.visible) {\n      var labelConfig = props.label;\n\n      if (labelConfig.type === 'spider') {\n        var spiderLabel = new SpiderLabel({\n          view: this.view,\n          fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField],\n          style: labelConfig.style ? labelConfig.style : {},\n          formatter: props.label.formatter ? props.label.formatter : false,\n          offsetX: props.label.offsetX,\n          offsetY: props.label.offsetY\n        });\n        this.spiderLabel = spiderLabel;\n      }\n    }\n  };\n\n  PieLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  PieLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  PieLayer.prototype.processData = function (data) {\n    var key = this.options.angleField;\n    return data.map(function (item) {\n      var _a;\n\n      return __assign(__assign({}, item), (_a = {}, _a[key] = typeof item[key] === 'string' ? Number.parseFloat(item[key]) : item[key], _a));\n    });\n  };\n\n  PieLayer.prototype.axis = function () {};\n\n  PieLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore 业务定制,不开放配置\n        innerRadius: props.innerRadius || 0\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  PieLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [props.angleField]\n    });\n    pie.adjust = [{\n      type: 'stack'\n    }];\n    this.pie = pie;\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.setConfig('element', pie);\n  };\n\n  PieLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.pie.animate = false;\n    }\n  };\n\n  PieLayer.prototype.annotation = function () {};\n\n  PieLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  PieLayer.prototype.label = function () {\n    var props = this.options;\n\n    var labelConfig = __assign({}, props.label);\n\n    if (!this.showLabel()) {\n      this.pie.label = false;\n      return;\n    }\n\n    if (labelConfig.type === 'inner') {\n      labelConfig.style = this.getInnerLabelDefaultStyle(); // @ts-ignore\n\n      labelConfig.labelLine = false;\n    } else {\n      // @ts-ignore\n      labelConfig.labelLine = true;\n    } // 此处做个 hack 操作, 防止g2 controller层找不到未注册的inner,outter,和spider Label\n\n\n    var labelType = labelConfig.type;\n\n    if (['spider'].indexOf(labelType) !== -1) {\n      labelType = null;\n    }\n\n    this.pie.label = getComponent('label', __assign({\n      plot: this,\n      labelType: labelType,\n      fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField]\n    }, labelConfig));\n  };\n\n  PieLayer.prototype.showLabel = function () {\n    var props = this.options;\n    return props.label && props.label.visible === true && props.label.type !== 'spider';\n  };\n\n  PieLayer.prototype.getInnerLabelDefaultStyle = function () {\n    var labelConfig = __assign({}, this.options.label);\n\n    var labelStyleConfig = labelConfig.style || {};\n\n    if (!labelStyleConfig.textAlign) {\n      labelStyleConfig.textAlign = 'center';\n    }\n\n    return labelStyleConfig;\n  };\n\n  return PieLayer;\n}(ViewLayer);\n\nexport default PieLayer;\nregisterPlotType('pie', PieLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PieLayer from './layer';\n\nvar Pie =\n/** @class */\nfunction (_super) {\n  __extends(Pie, _super);\n\n  function Pie() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Pie.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'pie';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Pie.getDefaultOptions = PieLayer.getDefaultOptions;\n  return Pie;\n}(BasePlot);\n\nexport default Pie;","import * as _ from '@antv/util';\n\nvar VariableNodes =\n/** @class */\nfunction () {\n  function VariableNodes(cfg) {\n    this.type = 'variable';\n\n    _.assign(this, cfg);\n  }\n\n  VariableNodes.prototype.normalize = function () {};\n\n  return VariableNodes;\n}();\n\nexport default VariableNodes;","import responsiveRing from './geometry';\nvar preRenderResponsive = [{\n  name: 'responsiveRing',\n  method: responsiveRing\n}];\nvar afterRenderResponsive = [];\nexport default {\n  preRender: preRenderResponsive\n};","import { getCoordinate } from '@antv/coord';\nimport VariableNodes from '../../../util/responsive/node/variable-node';\nimport Responsive from '../../../util/responsive/responsive';\nexport default function responsiveRing(layer) {\n  var props = layer.options;\n  var responsiveTheme = layer.getResponsiveTheme();\n  var padding = props.padding;\n  var radius = props.radius ? props.radius : 1;\n  var width = layer.width,\n      height = layer.height;\n  /** 创建坐标系 */\n\n  var polar = getCoordinate('polar');\n  var coord = new polar({\n    radius: radius,\n    start: {\n      x: padding[3],\n      y: padding[0]\n    },\n    end: {\n      x: width - padding[1],\n      y: height - padding[2]\n    }\n  });\n  var region = {\n    radius: radius,\n    coord: coord\n  };\n  var nodes = new VariableNodes({\n    nodes: [{\n      name: 'innerRadius',\n      value: 0\n    }]\n  });\n  var constraints = responsiveTheme.ring.constraints;\n  new Responsive({\n    nodes: nodes,\n    constraints: constraints,\n    region: region,\n    plot: layer,\n    onEnd: function onEnd() {\n      props.innerRadius = nodes.nodes[0].value;\n    }\n  });\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme\n * 其实这个应该是扩展自pie的，anyway，先这样写\n */\n\nvar ringTheme = {\n  ring: {\n    constraints: [{\n      name: 'ringThickness'\n    }, {\n      name: 'minRingThickness'\n    }]\n  }\n};\nregisterResponsiveTheme('ring', ringTheme);","/*tslint:disable*/\nvar containerStyle = \"color:#8c8c8c;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\nvar nameStyle = 'font-weight:300;';\nvar valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-name\\\" style=\" + nameStyle + \">\" + name + \"</span><br/><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingClick: 'interval:click',\n  onRingDblclick: 'interval:dblclick',\n  onRingMousemove: 'interval:mousemove',\n  onRingMouseenter: 'interval:mouseenter',\n  onRingMouseleave: 'interval:mouseleave',\n  onRingMousedown: 'interval:mousedown',\n  onRingMouseup: 'interval:mouseup',\n  onRingContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport PieLayer from '../pie/layer';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport * as statisticTemplate from './component/statistic-template';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  ring: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'ring'\n};\n\nvar RingLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingLayer, _super);\n\n  function RingLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ring';\n    return _this;\n  }\n\n  RingLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      radius: 0.8,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave'\n      }\n    });\n  };\n\n  RingLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RingLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    RingLayer.centralId++;\n    this.statisticClass = \"statisticClassId\" + RingLayer.centralId;\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  RingLayer.prototype.afterInit = function () {\n    var _this = this;\n\n    _super.prototype.afterInit.call(this);\n    /** 处理环图中心文本响应交互的问题 */\n\n\n    if (this.statistic && this.statistic.visible && this.statistic.triggerOn) {\n      var triggerOnEvent = this.statistic.triggerOn;\n      this.view.on(\"interval:\" + triggerOnEvent, _.debounce(function (e) {\n        var displayData = _this.parseStatisticData(e.data._origin);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n      var triggerOffEvent = this.statistic.triggerOff ? this.statistic.triggerOff : 'mouseleave';\n      this.view.on(\"interval:\" + triggerOffEvent, _.debounce(function (e) {\n        var totalValue = _this.getTotalValue();\n\n        var displayData = _this.parseStatisticData(totalValue);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n    }\n  };\n\n  RingLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  RingLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var props = this.options;\n\n    if (props.statistic && props.statistic.visible) {\n      var statistic = this.drawStatistic(props.statistic);\n      annotationConfigs.push(statistic);\n      this.statistic = statistic;\n    }\n\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  RingLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingLayer.prototype.drawStatistic = function (config) {\n    var statistic = _.deepMix({}, {\n      type: 'html',\n      top: true,\n      position: ['50%', '50%'],\n      triggerOn: 'mouseenter'\n    }, config);\n    /** 中心文本内容 */\n\n\n    var displayData;\n\n    if (config.content) {\n      displayData = config.content;\n    } else {\n      /** 用户没有指定文本内容时，默认显示总计 */\n      var data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /** 中心文本显示 */\n\n\n    var htmlString;\n\n    if (config.htmlContent) {\n      htmlString = config.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n\n    statistic.html = htmlString;\n    /** 是否响应状态量 */\n\n    if (statistic.triggerOn) {\n      this.setConfig('tooltip', false);\n    }\n\n    return statistic;\n  };\n  /** 获取总计数据 */\n\n\n  RingLayer.prototype.getTotalValue = function () {\n    var _a;\n\n    var props = this.options;\n    var total = 0;\n\n    _.each(props.data, function (item) {\n      if (typeof item[props.angleField] === 'number') {\n        total += item[props.angleField];\n      }\n    });\n\n    var data = (_a = {}, _a[props.angleField] = total, _a[props.colorField] = '总计', _a);\n    return data;\n  };\n\n  RingLayer.prototype.parseStatisticData = function (data) {\n    var props = this.options;\n    var angleField = props.angleField;\n    return props.colorField ? {\n      name: data[props.colorField],\n      value: data[angleField]\n    } : data[angleField];\n  };\n\n  RingLayer.prototype.getStatisticTemplate = function (displayData) {\n    var size = this.getStatisticSize();\n    var htmlString;\n    /** 如果文本内容为string或单条数据 */\n\n    if (_.isString(displayData)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(displayData, this.statisticClass, size);\n    } else if (_.isObject(displayData) && _.keys(displayData).length === 2) {\n      /** 如果文本内容为两条数据 */\n      var content = displayData;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** 更为复杂的文本要求用户自行制定html模板 */\n\n\n    return htmlString;\n  };\n  /** 获取中心文本的htmlString */\n\n\n  RingLayer.prototype.getStatisticHtmlString = function (_displayData) {\n    var triggerOnConfig = this.statistic.triggerOn;\n    var htmlString;\n\n    if (_.isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(_displayData);\n    }\n\n    if (_.isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(_displayData);\n      htmlString = \"<div class=\\\"ring-guide-html \" + this.statisticClass + \"\\\">\" + htmlString + \"</div>\";\n    }\n\n    return htmlString;\n  };\n\n  RingLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  RingLayer.prototype.getStatisticSize = function () {\n    return this.width * this.options.radius;\n  };\n\n  RingLayer.prototype.getDefaultLabelInnerOffset = function () {\n    var size = 0;\n\n    var _a = this,\n        width = _a.width,\n        height = _a.height;\n\n    var padding = this.options.padding;\n\n    if (width < height) {\n      size = width - padding[1] - padding[3];\n    } else {\n      size = height - padding[0] - padding[2];\n    }\n\n    var offset = Math.round(size / 8 * (this.options.radius - this.options.radius * this.options.innerRadius) * -1);\n\n    if (isNaN(offset) || offset === Infinity) {\n      return 0;\n    }\n\n    return offset;\n  };\n\n  RingLayer.centralId = 0;\n  return RingLayer;\n}(PieLayer);\n\nexport default RingLayer;\nregisterPlotType('ring', RingLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingLayer from './layer';\n\nvar Ring =\n/** @class */\nfunction (_super) {\n  __extends(Ring, _super);\n\n  function Ring() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Ring.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ring';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Ring.getDefaultOptions = RingLayer.getDefaultOptions;\n  return Ring;\n}(BasePlot);\n\nexport default Ring;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar RadarLayer =\n/** @class */\nfunction (_super) {\n  __extends(RadarLayer, _super);\n\n  function RadarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'radar';\n    return _this;\n  }\n\n  RadarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1\n        }\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1\n        }\n      },\n      angleAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true,\n          offset: 8\n        },\n        title: {\n          visible: false\n        }\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'left-top'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: null\n      }\n    });\n  };\n\n  RadarLayer.prototype.init = function () {\n    var props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n\n    _super.prototype.init.call(this);\n  };\n\n  RadarLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RadarLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  RadarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.angleField] = {};\n\n    if (_.has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.radiusField] = {};\n\n    if (_.has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  RadarLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RadarLayer.prototype.axis = function () {\n    var props = this.options;\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[props.angleField] = xAxis_parser;\n    axesConfig.fields[props.radiusField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  RadarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    /** 配置面积 */\n\n    if (props.area.visible) {\n      var area = getGeom('area', 'main', {\n        plot: this\n      });\n      this.setConfig('element', area);\n      this.area = area;\n    }\n    /** 配置线 */\n\n\n    if (props.line && props.line.visible) {\n      var line = getGeom('line', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', line);\n      this.line = line;\n    }\n    /** 配置点 */\n\n\n    if (props.point && props.point.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  RadarLayer.prototype.label = function () {};\n\n  RadarLayer.prototype.annotation = function () {};\n\n  RadarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  RadarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return RadarLayer;\n}(ViewLayer);\n\nexport default RadarLayer;\nregisterPlotType('radar', RadarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RadarLayer from './layer';\n\nvar Radar =\n/** @class */\nfunction (_super) {\n  __extends(Radar, _super);\n\n  function Radar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Radar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'radar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Radar.getDefaultOptions = RadarLayer.getDefaultOptions;\n  return Radar;\n}(BasePlot);\n\nexport default Radar;","import { Circle } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\nvar ShapeUtil = {\n  splitPoints: function splitPoints(obj) {\n    var points = [];\n    var x = obj.x;\n    var y = obj.y;\n    y = _.isArray(y) ? y : [y];\n\n    _.each(y, function (yItem, index) {\n      var point = {\n        x: _.isArray(x) ? x[index] : x,\n        y: yItem\n      };\n      points.push(point);\n    });\n\n    return points;\n  },\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs: function addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  }\n};\nvar ValueUtil = {\n  lerp: function lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  }\n};\n\nvar getFillAttrs = function getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n};\n\nvar getLineAttrs = function getLineAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.hollowInterval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\n\n\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, amplitude], [x + waveLength / 4, amplitude]];\n  }\n\n  if (stage === 1) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), amplitude / 2], [x + waveLength / 4, 0]];\n  }\n\n  if (stage === 2) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, -amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, -amplitude], [x + waveLength / 4, -amplitude]];\n  }\n\n  return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), -amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), -amplitude / 2], [x + waveLength / 4, 0]];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\n\n\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  var curves = Math.ceil(2 * radius / waveLength * 4) * 2;\n  var path = [];\n  var _phase = phase; // map phase to [-Math.PI * 2, 0]\n\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n\n  _phase = _phase / Math.PI / 2 * waveLength;\n  var left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n\n  path.push(['M', left, waterLevel]);\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n\n  var waveRight = 0;\n\n  for (var c = 0; c < curves; ++c) {\n    var stage = c % 4;\n    var pos = getWaterWavePositions(c * waveLength / 4, stage, waveLength, amplitude);\n    path.push(['C', pos[0][0] + left, -pos[0][1] + waterLevel, pos[1][0] + left, -pos[1][1] + waterLevel, pos[2][0] + left, -pos[2][1] + waterLevel]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n\n\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\n\n\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  var bbox = clip.getBBox();\n  var width = bbox.maxX - bbox.minX;\n  var height = bbox.maxY - bbox.minY;\n  var duration = 5000;\n\n  for (var i = 0; i < waveCount; i++) {\n    var factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    var wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(radius, bbox.minY + height * level, width / 4, 0, width / ValueUtil.lerp(56, 64, factor), x, y),\n        fill: color,\n        clip: clip,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor)\n      }\n    }); // FIXME wave animation error in svg\n\n    if (Global.renderer === 'canvas') {\n      wave.animate({\n        transform: [['t', width / 2, 0]],\n        repeat: true\n      }, ValueUtil.lerp(duration, 0.7 * duration, factor));\n    }\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw: function draw(cfg, container) {\n    var cy = 0.5;\n    var sumX = 0;\n    var minX = Infinity;\n\n    _.each(cfg.points, function (p) {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n\n      sumX += p.x;\n    });\n\n    var cx = sumX / cfg.points.length;\n    var cp = this.parsePoint({\n      x: cx,\n      y: cy\n    });\n    var minP = this.parsePoint({\n      x: minX,\n      y: 0.5\n    });\n    var xWidth = cp.x - minP.x;\n    var radius = Math.min(xWidth, minP.y);\n    var fill = getFillAttrs(cfg).fill;\n    var clipCircle = new Circle({\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius\n      }\n    });\n    var waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        clip: clipCircle\n      }\n    });\n    addWaterWave(cp.x, cp.y, 1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n    3, fill, waves, clipCircle, radius * 4);\n    return container.addShape('circle', {\n      name: 'wrap',\n      attrs: _.mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent'\n      })\n    });\n  }\n});","import { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  var container = shape.get('parent');\n  var box = container.getBBox();\n  var factor = Math.min(Math.max(0, _.get(animateCfg, 'factor', 0.5)), 1);\n\n  var delay = _.get(animateCfg, 'delay', 0);\n\n  var duration = _.get(animateCfg, 'duration', 800);\n\n  var callback = animateCfg.callback;\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = box.maxY;\n  var wrap = container.find(function (shape) {\n    return shape.get('name') == 'wrap';\n  });\n  var wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({\n    opacity: wrapTargetOpacity\n  }, duration * factor, 'easeLinear', null, delay);\n  var waves = container.find(function (shape) {\n    return shape.get('name') == 'waves';\n  });\n\n  var wavesTargetMatrix = _.clone(waves.attr('matrix'));\n\n  waves.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  waves.animate({\n    matrix: wavesTargetMatrix\n  }, duration, animateCfg.easing, function () {\n    return callback && callback(container, wrap, waves);\n  }, delay);\n}\n\nliquidMoveIn.animationName = 'liquidMoveIn';\nAnimate.registerAnimation('appear', 'liquidMoveIn', liquidMoveIn);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\nimport { rgb2arr } from '../../util/color';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'liquid'\n};\n\nvar LiquidLayer =\n/** @class */\nfunction (_super) {\n  __extends(LiquidLayer, _super);\n\n  function LiquidLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'liquid';\n    _this.shouldFadeInAnnotation = true;\n    return _this;\n  }\n\n  LiquidLayer.getDefaultOptions = function () {\n    var cfg = {\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800\n      },\n      liquidStyle: {\n        lineWidth: 2\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  LiquidLayer.prototype.init = function () {\n    this.options.data = [{}];\n\n    _super.prototype.init.call(this);\n  };\n\n  LiquidLayer.prototype.coord = function () {};\n\n  LiquidLayer.prototype.scale = function () {\n    var props = this.options;\n    var min = props.min,\n        max = props.max;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max)\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  LiquidLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  LiquidLayer.prototype.adjustLiquid = function (liquid) {\n    var props = this.options;\n    liquid.shape = {\n      values: ['liquid-fill-gauge']\n    };\n    liquid.tooltip = false;\n    var liquidStyle = props.liquidStyle;\n    if (_.isFunction(liquidStyle)) liquidStyle = liquidStyle();\n\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  };\n\n  LiquidLayer.prototype.addGeometry = function () {\n    var liquid = getGeom('interval', 'main', {\n      positionFields: ['_', 'value'],\n      plot: this\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('element', liquid);\n  };\n\n  LiquidLayer.prototype.animation = function () {\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.liquid.animate = false;\n    } else {\n      var factor = _.get(props, 'animation.factor');\n\n      var easing = _.get(props, 'animation.easing');\n\n      var duration = _.get(props, 'animation.duration');\n\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor: factor,\n          easing: easing,\n          duration: duration\n        }\n      };\n    }\n  };\n\n  LiquidLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  LiquidLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  LiquidLayer.prototype.extractStatistic = function () {\n    var props = this.options;\n    var statistic = props.statistic || {};\n    var content;\n\n    if (_.isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = \"\" + props.value;\n    }\n\n    var fontSize;\n    var shadowBlur;\n\n    if (content) {\n      var contentWidth = void 0;\n\n      if (props.width < props.height) {\n        contentWidth = props.width * 0.8;\n      } else {\n        contentWidth = props.height;\n      }\n\n      fontSize = 0.8 * contentWidth / content.length;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n\n    var opacity;\n\n    if (statistic.visible === false) {\n      opacity = 0;\n    }\n\n    var statisticConfig = _.deepMix({\n      style: {\n        fontSize: fontSize,\n        shadowBlur: shadowBlur\n      }\n    }, statistic, {\n      top: true,\n      content: content,\n      type: 'text',\n      position: ['_', 'median'],\n      style: {\n        opacity: opacity,\n        fill: 'transparent',\n        shadowColor: 'transparent',\n        textAlign: 'center'\n      }\n    });\n\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  };\n\n  LiquidLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    this.fadeInAnnotation();\n  };\n\n  LiquidLayer.prototype.processData = function (data) {\n    var props = this.options;\n    return [{\n      _: '_',\n      value: props.value\n    }];\n  };\n\n  LiquidLayer.prototype.changeValue = function (value) {\n    var props = this.options;\n    props.value = value;\n    this.changeData([]);\n  };\n\n  LiquidLayer.prototype.fadeInAnnotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var animation = props.animation || {};\n    var annotations = this.view.annotation().annotations;\n    var annotationEl = annotations[0].get('el');\n    var colorStyle = this.calcAnnotationColorStyle();\n\n    if (this.shouldFadeInAnnotation) {\n      annotationEl.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, function () {\n        _this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      _.forIn(colorStyle, function (v, k) {\n        return annotationEl.attr(k, v);\n      });\n    }\n  };\n\n  LiquidLayer.prototype.calcAnnotationColorStyle = function () {\n    var props = this.options;\n    var lightColorStyle = {\n      fill: '#f6f6f6',\n      shadowColor: 'black'\n    };\n    var darkColorStyle = {\n      fill: '#303030',\n      shadowColor: 'white'\n    };\n\n    if (_.get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: _.get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: _.get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor)\n      };\n    }\n\n    var min = props.min,\n        max = props.max;\n    var value = props.value;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    var percent;\n\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      var waves = this.view.get('elements')[0].get('container').find(function (shape) {\n        return shape.get('name') == 'waves';\n      });\n      var wave = waves.getChildByIndex(0);\n      var waveColor = wave.attr('fill');\n      var waveOpacity = 0.8;\n      var rgb = rgb2arr(waveColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  };\n\n  LiquidLayer.prototype.updateConfig = function (cfg) {\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.shouldFadeInAnnotation = true;\n  };\n\n  return LiquidLayer;\n}(ViewLayer);\n\nexport default LiquidLayer;\nregisterPlotType('liquid', LiquidLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LiquidLayer from './layer';\n\nvar Liquid =\n/** @class */\nfunction (_super) {\n  __extends(Liquid, _super);\n\n  function Liquid() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Liquid.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'liquid';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Liquid.prototype.changeValue = function (value, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  };\n\n  Liquid.getDefaultOptions = LiquidLayer.getDefaultOptions;\n  return Liquid;\n}(BasePlot);\n\nexport default Liquid;","import { registerShape } from '@antv/g2';\nvar POINTER_RADIUS = 10;\nvar POINTER_LINE_WIDTH = 4;\nregisterShape('point', 'pointer', {\n  draw: function draw(cfg, group) {\n    var point = cfg.points[0];\n    var center = this.parsePoint({\n      x: 0,\n      y: 0\n    });\n    var target = this.parsePoint({\n      x: point.x,\n      y: 0.5\n    });\n    var dir_vec = {\n      x: center.x - target.x,\n      y: center.y - target.y\n    }; //normalize\n\n    var length = Math.sqrt(dir_vec.x * dir_vec.x + dir_vec.y * dir_vec.y);\n    dir_vec.x *= 1 / length;\n    dir_vec.y *= 1 / length; //rotate dir_vector by -90 and scale\n\n    var angle1 = -Math.PI / 2;\n    var x_1 = Math.cos(angle1) * dir_vec.x - Math.sin(angle1) * dir_vec.y;\n    var y_1 = Math.sin(angle1) * dir_vec.x + Math.cos(angle1) * dir_vec.y; //rotate dir_vector by 90 and scale\n\n    var angle2 = Math.PI / 2;\n    var x_2 = Math.cos(angle2) * dir_vec.x - Math.sin(angle2) * dir_vec.y;\n    var y_2 = Math.sin(angle2) * dir_vec.x + Math.cos(angle2) * dir_vec.y; // startx\n\n    var angle = Math.atan2(dir_vec.y, dir_vec.x);\n    var offset = POINTER_LINE_WIDTH / 2 - POINTER_RADIUS;\n    var startX = center.x + Math.cos(angle) * offset;\n    var startY = center.y + Math.sin(angle) * offset; //polygon vertex\n\n    var path = [['M', target.x + x_1 * 1, target.y + y_1 * 1], ['L', startX + x_1 * 3, startY + y_1 * 3], ['L', startX + x_2 * 3, startY + y_2 * 3], ['L', target.x + x_2 * 1, target.y + y_2 * 1], ['Z']];\n    group.addShape('circle', {\n      attrs: {\n        x: center.x,\n        y: center.y,\n        r: POINTER_RADIUS,\n        lineWidth: POINTER_LINE_WIDTH,\n        stroke: cfg.color\n      }\n    });\n    var tick = group.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color\n      }\n    });\n    return tick;\n  }\n});","import { registerTheme } from '../../theme';\nregisterTheme('gauge', {\n  stripWidth: 30,\n  stripBackColor: '#ddd',\n  tickInterval: 20,\n  tickLabelPos: 'inner',\n  tickLabelSize: 16,\n  tickLabelColor: '#aaa',\n  tickLineColor: '#aaa',\n  subTickCount: 4,\n  labelPos: ['50%', '80%'],\n  labelColor: '#666',\n  labelSize: 30\n});","import { __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/pointer';\nimport './theme';\nvar GAP = 1;\nvar RADIUS = 0.9;\n\nvar GaugeLayer =\n/** @class */\nfunction (_super) {\n  __extends(GaugeLayer, _super);\n\n  function GaugeLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'gauge';\n    return _this;\n  }\n\n  GaugeLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      startAngle: -7 / 6,\n      endAngle: 1 / 6,\n      range: [0, 25, 50, 75, 100],\n      gaugeStyle: {\n        tickLineColor: 'rgba(0,0,0,0)',\n        pointerColor: '#bfbfbf',\n        statisticPos: ['50%', '100%']\n      }\n    });\n  };\n\n  GaugeLayer.prototype.init = function () {\n    var _a = this.options,\n        value = _a.value,\n        range = _a.range;\n    var rangeSorted = range.map(function (d) {\n      return +d;\n    }).sort(function (a, b) {\n      return a - b;\n    });\n    var _b = this.options,\n        _c = _b.min,\n        min = _c === void 0 ? rangeSorted[0] : _c,\n        _d = _b.max,\n        max = _d === void 0 ? rangeSorted[rangeSorted.length - 1] : _d,\n        _e = _b.format,\n        format = _e === void 0 ? function (d) {\n      return \"\" + d;\n    } : _e;\n    var valueText = format(value);\n    var styleMix = this.getStyleMix();\n    this.options.styleMix = styleMix;\n    this.options.data = [{\n      value: value || 0\n    }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n\n    _super.prototype.init.call(this);\n  };\n\n  GaugeLayer.prototype.geometryParser = function (dim, type) {\n    throw new Error('Method not implemented.');\n  };\n\n  GaugeLayer.prototype.getStyleMix = function () {\n    var _a = this.options.gaugeStyle,\n        gaugeStyle = _a === void 0 ? {} : _a;\n\n    var _b = this,\n        width = _b.width,\n        height = _b.height;\n\n    var size = Math.max(width, height) / 20;\n    var defaultStyle = Object.assign({}, this.theme, {\n      stripWidth: size,\n      tickLabelSize: size / 2,\n      statisticSize: size * 1.5\n    });\n    return Object.assign(defaultStyle, gaugeStyle);\n  };\n\n  GaugeLayer.prototype.scale = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        format = _a.format,\n        styleMix = _a.styleMix;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: min,\n      max: max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      // 自定义 tick step\n      tickInterval: styleMix.tickInterval\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  GaugeLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: 0.9,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  GaugeLayer.prototype.axis = function () {\n    var styleMix = this.options.styleMix;\n    var offset = typeof styleMix.tickLabelPos === 'number' ? -styleMix.tickLabelPos : styleMix.tickLabelPos === 'outer' ? 0.8 : -0.8;\n    var axesConfig = {\n      fields: {\n        value: {},\n        1: {}\n      }\n    };\n    axesConfig.fields.value = {\n      line: null,\n      label: {\n        offset: offset * (styleMix.stripWidth / 1.8 + styleMix.tickLabelSize / 1.5),\n        textStyle: {\n          fontSize: styleMix.tickLabelSize,\n          fill: styleMix.tickLabelColor,\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      tickLine: {\n        length: offset * (styleMix.stripWidth + 4),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 2,\n        // 由于tickline的zindex在annotation之上，所以使用lineDash实现offset\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 4))]\n      },\n      subTickCount: styleMix.subTickCount,\n      subTickLine: {\n        length: offset * (styleMix.stripWidth + 1),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 1,\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 1))]\n      },\n      labelAutoRotate: true\n    };\n    axesConfig.fields['1'] = false;\n    this.setConfig('axes', axesConfig);\n  };\n\n  GaugeLayer.prototype.addGeometry = function () {\n    var styleMix = this.options.styleMix;\n    var pointerColor = styleMix.pointerColor || this.config.theme.defaultColor;\n    var pointer = {\n      type: 'point',\n      position: {\n        fields: ['value', '1']\n      },\n      shape: {\n        values: ['pointer']\n      },\n      color: {\n        values: [pointerColor]\n      },\n      animate: false\n    };\n    this.setConfig('element', pointer);\n  };\n\n  GaugeLayer.prototype.annotation = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        statistic = _a.statistic,\n        range = _a.range,\n        styleMix = _a.styleMix;\n    var annotationConfigs = []; // @ts-ignore\n\n    if (statistic !== false) {\n      var statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n\n    var arcSize = 1; // 0.965;\n\n    var strips = this.renderArcs(range, arcSize, styleMix);\n    var allArcs = annotationConfigs.concat(strips);\n    this.setConfig('annotations', allArcs);\n  };\n\n  GaugeLayer.prototype.renderArcs = function (range, arcSize, styleMix) {\n    var _this = this;\n\n    var colors = styleMix.colors || this.config.theme.colors;\n\n    var rangeArray = function rangeArray(d) {\n      return __spreadArrays(Array(d).fill(0).map(function (data, i) {\n        return i;\n      }));\n    };\n\n    var count = range.length - 1;\n    var Arcs = [];\n    var Bks = [];\n    var countArray = rangeArray(count);\n\n    _.each(countArray, function (index) {\n      var gap = index === countArray.length - 1 ? 0 : _this.calGapAngle();\n      var arc = {\n        type: 'arc',\n        start: [range[index], arcSize],\n        end: [range[index + 1] - gap, arcSize],\n        style: {\n          stroke: colors[index % colors.length],\n          lineWidth: styleMix.stripWidth\n        }\n      };\n\n      var base = _.deepMix({}, arc, {\n        style: {\n          stroke: styleMix.stripBackColor\n        }\n      });\n\n      Bks.push(base);\n      Arcs.push(arc);\n    }); // 如果range不以0为起始\n\n\n    if (range[0] !== 0) {\n      Bks.push({\n        type: 'arc',\n        start: [0, arcSize],\n        end: [range[0] - this.calGapAngle(), arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    } // 如果range不以100为结束\n\n\n    if (range[range.length - 1] !== 100) {\n      Bks.push({\n        type: 'arc',\n        start: [range[range.length - 1] + this.calGapAngle(), arcSize],\n        end: [100, arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    }\n\n    return Bks.concat(Arcs);\n  };\n\n  GaugeLayer.prototype.statisticHtml = function () {\n    var _a = this.options,\n        value = _a.value,\n        format = _a.format;\n    var statistic = this.options.statistic;\n    var formatted = format(value);\n\n    if (typeof statistic === 'boolean' && statistic === true) {\n      return value !== null ? formatted : '--';\n    }\n\n    if (typeof statistic === 'string') {\n      return statistic;\n    }\n\n    if (typeof statistic === 'function') {\n      return statistic(value, formatted);\n    }\n\n    return null;\n  };\n\n  GaugeLayer.prototype.renderStatistic = function () {\n    var _a = this.options,\n        statistic = _a.statistic,\n        styleMix = _a.styleMix;\n    var statisticHtml = this.statisticHtml();\n\n    if (typeof statistic !== 'function') {\n      var text = {\n        type: 'text',\n        content: statisticHtml,\n        top: true,\n        position: styleMix.statisticPos,\n        style: {\n          fill: styleMix.statisticColor,\n          fontSize: styleMix.statisticSize,\n          textAlign: 'center'\n        }\n      };\n      return text;\n    }\n\n    if (typeof statistic === 'function') {\n      var html = {\n        type: 'html',\n        zIndex: 10,\n        position: styleMix.statisticPos,\n        html: statisticHtml\n      };\n      return html;\n    }\n  };\n\n  GaugeLayer.prototype.calGapAngle = function () {\n    var ratio = Math.abs(this.options.startAngle - this.options.endAngle) / Math.PI * 100;\n    var radius = this.width / 2 * RADIUS;\n    return GAP / radius * ratio;\n  };\n\n  return GaugeLayer;\n}(ViewLayer);\n\nexport default GaugeLayer;\nregisterPlotType('gauge', GaugeLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GaugeLayer from './layer';\n\nvar Gauge =\n/** @class */\nfunction (_super) {\n  __extends(Gauge, _super);\n\n  function Gauge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Gauge.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'gauge';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Gauge.getDefaultOptions = GaugeLayer.getDefaultOptions;\n  return Gauge;\n}(BasePlot);\n\nexport default Gauge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport AreaLayer from './layer';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Area.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'area';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Area.getDefaultOptions = AreaLayer.getDefaultOptions;\n  return Area;\n}(BasePlot);\n\nexport default Area;","import { __assign, __extends } from \"tslib\";\nimport { Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nvar DEFAULT_SIZE = 12;\nvar TOLERANCE = 0.01;\nvar MAX_ITERATION = 100;\nvar MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  var maxHeight = -Infinity;\n  var min = Infinity;\n  var max = -Infinity;\n\n  _.each(points, function (p) {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    var height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n\n  return {\n    xRange: [min, max],\n    maxHeight: maxHeight\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  var leftPoint = points[0];\n  var rightPoint = points[points.length - 1];\n\n  _.each(points, function (p) {\n    if (p.x === x) {\n      return p.y[index];\n    }\n\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n\n  var t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  var i;\n\n  for (i = 0; i < data.length; i++) {\n    var d = data[i];\n\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n\n  return i;\n}\n\nvar AreaLabel =\n/** @class */\nfunction (_super) {\n  __extends(AreaLabel, _super);\n\n  function AreaLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.scaleFactor = [];\n    return _this;\n  }\n\n  AreaLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this; // 获取堆叠字段\n\n\n    var stackField = this.get('element').get('attrs').color.scales[0].field; // 根据stackField将point分组\n\n    var groupedPoints = this._groupPoints(points, stackField);\n\n    var labelPoints = [];\n\n    _.each(groupedPoints, function (pointArray, name) {\n      var labelPoint = _this._drawLabel(pointArray, name);\n\n      if (labelPoint) {\n        labelPoints.push(_.mix({}, pointArray[0], labelPoint));\n\n        _this.scaleFactor.push(labelPoint.scaleFactor);\n      }\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var labelOptions = this.get('labelOptions');\n\n    if (labelOptions.autoScale) {\n      this._adjuestLabelSize();\n    }\n  };\n\n  AreaLabel.prototype._groupPoints = function (points, field) {\n    var groupedPoints = {};\n\n    _.each(points, function (p) {\n      var value = p._origin[field];\n\n      if (!_.has(groupedPoints, value)) {\n        groupedPoints[value] = [];\n      }\n\n      groupedPoints[value].push(p);\n    });\n\n    return groupedPoints;\n  };\n\n  AreaLabel.prototype._drawLabel = function (points, name) {\n    var _a = getRange(points),\n        xRange = _a.xRange,\n        maxHeight = _a.maxHeight; // 根据area宽度在x方向各点间做插值\n\n\n    var resolution = xRange[1] - xRange[0];\n\n    var interpolatedPoints = this._getInterpolatedPoints(xRange[0], resolution, points); // 获取label的bbox\n\n\n    var bbox = this._getLabelBbox(name);\n\n    var fitOption = {\n      xRange: xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true\n    };\n\n    var height = this._bisection(MIN_HEIGHT, maxHeight, this._testFit, fitOption, TOLERANCE, MAX_ITERATION);\n\n    if (height === null) {\n      return;\n    }\n\n    fitOption.justTest = false;\n\n    var fit = this._testFit(fitOption);\n\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = height / bbox.height * 0.4;\n    return fit;\n  };\n\n  AreaLabel.prototype._getInterpolatedPoints = function (minX, resolution, points) {\n    var interpolatedPoints = [];\n    var step = 2;\n\n    for (var i = minX; i < resolution; i += step) {\n      var y0 = interpolateY(i, points, 0);\n      var y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1]\n      });\n    }\n\n    return interpolatedPoints;\n  };\n\n  AreaLabel.prototype._bisection = function (min, max, test, testOption, tolerance, maxIteration) {\n    for (var i = 0; i < maxIteration; i++) {\n      var middle = (min + max) / 2;\n      var options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      var passesTest = test(options);\n      var withinTolerance = (max - min) / 2 < tolerance;\n\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n\n    return null;\n  };\n\n  AreaLabel.prototype._testFit = function (option) {\n    var xRange = option.xRange,\n        width = option.width,\n        height = option.height,\n        data = option.data,\n        justTest = option.justTest;\n\n    for (var i = 0; i < data.length; i++) {\n      var d = data[i];\n      var x0 = d.x;\n      var x1 = x0 + width;\n\n      if (x1 > xRange[1]) {\n        break;\n      }\n\n      var x1_index = getXIndex(data, x1);\n      var ceiling = -Infinity;\n      var ceilingFloor = null; // 保存ceiling时对应的bottom位置，ceil和floor不一定是一对坐标\n\n      var floor = Infinity;\n\n      for (var j = i; j < x1_index; j++) {\n        var top_1 = data[j].y[1];\n        var bottom = data[j].y[0];\n\n        if (bottom < floor) {\n          floor = bottom;\n        }\n\n        if (top_1 > ceiling) {\n          ceiling = top_1;\n          ceilingFloor = bottom;\n        }\n\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width: width,\n          height: height\n        };\n      }\n    }\n\n    return false;\n  };\n\n  AreaLabel.prototype._getLabelBbox = function (text) {\n    var plot = this.get('labelOptions').plot;\n\n    var labelStyle = _.clone(plot.theme.label.textStyle);\n\n    labelStyle.fontSize = DEFAULT_SIZE;\n    var tShape = new Text({\n      attrs: __assign({\n        text: text,\n        x: 0,\n        y: 0\n      }, labelStyle)\n    });\n    return tShape.getBBox();\n  };\n\n  AreaLabel.prototype._adjuestLabelSize = function () {\n    var _this = this;\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var scaleFactor = _this.scaleFactor[index];\n      label.attr('fontSize', DEFAULT_SIZE);\n      label.transform([['t', -label.attr('x'), -label.attr('y')], ['s', scaleFactor, scaleFactor], ['t', label.attr('x'), label.attr('y')]]);\n    });\n\n    view.get('canvas').draw();\n  };\n\n  return AreaLabel;\n}(ElementLabels);\n\nregisterElementLabels('area', AreaLabel);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { deepMix, each } from '@antv/util';\nvar MARGIN = 10;\n\nvar AreaLineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(AreaLineElementLabels, _super);\n\n  function AreaLineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaLineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n    each(shapes, function (shape) {\n      var originData = shape.get('origin');\n      var lastPoint = deepMix({}, originData[originData.length - 1]);\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      lastPoint.y = lastPoint.y[1];\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n    view.get('canvas').draw();\n  };\n\n  AreaLineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n    each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('fill');\n      }\n    });\n    return color;\n  };\n\n  return AreaLineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('areaLine', AreaLineElementLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseArea from '../area/layer';\nimport './component/label/area-label';\nimport './component/label/line-label';\n\nvar StackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackAreaLayer, _super);\n\n  function StackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackArea';\n    return _this;\n  }\n\n  StackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: false,\n        type: 'area'\n      }\n    });\n  };\n\n  StackAreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      this.area.label = false;\n      return;\n    }\n\n    var labelType = this.getLabelType(label);\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n    if (labelType === 'areaLine' || labelType === 'area') {\n      label.offset = 0;\n    }\n\n    if (labelType === 'area') {\n      label.style = _.deepMix({}, label.style, {\n        lineWidth: 0,\n        stroke: 'rgba(0,0,0,0)'\n      });\n    }\n\n    this.area.label = getComponent('label', __assign({\n      fields: [this.getLabelField(labelType, props)],\n      labelType: labelType,\n      plot: this\n    }, label));\n  };\n\n  StackAreaLayer.prototype.adjustArea = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustLine = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustPoint = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.getLabelField = function (type, props) {\n    var mapper = {\n      point: props.yField,\n      areaLine: props.stackField,\n      area: props.stackField\n    };\n    return mapper[type];\n  };\n\n  StackAreaLayer.prototype.getLabelType = function (labelProps) {\n    if (labelProps.type === 'line') {\n      return 'areaLine';\n    }\n\n    return labelProps.type;\n  };\n\n  return StackAreaLayer;\n}(BaseArea);\n\nexport default StackAreaLayer;\nregisterPlotType('stackArea', StackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackAreaLayer from './layer';\n\nvar StackArea =\n/** @class */\nfunction (_super) {\n  __extends(StackArea, _super);\n\n  function StackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackArea.getDefaultOptions = StackAreaLayer.getDefaultOptions;\n  return StackArea;\n}(BasePlot);\n\nexport default StackArea;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackArea from '../stack-area/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackAreaLayer, _super);\n\n  function PercentageStackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackArea';\n    return _this;\n  }\n\n  PercentageStackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackAreaLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData, xField, [yField]);\n  };\n\n  PercentageStackAreaLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      minLimit: 0,\n      maxLimit: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = _.deepMix({}, metaConfig, this.options.meta);\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackAreaLayer;\n}(StackArea);\n\nexport default PercentageStackAreaLayer;\nregisterPlotType('percentageStackArea', PercentageStackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackAreaLayer from './layer';\n\nvar PercentageStackArea =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackArea, _super);\n\n  function PercentageStackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackArea.getDefaultOptions = PercentageStackAreaLayer.getDefaultOptions;\n  return PercentageStackArea;\n}(BasePlot);\n\nexport default PercentageStackArea;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  var _a = animateCfg || {},\n      _b = _a.duration,\n      duration = _b === void 0 ? 200 : _b,\n      easing = _a.easing,\n      callback = _a.callback,\n      reverse = _a.reverse;\n\n  var box = shape.getBBox();\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = reverse ? box.minY : box.maxY;\n  var shapeIndex = shape.get('index');\n  var clip = getClip(coord);\n\n  var clipTargetMatrix = _.clone(clip.attr('matrix'));\n\n  clip.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  var shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('clip', clip);\n  clip.animate({\n    matrix: clipTargetMatrix\n  }, duration, easing, function () {\n    clip.remove();\n    shape.attr('clip', null);\n  }, shapeIndex * duration);\n  shape.animate({\n    fillOpacity: shapeTargetFillOpacity\n  }, duration, easing, null, shapeIndex * duration);\n  callback && setTimeout(function () {\n    return callback(shape);\n  }, duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nAnimate.registerAnimation('appear', 'funnelScaleInY', funnelScaleInY);","import { registerTheme } from '../../theme';\nregisterTheme('funnel', {\n  bleeding: [0, 136, 8, 24]\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { rgb2arr } from '../../../../util/color';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n}\n\nvar FunnelLabel =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabel, _super);\n\n  function FunnelLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabel.prototype.setLabelPosition = function (point, originPoint, index) {\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    if (transposed) {\n      point.x -= width;\n    } else {\n      point.y += height;\n    }\n\n    point.textAlign = 'center';\n  };\n\n  FunnelLabel.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个值,取最后一个值\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    };\n    label.x = getDimValue(point.x, index);\n    label.y = getDimValue(point.y, index);\n    this.setLabelPosition(label, point, index);\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  FunnelLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var adjustColor = _this.get('labelOptions').adjustColor;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  FunnelLabel.prototype.adjustColor = function (label, shape) {\n    var shapeColor = shape.attr('fill');\n    var shapeOpacity = _.isNumber(shape.attr('opacity')) ? Math.min(Math.max(0, shape.attr('opacity')), 1) : 1;\n    var rgb = rgb2arr(shapeColor);\n    var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    var fill = gray < 156 ? '#f6f6f6' : '#303030';\n    label.attr('fill', fill);\n    var coord = this.get('coord');\n    var labelBBox = label.getBBox();\n    var shapeBBox = shape.getBBox();\n\n    var _a = coord.invertMatrix(shapeBBox.x, shapeBBox.y, 1),\n        shapeStartX = _a[0],\n        shapeStartY = _a[1];\n\n    var _b = coord.invertMatrix(shapeBBox.width, shapeBBox.height, 0),\n        shapeSizeX = _b[0],\n        shapeSizeY = _b[1];\n\n    var _c = [shapeStartX + shapeSizeX, shapeStartY + shapeSizeY],\n        shapeEndX = _c[0],\n        shapeEndY = _c[1];\n    var shapeMinX = Math.min(shapeStartX, shapeEndX);\n    var shapeMaxX = Math.max(shapeStartX, shapeEndX);\n    var shapeMinY = Math.min(shapeStartY, shapeEndY);\n    var shapeMaxY = Math.max(shapeStartY, shapeEndY);\n    var shapeContainsLabel = labelBBox.minX >= shapeMinX && labelBBox.maxX <= shapeMaxX && labelBBox.minY >= shapeMinY && labelBBox.maxY <= shapeMaxY;\n    label.set('visible', shapeContainsLabel);\n  };\n\n  FunnelLabel.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  return FunnelLabel;\n}(ElementLabels);\n\nexport { FunnelLabel };\nregisterElementLabels('funnelLabel', FunnelLabel);","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n} // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval.rect.default;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points, _a) {\n  var ratioUpper = _a.ratioUpper,\n      ratioLower = _a.ratioLower;\n  var path = [];\n  var firstPoint = points[0];\n  var originX = (points[1].x + points[2].x) / 2;\n  var factorTop = 1.2;\n  var factorBottom = 0.6;\n  var firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    var pointX = points[i].x;\n\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n\n    path.push(['L', pointX, points[i].y]);\n  }\n\n  path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points, _.get(cfg, 'origin._origin.__custom__'));\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LabelParser from '../../../../components/label/parser';\nimport { getPrecisionFormatter, getSuffixFormatter, combineFormatter, getNoopFormatter } from '../../../../util/formatter';\n\nvar FunnelLabelParser =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabelParser, _super);\n\n  function FunnelLabelParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabelParser.prototype.parseFormatter = function (config, xValue, yValue) {\n    var labelProps = this.originConfig;\n    var preformatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n\n    config.formatter = function (text, item, idx) {\n      var yValueFormatted = preformatter(yValue, item, idx);\n\n      if (_.isFunction(labelProps.formatter)) {\n        return labelProps.formatter(xValue, yValueFormatted, item, idx);\n      } else {\n        return xValue + \" \" + yValueFormatted;\n      }\n    };\n  };\n\n  return FunnelLabelParser;\n}(LabelParser);\n\nexport default FunnelLabelParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Animate } from '@antv/g2';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport './theme';\nimport './component/label/funnel-label';\nimport './animation/funnel-scale-in-y';\nimport './geometry/shape/funnel-dynamic-rect';\nimport FunnelLabelParser from './component/label/funnel-label-parser';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'funnel'\n};\n\nvar FunnelLayer =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLayer, _super);\n\n  function FunnelLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.type = 'funnel';\n    _this.shouldAdjustLegends = true;\n    _this.legendsListenerAttached = false;\n    _this.shouldAdjustLabels = false;\n    _this.shouldResetPercentages = false;\n\n    _this._onLegendContainerMouseDown = function (e) {\n      var props = _this.options;\n\n      if (e.target.name == 'legend-item') {\n        _this.refreshPercentages();\n\n        if (props.dynamicHeight) {\n          var data = _this._findCheckedDataByMouseDownLegendItem(e.target);\n\n          _this._genCustomFieldForDynamicHeight(data);\n        }\n      }\n    };\n\n    _this.adjustProps(_this.options);\n\n    return _this;\n  }\n\n  FunnelLayer.getDefaultOptions = function () {\n    var cfg = {\n      label: {\n        visible: true,\n        adjustColor: true,\n        formatter: function formatter(xValue, yValue) {\n          return xValue + \" \" + yValue;\n        }\n      },\n      percentage: {\n        visible: true,\n        offsetX: 40,\n        offsetY: 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)'\n          }\n        },\n        text: {\n          content: '转化率',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)'\n          }\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black'\n          },\n          formatter: function formatter(yValueUpper, yValueLower) {\n            return (100 * yValueLower / yValueUpper).toFixed(2) + \"%\";\n          }\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            stroke: null\n          }\n        }\n      },\n      animation: _.deepMix({}, Animate.defaultCfg, {\n        appear: {\n          duration: 800\n        }\n      }),\n      dynamicHeight: false\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  FunnelLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      actions: props.dynamicHeight ? [] : [['transpose'], ['scale', 1, -1]]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  FunnelLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  FunnelLayer.prototype.adjustFunnel = function (funnel) {\n    var props = this.options;\n    funnel.shape = {\n      values: [props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel']\n    };\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color])\n    };\n    funnel.adjust = [{\n      type: props.dynamicHeight ? 'stack' : 'symmetric'\n    }];\n\n    if (props.dynamicHeight) {\n      this._genCustomFieldForDynamicHeight(this.getData());\n    }\n  };\n\n  FunnelLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this\n    });\n\n    if (props.label) {\n      funnel.label = this.extractLabel();\n    }\n\n    this.adjustFunnel(funnel);\n    this.funnel = funnel;\n    this.setConfig('element', funnel);\n  };\n\n  FunnelLayer.prototype.animation = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.funnel.animate = false;\n      this.shouldAdjustLabels = true;\n      this.shouldResetPercentages = true;\n\n      _.set(this.funnel, 'label.textStyle.opacity', 1);\n    } else {\n      var appearDuration = _.get(props, 'animation.appear.duration');\n\n      var appearDurationEach_1 = appearDuration / (this.getData().length || 1);\n\n      if (this.animationAppearTimeoutHandler) {\n        clearTimeout(this.animationAppearTimeoutHandler);\n        delete this.animationAppearTimeoutHandler;\n      }\n\n      this.animationAppearTimeoutHandler = setTimeout(function () {\n        _this.shouldAdjustLabels = true;\n        _this.shouldResetPercentages = true;\n\n        _this.resetPercentages();\n\n        _this.fadeInPercentages(appearDurationEach_1);\n      }, appearDuration);\n      this.funnel.animate = _.deepMix({}, props.animation, {\n        appear: {\n          animation: 'funnelScaleInY',\n          duration: appearDurationEach_1,\n          reverse: props.dynamicHeight,\n          callback: function callback(shape) {\n            _this.view.get('elements').forEach(function (element) {\n              var labelsContainer = element.get('labelController').labelsContainer;\n\n              if (labelsContainer) {\n                var label = labelsContainer.get('labelsRenderer').get('group').get('children').find(function (label) {\n                  return element.getShapeId(label.get('origin')) == shape.id;\n                });\n\n                if (label) {\n                  label.attr('opacity', 1);\n                }\n              }\n            });\n          }\n        }\n      });\n    }\n  };\n\n  FunnelLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  FunnelLayer.prototype.afterRender = function () {\n    var props = this.options;\n\n    _super.prototype.afterRender.call(this);\n\n    this.adjustLegends();\n    this.adjustLabels();\n    this.resetPercentages();\n\n    if (props.animation === false) {\n      this.fadeInPercentages();\n    }\n\n    if (!this.legendsListenerAttached) {\n      this.legendsListenerAttached = true;\n      var legendContainer = this.view.get('legendController').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  };\n\n  FunnelLayer.prototype.updateConfig = function (cfg) {\n    cfg = this.adjustProps(_.deepMix({}, this.options, cfg));\n\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.shouldAdjustLegends = true;\n    this.shouldAdjustLabels = false;\n    this.shouldResetPercentages = false;\n  };\n\n  FunnelLayer.prototype.changeData = function (data) {\n    var props = this.options;\n\n    if (props.animation !== false) {\n      this.shouldResetPercentages = false;\n    }\n\n    this.shouldAdjustLegends = true;\n\n    if (props.dynamicHeight) {\n      this._genCustomFieldForDynamicHeight(data);\n    }\n\n    _super.prototype.changeData.call(this, data);\n\n    this.refreshPercentages();\n  };\n\n  FunnelLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = new FunnelLabelParser(_.deepMix({\n      textStyle: {\n        stroke: null\n      }\n    }, label, {\n      plot: this,\n      labelType: 'funnelLabel',\n      position: 'middle',\n      textStyle: {\n        opacity: 0\n      },\n      fields: [props.xField, props.yField]\n    })).getConfig();\n    return labelConfig;\n  };\n\n  FunnelLayer.prototype.adjustLegends = function () {\n    if (!this.shouldAdjustLegends) return;\n    this.shouldAdjustLegends = false;\n    var props = this.options;\n\n    if (_.contains(['top-center', 'bottom-center'], props.legend.position)) {\n      var legendController = this.view.get('legendController');\n      legendController.legends.forEach(function (legend) {\n        var legendGroup = legend.get('container');\n        var offsetX = (props.padding[3] - props.padding[1]) / 2;\n        legendGroup.translate(offsetX, 0);\n      });\n    }\n  };\n\n  FunnelLayer.prototype.adjustLabels = function () {\n    if (!this.shouldAdjustLabels) return;\n    this.view.get('elements').forEach(function (element) {\n      var labelsContainer = element.get('labelController').labelsContainer;\n\n      if (labelsContainer) {\n        labelsContainer.get('labelsRenderer').get('group').get('children').forEach(function (label) {\n          return label.attr('opacity', 1);\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.adjustProps = function (props) {\n    if (props.dynamicHeight) {\n      _.set(props, \"meta.\" + props.yField + \".nice\", false);\n\n      _.set(props, 'tooltip.shared', false);\n    }\n\n    return props;\n  };\n\n  FunnelLayer.prototype.resetPercentages = function () {\n    var _this = this;\n\n    if (!this.shouldResetPercentages) return;\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY,\n        spacing = _a.spacing,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var adjustTimestamp = Date.now();\n\n    var container = this._findPercentageContainer(true);\n\n    var coord = this.view.get('coord');\n    var i = 0;\n    var datumUpper;\n    this.view.eachShape(function (datumLower, shape) {\n      if (i++ > 0) {\n        var _a = shape.getBBox(),\n            maxX = _a.maxX,\n            maxY = _a.maxY,\n            minY = _a.minY;\n\n        var _b = coord.invertMatrix(maxX, props.dynamicHeight ? minY : maxY, 1),\n            x = _b[0],\n            y = _b[1];\n\n        var _c = _this._findPercentageMembersInContainerByShape(container, shape, true),\n            line = _c.line,\n            text = _c.text,\n            value = _c.value;\n\n        if (line) {\n          line.attr(_.deepMix({}, percentageLine.style, {\n            x1: x,\n            y1: y,\n            x2: x + offsetX,\n            y2: y + offsetY,\n            opacity: 0\n          }));\n          line.set('adjustTimestamp', adjustTimestamp);\n        }\n\n        var textWidth = 0;\n\n        if (text) {\n          text.attr(_.deepMix({}, percentageText.style, {\n            x: x + offsetX + spacing,\n            y: y + offsetY,\n            opacity: 0,\n            text: percentageText.content,\n            textAlign: 'left',\n            textBaseline: 'middle'\n          }));\n          text.set('adjustTimestamp', adjustTimestamp);\n          textWidth = text.getBBox().width;\n        }\n\n        if (value) {\n          value.attr(_.deepMix({}, percentageValue.style, {\n            x: x + offsetX + spacing + textWidth + spacing,\n            y: y + offsetY,\n            opacity: 0,\n            text: _.isFunction(percentageValue.formatter) ? percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField]) : '',\n            textAlign: 'left',\n            textBaseline: 'middle'\n          }));\n          value.set('adjustTimestamp', adjustTimestamp);\n        }\n      }\n\n      datumUpper = datumLower;\n    });\n    container.get('children').forEach(function (child) {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({\n          opacity: 0\n        });\n        setTimeout(function () {\n          return child.remove();\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.fadeInPercentages = function (duration, callback) {\n    var _this = this;\n\n    var container = this._findPercentageContainer();\n\n    var lastMaxY = -Infinity;\n    this.view.eachShape(function (datum, shape) {\n      var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n      var currMinY = Infinity;\n      var currMaxY = -Infinity;\n\n      _.each(members, function (member) {\n        if (member) {\n          var _a = member.getBBox(),\n              minY = _a.minY,\n              maxY = _a.maxY;\n\n          if (minY < currMinY) {\n            currMinY = minY;\n          }\n\n          if (maxY > currMaxY) {\n            currMaxY = maxY;\n          }\n        }\n      });\n\n      if (currMinY >= lastMaxY) {\n        _.each(members, function (member) {\n          if (member) {\n            var lineAttrs = {\n              opacity: 1\n            };\n            duration ? member.animate(lineAttrs, duration) : member.attr(lineAttrs);\n          }\n        });\n      }\n\n      if (currMaxY > lastMaxY) {\n        lastMaxY = currMaxY;\n      }\n    });\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.fadeOutPercentages = function (duration, callback) {\n    var _this = this;\n\n    var container = this._findPercentageContainer();\n\n    this.view.eachShape(function (datum, shape) {\n      var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n      _.each(members, function (member) {\n        if (member) {\n          var lineAttrs = {\n            opacity: 0\n          };\n          duration ? member.animate(lineAttrs, duration) : member.attr(lineAttrs);\n        }\n      });\n    });\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.refreshPercentages = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var updateDuration = _.get(props, 'animation.update.duration');\n\n      var enterDuration = _.get(props, 'animation.enter.duration');\n\n      var fadeOutPercentagesDuration = Math.max(enterDuration, updateDuration);\n      var fadeInPercentagesDuration_1 = Math.min(enterDuration, updateDuration) * 0.6;\n      this.shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutPercentagesDuration, function () {\n        _this.shouldResetPercentages = true;\n\n        _this.resetPercentages();\n\n        _this.fadeInPercentages(fadeInPercentagesDuration_1);\n      });\n    }\n  };\n\n  FunnelLayer.prototype._findPercentageContainer = function (createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var percentageContainer;\n\n    if (this.view) {\n      var elements = this.view.get('elements');\n      elements.find(function (element) {\n        return percentageContainer = element.get('percentageContainer');\n      });\n\n      if (!percentageContainer && createIfNotFound) {\n        if (elements.length) {\n          var element = elements[0];\n          percentageContainer = element.get('container').addGroup();\n          element.set('percentageContainer', percentageContainer);\n        }\n      }\n    }\n\n    return percentageContainer;\n  };\n\n  FunnelLayer.prototype._findPercentageMembersInContainerByShape = function (container, shape, createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        visible = _a.visible,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var members = {\n      line: undefined,\n      text: undefined,\n      value: undefined\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      var lineId = \"_percentage-line-\" + shape.id;\n      var line = container.findById(lineId);\n\n      if (!line && createIfNotFound) {\n        line = container.addShape('line', {\n          id: lineId\n        });\n      }\n\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      var textId = \"_percentage-text-\" + shape.id;\n      var text = container.findById(textId);\n\n      if (!text && createIfNotFound) {\n        text = container.addShape('text', {\n          id: textId\n        });\n      }\n\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      var valueId = \"_percentage-value-\" + shape.id;\n      var value = container.findById(valueId);\n\n      if (!value && createIfNotFound) {\n        value = container.addShape('text', {\n          id: valueId\n        });\n      }\n\n      members.value = value;\n    }\n\n    return members;\n  };\n\n  FunnelLayer.prototype._genCustomFieldForDynamicHeight = function (data) {\n    var props = this.options;\n    var total = data.reduce(function (total, datum) {\n      return total + datum[props.yField];\n    }, 0);\n    var ratioUpper = 1;\n    data.forEach(function (datum, index) {\n      var value = datum[props.yField];\n      var share = value / total;\n      var ratioLower = ratioUpper - share;\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper: ratioUpper,\n        ratioLower: ratioLower\n      };\n      ratioUpper = ratioLower;\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedDataByMouseDownLegendItem = function (legendItem) {\n    var props = this.options;\n    var legendItemOrigin = legendItem.get('origin');\n    var brotherValues = legendItem.get('parent').get('parent').findAll(function (shape) {\n      return shape != legendItem && shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    var data = [];\n    this.getData().forEach(function (datum) {\n      var xValue = datum[props.xField];\n\n      if (legendItemOrigin.value == xValue && !legendItem.get('parent').get('checked') || _.contains(brotherValues, xValue)) {\n        data.push(datum);\n      }\n    });\n    return data;\n  };\n\n  return FunnelLayer;\n}(ViewLayer);\n\nexport default FunnelLayer;\nregisterPlotType('funnel', FunnelLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport FunnelLayer from './layer';\n\nvar Funnel =\n/** @class */\nfunction (_super) {\n  __extends(Funnel, _super);\n\n  function Funnel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Funnel.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'funnel';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Funnel.getDefaultOptions = FunnelLayer.getDefaultOptions;\n  return Funnel;\n}(BasePlot);\n\nexport default Funnel;","import { __assign, __extends } from \"tslib\";\nimport { registerElement, Element } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport * as colorUtil from '../../util/color';\nvar GAUSS_COEF = 0.3989422804014327;\nvar ZERO = 1.0 / 255.0 / 16.0;\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar LinearHeatmap =\n/** @class */\nfunction (_super) {\n  __extends(LinearHeatmap, _super);\n\n  function LinearHeatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'linearHeatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  LinearHeatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  LinearHeatmap.prototype._prepareSize = function () {\n    var radius;\n\n    if (this.get('radius')) {\n      radius = this.get('radius');\n    } else {\n      radius = this.getDefaultValue('size');\n\n      if (!_.isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  LinearHeatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  LinearHeatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  LinearHeatmap.prototype._prepareGreyScaleBlurredCircle = function (r) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var intensity = this.get('intensity') ? this.get('intensity') : 2;\n    var circleRadius = Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0 * r;\n    var blur = circleRadius - r;\n    var r2 = circleRadius + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  LinearHeatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  LinearHeatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('panelRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    var context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  };\n\n  LinearHeatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  LinearHeatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  LinearHeatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  LinearHeatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  LinearHeatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range);\n  };\n\n  return LinearHeatmap;\n}(Element);\n\nregisterElement('linearHeatmap', LinearHeatmap);","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix, clone } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\nvar ACTIVE_OPACITY = 1;\nvar DEACTIVE_OPACITY = 0.4;\n\nvar HeatmapLegend =\n/** @class */\nfunction () {\n  function HeatmapLegend(cfg) {\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  HeatmapLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  HeatmapLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  HeatmapLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  HeatmapLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  HeatmapLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  HeatmapLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width;\n    var gridHeight = this.height / colors.length;\n    var gridLineContainer = new Group();\n    var gridColors = clone(colors).reverse();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(gridColors, function (c, i) {\n      var y = gridHeight * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        to: max - valueStep * i,\n        from: max - valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y: y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n\n      var dataSlide = _this.getDataSlide(appendInfo);\n\n      _this.dataSlides[appendInfo.from + \"-\" + appendInfo.to] = {\n        mode: 'active',\n        data: dataSlide\n      };\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, y + gridHeight], ['L', gridWidth, y + gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    var textMax = this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom'\n      }, this.options.text.style)\n    });\n    var textMin = this.container.addShape('text', {\n      attrs: __assign({\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    var path = gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width / colors.length;\n    var gridHeight = this.height;\n    var gridLineContainer = new Group();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(colors, function (c, i) {\n      var x = gridWidth * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        from: valueStep * i,\n        to: valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', x + gridWidth, 0], ['L', x + gridWidth, gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    this.container.addShape('text', {\n      attrs: __assign(__assign({\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2\n      }, this.options.text.style), {\n        textAlign: 'right',\n        textBaseline: 'middle'\n      })\n    });\n    this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  HeatmapLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.options.plot.options.width;\n      return width * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.options.plot.options.height;\n      return height * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  HeatmapLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.getDarkOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    this.container.on('click', function (ev) {\n      var target = ev.target;\n\n      if (target.get('name') === 'grid') {\n        var appendInfo = target.get('info');\n        var targetInfo = appendInfo.from + \"-\" + appendInfo.to;\n        var relativeData = _this.dataSlides[targetInfo];\n\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate({\n            opacity: DEACTIVE_OPACITY\n          }, 200);\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate({\n            opacity: ACTIVE_OPACITY\n          }, 200);\n        }\n\n        var filteredData = _this.getFilteredData();\n\n        if (filteredData.length > 0) {\n          _this.view.set('data', filteredData);\n\n          _this.view.scale(colorField, {\n            min: _this.colorScale.min,\n            max: _this.colorScale.max,\n            nice: _this.colorScale.nice\n          });\n\n          _this.view.render();\n        }\n      }\n    });\n  };\n\n  HeatmapLegend.prototype.getFilteredData = function () {\n    var filteredData = [];\n    each(this.dataSlides, function (s) {\n      if (s.mode == 'active') {\n        filteredData.push.apply(filteredData, s.data);\n      }\n    });\n    return filteredData;\n  }; //预先对数据进行分组\n\n\n  HeatmapLegend.prototype.getDataSlide = function (range) {\n    var slide = [];\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    each(data, function (d) {\n      var value = d[colorField];\n\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  };\n\n  return HeatmapLegend;\n}();\n\nexport default HeatmapLegend;","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar HeatmapBackground =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapBackground, _super);\n\n  function HeatmapBackground(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.options = cfg;\n    _this.view = _this.options.view;\n\n    _this.init();\n\n    return _this;\n  }\n\n  HeatmapBackground.prototype.init = function () {\n    var coord = this.view.get('coord');\n    this.width = coord.width;\n    this.height = coord.height;\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n    this.container.setZIndex(-100);\n  };\n\n  HeatmapBackground.prototype.render = function () {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      var callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container\n      };\n      this.options.callback(callbackCfg);\n    }\n  };\n\n  HeatmapBackground.prototype.renderColorBackground = function () {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.renderImageBackground = function () {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  };\n\n  HeatmapBackground.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove(); // 使用callback定制的html background需要自己监听销毁事件自行销毁\n\n      this.emit('background:destroy');\n    }\n  };\n\n  return HeatmapBackground;\n}(EventEmitter);\n\nexport default HeatmapBackground;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport HeatmapLegend from './components/legend';\nimport HeatmapBackground from './components/background';\nimport '../scatter/components/label/scatter-label';\n\nvar HeatmapLayer =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapLayer, _super);\n\n  function HeatmapLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'heatmap';\n    _this.count = 0;\n    return _this;\n  }\n\n  HeatmapLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            lineWidth: 2\n          }\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      color: ['rgba(33,102,172,0)', 'rgb(103,169,207)', 'rgb(209,229,240)', 'rgb(253,219,199)', 'rgb(239,138,98)', 'rgb(178,24,43)']\n    });\n  };\n\n  HeatmapLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible && this.count < 2) {\n      this.heatmapLegend && this.heatmapLegend.destroy();\n      this.heatmapLegend = new HeatmapLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.heatmapLegend.render();\n      this.paddingController.registerPadding(this.heatmapLegend, 'outer');\n    }\n\n    if (this.options.background && this.options.padding !== 'auto') {\n      this.background = new HeatmapBackground(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.background));\n      this.background.render();\n    }\n\n    _super.prototype.afterRender.call(this);\n\n    this.count += 1;\n  };\n\n  HeatmapLayer.prototype.destroy = function () {\n    if (this.heatmapLegend) {\n      this.heatmapLegend.destroy();\n      this.heatmapLegend = null;\n    }\n\n    if (this.background) {\n      this.background.destroy();\n      this.background = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HeatmapLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  HeatmapLayer.prototype.coord = function () {};\n\n  HeatmapLayer.prototype.geometryParser = function (dim, type) {\n    return 'heatmap';\n  };\n\n  HeatmapLayer.prototype.addGeometry = function () {\n    var config = {\n      type: 'linearHeatmap',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      }\n    };\n\n    if (this.options.radius) {\n      config.radius = this.options.radius;\n    }\n\n    if (this.options.intensity) {\n      config.intensity = this.options.intensity;\n    }\n\n    this.setConfig('element', config);\n    this.addPoint();\n  };\n\n  HeatmapLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false,\n      size: 0\n    };\n\n    if (props.point && props.point.visible) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n\n    var point = getGeom('point', 'guide', {\n      plot: this\n    });\n    point.active = false;\n    point.label = this.extractLabel();\n    this.setConfig('element', point);\n  };\n\n  HeatmapLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  HeatmapLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  HeatmapLayer.prototype.animation = function () {};\n\n  return HeatmapLayer;\n}(ViewLayer);\n\nexport default HeatmapLayer;\nregisterPlotType('heatmap', HeatmapLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HeatmapLayer from './layer';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Heatmap.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'heatmap';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Heatmap.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n  return Heatmap;\n}(BasePlot);\n\nexport default Heatmap;","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\n\nvar MatrixLegend =\n/** @class */\nfunction () {\n  function MatrixLegend(cfg) {\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  MatrixLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  MatrixLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  MatrixLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  MatrixLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  MatrixLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  MatrixLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.height / (colors.length - 1);\n    var gradientColor = 'l(90)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, step], ['L', _this.width, step]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: _this.width + LABEL_MARGIN,\n          y: step\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 10;\n    var tri_height = 14;\n    var tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.width / (colors.length - 1);\n    var gradientColor = 'l(0)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', step, 0], ['L', step, _this.height]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: _this.height + LABEL_MARGIN\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 14;\n    var tri_height = 10;\n    var tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  MatrixLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.view.get('panelRange').width;\n      return width;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.view.get('panelRange').height;\n      return height;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var panelRange = this.view.get('panelRange');\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //用户自行设定\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  MatrixLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)'\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)'\n      },\n      triggerOn: 'mousemove'\n    };\n  };\n\n  MatrixLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var geomType;\n\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    var eventName = geomType + \":\" + this.options.triggerOn;\n    var labelEventName = \"label:\" + this.options.triggerOn;\n    var field = this.options.plot.options.colorField;\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    this.view.on(eventName, function (ev) {\n      var value = ev.data._origin[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.view.on(labelEventName, function (ev) {\n      var value = ev.data[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.options.plot.canvas.on('mouseleave', function (ev) {\n      _this.anchor.set('visible', false);\n    });\n  };\n\n  MatrixLegend.prototype.moveAnchor = function (ratio) {\n    this.anchor.set('visible', true);\n\n    if (this.layout === 'vertical') {\n      var pos = this.height * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    } else {\n      var pos = this.width * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    }\n  };\n\n  return MatrixLegend;\n}();\n\nexport default MatrixLegend;","import { registerShape } from '@antv/g2';\nexport function getRectPath(cx, cy, width, height, size) {\n  var w = width * size;\n  var h = height * size;\n  var path = [['M', cx - w / 2, cy + h / 2], ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2], ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2], ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2], ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2], ['Z']];\n  return path;\n}\nexport function getCirclePath(x, y, size) {\n  var path = [['M', x, y], ['m', -size, 0], ['a', size, size, 0, 1, 0, size * 2, 0], ['a', size, size, 0, 1, 0, -(size * 2), 0], ['Z']];\n  return path;\n}\nexport function getCircleCurve(x, y, size) {\n  // 计算四个角和中点\n  var path = [['M', x - size, y], ['Q', x - size, y - size, x, y - size], ['Q', x + size, y - size, x + size, y], ['Q', x + size, y + size, x, y + size], ['Q', x - size, y + size, x - size, y], ['Z']];\n  return path;\n}\nregisterShape('polygon', 'rect', {\n  draw: function draw(cfg, container) {\n    var points = this.parsePoints(cfg.points);\n    var width = points[2].x - points[0].x;\n    var height = points[0].y - points[1].y;\n    var centerX = points[0].x + width / 2;\n    var centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n\n    var path = getRectPath(centerX, centerY, width, height, cfg.origin.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});\nregisterShape('point', 'curvePoint', {\n  draw: function draw(cfg, container) {\n    var path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\n\nvar MatrixLabels =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLabels, _super);\n\n  function MatrixLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MatrixLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  MatrixLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  MatrixLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n      var reflect = this.mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n    }\n  };\n\n  MatrixLabels.prototype.mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  MatrixLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return MatrixLabels;\n}(ElementLabels);\n\nexport { MatrixLabels };\nregisterElementLabels('matrixLabel', MatrixLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport MatrixLegend from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport './component/label';\nimport './component/legend';\n\nvar MatrixLayer =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLayer, _super);\n\n  function MatrixLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'matrix';\n    _this.gridSize = [];\n    return _this;\n  }\n\n  MatrixLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      forceSquare: false,\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        shared: false,\n        crosshairs: false\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        autoRotateLabel: true\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center'\n        },\n        tickLine: {\n          visible: true\n        },\n        autoRotateLabel: true\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0\n        }\n      }\n    });\n  };\n\n  MatrixLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (this.options.forceSquare) {\n      var panelRange = this.view.get('panelRange');\n      var _a = this.options,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      var rangeSize = Math.min(panelRange.width, panelRange.height);\n      var count = Math.max(xCount, yCount);\n      var gridSize = rangeSize / count;\n      var width = gridSize * xCount;\n      var height = gridSize * yCount;\n      this.view.set('panelRange', new BBox(panelRange.x, panelRange.y, width, height));\n    }\n  };\n\n  MatrixLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible) {\n      if (this.matrixLegend) {\n        this.matrixLegend.destroy();\n      }\n\n      this.matrixLegend = new MatrixLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.matrixLegend.render();\n      this.paddingController.registerPadding(this.matrixLegend, 'outer');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  MatrixLayer.prototype.changeShape = function (type) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n\n    this.options.shapeType = type;\n\n    if (type === 'rect') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.rectToCircle(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.mappingSize = function (field) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    } // 创建scale\n\n\n    var values = _.valuesOfKey(this.options.data, field);\n\n    var min = Math.min.apply(Math, values);\n    var max = Math.max.apply(Math, values);\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: min,\n      max: max\n    });\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  };\n\n  MatrixLayer.prototype.disableMappingSize = function () {\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.geometryParser = function () {\n    return '';\n  };\n\n  MatrixLayer.prototype.coord = function () {};\n\n  MatrixLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  MatrixLayer.prototype.addGeometry = function () {\n    this.gridSize = this.getGridSize();\n\n    if (this.options.shapeType === 'rect') {\n      var rect = this.addRect();\n      this.setConfig('element', rect);\n    } else {\n      var circle = this.addCircle();\n      this.setConfig('element', circle);\n    }\n  };\n\n  MatrixLayer.prototype.addRect = function () {\n    // 如果用户设置了size，将size数值转换为[0,1]区间\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n\n    var rect = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['rect']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      rect.size = {\n        values: [1]\n      };\n    }\n\n    return rect;\n  };\n\n  MatrixLayer.prototype.addCircle = function () {\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n\n    var circle = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['curvePoint']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9]\n      };\n    }\n\n    return circle;\n  };\n\n  MatrixLayer.prototype.extractLabel = function () {\n    var labelOptions = this.options.label; // 不显示label的情况\n\n    if (!labelOptions.visible) {\n      return false;\n    }\n\n    if (!this.options.sizeField && !this.options.colorField) {\n      return false;\n    }\n\n    var label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: 'matrixLabel',\n      fields: this.options.colorField ? [this.options.colorField] : [this.options.sizeField]\n    }, labelOptions));\n    return label;\n  };\n\n  MatrixLayer.prototype.getGridSize = function () {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      var viewRange = this.getViewRange();\n      var _a = this.options,\n          padding = _a.padding,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n      var width = viewRange.width - padding[1] - padding[3];\n      var height = viewRange.height - padding[0] - padding[2];\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      return [width / xCount, height / yCount];\n    }\n  };\n\n  MatrixLayer.prototype.circleToRect = function (shapes) {\n    var _this = this;\n\n    var gridSize = this.gridSize;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var sizeRatio = size * 2 / Math.min(gridSize[0], gridSize[1]);\n\n      if (!_this.options.sizeField) {\n        sizeRatio = 1;\n      }\n\n      var curvePath = getCircleCurve(x, y, size);\n      var rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate({\n        path: rectPath\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectToCircle = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var coord = shape.get('coord');\n      var points = shape.get('origin').points;\n      var ps = [];\n\n      _.each(points, function (p) {\n        ps.push(coord.convertPoint(p));\n      });\n\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var offsetRatio = _this.options.sizeField ? 1 : 0.9;\n      var curvePath = getCircleCurve(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      var circlePath = getCirclePath(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      shape.stopAnimate();\n      shape.animate({\n        path: curvePath\n      }, 500, 'easeLinear', function () {\n        shape.attr('path', circlePath);\n      });\n    });\n  };\n\n  MatrixLayer.prototype.rectSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y;\n\n      var size = Math.min(_this.gridSize[0], _this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      var path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, _this.gridSize[0], _this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  return MatrixLayer;\n}(ViewLayer);\n\nexport default MatrixLayer;\nregisterPlotType('matrix', MatrixLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport MatrixLayer from './layer';\n\nvar Matrix =\n/** @class */\nfunction (_super) {\n  __extends(Matrix, _super);\n\n  function Matrix() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Matrix.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'matrix';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Matrix.prototype.changeShape = function (type) {\n    var layer = this.layers[0];\n    layer.changeShape(type);\n  };\n\n  Matrix.prototype.mappingSize = function (field) {\n    var layer = this.layers[0];\n    layer.mappingSize(field);\n  };\n\n  Matrix.prototype.disableMappingSize = function () {\n    var layer = this.layers[0];\n    layer.disableMappingSize();\n  };\n\n  Matrix.getDefaultOptions = MatrixLayer.getDefaultOptions;\n  return Matrix;\n}(BasePlot);\n\nexport default Matrix;","import { __assign } from \"tslib\";\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction getRectPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n\n    if (point) {\n      var action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  var first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['Z']);\n  return path;\n}\n\nvar ShapeUtil = {\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  }\n};\n\nfunction getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n} // @ts-ignore\n\n\nregisterShape('interval', 'waterfall', {\n  draw: function draw(cfg, container) {\n    var fillAttrs = getFillAttrs(cfg);\n    var rectPath = getRectPath(cfg.points);\n    rectPath = this.parsePath(rectPath); // 1. 区域\n\n    var interval = container.addShape('path', {\n      attrs: _.mix(fillAttrs, {\n        path: rectPath\n      })\n    });\n\n    var leaderLine = _.get(cfg.style, 'leaderLine');\n\n    if (leaderLine && leaderLine.visible) {\n      var lineStyle = leaderLine.style || {}; // 2. 虚线连线\n\n      if (cfg.nextPoints) {\n        var linkPath = [['M', cfg.points[2].x, cfg.points[2].y], ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y]];\n        linkPath = this.parsePath(linkPath);\n        var path = container.addShape('path', {\n          attrs: __assign({\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1\n          }, lineStyle)\n        });\n        path.name = 'leader-line';\n      }\n    }\n\n    return interval;\n  }\n});","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\nimport { VALUE_FIELD } from '../../layer';\n\nvar WaterfallLabels =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLabels, _super);\n\n  function WaterfallLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  WaterfallLabels.prototype.adjustPosition = function (label, shape, item) {\n    var MARGIN = 2;\n    var shapeBox = shape.getBBox();\n    var origin = label.get('origin');\n    var yField = item.fields[0];\n    var values = origin[VALUE_FIELD];\n    var diff = origin[yField];\n    var value = _.isArray(values) ? values[1] : values;\n    var yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    var textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  };\n\n  return WaterfallLabels;\n}(ColumnLabels);\n\nregisterElementLabels('waterfall', WaterfallLabels);","import { __assign } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)'\n  };\n}\n\nvar DiffLabel =\n/** @class */\nfunction () {\n  function DiffLabel(cfg) {\n    this.textAttrs = {};\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = _.mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n  /** 绘制辅助labels */\n\n\n  DiffLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var data = _.clone(this.view.get('data'));\n\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes().filter(function (s) {\n      return s.name === 'interval';\n    });\n    var labelsGroup = new Group();\n\n    _.each(shapes, function (shape, idx) {\n      if (!shape.get('origin')) return;\n\n      var _origin = shape.get('origin')._origin;\n\n      var shapeBox = shape.getBBox();\n      var values = _origin[VALUE_FIELD];\n      var diff = values;\n\n      if (_.isArray(values)) {\n        diff = values[1] - values[0];\n      }\n\n      diff = diff > 0 ? \"+\" + diff : diff;\n      /** is total, total do not need `+` sign */\n\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n\n      var formattedText = diff;\n\n      if (_this.formatter) {\n        var color = shapes[idx].attr('fill');\n        formattedText = _this.formatter(\"\" + diff, {\n          _origin: data[idx],\n          color: color\n        }, idx);\n      }\n\n      var text = labelsGroup.addShape('text', {\n        attrs: __assign({\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2\n        }, _this.textAttrs)\n      });\n\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n\n    this.container.add(labelsGroup);\n    this.view.get('canvas').draw();\n  };\n\n  DiffLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  DiffLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  return DiffLabel;\n}();\n\nexport default DiffLabel;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel from './component/label/diff-label';\nvar G2_GEOM_MAP = {\n  waterfall: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'waterfall'\n};\nexport var VALUE_FIELD = '$$value$$';\nexport var IS_TOTAL = '$$total$$';\nvar INDEX_FIELD = '$$index$$';\n\nvar WaterfallLayer =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLayer, _super);\n\n  function WaterfallLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'watarfall';\n    return _this;\n  }\n\n  WaterfallLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: false,\n        position: 'bottom'\n      },\n      label: {\n        visible: true,\n        adjustPosition: true\n      },\n\n      /** 差值 label */\n      diffLabel: {\n        visible: true\n      },\n\n      /** 迁移线 */\n      leaderLine: {\n        visible: true\n      },\n\n      /** 显示总计 */\n      showTotal: {\n        visible: true,\n        label: '总计值'\n      },\n      waterfallStyle: {\n        /** 默认无描边 */\n        lineWidth: 0\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var options = this.options;\n\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  };\n\n  WaterfallLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var options = this.options;\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n\n        var _origin = _.get(item.point, '_origin', {}); // 改变 tooltip 显示的name和value\n\n\n        item.name = _origin[options.xField];\n        item.value = _origin[options.yField];\n\n        if (!item.value && _origin[IS_TOTAL]) {\n          var values = _origin[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n\n        e.items[i] = item;\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  WaterfallLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var waterfall = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD]\n      },\n      shape: {\n        values: ['waterfall']\n      }\n    };\n\n    if (options.label) {\n      waterfall.label = this.extractLabel();\n    }\n\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    this.setConfig('element', waterfall);\n  };\n\n  WaterfallLayer.prototype.processData = function (originData) {\n    var _a;\n\n    var plotData = [];\n    var xField = this.options.xField;\n    var yField = this.options.yField;\n\n    _.map(originData, function (dataItem, idx) {\n      var _a;\n\n      var value = dataItem[yField];\n\n      if (idx > 0) {\n        var prevValue = plotData[idx - 1][VALUE_FIELD];\n\n        if (_.isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n\n      plotData.push(__assign(__assign({}, dataItem), (_a = {}, _a[VALUE_FIELD] = value, _a[INDEX_FIELD] = idx, _a)));\n    });\n\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      var values = _.map(originData, function (o) {\n        return o[yField];\n      });\n\n      var totalValue = _.reduce(values, function (p, n) {\n        return p + n;\n      }, 0);\n\n      plotData.push((_a = {}, _a[xField] = this.options.showTotal.label, _a[yField] = null, _a[VALUE_FIELD] = [totalValue, 0], _a[INDEX_FIELD] = plotData.length, _a[IS_TOTAL] = true, _a));\n    }\n\n    return plotData;\n  };\n\n  WaterfallLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  WaterfallLayer.prototype.coord = function () {};\n\n  WaterfallLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  WaterfallLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    var label = _.deepMix({}, options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'waterfall',\n      fields: [options.yField]\n    }, label));\n    return labelConfig;\n  };\n  /** 牵引线的样式注入到style中 */\n\n\n  WaterfallLayer.prototype._parseStyle = function () {\n    var style = this.options.waterfallStyle;\n    var leaderLine = this.options.leaderLine;\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.callback = function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return Object.assign({}, style.apply(void 0, args), {\n          leaderLine: leaderLine\n        });\n      };\n    } else {\n      config.cfg = __assign(__assign({}, style), {\n        leaderLine: leaderLine\n      });\n    }\n\n    return config;\n  };\n\n  WaterfallLayer.prototype._parseColor = function () {\n    var _this = this;\n\n    var options = this.options;\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    var config = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD]\n    };\n\n    if (_.isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      var risingColor_1 = '#f4664a';\n      var fallingColor_1 = '#30bf78';\n      var totalColor_1 = 'rgba(0, 0, 0, 0.25)';\n\n      if (_.isString(options.color)) {\n        risingColor_1 = fallingColor_1 = totalColor_1 = options.color;\n      } else if (_.isObject(options.color)) {\n        var _b = options.color,\n            rising = _b.rising,\n            falling = _b.falling,\n            total = _b.total;\n        risingColor_1 = rising;\n        fallingColor_1 = falling;\n        totalColor_1 = total;\n      }\n\n      config.callback = function (type, value, values, index) {\n        if (index === _this.options.data.length) {\n          return totalColor_1 || (values[0] >= 0 ? risingColor_1 : fallingColor_1);\n        }\n\n        return (_.isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor_1 : fallingColor_1;\n      };\n    }\n\n    return config;\n  };\n\n  return WaterfallLayer;\n}(ViewLayer);\n\nexport default WaterfallLayer;\nregisterPlotType('waterfall', WaterfallLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport WaterfallLayer from './layer';\n\nvar Waterfall =\n/** @class */\nfunction (_super) {\n  __extends(Waterfall, _super);\n\n  function Waterfall() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Waterfall.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'waterfall';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Waterfall.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n  return Waterfall;\n}(BasePlot);\n\nexport default Waterfall;","import { __extends } from \"tslib\";\nimport LineLayer from '../line/layer';\nimport { registerPlotType } from '../../base/global';\nimport * as _ from '@antv/util';\n\nvar StepLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(StepLineLayer, _super);\n\n  function StepLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'step-line'; // 覆写父类的 type\n\n    return _this;\n  }\n\n  StepLineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      step: 'hv'\n    });\n  };\n\n  return StepLineLayer;\n}(LineLayer);\n\nexport { StepLineLayer };\nregisterPlotType('step-line', StepLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nvar StepLine =\n/** @class */\nfunction (_super) {\n  __extends(StepLine, _super);\n\n  function StepLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * 复写父类方法\n   * @param props\n   */\n\n\n  StepLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'step-line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StepLine.getDefaultOptions = StepLineLayer.getDefaultOptions;\n  return StepLine;\n}(BasePlot);\n\nexport default StepLine;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nvar TinyLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLayer, _super);\n\n  function TinyLayer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      }\n    });\n  };\n\n  TinyLayer.prototype.coord = function () {};\n\n  TinyLayer.prototype.addGeometry = function () {};\n\n  TinyLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var config = [];\n    var defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8'\n        }\n      }\n    };\n\n    _.each(props.guideLine, function (line) {\n      var guideLine = getComponent('guideLine', {\n        plot: _this,\n        cfg: _.deepMix({}, defaultGuidelineCfg, line)\n      });\n      config.push(guideLine);\n    });\n\n    this.setConfig('annotations', config);\n  };\n\n  return TinyLayer;\n}(ViewLayer);\n\nexport default TinyLayer;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\n\nvar Marker =\n/** @class */\nfunction () {\n  function Marker(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  Marker.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  };\n\n  Marker.prototype.update = function (cfg, duration, easing) {\n    var updateCfg = {};\n\n    _.assign(this, cfg);\n\n    this.coord = this.view.get('coord');\n\n    if (cfg.value) {\n      var x = this.coord.convert({\n        x: 0,\n        y: this.value\n      }).x;\n      var matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n\n    if (cfg.style) {\n      var origin_attr = this.shape.attrs;\n\n      var attrs = _.deepMix({}, origin_attr, cfg.style);\n\n      updateCfg = _.deepMix({}, attrs, updateCfg);\n    }\n\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  };\n\n  Marker.prototype.init = function () {\n    this.coord = this.view.get('coord');\n    this.container = this.view.get('container');\n    var x = this.coord.convert({\n      x: 0,\n      y: this.value\n    }).x; // progress坐标系是转置坐标系\n\n    var y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    var y1 = this.coord.center.y + this.progressSize / 2 + 2;\n\n    var style = _.deepMix({}, {\n      stroke: 'grey',\n      lineWidth: 1\n    }, this.style);\n\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, y0], ['L', 0, y1]]\n      }, style),\n      name: 'progress-marker'\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  };\n\n  return Marker;\n}();\n\nexport default Marker;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onProgressClick: 'interval:click',\n  onProgressDblclick: 'interval:dblclick',\n  onProgressMousemove: 'interval:mousemove',\n  onProgressMousedown: 'interval:mousedown',\n  onProgressMouseup: 'interval:mouseup',\n  onProgressMouseenter: 'progress:mouseenter',\n  onProgressMouseleave: 'progress:mouseleave',\n  onProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport Marker from './component/marker';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  progress: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'progress'\n};\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar ProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(ProgressLayer, _super);\n\n  function ProgressLayer() {\n    /**\n     * 将进度条配置项转为堆叠条形图配置项\n     */\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'progress';\n    _this.isEntered = false;\n    return _this;\n  }\n\n  ProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  ProgressLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  ProgressLayer.prototype.update = function (cfg) {\n    var props = this.options;\n\n    if (_.hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      var style = void 0;\n\n      if (_.isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{\n          fill: cfg.color[0]\n        }, {\n          fill: cfg.color[1]\n        }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = {\n          fill: cfg.color\n        };\n      }\n\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  };\n\n  ProgressLayer.prototype.destroy = function () {\n    if (this.markers && this.markers.length > 0) {\n      _.each(this.markers, function (marker) {\n        marker.destroy();\n      });\n\n      this.markers = [];\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ProgressLayer.prototype.afterRender = function () {\n    var _this = this;\n\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n\n      _.each(this.options.marker, function (cfg) {\n        var markerCfg = _.mix({\n          canvas: _this.canvas,\n          view: _this.view,\n          progressSize: _this.options.barSize\n        }, cfg);\n\n        var marker = new Marker(markerCfg);\n\n        _this.markers.push(marker);\n      });\n    }\n\n    var progressContainer = this.view.get('elements')[0].get('container');\n    var bbox = progressContainer.getBBox();\n    var rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)'\n      }\n    });\n    this.canvas.draw();\n    rect.on('mouseenter', function (ev) {\n      _this.isEntered = true;\n\n      _this.view.emit('progress:mouseenter', ev);\n    });\n    rect.on('mouseleave', function (ev) {\n      _this.isEntered = false;\n\n      _this.view.emit('progress:mouseleave', ev);\n    });\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.addEventListener('mouseleave', function (ev) {\n      if (_this.isEntered) {\n        _this.view.emit('progress:mouseleave', ev);\n\n        _this.isEntered = false;\n      }\n    });\n  };\n\n  ProgressLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  ProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    bar.adjust = [{\n      type: 'stack'\n    }];\n\n    if (_.has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n\n    this.setConfig('element', bar);\n  };\n\n  ProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  ProgressLayer.prototype.parseColorProps = function (props) {\n    var colorOption;\n\n    if (props.color) {\n      if (_.isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n\n      if (_.isString(colorOption)) {\n        var color = _.clone(DEFAULT_COLOR);\n\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n\n    return props.color;\n  };\n\n  ProgressLayer.prototype.processData = function () {\n    var props = this.options;\n    var data = [{\n      type: 'current',\n      value: props.percent\n    }, {\n      type: 'rest',\n      value: 1.0 - props.percent\n    }];\n    return data;\n  };\n\n  ProgressLayer.prototype.updateMarkers = function (markerCfg) {\n    var markerLength = markerCfg.length;\n    var animationOptions = this.getUpdateAnimationOptions(); // marker diff\n\n    _.each(this.markers, function (marker, index) {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    }); // add new markers\n\n\n    if (this.markers.length < markerLength) {\n      var startIndex = this.markers.length;\n\n      for (var i = startIndex; i < markerLength; i++) {\n        var cfg = _.deepMix({}, {\n          canvas: this.canvas,\n          view: this.view,\n          progressSize: this.options.barSize\n        }, markerCfg[i]);\n\n        var marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  };\n\n  ProgressLayer.prototype.getSize = function () {\n    var height = this.height;\n\n    if (height >= 50) {\n      return 10;\n    }\n\n    return 4;\n  };\n\n  ProgressLayer.prototype.styleUpdateAnimation = function (style) {\n    // style更新动画接受用户animation配置的透传\n    var _a = this.getUpdateAnimationOptions(),\n        duration = _a.duration,\n        easing = _a.easing; // get geometry shapes\n\n\n    var progressShapes = [];\n    var view = this.view;\n    var geometry = view.get('elements');\n\n    _.each(geometry, function (geom) {\n      if (geom.get('shapeType') === 'interval') {\n        var shapes = geom.getShapes();\n        progressShapes.push.apply(progressShapes, shapes);\n      }\n    });\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  };\n\n  ProgressLayer.prototype.getUpdateAnimationOptions = function () {\n    var duration = 450;\n    var easing = 'easeQuadInOut';\n    var animationOptions = this.options.animation;\n\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n\n    return {\n      duration: duration,\n      easing: easing\n    };\n  };\n\n  ProgressLayer.prototype.updateColorConfigByStyle = function (style) {\n    var _this = this;\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        if (s.fill) {\n          _this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  };\n\n  return ProgressLayer;\n}(TinyLayer);\n\nexport default ProgressLayer;\nregisterPlotType('progress', ProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ProgressLayer from './layer';\n\nvar Progress =\n/** @class */\nfunction (_super) {\n  __extends(Progress, _super);\n\n  function Progress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Progress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'progress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Progress.prototype.update = function (value, style) {\n    var layer = this.layers[0];\n    layer.update(value, style);\n  };\n\n  Progress.getDefaultOptions = ProgressLayer.getDefaultOptions;\n  return Progress;\n}(BasePlot);\n\nexport default Progress;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util'; // 记录之前的状态\n\nvar preShapeInfo = {};\n/** 更新动画 */\n\nfunction progressUpdate(shape, animateCfg, coord) {\n  var path = shape.attr('path');\n  var clip;\n  var uniform = {};\n  var index = shape.get('index');\n\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  if (preShapeInfo[shape.id]) {\n    var _b = getShapeInfo(shape),\n        preStart = _b.preStart,\n        preEnd = _b.preEnd,\n        prePath = _b.prePath;\n\n    var anchor = getAnchor(preStart, startAngle);\n    var direction_1 = getDirection(preStart, preEnd, startAngle, endAngle);\n\n    if (direction_1 === 'antiClockWise') {\n      shape.attr('path', prePath);\n    }\n\n    if (anchor === 'start') {\n      clip = createClip(coord, startAngle, preEnd);\n      uniform.endAngle = endAngle;\n    } else {\n      clip = createClip(coord, preStart, endAngle);\n      uniform.startAngle = startAngle;\n    }\n\n    shape.attr('clip', clip);\n    shape.setSilent('animating', true);\n\n    animateCfg.callback = function () {\n      if (shape && !shape.get('destroyed')) {\n        shape.attr('clip', null);\n        shape.setSilent('cacheShape', null);\n        shape.setSilent('animating', false);\n        clip.remove();\n\n        if (direction_1 === 'antiClockWise') {\n          shape.attr('path', path);\n        }\n      }\n    };\n    /** 执行动画 */\n\n    /** 准备动画参数 */\n\n\n    var delay = animateCfg.delay;\n\n    if (_.isFunction(delay)) {\n      delay = animateCfg.delay(index);\n    }\n\n    var easing = animateCfg.easing;\n\n    if (_.isFunction(easing)) {\n      easing = animateCfg.easing(index);\n    }\n    /** 动起来 */\n\n\n    clip.animate(uniform, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n\n  setShapeInfo(shape, startAngle, endAngle);\n}\n\nexport function setShapeInfo(shape, start, end) {\n  if (!preShapeInfo[shape.id]) {\n    preShapeInfo[shape.id] = {};\n  }\n\n  preShapeInfo[shape.id].preStart = start;\n  preShapeInfo[shape.id].preEnd = end;\n  preShapeInfo[shape.id].prePath = shape.attr('path');\n}\n\nfunction getShapeInfo(shape) {\n  return preShapeInfo[shape.id] || null;\n}\n/**\n * 获取动画锚点(固定不变的端点)是头部还是尾部\n * 锚点会决定clip的生成和动画\n */\n\n\nfunction getAnchor(preStart, startAngle) {\n  if (preStart === startAngle) {\n    return 'start';\n  }\n\n  return 'end';\n}\n/**\n * 获取动画方向是顺时针还是逆时针\n * 动画方向决定在shape在动画开始前是否采用前一帧的path\n */\n\n\nfunction getDirection(preStart, preEnd, startAngle, endAngle) {\n  if (preStart < startAngle || preEnd > endAngle) {\n    return 'antiClockWise';\n  }\n\n  return 'clockWise';\n}\n\nfunction createClip(coord, from, to) {\n  var margin = 200;\n  var center = coord.getCenter();\n  var radius = coord.getRadius();\n  var clip = new G.Shapes.Fan({\n    attrs: {\n      x: center.x,\n      y: center.y,\n      rs: 0,\n      re: radius + margin,\n      startAngle: from,\n      endAngle: to\n    }\n  });\n  return clip;\n}\n\nexport function getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nAnimate.registerAnimation('update', 'groupProgress', progressUpdate);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingProgressClick: 'interval:click',\n  onRingProgressDblclick: 'interval:dblclick',\n  onRingProgressMousemove: 'interval:mousemove',\n  onRingProgressMousedown: 'interval:mousedown',\n  onRingProgressMouseup: 'interval:mouseup',\n  onRingProgressMouseenter: 'interval:mouseenter',\n  onRingProgressMouseleave: 'interval:mouseleave',\n  onRingProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer from '../progress/layer';\nimport { getAngle, setShapeInfo } from './animation/index';\nimport * as EventParser from './event';\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar RingProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingProgressLayer, _super);\n\n  function RingProgressLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ringProgrsss';\n    return _this;\n  }\n\n  RingProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  RingProgressLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var coord = this.view.get('coord'); // 缓存图形\n\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapes = geom.getShapes();\n\n      _.each(shapes, function (shape) {\n        var _a = getAngle(shape, coord),\n            startAngle = _a.startAngle,\n            endAngle = _a.endAngle;\n\n        setShapeInfo(shape, startAngle, endAngle);\n      });\n    });\n  };\n\n  RingProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size)\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingProgressLayer.prototype.annotation = function () {};\n\n  RingProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    this.ring.adjust = [{\n      type: 'stack'\n    }];\n    this.setConfig('element', this.ring);\n  };\n\n  RingProgressLayer.prototype.animation = function () {\n    this.ring.animate = {\n      appear: {\n        duration: 1000\n      },\n      update: {\n        easing: 'easeLinear',\n        animation: 'groupProgress',\n        duration: 1000\n      }\n    };\n  };\n\n  RingProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingProgressLayer.prototype.getThickness = function (value) {\n    var width = this.width;\n    var height = this.height;\n    var size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n\n    return 1.0 - 10 / size;\n  };\n\n  return RingProgressLayer;\n}(ProgressLayer);\n\nexport default RingProgressLayer;\nregisterPlotType('ringProgress', RingProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingProgressLayer from './layer';\n\nvar RingProgress =\n/** @class */\nfunction (_super) {\n  __extends(RingProgress, _super);\n\n  function RingProgress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RingProgress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ringProgress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  RingProgress.prototype.update = function (value) {\n    var layer = this.layers[0];\n    layer.update(value);\n  };\n\n  RingProgress.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n  return RingProgress;\n}(BasePlot);\n\nexport default RingProgress;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar WIDTH_RATIO = 0.6;\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar TinyColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumnLayer, _super);\n\n  function TinyColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyColumn';\n    return _this;\n  }\n\n  TinyColumnLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  TinyColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  TinyColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  TinyColumnLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this\n    });\n    this.setConfig('element', column);\n  };\n\n  TinyColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  TinyColumnLayer.prototype.processProps = function () {\n    var props = this.options;\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize()\n    };\n    props = _.mix(props, cfg);\n  };\n\n  TinyColumnLayer.prototype.getSize = function () {\n    var props = this.options;\n    var columnNumber = this.getColumnNum(props.data, props.xField);\n    var width = this.width;\n    return width / columnNumber * WIDTH_RATIO;\n  };\n\n  TinyColumnLayer.prototype.getColumnNum = function (data, field) {\n    var values = [];\n\n    _.each(data, function (d) {\n      var v = d[field];\n\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n\n    return values.length;\n  };\n\n  return TinyColumnLayer;\n}(TinyLayer);\n\nexport default TinyColumnLayer;\nregisterPlotType('tinyColumn', TinyColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyColumnLayer from './layer';\n\nvar TinyColumn =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumn, _super);\n\n  function TinyColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyColumn.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n  return TinyColumn;\n}(BasePlot);\n\nexport default TinyColumn;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line'\n};\n\nvar TinyAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyAreaLayer, _super);\n\n  function TinyAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyArea';\n    return _this;\n  }\n\n  TinyAreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyAreaLayer.prototype.addGeometry = function () {\n    this.area = getGeom('area', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.area);\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyAreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyAreaLayer;\n}(TinyLayer);\n\nexport default TinyAreaLayer;\nregisterPlotType('tinyArea', TinyAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyAreaLayer from './layer';\n\nvar TinyArea =\n/** @class */\nfunction (_super) {\n  __extends(TinyArea, _super);\n\n  function TinyArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyArea.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n  return TinyArea;\n}(BasePlot);\n\nexport default TinyArea;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  line: 'line'\n};\n\nvar TinyLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLineLayer, _super);\n\n  function TinyLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyLine';\n    return _this;\n  }\n\n  TinyLineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyLineLayer.prototype.addGeometry = function () {\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyLineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyLineLayer;\n}(TinyLayer);\n\nexport default TinyLineLayer;\nregisterPlotType('tinyLine', TinyLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyLineLayer from './layer';\n\nvar TinyLine =\n/** @class */\nfunction (_super) {\n  __extends(TinyLine, _super);\n\n  function TinyLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyLine';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyLine.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n  return TinyLine;\n}(BasePlot);\n\nexport default TinyLine;","import { __extends } from \"tslib\";\nimport Plot from '../base/plot';\nimport { deepMix } from '@antv/util';\n\nvar ComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(ComboPlot, _super);\n\n  function ComboPlot() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ComboPlot.prototype.getDefaultOptions = function () {\n    return {};\n  };\n\n  ComboPlot.prototype.getGlobalOptions = function (props) {\n    return {\n      xAxis: props.xAxis,\n      yAxis: props.yAxis,\n      theme: props.theme,\n      legend: props.legend\n    };\n  };\n\n  ComboPlot.prototype.createComboLayers = function () {\n    this.globalOptions = deepMix({}, this.getDefaultOptions(), this.getGlobalOptions(this.options));\n  };\n\n  return ComboPlot;\n}(Plot);\n\nexport default ComboPlot;","import * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nvar SINGLE_TYPE = ['line', 'area', 'column', 'bar', 'bubble', 'scatter'];\nexport function getColorConfig(type, props, count) {\n  if (props.color) {\n    return {\n      single: false,\n      color: props.color\n    };\n  }\n\n  var isSingle = isSingleGraph(type, props);\n  var colors = getGlobalTheme().colors;\n\n  if (isSingle && !props.color) {\n    return {\n      single: true,\n      color: colors[count]\n    };\n  }\n}\n/** 判断是不是单图元类型的图表：单折线图、基础柱状图、散点图、基础面积图等 */\n\nexport function isSingleGraph(type, props) {\n  if (_.contains(SINGLE_TYPE, type)) {\n    if (type === 'line' && _.has(props, 'seriesField')) {\n      return false;\n    }\n\n    if (type === 'column' && _.has(props, 'colorField')) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}","import { Legend } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getLegendData(viewLayer, props) {\n  var legendItems = [];\n  var view = viewLayer.view;\n  var geometry = view.get('elements')[0];\n  var colorAttr = geometry.getAttr('color'); // color和shape决定cat legend的生成，暂时先不考虑shape\n\n  var markerCfg = {\n    isInCircle: geometry.isInCircle(),\n    color: colorAttr.values[0]\n  };\n  var marker = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), markerCfg);\n  /** 处理default不生成图例的场景 */\n\n  if (colorAttr.scales.length === 0) {\n    legendItems.push({\n      value: props.name,\n      checked: true,\n      marker: marker,\n      isSingle: true,\n      layer: viewLayer\n    });\n  } else {\n    /** 正常生成图例 */\n    var values = colorAttr.scales[0].values;\n\n    _.each(values, function (v, index) {\n      var markerColor = colorAttr.values[index];\n      var markerValue = v;\n      var cfg = {\n        isInCircle: geometry.isInCircle(),\n        color: markerColor\n      };\n      var markerItem = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), cfg);\n      legendItems.push({\n        field: colorAttr.scales[0].field,\n        value: markerValue,\n        checked: true,\n        marker: markerItem,\n        isSingle: false,\n        layer: viewLayer\n      });\n    });\n  }\n\n  return legendItems;\n}\nexport function mergeLegendData(items) {\n  return items;\n}\nexport function createLegend(items, width, height, canvas, position) {\n  var legendTheme = getGlobalTheme().legend;\n  var positions = position.split('-');\n  var layout = 'horizontal';\n\n  if (positions[0] === 'left' || positions[0] === 'right') {\n    layout = 'vertical';\n  }\n\n  var legendCfg = {\n    type: 'category-legend',\n    items: items,\n    maxSize: width,\n    container: canvas.addGroup(),\n    layout: layout,\n    textStyle: {\n      fill: '#8C8C8C',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n      lineHeight: 20\n    },\n    titleDistance: 10,\n    autoWrap: true,\n    itemMarginBottom: 4,\n    backgroundPadding: 0,\n    maxLength: width\n  };\n  var legend = new Legend.CanvasCategory(legendCfg);\n  legendLayout(width, height, legend, position);\n  addLegendInteraction(legend);\n  /** return legend as a padding component */\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var paddingBbox; // merge legend inner padding\n\n  var innerPadding = legendTheme.innerPadding;\n\n  if (positions[0] === 'left') {\n    paddingBbox = new BBox(legend.get('x') + innerPadding[3], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'right') {\n    paddingBbox = new BBox(legend.get('x') - innerPadding[1], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'top') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') + innerPadding[0], bbox.width, bbox.height);\n  } else if (positions[0] === 'bottom') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') - innerPadding[2], bbox.width, bbox.height);\n  }\n\n  return {\n    position: positions[0],\n    component: legend,\n    getBBox: function getBBox() {\n      return paddingBbox;\n    }\n  };\n}\n\nfunction addLegendInteraction(legend) {\n  var filteredValue = [];\n  legend.on('itemclick', function (ev) {\n    var item = ev.item,\n        checked = ev.checked; // 如果是单图例模式\n\n    if (item.isSingle) {\n      if (!checked) {\n        item.layer.hide();\n      } else {\n        item.layer.show();\n      }\n    } else {\n      // 正常的图例筛选数据逻辑\n      var view = item.layer.view;\n\n      if (!checked) {\n        filteredValue.push(item.value);\n        view.filter(item.field, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n        var filteredData = view.get('filteredData');\n\n        if (filteredData.length === 0) {\n          item.layer.hide();\n        } else if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      } else {\n        _.pull(filteredValue, item.value);\n\n        view.filter(item.value, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n\n        if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      }\n    }\n  });\n}\n\nfunction legendLayout(width, height, legend, position) {\n  console.log(position);\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var x = 0;\n  var y = 0;\n  var positions = position.split('-'); // 先确定x\n\n  if (positions[0] === 'left') {\n    x = bleeding[3];\n  } else if (positions[0] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } else if (positions[1] === 'center') {\n    x = (width - bbox.width) / 2;\n  } else if (positions[1] === 'left') {\n    x = bleeding[3];\n  } else if (positions[1] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } // 再确定y\n\n\n  if (positions[0] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  } else if (positions[0] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'center') {\n    y = (height - bbox.height) / 2;\n  } else if (positions[1] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  }\n\n  legend.moveTo(x, y);\n  legend.draw();\n}","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getOverlappingPadding(layer, components) {\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var viewMinX = layer.layerBBox.minX;\n  var viewMaxX = layer.layerBBox.maxX;\n\n  var viewMinY = _.clone(layer.layerBBox.minY);\n\n  var viewMaxY = layer.layerBBox.maxY;\n\n  _.each(components, function (component) {\n    var position = component.position;\n\n    var _a = component.getBBox(),\n        minX = _a.minX,\n        maxX = _a.maxX,\n        minY = _a.minY,\n        maxY = _a.maxY;\n\n    if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n      viewMinY = maxY;\n    }\n\n    if (minY > viewMinY && minY < viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n\n    if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n      viewMinX = maxX;\n    }\n\n    if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n      viewMaxX = minX;\n    }\n  });\n\n  var range = new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  var top_padding = range.minY - layer.layerBBox.minY;\n\n  if (top_padding === 0) {\n    top_padding = bleeding[0];\n  }\n\n  var right_padding = layer.layerBBox.maxX - range.maxX;\n  var bottom_padding = layer.layerBBox.maxY - range.maxY;\n  var left_padding = range.minX - layer.layerBBox.minX;\n  return [top_padding, right_padding, bottom_padding, left_padding];\n}","import { __assign } from \"tslib\";\nimport { Axis } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme';\nimport { isSingleGraph } from './adjustColorConfig';\nimport { getOverlappingPadding } from './padding';\nimport { getComponent } from '../../components/factory';\nvar AXIS_GAP = 4;\nexport function getAxisData(viewLayer, props, globalOptions) {\n  var view = viewLayer.view;\n  var scales = view.get('scales');\n  var scalesInfo = [];\n  var singleGraph = isSingleGraph(viewLayer.type, props); // get xscale info\n\n  if (props.xField) {\n    var xscale = scales[props.xField];\n    var scaleInfo = {\n      dim: 'x',\n      scale: xscale,\n      originalData: props.data\n    };\n    scalesInfo.push(scaleInfo);\n  } // get yscale info\n\n\n  if (props.yField) {\n    var yscale = scales[props.yField];\n    var scaleInfo = {\n      dim: 'y',\n      scale: yscale,\n      originalData: props.data,\n      color: singleGraph && globalOptions.yAxis.colorMapping ? props.color : null,\n      layer: viewLayer\n    };\n    scalesInfo.push(scaleInfo);\n  }\n\n  return scalesInfo;\n}\nexport function mergeAxisScale(axisInfo, dim, axisOptions) {\n  if (dim === 'x') {\n    var xAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'x') {\n        return axis;\n      }\n    });\n    return mergeXAxis(xAxisInfo);\n  } else {\n    var yAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'y') {\n        return axis;\n      }\n    });\n    return mergeYAxis(yAxisInfo, axisOptions.synchroTick);\n  }\n}\n\nfunction mergeXAxis(axisInfo) {\n  // 判断是否能够合并度量\n  var isSameScale = sameScaleTest(axisInfo);\n\n  if (!isSameScale) {\n    return [axisInfo[0].scale];\n  }\n\n  if (axisInfo[0].scale.type === 'cat') {\n    return getCatScale(axisInfo);\n  } else {\n    return getLinearScale(axisInfo, 5);\n  }\n}\n\nfunction mergeYAxis(axisInfo, synchroTick) {\n  var isSameScale = sameScaleTest(axisInfo); // 默认全部采用左轴的tickCount，具体标度对齐逻辑留待以后优化\n\n  var tickCount = axisInfo[0].scale.tickCount;\n  var LinearScale = getScale('linear');\n\n  if (!isSameScale) {\n    return axisInfo.map(function (axis) {\n      var scale = axis.scale;\n      var values = calValues(scale, tickCount);\n\n      if (synchroTick) {\n        var linearScale = new LinearScale({\n          min: scale.min,\n          max: scale.max,\n          ticks: values,\n          tickCount: tickCount,\n          color: axis.color\n        });\n        linearScale.layer = axis.layer;\n        return linearScale;\n      } else {\n        scale.layer = axis.layer;\n        scale.color = axis.color;\n        return scale;\n      }\n    });\n  } else {\n    return getLinearScale(axisInfo, tickCount);\n  }\n}\n\nfunction getLinearScale(axisInfo, tickCount) {\n  var scaleMin = axisInfo[0].scale.min;\n  var scaleMax = axisInfo[0].scale.max;\n\n  for (var _i = 0, axisInfo_1 = axisInfo; _i < axisInfo_1.length; _i++) {\n    var axis = axisInfo_1[_i];\n    scaleMin = Math.min(scaleMin, axis.scale.min);\n    scaleMax = Math.max(scaleMax, axis.scale.max);\n  }\n\n  var LinearScale = getScale('linear');\n  var scale = new LinearScale({\n    min: scaleMin,\n    max: scaleMax,\n    tickCount: tickCount\n  });\n  return scale;\n}\n\nfunction getCatScale(axisInfo) {\n  var scaleValues = [];\n\n  for (var _i = 0, axisInfo_2 = axisInfo; _i < axisInfo_2.length; _i++) {\n    var axis = axisInfo_2[_i];\n    scaleValues.push.apply(scaleValues, axis.scale.values);\n  } // todo: time cat 重新排序\n\n\n  var CatScale = getScale('cat');\n  var scale = new CatScale({\n    values: _.uniq(scaleValues)\n  });\n  return scale;\n}\n\nfunction sameScaleTest(axisInfo) {\n  var sampleDataSource = axisInfo[0].originalData;\n  var sampleField = axisInfo[0].scale.field;\n\n  for (var _i = 0, axisInfo_3 = axisInfo; _i < axisInfo_3.length; _i++) {\n    var axis = axisInfo_3[_i];\n    var data = axis.originalData;\n    var field = axis.scale.field; // 判断数据源和scale字段\n\n    if (data !== sampleDataSource || field !== sampleField) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function createAxis(scale, dim, canvas, cfg, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var isVertical = dim === 'x' ? false : true;\n  var group;\n\n  if (scale.layer) {\n    group = scale.layer.container.addGroup();\n  } else {\n    group = canvas.addGroup();\n  }\n\n  var ticks = getAxisTicks(scale, dim);\n  var parser = getComponent('axis', {\n    dim: dim,\n    plot: {\n      options: globalOptions,\n      getPlotTheme: function getPlotTheme() {\n        return getGlobalTheme();\n      }\n    }\n  });\n  var defaultStyle = theme.axis && theme.axis[dim] ? toAxisStyle(theme.axis[dim]) : {};\n\n  if (scale.color) {\n    defaultStyle = adjustColorStyle(scale.color, parser);\n  }\n\n  var axisConfig = _.deepMix({}, parser, {\n    type: 'line',\n    group: group,\n    canvas: canvas,\n    start: cfg.start,\n    end: cfg.end,\n    isVertical: isVertical,\n    factor: cfg.factor,\n    ticks: ticks,\n    label: function label(text) {\n      return {\n        text: text,\n        textStyle: parser.label.textStyle\n      };\n    }\n  }, defaultStyle);\n\n  var axis = new Axis.Line(axisConfig);\n  axis.layer = scale.layer;\n  axis.render();\n  return axis;\n}\n\nfunction getAxisTicks(scale, dim) {\n  var tickValues = [];\n  var ticks = scale.ticks,\n      range = scale.range;\n  var step = (range[1] - range[0]) / (ticks.length - 1);\n\n  _.each(ticks, function (tick, index) {\n    var value = dim === 'y' ? 1.0 - (range[0] + step * index) : range[0] + step * index;\n    tickValues.push({\n      text: tick,\n      value: value\n    });\n  });\n\n  return tickValues;\n}\n\nfunction calValues(scale, tickCount) {\n  var values = [];\n  var min = scale.min,\n      max = scale.max;\n  var step = (max - min) / tickCount;\n\n  for (var i = 0; i < tickCount; i++) {\n    var value = min + step * i;\n    values.push(value);\n  }\n\n  return values;\n}\n\nexport function axesLayout(globalOptions, axisInfo, padding, layer, width, height, canvas) {\n  var bleeding = getGlobalTheme().bleeding; // merge padding and bleeding by zero value\n\n  _.each(padding, function (p, index) {\n    if (p === 0) {\n      padding[index] = bleeding[index];\n    }\n  });\n\n  var paddingComponents = []; // 创建axis\n\n  var axes = [];\n  var xAxisScale;\n  var xAxis;\n  var xAxisHeight = 0;\n\n  if (globalOptions.xAxis.visible) {\n    xAxisScale = mergeAxisScale(axisInfo, 'x');\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: width,\n        y: 0\n      },\n      factor: 1\n    }, globalOptions);\n    xAxisHeight += xAxis.get('group').getBBox().height;\n  }\n\n  if (globalOptions.yAxis.visible) {\n    var yAxisScale = mergeAxisScale(axisInfo, 'y', globalOptions.yAxis);\n\n    _.each(yAxisScale, function (scale, index) {\n      var factor = index === 0 ? -1 : 1;\n      var axis = createAxis(scale, 'y', canvas, {\n        start: {\n          x: 0,\n          y: padding[0]\n        },\n        end: {\n          x: 0,\n          y: height - xAxisHeight - padding[2]\n        },\n        factor: factor\n      }, globalOptions);\n\n      if (index === 0) {\n        axis.get('group').translate(padding[3], 0);\n      }\n\n      axes.push(axis);\n    });\n\n    axisLayout(axes, paddingComponents, width, padding);\n  }\n\n  if (globalOptions.xAxis.visible) {\n    var axisPadding = getOverlappingPadding(layer, paddingComponents);\n    var ypos_1 = axes.length === 0 ? height - xAxisHeight - padding[2] : axes[0].get('group').getBBox().maxY;\n    xAxis.destroy();\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: axisPadding[3],\n        y: ypos_1\n      },\n      end: {\n        x: width - axisPadding[1],\n        y: ypos_1\n      },\n      factor: 1\n    }, globalOptions);\n    paddingComponents.push({\n      position: 'bottom',\n      component: xAxis,\n      getBBox: function getBBox() {\n        var container = xAxis.get('group');\n        var bbox = container.getBBox();\n        return new BBox(bbox.minX, bbox.minY + ypos_1, bbox.width, bbox.height);\n      }\n    });\n  }\n\n  return paddingComponents;\n}\n\nfunction axisLayout(axes, paddingComponents, width, padding) {\n  // 先处理最左边的\n  var leftAxis = axes[0];\n  var leftContainer = leftAxis.get('group');\n  var leftBbox = leftContainer.getBBox();\n  leftContainer.translate(leftBbox.width, 0);\n  paddingComponents.push({\n    position: 'left',\n    component: leftAxis,\n    getBBox: function getBBox() {\n      var matrix = leftContainer.attr('matrix');\n      return new BBox(leftBbox.minX + matrix[6], leftBbox.minY, leftBbox.width, leftBbox.height);\n    }\n  });\n  var temp_width = padding[1];\n\n  var _loop_1 = function _loop_1(i) {\n    var axis = axes[i];\n    var container = axis.get('group');\n    var bbox = container.getBBox();\n    container.translate(width - temp_width - bbox.width, 0);\n    temp_width += bbox.width + AXIS_GAP;\n    var component = {\n      position: 'right',\n      component: axis,\n      getBBox: function getBBox() {\n        var matrix = container.attr('matrix');\n        return new BBox(bbox.minX + matrix[6], bbox.minX, bbox.width, bbox.height);\n      }\n    };\n    paddingComponents.push(component);\n  }; // 处理右边的\n\n\n  for (var i = axes.length - 1; i > 0; i--) {\n    _loop_1(i);\n  }\n}\n\nfunction adjustColorStyle(color, options) {\n  return {\n    line: options.line ? {\n      stroke: color,\n      lineWidth: 1\n    } : null,\n    tickLine: options.tickLine ? {\n      stroke: color,\n      lineWidth: 1,\n      length: 5\n    } : null,\n    label: options.label ? {\n      textStyle: {\n        fill: color\n      }\n    } : null\n  };\n}\n\nexport function drawYGrid(axis, coord, container, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var gridCfg = globalOptions.yAxis.grid;\n  var defaultStyle = theme.axis.y.grid.style;\n\n  var style = _.deepMix({}, defaultStyle, gridCfg.style);\n\n  var gridGroup = container.addGroup();\n  var labelItems = axis.get('labelItems');\n\n  _.each(labelItems, function (item, index) {\n    if (index > 0) {\n      gridGroup.addShape('path', {\n        attrs: __assign({\n          path: [['M', coord.start.x, item.point.y], ['L', coord.end.x, item.point.y]]\n        }, style)\n      });\n    }\n  });\n}\n\nfunction toAxisStyle(theme) {\n  var style = {};\n\n  _.each(theme, function (t, key) {\n    if (_.hasKey(t, 'style')) {\n      style[key] = t.style;\n    }\n  });\n\n  return style;\n}\n\nfunction getTheme(options) {\n  var theme = getGlobalTheme();\n\n  if (options.theme) {\n    if (_.isString(options.theme)) {\n      theme = getGlobalTheme(options.theme);\n    } else if (_.isObject(options.theme)) {\n      theme = options.theme;\n    }\n  }\n\n  return theme;\n}","import { each, contains, isArray, isObject, indexOf, isNil, has, keys } from '@antv/util';\nimport { Tooltip } from '@antv/component';\nimport { getShapeFactory } from '@antv/g2';\nimport { getGlobalTheme } from '../../theme/global';\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path', 'areaStack'];\nexport function showTooltip(canvas, layers, tooltipCfg) {\n  var tooltip = renderTooltip(layers[0], canvas);\n  canvas.on('mousemove', function (ev) {\n    var tooltipItems = [];\n    var point = {\n      x: ev.x / 2,\n      y: ev.y / 2\n    };\n    each(layers, function (layer) {\n      var view = layer.view;\n\n      if (view && layer.visibility) {\n        var coord_1 = view.get('coord');\n        var geoms = view.get('elements');\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var dataArray = geom.get('dataArray');\n\n          if (contains(['area', 'line', 'path', 'interval'], type)) {\n            var items = getTooltipItems(point, geom, type, dataArray, coord_1);\n            tooltipItems.push.apply(tooltipItems, items);\n          } else {\n            var shapeContainer = geom.get('shapeContainer');\n            var shapes = getShapeByX(shapeContainer, point.x);\n            each(shapes, function (shape) {\n              if (shape.get('visible') && shape.get('origin')) {\n                var items = geom.getTooltipItems(shape.get('origin'), null);\n                tooltipItems.push.apply(tooltipItems, items);\n              }\n            });\n          }\n        });\n      }\n    });\n    adjustItems(tooltipItems, ev.target, tooltipCfg);\n\n    if (tooltipItems.length > 0) {\n      tooltip.setContent('', getUniqueItems(tooltipItems));\n      tooltip.setPosition(point.x, point.y, ev.target);\n      tooltip.show();\n    } else if (tooltip.get('visible')) {\n      tooltip.hide();\n    }\n  });\n  return tooltip;\n}\n\nfunction getTooltipItems(point, geom, type, dataArray, coord) {\n  var items = [];\n  each(dataArray, function (data) {\n    var tmpPoint = geom.findPoint(point, data);\n\n    if (tmpPoint) {\n      var subItems = geom.getTooltipItems(tmpPoint, null);\n      each(subItems, function (v) {\n        // tslint:disable-next-line: no-shadowed-variable\n        var point = v.point;\n\n        if (!isNil(point) && !isNil(point.x) && !isNil(point.y)) {\n          var x = isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n          var y = isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n          point = coord.applyMatrix(x, y, 1);\n          v.x = point[0];\n          v.y = point[1];\n          v.showMarker = true;\n          var itemMarker = getItemMarker(geom, v.color);\n          itemMarker.radius = 40;\n          v.marker = itemMarker;\n\n          if (indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n            items.push(v);\n          }\n        }\n      });\n      items.push.apply(items, subItems);\n    }\n  });\n  return items;\n}\n\nfunction renderTooltip(layer, canvas) {\n  var tooltipTheme = getGlobalTheme().tooltip;\n  var options = {\n    panelGroup: layer.view.get('panelGroup'),\n    panelRange: layer.view.get('panelRange'),\n    capture: false,\n    canvas: canvas,\n    frontgroundGroup: layer.view.get('frontgroundGroup'),\n    theme: tooltipTheme,\n    backgroundGroup: layer.view.get('backgroundGroup')\n  };\n  return new Tooltip.Html(options);\n}\n\nfunction getItemMarker(geom, color) {\n  var shapeType = geom.get('shapeType') || 'point';\n  var shape = geom.getDefaultValue('shape') || 'circle';\n  var shapeObject = getShapeFactory(shapeType);\n  var cfg = {\n    color: color\n  };\n  var marker = shapeObject.getMarkerStyle(shape, cfg);\n  return marker;\n}\n\nfunction getUniqueItems(items) {\n  var tmp = [];\n  each(items, function (item) {\n    var index = indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n  return tmp;\n}\n\nfunction indexOfArray(items, item) {\n  var rst = -1;\n  each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (has(item, key)) {\n        if (!isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n  return rst;\n}\n\nfunction adjustItems(items, target, cfg) {\n  if (target.get('origin')) {\n    var data_1;\n\n    if (isArray(target.get('origin'))) {\n      data_1 = getDataByTitle(items[0].title, target.get('origin')).data;\n    } else {\n      data_1 = target.get('origin')._origin;\n    }\n\n    each(items, function (item) {\n      if (item.point._origin !== data_1) {\n        item.color = '#ccc';\n      }\n    });\n  }\n\n  if (cfg.sort) {\n    items.sort(function (a, b) {\n      return parseFloat(b.value) - parseFloat(a.value);\n    });\n  }\n}\n\nfunction getDataByTitle(title, data) {\n  for (var i in data) {\n    var d = data[i]._origin;\n    var ks = keys(d);\n\n    for (var j in ks) {\n      var key = ks[j];\n\n      if (d[key] === title) {\n        return {\n          data: d,\n          key: key\n        };\n      }\n    }\n  }\n}\n\nfunction getShapeByX(container, x) {\n  var shapes = [];\n  var children = container.get('children');\n  each(children, function (c) {\n    var bbox = c.getBBox();\n\n    if (bbox.minX < x && bbox.maxX > x) {\n      shapes.push(c);\n    }\n  });\n  return shapes;\n}","import { __extends } from \"tslib\";\nimport ComboPlot from './base';\nimport * as _ from '@antv/util';\nimport { getPlotType } from '../base/global';\nimport Layer from '../base/layer';\nimport '../plots/index';\nimport * as ComboUtil from './util';\nimport { getOverlappingPadding } from './util/padding';\nimport { getGlobalTheme } from '../theme/global';\n\nvar OverlappedComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(OverlappedComboPlot, _super);\n\n  function OverlappedComboPlot(container, props) {\n    var _this = _super.call(this, container, props) || this;\n\n    _this.options = props;\n    return _this;\n  }\n\n  OverlappedComboPlot.prototype.getDefaultOptions = function () {\n    return {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        },\n        colorMapping: true,\n        synchroTick: true\n      },\n      label: {\n        visible: false\n      },\n      tooltip: {\n        visible: true,\n        sort: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    };\n  };\n\n  OverlappedComboPlot.prototype.createComboLayers = function () {\n    var _this = this;\n\n    _super.prototype.createComboLayers.call(this);\n\n    this.legendInfo = [];\n    this.axisInfo = [];\n    this.paddingComponents = [];\n    this.globalComponents = [];\n    this.singleGeomCount = 0;\n    this.backLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n\n    if (this.options.layers.length > 0) {\n      /** create layers */\n      _.each(this.options.layers, function (layerCfg) {\n        var _a, _b;\n\n        var overlapConfig = _this.getOverlappedConfig(layerCfg);\n\n        var viewLayerCtr = getPlotType(layerCfg.type);\n\n        var viewLayerProps = _.deepMix({}, layerCfg, {\n          canvas: _this.canvas,\n          x: 0,\n          y: 0,\n          width: _this.width,\n          height: _this.height\n        }, overlapConfig);\n\n        var viewLayer = new viewLayerCtr(viewLayerProps);\n        viewLayer.hide();\n        viewLayer.render();\n\n        (_a = _this.axisInfo).push.apply(_a, ComboUtil.getAxisData(viewLayer, viewLayerProps, _this.globalOptions));\n\n        (_b = _this.legendInfo).push.apply(_b, ComboUtil.getLegendData(viewLayer, viewLayerProps));\n\n        _this.addLayer(viewLayer);\n      });\n    }\n    /** add top layer for legend & tooltip */\n\n\n    this.topLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n  };\n  /** 图层叠加时的layer config */\n\n\n  OverlappedComboPlot.prototype.getOverlappedConfig = function (layerCfg) {\n    var colorCfg = ComboUtil.getColorConfig(layerCfg.type, layerCfg, this.singleGeomCount);\n\n    if (colorCfg && colorCfg.single) {\n      this.singleGeomCount++;\n    }\n\n    return _.deepMix({}, {\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      legend: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      color: colorCfg ? colorCfg.color : null\n    });\n  };\n\n  OverlappedComboPlot.prototype.overlappingLegend = function () {\n    var legendItems = ComboUtil.mergeLegendData(this.legendInfo);\n    this.legendContainer = this.topLayer.container.addGroup();\n    return ComboUtil.createLegend(legendItems, this.width, this.height, this.getCanvas(), this.globalOptions.legend.position);\n  };\n\n  OverlappedComboPlot.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    this.doDestroy();\n    this.createComboLayers();\n    var bleeding = getGlobalTheme().bleeding;\n\n    if (this.globalOptions.legend.visible) {\n      var legend = this.overlappingLegend();\n      this.globalComponents.push({\n        type: 'legend',\n        component: legend.component\n      });\n      this.paddingComponents.push(legend);\n    } // 先获取legend的padding\n\n\n    var legendPadding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    var axisComponents = ComboUtil.axesLayout(this.globalOptions, this.axisInfo, legendPadding, this.layers[0], this.width, this.height, this.getCanvas());\n\n    (_a = this.paddingComponents).push.apply(_a, axisComponents);\n\n    _.each(axisComponents, function (axis) {\n      _this.globalComponents.push({\n        type: 'axis',\n        component: axis.component\n      });\n    }); // 计算padding\n\n\n    var padding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n\n    if (!this.globalOptions.xAxis.visible) {\n      padding[2] += bleeding[2];\n    } // 更新layers\n\n\n    _.each(this.layers, function (layer) {\n      layer.updateConfig({\n        padding: padding\n      });\n      layer.show();\n      layer.render();\n      layer.view.get('backgroundGroup').get('backShape').remove();\n      layer.view.get('panelGroup').get('backShape').remove();\n    }); //补画坐标轴grid\n\n\n    if (this.globalOptions.yAxis.grid.visible) {\n      var leftAxis = axisComponents[0].component;\n      var containerLayer = this.layers[0];\n      var coord = containerLayer.view.get('coord');\n      var container = containerLayer.view.get('backgroundGroup');\n      ComboUtil.drawYGrid(leftAxis, coord, container, this.globalOptions);\n    }\n\n    if (this.globalOptions.tooltip.visible) {\n      var tooltip = ComboUtil.showTooltip(this.canvas, this.layers, this.globalOptions.tooltip);\n      this.globalComponents.push({\n        type: 'tooltip',\n        component: tooltip\n      });\n    }\n  };\n\n  OverlappedComboPlot.prototype.doDestroy = function () {\n    this.clearComponents();\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n  };\n\n  OverlappedComboPlot.prototype.clearComponents = function () {\n    _.each(this.globalComponents, function (c) {\n      if (c.type === 'legend' || c.type === 'tooltip') {\n        c.component.destroy();\n      }\n\n      if (c.type === 'axis') {\n        c.component.clear();\n      }\n    });\n\n    this.paddingComponents = [];\n    this.globalComponents = [];\n  };\n\n  return OverlappedComboPlot;\n}(ComboPlot);\n\nexport default OverlappedComboPlot;","// 通用配置\nexport * from './interface/config';\nexport { default as Layer } from './base/layer';\nexport { default as ViewLayer } from './base/view-layer';\nexport { default as Base } from './base/plot'; // 图形\n\nexport * from './plots/index';\nexport { default as Progress } from './sparkline/progress';\nexport { default as RingProgress } from './sparkline/ring-progress';\nexport { default as TinyColumn } from './sparkline/tiny-column';\nexport { default as TinyArea } from './sparkline/tiny-area';\nexport { default as TinyLine } from './sparkline/tiny-line'; // 混合图形\n\nexport { default as OverlappedComboPlot } from './combo-plots/overlapped'; // 主题\n\nexport { registerTheme, registerGlobalTheme } from './theme';\nexport { registerResponsiveConstraint } from './util/responsive/constraints';\nexport { registerResponsiveRule } from './util/responsive/rules';\nexport { registerResponsiveTheme, getResponsiveTheme } from './util/responsive/theme';\nexport { default as StateManager } from './util/state-manager';","\"use strict\";\n\nexports.__esModule = true;\n\nfunction addEventListener(target, eventType, callback) {\n  if (target) {\n    if (typeof target.addEventListener === 'function') {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      }; // @ts-ignore\n    }\n\n    if (typeof target.attachEvent === 'function') {\n      // @ts-ignore\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          // @ts-ignore\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  }\n}\n\nexports[\"default\"] = addEventListener;","\"use strict\";\n/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\n\nexports.__esModule = true;\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\n\nfunction initConstants() {\n  TABLE = document.createElement('table');\n  TABLE_TR = document.createElement('tr');\n  FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n  CONTAINERS = {\n    tr: document.createElement('tbody'),\n    tbody: TABLE,\n    thead: TABLE,\n    tfoot: TABLE,\n    td: TABLE_TR,\n    th: TABLE_TR,\n    '*': document.createElement('div')\n  };\n}\n\nfunction createDom(str) {\n  if (!TABLE) {\n    initConstants();\n  }\n\n  var name = FRAGMENT_REG.test(str) && RegExp.$1;\n\n  if (!name || !(name in CONTAINERS)) {\n    name = '*';\n  }\n\n  var container = CONTAINERS[name];\n  str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n  container.innerHTML = '' + str;\n  var dom = container.childNodes[0];\n  container.removeChild(dom);\n  return dom;\n}\n\nexports[\"default\"] = createDom;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nvar get_height_1 = require(\"./get-height\");\n\nfunction getOuterHeight(el, defaultValue) {\n  var height = get_height_1[\"default\"](el, defaultValue);\n  var bTop = parseFloat(get_style_1[\"default\"](el, 'borderTopWidth')) || 0;\n  var pTop = parseFloat(get_style_1[\"default\"](el, 'paddingTop')) || 0;\n  var pBottom = parseFloat(get_style_1[\"default\"](el, 'paddingBottom')) || 0;\n  var bBottom = parseFloat(get_style_1[\"default\"](el, 'borderBottomWidth')) || 0;\n  var mTop = parseFloat(get_style_1[\"default\"](el, 'marginTop')) || 0;\n  var mBottom = parseFloat(get_style_1[\"default\"](el, 'marginBottom')) || 0;\n  return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}\n\nexports[\"default\"] = getOuterHeight;","\"use strict\";\n\nexports.__esModule = true;\n\nvar get_style_1 = require(\"./get-style\");\n\nvar get_width_1 = require(\"./get-width\");\n\nfunction getOuterWidth(el, defaultValue) {\n  var width = get_width_1[\"default\"](el, defaultValue);\n  var bLeft = parseFloat(get_style_1[\"default\"](el, 'borderLeftWidth')) || 0;\n  var pLeft = parseFloat(get_style_1[\"default\"](el, 'paddingLeft')) || 0;\n  var pRight = parseFloat(get_style_1[\"default\"](el, 'paddingRight')) || 0;\n  var bRight = parseFloat(get_style_1[\"default\"](el, 'borderRightWidth')) || 0;\n  var mRight = parseFloat(get_style_1[\"default\"](el, 'marginRight')) || 0;\n  var mLeft = parseFloat(get_style_1[\"default\"](el, 'marginLeft')) || 0;\n  return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}\n\nexports[\"default\"] = getOuterWidth;","\"use strict\";\n\nexports.__esModule = true;\n\nfunction getRatio() {\n  return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}\n\nexports[\"default\"] = getRatio;","\"use strict\";\n\nexports.__esModule = true;\n\nfunction modifyCSS(dom, css) {\n  if (dom) {\n    for (var key in css) {\n      if (css.hasOwnProperty(key)) {\n        dom.style[key] = css[key];\n      }\n    }\n  }\n\n  return dom;\n}\n\nexports[\"default\"] = modifyCSS;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n\n;\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\n\n\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_object_like_1 = require(\"./is-object-like\");\n\nvar is_array_like_1 = require(\"./is-array-like\");\n\nvar is_string_1 = require(\"./is-string\");\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (is_string_1.default(value) || is_string_1.default(other)) {\n    return false;\n  }\n\n  if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexports.default = isEqual;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexports.default = isObjectLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexports.default = isArrayLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar base_1 = require(\"./base\");\n\nexports.Legend = base_1.default;\n\nvar continuous_1 = require(\"./continuous\");\n\nexports.Size = continuous_1.Size;\nexports.Color = continuous_1.Color;\n\nvar category_1 = require(\"./category\");\n\nexports.CanvasCategory = category_1.CanvasCategory;\nexports.HtmlCategory = category_1.HtmlCategory;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar event_emitter_1 = require(\"@antv/event-emitter\");\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = tslib_1.__assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(event_emitter_1.default);\n\nexports.Guide = Guide;\nexports.default = Guide;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar size_1 = require(\"./size\");\n\nexports.Size = size_1.default;\n\nvar color_1 = require(\"./color\");\n\nexports.Color = color_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"./base\"); // circle 的时候，背景的高度\n\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(base_1.default);\n\nexports.default = Size;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar constant_1 = require(\"../constant\");\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? constant_1.SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? constant_1.SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, buttonAttr), constant_1.SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + minRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + maxRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(g_1.Group);\n\nexports.default = Slider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar attr_1 = require(\"@antv/attr\");\n\nvar base_1 = require(\"./base\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Color =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return tslib_1.__assign(tslib_1.__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = attr_1.colorUtil.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = attr_1.colorUtil.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new g_1.Rect({\n      attrs: tslib_1.__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new g_1.Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new g_1.Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = attr_1.colorUtil.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = attr_1.colorUtil.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: item.percentage * width,\n            y: height + constant_1.TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = attr_1.colorUtil.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = attr_1.colorUtil.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: width + constant_1.TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(base_1.default);\n\nexports.default = Color;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar canvas_1 = require(\"./canvas\");\n\nexports.CanvasCategory = canvas_1.default;\n\nvar html_1 = require(\"./html\");\n\nexports.HtmlCategory = html_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar arrow_1 = require(\"./arrow\");\n\nvar base_1 = require(\"./base\");\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    util_1.each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxItemHeight < itemsBBox.height) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new g_1.Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', util_1.wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', util_1.wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', util_1.wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = util_1.filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      util_1.each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      util_1.each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      util_1.each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      util_1.each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (util_1.isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new g_1.Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new g_1.Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new g_1.Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        util_1.each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof g_1.Group ? refer.get('value') : refer;\n    util_1.each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    util_1.each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    util_1.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new g_1.BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(base_1.default);\n\nexports.default = CanvasLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar G = require(\"@antv/g\");\n\nvar _ = require(\"@antv/util\");\n\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexports.default = Arrow;","\"use strict\";\n/**\n * @description 使用 HTML 进行渲染的图例\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, tslib_1.__assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new g_1.BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(base_1.default);\n\nexports.default = HTMLLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar extended_1 = require(\"./util/extended\");\n\nvar Category =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Category, _super);\n\n  function Category() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Category.prototype.translate = function (value) {\n    var index = _.indexOf(this.values, value);\n\n    if (index === -1) {\n      return _.isNumber(value) ? value : NaN;\n    }\n\n    return index;\n  };\n\n  Category.prototype.scale = function (value) {\n    var order = this.translate(value);\n\n    var percent = this._calcPercent(order, this.min, this.max);\n\n    return this._calcValue(percent, _.head(this.range), _.last(this.range));\n  };\n\n  Category.prototype.invert = function (scaledValue) {\n    if (!_.isNumber(scaledValue)) {\n      return scaledValue;\n    }\n\n    var size = _.size(this.values) - 1;\n\n    var percent = this._calcPercent(scaledValue, _.head(this.range), _.last(this.range));\n\n    var idx = Math.round(size * percent);\n    return this.values[idx];\n  };\n\n  Category.prototype.getText = function (value) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var v = value; // value为index\n\n    if (_.isNumber(value) && !_.includes(this.values, value)) {\n      v = this.values[v];\n    }\n\n    return _super.prototype.getText.apply(this, tslib_1.__spreadArrays([v], args));\n  };\n  /**\n   * ggplot将全数值的定义域视作线性\n   * 再三考虑后，分类型scale还是不再支持这种兼容\n   */\n  // private isAllNumber: boolean;\n\n\n  Category.prototype._initDefaultCfg = function () {\n    this.type = 'cat';\n    this.values = [];\n    this.isCategory = true;\n  };\n\n  Category.prototype._init = function () {\n    var size = _.size(this.values);\n\n    this.min = 0;\n    this.max = size > 1 ? size - 1 : size;\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Category.prototype._setTicks = function () {\n    var _this = this;\n\n    var ticks = this.values;\n\n    if (_.isNumber(this.tickInterval)) {\n      return _.filter(ticks, function (__, i) {\n        return i % (_this.tickInterval + 1) === 0;\n      });\n    }\n\n    if (_.isNumber(this.tickCount)) {\n      // 简单过滤，部分情况下小数的倍数也可以是整数\n      var Q_1 = extended_1.ALL_Q.filter(function (n) {\n        return Number.isInteger(n);\n      }); // tslint:disable-next-line: no-shadowed-variable\n\n      var ticks_1 = extended_1.default(this.min, this.max, this.tickCount, false, Q_1).ticks;\n\n      var valid = _.filter(ticks_1, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n\n      return valid.map(function (index) {\n        return _this.values[index];\n      });\n    }\n\n    return this.values;\n  };\n\n  return Category;\n}(base_1.default);\n\nexports.default = Category;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar extended_1 = require(\"./util/extended\");\n\nvar Linear =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Linear, _super);\n\n  function Linear() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Linear.prototype.scale = function (_value) {\n    if (_.isNil(_value)) {\n      return NaN;\n    }\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    if (min === max) {\n      // https://github.com/d3/d3-scale/blob/master/src/continuous.js normalize\n      return 0.5;\n    } // min <= value <= max\n\n\n    var value = Math.min(Math.max(this._transform(_value), min), max);\n\n    var percent = this._calcPercent(value, min, max);\n\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    return this._calcValue(percent, range0, range1);\n  };\n\n  Linear.prototype.invert = function (scaled) {\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    var percent = this._calcPercent(scaled, range0, range1);\n\n    return this._calcValue(percent, min, max);\n  };\n\n  Linear.prototype._initDefaultCfg = function () {\n    this.values = [];\n    this.type = 'linear';\n    this.isLinear = true;\n    this.nice = true;\n    this.tickCount = 5;\n    this.maxTickCount = 10;\n  };\n\n  Linear.prototype._init = function () {\n    this._setDomain();\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Linear.prototype._setDomain = function () {\n    var _a = _.getRange(this.values),\n        min = _a.min,\n        max = _a.max;\n\n    if (_.isNil(this.min)) {\n      this.min = min;\n    }\n\n    if (_.isNil(this.max)) {\n      this.max = max;\n    }\n\n    if (this.min > this.max) {\n      console.error('min should less than max');\n      this.min = min;\n      this.max = max;\n    }\n  };\n\n  Linear.prototype._transform = function (v) {\n    return v;\n  };\n\n  Linear.prototype._setTicks = function () {\n    var _a, _b;\n\n    var _this = this;\n\n    var _c = this._getAlgoParams(),\n        onlyLoose = _c.onlyLoose,\n        Q = _c.Q,\n        w = _c.w,\n        m = _c.m;\n\n    var adjustTicks = [];\n    var tickCnt = m;\n    var minLimit = this.minLimit;\n    var maxLimit = this.maxLimit;\n    var tickMin;\n    var tickMax; // minLimit/maxLimit相同情况处理\n\n    if (!_.isNil(minLimit) && !_.isNil(maxLimit) && minLimit === maxLimit) {\n      console.error('minLimit should less than maxLimit');\n      minLimit = minLimit / 2;\n\n      if (minLimit === 0) {\n        maxLimit = 1;\n      }\n    }\n\n    tickMin = _.isNil(minLimit) ? this.min : this.minLimit;\n    tickMax = _.isNil(maxLimit) ? this.max : this.maxLimit; // 最终的min/max校验和处理\n\n    if (tickMin > tickMax) {\n      console.error('minLimit should less than maxLimit');\n      _a = [tickMax, tickMin], tickMin = _a[0], tickMax = _a[1];\n      _b = [maxLimit, minLimit], minLimit = _b[0], maxLimit = _b[1];\n    }\n\n    do {\n      var _d = extended_1.default(tickMin, tickMax, tickCnt, onlyLoose, Q, w),\n          min = _d.min,\n          max = _d.max,\n          ticks = _d.ticks;\n\n      adjustTicks = [];\n\n      if (this.nice) {\n        this.min = min;\n        this.max = max;\n      } // 修正min/max\n\n\n      if (!_.isNil(minLimit)) {\n        this.min = minLimit;\n      }\n\n      if (!_.isNil(maxLimit)) {\n        this.max = maxLimit;\n      }\n\n      adjustTicks.push(this.min);\n\n      _.each(ticks, function (tick) {\n        if (tick > _this.min && tick < _this.max) {\n          adjustTicks.push(tick);\n        }\n      });\n\n      if (adjustTicks[adjustTicks.length - 1] < this.max) {\n        adjustTicks.push(this.max);\n      } // 如果没有设置 minLimit/maxLimit，就不循环\n\n\n      if (_.isNil(minLimit) && _.isNil(maxLimit)) {\n        break;\n      } // 效果是否已经很好了\n\n\n      if (ticks.indexOf(this.min) >= 0 && ticks.indexOf(this.max) >= 0) {\n        break;\n      }\n\n      tickCnt += 1;\n    } while (tickCnt < this.maxTickCount);\n\n    return adjustTicks;\n  };\n\n  Linear.prototype._getAlgoParams = function () {\n    var _a = this.algoParam || {},\n        onlyLoose = _a.onlyLoose,\n        _Q = _a.Q,\n        w = _a.w;\n\n    var Q = _Q;\n    var m = this.tickCount;\n\n    if (this.minTickInterval) {\n      var interval = Math.abs(this.minTickInterval);\n      var e = Math.floor(Math.log10(interval)); // interval转为 (0, 10) 之间的值\n\n      var i_1 = interval / Math.pow(10, e);\n      Q = extended_1.ALL_Q.filter(function (n) {\n        return n >= i_1;\n      });\n\n      if (!_.includes(Q, i_1)) {\n        Q.push(i_1);\n      } // tickCount也需要相应调整\n\n\n      m = Math.ceil((this.max - this.min) / this.minTickInterval) + 1; // nice numbers数组长度不能<2\n\n      if (Q.length === 1) {\n        Q.push(1);\n      }\n    }\n\n    return {\n      m: m,\n      w: w,\n      Q: Q,\n      onlyLoose: onlyLoose\n    };\n  };\n\n  return Linear;\n}(base_1.default);\n\nexports.default = Linear;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (is_array_1.default(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexports.default = clone;","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;\n(function () {\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n  /** Used as the semantic version number. */\n\n  var VERSION = '4.17.15';\n  /** Used as the size to enable large array optimizations. */\n\n  var LARGE_ARRAY_SIZE = 200;\n  /** Error message constants. */\n\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n  /** Used to stand-in for `undefined` hash values. */\n\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  /** Used as the maximum memoize cache size. */\n\n  var MAX_MEMOIZE_SIZE = 500;\n  /** Used as the internal argument placeholder. */\n\n  var PLACEHOLDER = '__lodash_placeholder__';\n  /** Used to compose bitmasks for cloning. */\n\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n  /** Used to compose bitmasks for value comparisons. */\n\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n  /** Used to compose bitmasks for function metadata. */\n\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n  /** Used as default options for `_.truncate`. */\n\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n  /** Used to indicate the type of lazy iteratees. */\n\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n  /** Used as references for various `Number` constants. */\n\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n  /** Used as references for the maximum length and index of an array. */\n\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n  /** Used to associate wrap methods with their bit flags. */\n\n  var wrapFlags = [['ary', WRAP_ARY_FLAG], ['bind', WRAP_BIND_FLAG], ['bindKey', WRAP_BIND_KEY_FLAG], ['curry', WRAP_CURRY_FLAG], ['curryRight', WRAP_CURRY_RIGHT_FLAG], ['flip', WRAP_FLIP_FLAG], ['partial', WRAP_PARTIAL_FLAG], ['partialRight', WRAP_PARTIAL_RIGHT_FLAG], ['rearg', WRAP_REARG_FLAG]];\n  /** `Object#toString` result references. */\n\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n  /** Used to match empty string literals in compiled template source. */\n\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n  /** Used to match HTML entities and HTML characters. */\n\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n  /** Used to match template delimiters. */\n\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n  /** Used to match property names within property paths. */\n\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n  /** Used to match leading and trailing whitespace. */\n\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n  /** Used to match wrap detail comments. */\n\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n  /** Used to match words composed of alphanumeric characters. */\n\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n  /** Used to match backslashes in property paths. */\n\n  var reEscapeChar = /\\\\(\\\\)?/g;\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n  /** Used to match `RegExp` flags from their coerced string values. */\n\n  var reFlags = /\\w*$/;\n  /** Used to detect bad signed hexadecimal string values. */\n\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n  /** Used to detect binary string values. */\n\n  var reIsBinary = /^0b[01]+$/i;\n  /** Used to detect host constructors (Safari). */\n\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  /** Used to detect octal string values. */\n\n  var reIsOctal = /^0o[0-7]+$/i;\n  /** Used to detect unsigned integer values. */\n\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n  /** Used to ensure capturing order of template delimiters. */\n\n  var reNoMatch = /($^)/;\n  /** Used to match unescaped characters in compiled string literals. */\n\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n  /** Used to compose unicode character classes. */\n\n  var rsAstralRange = \"\\\\ud800-\\\\udfff\",\n      rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n      reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n      rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = \"\\\\u2700-\\\\u27bf\",\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = \"\\\\u2000-\\\\u206f\",\n      rsSpaceRange = \" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = \"\\\\ufe0e\\\\ufe0f\",\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n  /** Used to compose unicode capture groups. */\n\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\",\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",\n      rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = \"\\\\u200d\";\n  /** Used to compose unicode regexes. */\n\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n  /** Used to match apostrophes. */\n\n  var reApos = RegExp(rsApos, 'g');\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n\n  var reComboMark = RegExp(rsCombo, 'g');\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n  /** Used to match complex or compound words. */\n\n  var reUnicodeWord = RegExp([rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')', rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')', rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower, rsUpper + '+' + rsOptContrUpper, rsOrdUpper, rsOrdLower, rsDigits, rsEmoji].join('|'), 'g');\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\n  /** Used to detect strings that need a more robust regexp to match words. */\n\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n  /** Used to assign default `context` object properties. */\n\n  var contextProps = ['Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array', 'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object', 'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array', 'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap', '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'];\n  /** Used to make template sourceURLs easier to identify. */\n\n  var templateCounter = -1;\n  /** Used to identify `toStringTag` values of typed arrays. */\n\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',\n    '\\xc1': 'A',\n    '\\xc2': 'A',\n    '\\xc3': 'A',\n    '\\xc4': 'A',\n    '\\xc5': 'A',\n    '\\xe0': 'a',\n    '\\xe1': 'a',\n    '\\xe2': 'a',\n    '\\xe3': 'a',\n    '\\xe4': 'a',\n    '\\xe5': 'a',\n    '\\xc7': 'C',\n    '\\xe7': 'c',\n    '\\xd0': 'D',\n    '\\xf0': 'd',\n    '\\xc8': 'E',\n    '\\xc9': 'E',\n    '\\xca': 'E',\n    '\\xcb': 'E',\n    '\\xe8': 'e',\n    '\\xe9': 'e',\n    '\\xea': 'e',\n    '\\xeb': 'e',\n    '\\xcc': 'I',\n    '\\xcd': 'I',\n    '\\xce': 'I',\n    '\\xcf': 'I',\n    '\\xec': 'i',\n    '\\xed': 'i',\n    '\\xee': 'i',\n    '\\xef': 'i',\n    '\\xd1': 'N',\n    '\\xf1': 'n',\n    '\\xd2': 'O',\n    '\\xd3': 'O',\n    '\\xd4': 'O',\n    '\\xd5': 'O',\n    '\\xd6': 'O',\n    '\\xd8': 'O',\n    '\\xf2': 'o',\n    '\\xf3': 'o',\n    '\\xf4': 'o',\n    '\\xf5': 'o',\n    '\\xf6': 'o',\n    '\\xf8': 'o',\n    '\\xd9': 'U',\n    '\\xda': 'U',\n    '\\xdb': 'U',\n    '\\xdc': 'U',\n    '\\xf9': 'u',\n    '\\xfa': 'u',\n    '\\xfb': 'u',\n    '\\xfc': 'u',\n    '\\xdd': 'Y',\n    '\\xfd': 'y',\n    '\\xff': 'y',\n    '\\xc6': 'Ae',\n    '\\xe6': 'ae',\n    '\\xde': 'Th',\n    '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    \"\\u0100\": 'A',\n    \"\\u0102\": 'A',\n    \"\\u0104\": 'A',\n    \"\\u0101\": 'a',\n    \"\\u0103\": 'a',\n    \"\\u0105\": 'a',\n    \"\\u0106\": 'C',\n    \"\\u0108\": 'C',\n    \"\\u010A\": 'C',\n    \"\\u010C\": 'C',\n    \"\\u0107\": 'c',\n    \"\\u0109\": 'c',\n    \"\\u010B\": 'c',\n    \"\\u010D\": 'c',\n    \"\\u010E\": 'D',\n    \"\\u0110\": 'D',\n    \"\\u010F\": 'd',\n    \"\\u0111\": 'd',\n    \"\\u0112\": 'E',\n    \"\\u0114\": 'E',\n    \"\\u0116\": 'E',\n    \"\\u0118\": 'E',\n    \"\\u011A\": 'E',\n    \"\\u0113\": 'e',\n    \"\\u0115\": 'e',\n    \"\\u0117\": 'e',\n    \"\\u0119\": 'e',\n    \"\\u011B\": 'e',\n    \"\\u011C\": 'G',\n    \"\\u011E\": 'G',\n    \"\\u0120\": 'G',\n    \"\\u0122\": 'G',\n    \"\\u011D\": 'g',\n    \"\\u011F\": 'g',\n    \"\\u0121\": 'g',\n    \"\\u0123\": 'g',\n    \"\\u0124\": 'H',\n    \"\\u0126\": 'H',\n    \"\\u0125\": 'h',\n    \"\\u0127\": 'h',\n    \"\\u0128\": 'I',\n    \"\\u012A\": 'I',\n    \"\\u012C\": 'I',\n    \"\\u012E\": 'I',\n    \"\\u0130\": 'I',\n    \"\\u0129\": 'i',\n    \"\\u012B\": 'i',\n    \"\\u012D\": 'i',\n    \"\\u012F\": 'i',\n    \"\\u0131\": 'i',\n    \"\\u0134\": 'J',\n    \"\\u0135\": 'j',\n    \"\\u0136\": 'K',\n    \"\\u0137\": 'k',\n    \"\\u0138\": 'k',\n    \"\\u0139\": 'L',\n    \"\\u013B\": 'L',\n    \"\\u013D\": 'L',\n    \"\\u013F\": 'L',\n    \"\\u0141\": 'L',\n    \"\\u013A\": 'l',\n    \"\\u013C\": 'l',\n    \"\\u013E\": 'l',\n    \"\\u0140\": 'l',\n    \"\\u0142\": 'l',\n    \"\\u0143\": 'N',\n    \"\\u0145\": 'N',\n    \"\\u0147\": 'N',\n    \"\\u014A\": 'N',\n    \"\\u0144\": 'n',\n    \"\\u0146\": 'n',\n    \"\\u0148\": 'n',\n    \"\\u014B\": 'n',\n    \"\\u014C\": 'O',\n    \"\\u014E\": 'O',\n    \"\\u0150\": 'O',\n    \"\\u014D\": 'o',\n    \"\\u014F\": 'o',\n    \"\\u0151\": 'o',\n    \"\\u0154\": 'R',\n    \"\\u0156\": 'R',\n    \"\\u0158\": 'R',\n    \"\\u0155\": 'r',\n    \"\\u0157\": 'r',\n    \"\\u0159\": 'r',\n    \"\\u015A\": 'S',\n    \"\\u015C\": 'S',\n    \"\\u015E\": 'S',\n    \"\\u0160\": 'S',\n    \"\\u015B\": 's',\n    \"\\u015D\": 's',\n    \"\\u015F\": 's',\n    \"\\u0161\": 's',\n    \"\\u0162\": 'T',\n    \"\\u0164\": 'T',\n    \"\\u0166\": 'T',\n    \"\\u0163\": 't',\n    \"\\u0165\": 't',\n    \"\\u0167\": 't',\n    \"\\u0168\": 'U',\n    \"\\u016A\": 'U',\n    \"\\u016C\": 'U',\n    \"\\u016E\": 'U',\n    \"\\u0170\": 'U',\n    \"\\u0172\": 'U',\n    \"\\u0169\": 'u',\n    \"\\u016B\": 'u',\n    \"\\u016D\": 'u',\n    \"\\u016F\": 'u',\n    \"\\u0171\": 'u',\n    \"\\u0173\": 'u',\n    \"\\u0174\": 'W',\n    \"\\u0175\": 'w',\n    \"\\u0176\": 'Y',\n    \"\\u0177\": 'y',\n    \"\\u0178\": 'Y',\n    \"\\u0179\": 'Z',\n    \"\\u017B\": 'Z',\n    \"\\u017D\": 'Z',\n    \"\\u017A\": 'z',\n    \"\\u017C\": 'z',\n    \"\\u017E\": 'z',\n    \"\\u0132\": 'IJ',\n    \"\\u0133\": 'ij',\n    \"\\u0152\": 'Oe',\n    \"\\u0153\": 'oe',\n    \"\\u0149\": \"'n\",\n    \"\\u017F\": 's'\n  };\n  /** Used to map characters to HTML entities. */\n\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n  /** Used to map HTML entities to characters. */\n\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n  /** Used to escape characters for inclusion in compiled string literals. */\n\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    \"\\u2028\": 'u2028',\n    \"\\u2029\": 'u2029'\n  };\n  /** Built-in method references without a dependency on `root`. */\n\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n  /** Detect free variable `global` from Node.js. */\n\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n  /** Detect free variable `self`. */\n\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  /** Used as a reference to the global object. */\n\n  var root = freeGlobal || freeSelf || Function('return this')();\n  /** Detect free variable `exports`. */\n\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      } // Legacy `process.binding('util')` for Node.js < 10.\n\n\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  /* Node.js helper references. */\n\n\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0:\n        return func.call(thisArg);\n\n      case 1:\n        return func.call(thisArg, args[0]);\n\n      case 2:\n        return func.call(thisArg, args[0], args[1]);\n\n      case 3:\n        return func.call(thisArg, args[0], args[1], args[2]);\n    }\n\n    return func.apply(thisArg, args);\n  }\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n\n\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n\n\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n\n\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n\n\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n\n\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n\n\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n\n    return result;\n  }\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n\n    return accumulator;\n  }\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n\n\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n\n\n  var asciiSize = baseProperty('length');\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n  function asciiToArray(string) {\n    return string.split('');\n  }\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n\n\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n\n\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function (value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while (fromRight ? index-- : ++index < length) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n\n\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n\n\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? baseSum(array, iteratee) / length : NAN;\n  }\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function baseProperty(key) {\n    return function (object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function basePropertyOf(object) {\n    return function (key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n\n\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function (value, index, collection) {\n      accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n    array.sort(comparer);\n\n    while (length--) {\n      array[length] = array[length].value;\n    }\n\n    return array;\n  }\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n\n\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n\n      if (current !== undefined) {\n        result = result === undefined ? current : result + current;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n\n\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n\n\n  function baseToPairs(object, props) {\n    return arrayMap(props, function (key) {\n      return [key, object[key]];\n    });\n  }\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n\n\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n\n\n  function baseValues(object, props) {\n    return arrayMap(props, function (key) {\n      return object[key];\n    });\n  }\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n\n\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n\n    return index;\n  }\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n\n\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n\n    return index;\n  }\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n\n\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n\n\n  var deburrLetter = basePropertyOf(deburredLetters);\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n\n\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n\n\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n\n\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n\n    return result;\n  }\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n\n\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n\n\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n\n\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n\n\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n\n\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n\n    return index;\n  }\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n\n\n  function stringSize(string) {\n    return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);\n  }\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function stringToArray(string) {\n    return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n  }\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n\n\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n\n    return result;\n  }\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n\n\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n\n\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n\n\n  var runInContext = function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n    /** Built-in constructor references. */\n\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n    /** Used for built-in method references. */\n\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n    /** Used to detect overreaching core-js shims. */\n\n    var coreJsData = context['__core-js_shared__'];\n    /** Used to resolve the decompiled source of functions. */\n\n    var funcToString = funcProto.toString;\n    /** Used to check objects for own properties. */\n\n    var hasOwnProperty = objectProto.hasOwnProperty;\n    /** Used to generate unique IDs. */\n\n    var idCounter = 0;\n    /** Used to detect methods masquerading as native. */\n\n    var maskSrcKey = function () {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? 'Symbol(src)_1.' + uid : '';\n    }();\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n\n\n    var nativeObjectToString = objectProto.toString;\n    /** Used to infer the `Object` constructor. */\n\n    var objectCtorString = funcToString.call(Object);\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n\n    var oldDash = root._;\n    /** Used to detect if a method is native. */\n\n    var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n    /** Built-in value references. */\n\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = function () {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }();\n    /** Mocked built-ins. */\n\n\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n    /* Built-in method references that are verified to be native. */\n\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n    /** Used to store function metadata. */\n\n    var metaMap = WeakMap && new WeakMap();\n    /** Used to lookup unminified function names. */\n\n    var realNames = {};\n    /** Used to detect maps, sets, and weakmaps. */\n\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n    /** Used to convert symbols to primitives and strings. */\n\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n\n      return new LodashWrapper(value);\n    }\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    var baseCreate = function () {\n      function object() {}\n\n      return function (proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n\n        object.prototype = proto;\n        var result = new object();\n        object.prototype = undefined;\n        return result;\n      };\n    }();\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n\n\n    function baseLodash() {} // No operation performed.\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n\n\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n\n\n    lodash.templateSettings = {\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    }; // Ensure wrappers are instances of `baseLodash`.\n\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n\n\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n\n\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n\n      return result;\n    }\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n\n\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : start - 1,\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || !isRight && arrLength == length && takeCount == length) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n\n      var result = [];\n\n      outer: while (length-- && resIndex < takeCount) {\n        index += dir;\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n\n        result[resIndex++] = value;\n      }\n\n      return result;\n    } // Ensure `LazyWrapper` is an instance of `baseLodash`.\n\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n\n\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function hashGet(key) {\n      var data = this.__data__;\n\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n    }\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n\n\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n      return this;\n    } // Add methods to `Hash`.\n\n\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n\n\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n\n      var lastIndex = data.length - 1;\n\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n\n      --this.size;\n      return true;\n    }\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n      return index < 0 ? undefined : data[index][1];\n    }\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n\n\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n\n      return this;\n    } // Add methods to `ListCache`.\n\n\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n      this.clear();\n\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n\n\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash(),\n        'map': new (Map || ListCache)(),\n        'string': new Hash()\n      };\n    }\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n\n\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    } // Add methods to `MapCache`.\n\n\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n      this.__data__ = new MapCache();\n\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n\n\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n\n      return this;\n    }\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n\n\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    } // Add methods to `SetCache`.\n\n\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n\n\n    function stackClear() {\n      this.__data__ = new ListCache();\n      this.size = 0;\n    }\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n\n\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n      this.size = data.size;\n      return result;\n    }\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n\n\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n\n\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n\n\n    function stackSet(key, value) {\n      var data = this.__data__;\n\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n\n        if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n\n        data = this.__data__ = new MapCache(pairs);\n      }\n\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    } // Add methods to `Stack`.\n\n\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n        key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n        isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n        isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n        isIndex(key, length)))) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n\n\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n\n\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n\n\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function assignMergeValue(object, key, value) {\n      if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) {\n        baseAssignValue(object, key, value);\n      }\n    }\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {\n        baseAssignValue(object, key, value);\n      }\n    }\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n\n\n    function assocIndexOf(array, key) {\n      var length = array.length;\n\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n\n\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function (value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n\n\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n\n\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n\n\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n\n      return number;\n    }\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n\n\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n\n      if (result !== undefined) {\n        return result;\n      }\n\n      if (!isObject(value)) {\n        return value;\n      }\n\n      var isArr = isArray(value);\n\n      if (isArr) {\n        result = initCloneArray(value);\n\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n\n        if (tag == objectTag || tag == argsTag || isFunc && !object) {\n          result = isFlat || isFunc ? {} : initCloneObject(value);\n\n          if (!isDeep) {\n            return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      } // Check for circular references and return its corresponding clone.\n\n\n      stack || (stack = new Stack());\n      var stacked = stack.get(value);\n\n      if (stacked) {\n        return stacked;\n      }\n\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function (subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function (subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function (subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        } // Recursively populate clone (susceptible to call stack limits).\n\n\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseConforms(source) {\n      var props = keys(source);\n      return function (object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n\n\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n\n      if (object == null) {\n        return !length;\n      }\n\n      object = Object(object);\n\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if (value === undefined && !(key in object) || !predicate(value)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n\n\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      return setTimeout(function () {\n        func.apply(undefined, args);\n      }, wait);\n    }\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n\n\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      } else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n\n      outer: while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n        value = comparator || value !== 0 ? value : 0;\n\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n\n          result.push(value);\n        } else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n\n\n    var baseEach = createBaseEach(baseForOwn);\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function (value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n\n\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {\n          var computed = current,\n              result = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n      start = toInteger(start);\n\n      if (start < 0) {\n        start = -start > length ? 0 : length + start;\n      }\n\n      end = end === undefined || end > length ? length : toInteger(end);\n\n      if (end < 0) {\n        end += length;\n      }\n\n      end = start > end ? 0 : toLength(end);\n\n      while (start < end) {\n        array[start++] = value;\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n\n\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function (value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n\n\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    var baseFor = createBaseFor();\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n\n    var baseForRight = createBaseFor(true);\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n\n\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function (key) {\n        return isFunction(object[key]);\n      });\n    }\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n\n\n    function baseGet(object, path) {\n      path = castPath(path, object);\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n\n      return index && index == length ? object : undefined;\n    }\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n\n\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n\n      return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n    }\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n\n\n    function baseGt(value, other) {\n      return value > other;\n    }\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n\n\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n\n\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n\n\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n\n\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined;\n      }\n\n      array = arrays[0];\n      var index = -1,\n          seen = caches[0];\n\n      outer: while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n        value = comparator || value !== 0 ? value : 0;\n\n        if (!(seen ? cacheHas(seen, computed) : includes(result, computed, comparator))) {\n          othIndex = othLength;\n\n          while (--othIndex) {\n            var cache = caches[othIndex];\n\n            if (!(cache ? cacheHas(cache, computed) : includes(arrays[othIndex], computed, comparator))) {\n              continue outer;\n            }\n          }\n\n          if (seen) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n\n\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function (value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n\n\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n\n\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n\n\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n\n\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n\n\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n\n      if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n        return value !== value && other !== other;\n      }\n\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n\n        objIsArr = true;\n        objIsObj = false;\n      }\n\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack());\n        return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n          stack || (stack = new Stack());\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n\n      if (!isSameTag) {\n        return false;\n      }\n\n      stack || (stack = new Stack());\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n\n\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n\n\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n\n      object = Object(object);\n\n      while (index--) {\n        var data = matchData[index];\n\n        if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n          return false;\n        }\n      }\n\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack();\n\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n\n\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n\n\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n\n\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n\n\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n\n\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n\n      if (value == null) {\n        return identity;\n      }\n\n      if (typeof value == 'object') {\n        return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n      }\n\n      return property(value);\n    }\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n\n      var result = [];\n\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n\n\n    function baseLt(value, other) {\n      return value < other;\n    }\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n\n\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n      baseEach(collection, function (value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n\n      return function (object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n\n      return function (object) {\n        var objValue = get(object, path);\n        return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n\n\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n\n      baseFor(source, function (srcValue, key) {\n        stack || (stack = new Stack());\n\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        } else {\n          var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + '', object, source, stack) : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n\n\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n\n      var newValue = customizer ? customizer(objValue, srcValue, key + '', object, source, stack) : undefined;\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n        newValue = srcValue;\n\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          } else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          } else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          } else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          } else {\n            newValue = [];\n          }\n        } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          } else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        } else {\n          isCommon = false;\n        }\n      }\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n\n      assignMergeValue(object, key, newValue);\n    }\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n\n\n    function baseNth(array, n) {\n      var length = array.length;\n\n      if (!length) {\n        return;\n      }\n\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n\n\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n      var result = baseMap(collection, function (value, key, collection) {\n        var criteria = arrayMap(iteratees, function (iteratee) {\n          return iteratee(value);\n        });\n        return {\n          'criteria': criteria,\n          'index': ++index,\n          'value': value\n        };\n      });\n      return baseSortBy(result, function (object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function (value, path) {\n        return hasIn(object, path);\n      });\n    }\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n\n\n    function basePropertyDeep(path) {\n      return function (object) {\n        return baseGet(object, path);\n      };\n    }\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n\n          splice.call(array, fromIndex, 1);\n        }\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n\n      return array;\n    }\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n\n\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n\n\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n\n\n    function baseRepeat(string, n) {\n      var result = '';\n\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      } // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n\n\n      do {\n        if (n % 2) {\n          result += string;\n        }\n\n        n = nativeFloor(n / 2);\n\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n\n\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n\n\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n\n          if (newValue === undefined) {\n            newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n\n      return object;\n    }\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var baseSetData = !metaMap ? identity : function (func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n\n    var baseSetToString = !defineProperty ? identity : function (func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : length + start;\n      }\n\n      end = end > length ? length : end;\n\n      if (end < 0) {\n        end += length;\n      }\n\n      length = start > end ? 0 : end - start >>> 0;\n      start >>>= 0;\n      var result = Array(length);\n\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n\n\n    function baseSome(collection, predicate) {\n      var result;\n      baseEach(collection, function (value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n\n\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = low + high >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n\n        return high;\n      }\n\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n\n\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? computed <= value : computed < value;\n        }\n\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n\n\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n\n\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n\n      if (isSymbol(value)) {\n        return NAN;\n      }\n\n      return +value;\n    }\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n\n\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n\n      var result = value + '';\n      return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n    }\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n\n\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      } else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n\n        if (set) {\n          return setToArray(set);\n        }\n\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache();\n      } else {\n        seen = iteratee ? [] : result;\n      }\n\n      outer: while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n        value = comparator || value !== 0 ? value : 0;\n\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n\n          if (iteratee) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        } else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n\n          result.push(value);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n\n\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n\n      return isDrop ? baseSlice(array, fromRight ? 0 : index, fromRight ? index + 1 : length) : baseSlice(array, fromRight ? index + 1 : 0, fromRight ? length : index);\n    }\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n\n\n    function baseWrapperValue(value, actions) {\n      var result = value;\n\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n\n      return arrayReduce(actions, function (result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n\n\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n\n\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n\n      return result;\n    }\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n\n\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n\n\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n\n\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    var castRest = baseRest;\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return !start && end >= length ? array : baseSlice(array, start, end);\n    }\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n\n\n    var clearTimeout = ctxClearTimeout || function (id) {\n      return root.clearTimeout(id);\n    };\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n\n\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n      buffer.copy(result);\n      return result;\n    }\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n\n\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n\n\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n\n\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n\n\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n\n\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n\n\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {\n          return 1;\n        }\n\n        if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {\n          return -1;\n        }\n      }\n\n      return 0;\n    }\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n\n\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      } // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n\n\n      return object.index - other.index;\n    }\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n\n\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n\n      return result;\n    }\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n\n\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n\n      var offset = argsIndex;\n\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n      array || (array = Array(length));\n\n      while (++index < length) {\n        array[index] = source[index];\n      }\n\n      return array;\n    }\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n\n      return object;\n    }\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n\n\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n\n\n    function createAggregator(setter, initializer) {\n      return function (collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n\n\n    function createAssigner(assigner) {\n      return baseRest(function (object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n        customizer = assigner.length > 3 && typeof customizer == 'function' ? (length--, customizer) : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n\n        object = Object(object);\n\n        while (++index < length) {\n          var source = sources[index];\n\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n\n        return object;\n      });\n    }\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n\n\n    function createBaseEach(eachFunc, fromRight) {\n      return function (collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while (fromRight ? index-- : ++index < length) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n\n        return collection;\n      };\n    }\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n\n\n    function createBaseFor(fromRight) {\n      return function (object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n\n        return object;\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n\n\n    function createCaseFirst(methodName) {\n      return function (string) {\n        string = toString(string);\n        var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined;\n        var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n        var trailing = strSymbols ? castSlice(strSymbols, 1).join('') : string.slice(1);\n        return chr[methodName]() + trailing;\n      };\n    }\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n\n\n    function createCompounder(callback) {\n      return function (string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createCtor(Ctor) {\n      return function () {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n\n        switch (args.length) {\n          case 0:\n            return new Ctor();\n\n          case 1:\n            return new Ctor(args[0]);\n\n          case 2:\n            return new Ctor(args[0], args[1]);\n\n          case 3:\n            return new Ctor(args[0], args[1], args[2]);\n\n          case 4:\n            return new Ctor(args[0], args[1], args[2], args[3]);\n\n          case 5:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n\n          case 6:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n\n          case 7:\n            return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args); // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n\n        var holders = length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder ? [] : replaceHolders(args, placeholder);\n        length -= holders.length;\n\n        if (length < arity) {\n          return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length);\n        }\n\n        var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n        return apply(fn, this, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n\n\n    function createFind(findIndexFunc) {\n      return function (collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n\n          predicate = function predicate(key) {\n            return iteratee(iterable[key], key, iterable);\n          };\n        }\n\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n\n\n    function createFlow(fromRight) {\n      return flatRest(function (funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n\n        while (index--) {\n          var func = funcs[index];\n\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n\n        index = wrapper ? index : length;\n\n        while (++index < length) {\n          func = funcs[index];\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n\n        return function () {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n\n          return result;\n        };\n      });\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n\n        length -= holdersCount;\n\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length);\n        }\n\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n        length = args.length;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n\n        return fn.apply(thisBinding, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n\n\n    function createInverter(setter, toIteratee) {\n      return function (object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n\n\n    function createMathOperation(operator, defaultValue) {\n      return function (value, other) {\n        var result;\n\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n\n        if (value !== undefined) {\n          result = value;\n        }\n\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n\n          result = operator(value, other);\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n\n\n    function createOver(arrayFunc) {\n      return flatRest(function (iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function (args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function (iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n\n\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n      var charsLength = chars.length;\n\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars) ? castSlice(stringToArray(result), 0, length).join('') : result.slice(0, length);\n    }\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n\n      return wrapper;\n    }\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n\n\n    function createRange(fromRight) {\n      return function (start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        } // Ensure the sign of `-0` is preserved.\n\n\n        start = toFinite(start);\n\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n\n        step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n\n\n    function createRelationalOperation(operator) {\n      return function (value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n\n        return operator(value, other);\n      };\n    }\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n      bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n\n      var newData = [func, bitmask, thisArg, newPartials, newHolders, newPartialsRight, newHoldersRight, argPos, ary, arity];\n      var result = wrapFunc.apply(undefined, newData);\n\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n\n\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function (number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n\n        return func(number);\n      };\n    }\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n\n\n    var createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function (values) {\n      return new Set(values);\n    };\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n\n    function createToPairs(keysFunc) {\n      return function (object) {\n        var tag = getTag(object);\n\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n\n\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      var length = partials ? partials.length : 0;\n\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n        partials = holders = undefined;\n      }\n\n      var data = isBindKey ? undefined : getData(func);\n      var newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n\n\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {\n        return srcValue;\n      }\n\n      return objValue;\n    }\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n\n\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n\n      return objValue;\n    }\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n\n\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n\n\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(array);\n\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n\n      var index = -1,\n          result = true,\n          seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n      stack.set(array, other);\n      stack.set(other, array); // Ignore non-index properties.\n\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n        }\n\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n\n          result = false;\n          break;\n        } // Recursively compare arrays (susceptible to call stack limits).\n\n\n        if (seen) {\n          if (!arraySome(other, function (othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n            result = false;\n            break;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          result = false;\n          break;\n        }\n      }\n\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n            return false;\n          }\n\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == other + '';\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          } // Assume cyclic values are equal.\n\n\n          var stacked = stack.get(object);\n\n          if (stacked) {\n            return stacked == other;\n          }\n\n          bitmask |= COMPARE_UNORDERED_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n\n      }\n\n      return false;\n    }\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n\n\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n\n      var index = objLength;\n\n      while (index--) {\n        var key = objProps[index];\n\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      } // Assume cyclic values are equal.\n\n\n      var stacked = stack.get(object);\n\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n      var skipCtor = isPartial;\n\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n        } // Recursively compare objects (susceptible to call stack limits).\n\n\n        if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n          result = false;\n          break;\n        }\n\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n        if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n\n\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n\n\n    var getData = !metaMap ? noop : function (func) {\n      return metaMap.get(func);\n    };\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n\n    function getFuncName(func) {\n      var result = func.name + '',\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n\n\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n\n\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n\n\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n    }\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n\n\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n\n      return result;\n    }\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n\n\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n\n\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n\n\n    var getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n      if (object == null) {\n        return [];\n      }\n\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function (symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {\n      var result = [];\n\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n\n      return result;\n    };\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n\n    var getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\n    if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n      getTag = function getTag(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString:\n              return dataViewTag;\n\n            case mapCtorString:\n              return mapTag;\n\n            case promiseCtorString:\n              return promiseTag;\n\n            case setCtorString:\n              return setTag;\n\n            case weakMapCtorString:\n              return weakMapTag;\n          }\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n\n\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':\n            start += size;\n            break;\n\n          case 'dropRight':\n            end -= size;\n            break;\n\n          case 'take':\n            end = nativeMin(end, start + size);\n            break;\n\n          case 'takeRight':\n            start = nativeMax(start, end - size);\n            break;\n        }\n      }\n\n      return {\n        'start': start,\n        'end': end\n      };\n    }\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n\n\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n\n\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n\n        object = object[key];\n      }\n\n      if (result || ++index != length) {\n        return result;\n      }\n\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n    }\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n\n\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length); // Add properties assigned by `RegExp#exec`.\n\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n\n      return result;\n    }\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n\n\n    function initCloneObject(object) {\n      return typeof object.constructor == 'function' && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n    }\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n\n\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag:\n        case float64Tag:\n        case int8Tag:\n        case int16Tag:\n        case int32Tag:\n        case uint8Tag:\n        case uint8ClampedTag:\n        case uint16Tag:\n        case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor();\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor();\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n\n\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n\n      if (!length) {\n        return source;\n      }\n\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n\n\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n\n\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n    }\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n\n\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n\n      var type = typeof index;\n\n      if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n        return eq(object[index], value);\n      }\n\n      return false;\n    }\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n\n\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n\n      var type = typeof value;\n\n      if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n        return true;\n      }\n\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n    }\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n\n\n    function isKeyable(value) {\n      var type = typeof value;\n      return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n    }\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n\n\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n\n      if (func === other) {\n        return true;\n      }\n\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n\n\n    function isMasked(func) {\n      return !!maskSrcKey && maskSrcKey in func;\n    }\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n\n\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    }\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n\n\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n\n\n    function matchesStrictComparable(key, srcValue) {\n      return function (object) {\n        if (object == null) {\n          return false;\n        }\n\n        return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n      };\n    }\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n\n\n    function memoizeCapped(func) {\n      var result = memoize(func, function (key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n\n        return key;\n      });\n      var cache = result.cache;\n      return result;\n    }\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n\n\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n      var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG; // Exit early if metadata can't be merged.\n\n      if (!(isCommon || isCombo)) {\n        return data;\n      } // Use source `thisArg` if available.\n\n\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2]; // Set when currying a bound function.\n\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      } // Compose partial arguments.\n\n\n      var value = source[3];\n\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      } // Compose partial right arguments.\n\n\n      value = source[5];\n\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      } // Use source `argPos` if available.\n\n\n      value = source[7];\n\n      if (value) {\n        data[7] = value;\n      } // Use source `ary` if it's smaller.\n\n\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      } // Use source `arity` if one is not provided.\n\n\n      if (data[9] == null) {\n        data[9] = source[9];\n      } // Use source `func` and merge bitmasks.\n\n\n      data[0] = source[0];\n      data[1] = newBitmask;\n      return data;\n    }\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n\n\n    function nativeKeysIn(object) {\n      var result = [];\n\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n\n\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n\n\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n      return function () {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n\n        index = -1;\n        var otherArgs = Array(start + 1);\n\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n\n\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n\n      return array;\n    }\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n\n\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var setData = shortOut(baseSetData);\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n\n    var setTimeout = ctxSetTimeout || function (func, wait) {\n      return root.setTimeout(func, wait);\n    };\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n\n\n    var setToString = shortOut(baseSetToString);\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = reference + '';\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n\n\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n      return function () {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n\n        return func.apply(undefined, arguments);\n      };\n    }\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n\n\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n      size = size === undefined ? length : size;\n\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n        array[rand] = array[index];\n        array[index] = value;\n      }\n\n      array.length = size;\n      return array;\n    }\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n\n\n    var stringToPath = memoizeCapped(function (string) {\n      var result = [];\n\n      if (string.charCodeAt(0) === 46\n      /* . */\n      ) {\n          result.push('');\n        }\n\n      string.replace(rePropName, function (match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);\n      });\n      return result;\n    });\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n\n      var result = value + '';\n      return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n    }\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n\n\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n\n        try {\n          return func + '';\n        } catch (e) {}\n      }\n\n      return '';\n    }\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n\n\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function (pair) {\n        var value = '_.' + pair[0];\n\n        if (bitmask & pair[1] && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n\n\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__ = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n\n\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size === undefined) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n\n      var length = array == null ? 0 : array.length;\n\n      if (!length || size < 1) {\n        return [];\n      }\n\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, index += size);\n      }\n\n      return result;\n    }\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n\n\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n\n\n    function concat() {\n      var length = arguments.length;\n\n      if (!length) {\n        return [];\n      }\n\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n\n\n    var difference = baseRest(function (array, values) {\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true)) : [];\n    });\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n\n    var differenceBy = baseRest(function (array, values) {\n      var iteratee = last(values);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2)) : [];\n    });\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n\n    var differenceWith = baseRest(function (array, values) {\n      var comparator = last(values);\n\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n\n      return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator) : [];\n    });\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n\n\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n\n\n    function dropRightWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : [];\n    }\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n\n\n    function dropWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : [];\n    }\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n\n\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n\n      return baseFill(array, value, start, end);\n    }\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n\n\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n\n\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = length - 1;\n\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n\n\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n\n\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n\n\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n\n      return result;\n    }\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n\n\n    function head(array) {\n      return array && array.length ? array[0] : undefined;\n    }\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n\n\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n\n      return baseIndexOf(array, value, index);\n    }\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n\n\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n\n\n    var intersection = baseRest(function (arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];\n    });\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n\n    var intersectionBy = baseRest(function (arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee, 2)) : [];\n    });\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n\n    var intersectionWith = baseRest(function (arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n\n      if (comparator) {\n        mapped.pop();\n      }\n\n      return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined, comparator) : [];\n    });\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n\n\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n\n\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return -1;\n      }\n\n      var index = length;\n\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n\n      return value === value ? strictLastIndexOf(array, value, index) : baseFindIndex(array, baseIsNaN, index, true);\n    }\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n\n\n    function nth(array, n) {\n      return array && array.length ? baseNth(array, toInteger(n)) : undefined;\n    }\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n\n\n    var pull = baseRest(pullAll);\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n\n    function pullAll(array, values) {\n      return array && array.length && values && values.length ? basePullAll(array, values) : array;\n    }\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n\n\n    function pullAllBy(array, values, iteratee) {\n      return array && array.length && values && values.length ? basePullAll(array, values, getIteratee(iteratee, 2)) : array;\n    }\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n\n\n    function pullAllWith(array, values, comparator) {\n      return array && array.length && values && values.length ? basePullAll(array, values, undefined, comparator) : array;\n    }\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n\n\n    var pullAt = flatRest(function (array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n      basePullAt(array, arrayMap(indexes, function (index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n      return result;\n    });\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n\n    function remove(array, predicate) {\n      var result = [];\n\n      if (!(array && array.length)) {\n        return result;\n      }\n\n      var index = -1,\n          indexes = [],\n          length = array.length;\n      predicate = getIteratee(predicate, 3);\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n\n      basePullAt(array, indexes);\n      return result;\n    }\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n\n\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n\n\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      } else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n\n      return baseSlice(array, start, end);\n    }\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n\n\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n\n\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n\n\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n\n      if (length) {\n        var index = baseSortedIndex(array, value);\n\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n\n\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n\n\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n\n\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n\n\n    function sortedUniq(array) {\n      return array && array.length ? baseSortedUniq(array) : [];\n    }\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n\n\n    function sortedUniqBy(array, iteratee) {\n      return array && array.length ? baseSortedUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n\n\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n\n\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n\n\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n\n      if (!length) {\n        return [];\n      }\n\n      n = guard || n === undefined ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n\n\n    function takeRightWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : [];\n    }\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n\n\n    function takeWhile(array, predicate) {\n      return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : [];\n    }\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n\n\n    var union = baseRest(function (arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n\n    var unionBy = baseRest(function (arrays) {\n      var iteratee = last(arrays);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n\n    var unionWith = baseRest(function (arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n\n    function uniq(array) {\n      return array && array.length ? baseUniq(array) : [];\n    }\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n\n\n    function uniqBy(array, iteratee) {\n      return array && array.length ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n\n\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return array && array.length ? baseUniq(array, undefined, comparator) : [];\n    }\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n\n\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      var length = 0;\n      array = arrayFilter(array, function (group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function (index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n\n\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n\n      var result = unzip(array);\n\n      if (iteratee == null) {\n        return result;\n      }\n\n      return arrayMap(result, function (group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n\n\n    var without = baseRest(function (array, values) {\n      return isArrayLikeObject(array) ? baseDifference(array, values) : [];\n    });\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n\n    var xor = baseRest(function (arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n\n    var xorBy = baseRest(function (arrays) {\n      var iteratee = last(arrays);\n\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n\n    var xorWith = baseRest(function (arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n\n    var zip = baseRest(unzip);\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n\n\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n\n\n    var zipWith = baseRest(function (arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n\n\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n\n\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n\n\n    var wrapperAt = flatRest(function (paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function interceptor(object) {\n        return baseAt(object, paths);\n      };\n\n      if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n\n      value = value.slice(start, +start + (length ? 1 : 0));\n\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n\n      return new LodashWrapper(value, this.__chain__).thru(function (array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n\n        return array;\n      });\n    });\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n\n    function wrapperChain() {\n      return chain(this);\n    }\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n\n\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n\n\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n      return {\n        'done': done,\n        'value': value\n      };\n    }\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n\n\n    function wrapperToIterator() {\n      return this;\n    }\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n\n\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n\n      previous.__wrapped__ = value;\n      return result;\n    }\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n\n\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n\n        wrapped = wrapped.reverse();\n\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n\n      return this.thru(reverse);\n    }\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n\n\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n\n\n    var countBy = createAggregator(function (result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n\n\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n\n\n    var find = createFind(findIndex);\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n\n    var findLast = createFind(findLastIndex);\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n\n\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n\n\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n\n\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n\n\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n\n\n    var groupBy = createAggregator(function (result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;\n      var length = collection.length;\n\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n\n      return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;\n    }\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n\n\n    var invokeMap = baseRest(function (collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n      baseEach(collection, function (value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n\n    var keyBy = createAggregator(function (result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n\n\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n\n      orders = guard ? undefined : orders;\n\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n\n      return baseOrderBy(collection, iteratees, orders);\n    }\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n\n\n    var partition = createAggregator(function (result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function () {\n      return [[], []];\n    });\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n\n\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n\n\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n\n\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n\n\n    function sampleSize(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n === undefined) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n\n\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n\n\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n\n      var tag = getTag(collection);\n\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n\n      return baseKeys(collection).length;\n    }\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n\n\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n\n      return func(collection, getIteratee(predicate, 3));\n    }\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n\n\n    var sortBy = baseRest(function (collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n\n      var length = iteratees.length;\n\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n\n    var now = ctxNow || function () {\n      return root.Date.now();\n    };\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n\n\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      n = toInteger(n);\n      return function () {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n\n\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = func && n == null ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n\n\n    function before(n, func) {\n      var result;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      n = toInteger(n);\n      return function () {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n\n        if (n <= 1) {\n          func = undefined;\n        }\n\n        return result;\n      };\n    }\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n\n\n    var bind = baseRest(function (func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n\n    var bindKey = baseRest(function (object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n\n\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n\n\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      wait = toNumber(wait) || 0;\n\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time; // Start the timer for the trailing edge.\n\n        timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n        return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n\n        return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n\n      function timerExpired() {\n        var time = now();\n\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        } // Restart the timer.\n\n\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n\n        return result;\n      }\n\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n\n\n    var defer = baseRest(function (func, args) {\n      return baseDelay(func, 1, args);\n    });\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n\n    var delay = baseRest(function (func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n\n\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      var memoized = function memoized() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n\n      memoized.cache = new (memoize.Cache || MapCache)();\n      return memoized;\n    } // Expose `MapCache`.\n\n\n    memoize.Cache = MapCache;\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      return function () {\n        var args = arguments;\n\n        switch (args.length) {\n          case 0:\n            return !predicate.call(this);\n\n          case 1:\n            return !predicate.call(this, args[0]);\n\n          case 2:\n            return !predicate.call(this, args[0], args[1]);\n\n          case 3:\n            return !predicate.call(this, args[0], args[1], args[2]);\n        }\n\n        return !predicate.apply(this, args);\n      };\n    }\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n\n\n    function once(func) {\n      return before(2, func);\n    }\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n\n\n    var overArgs = castRest(function (func, transforms) {\n      transforms = transforms.length == 1 && isArray(transforms[0]) ? arrayMap(transforms[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n      var funcsLength = transforms.length;\n      return baseRest(function (args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n\n        return apply(func, this, args);\n      });\n    });\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n\n    var partial = baseRest(function (func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n\n    var partialRight = baseRest(function (func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n\n    var rearg = flatRest(function (func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n\n\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function (args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n\n        return apply(func, this, otherArgs);\n      });\n    }\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n\n\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n\n\n    function unary(func) {\n      return ary(func, 1);\n    }\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n\n\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n\n\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n\n\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n\n\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n\n\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n\n\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n\n\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n\n\n    function eq(value, other) {\n      return value === other || value !== value && other !== other;\n    }\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n\n\n    var gt = createRelationalOperation(baseGt);\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n\n    var gte = createRelationalOperation(function (value, other) {\n      return value >= other;\n    });\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n\n    var isArguments = baseIsArguments(function () {\n      return arguments;\n    }()) ? baseIsArguments : function (value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    };\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n\n    var isArray = Array.isArray;\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n\n\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n\n\n    function isBoolean(value) {\n      return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;\n    }\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n\n\n    var isBuffer = nativeIsBuffer || stubFalse;\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n\n\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n\n      if (isArrayLike(value) && (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' || isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n\n      var tag = getTag(value);\n\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n\n\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n\n\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n\n\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag || typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value);\n    }\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n\n\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n\n\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      } // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n\n\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n\n\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n\n\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n\n\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n\n\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n\n\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n\n\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n\n\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n\n      return baseIsNative(value);\n    }\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n\n\n    function isNull(value) {\n      return value === null;\n    }\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n\n\n    function isNil(value) {\n      return value == null;\n    }\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n\n\n    function isNumber(value) {\n      return typeof value == 'number' || isObjectLike(value) && baseGetTag(value) == numberTag;\n    }\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n\n\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n\n      var proto = getPrototype(value);\n\n      if (proto === null) {\n        return true;\n      }\n\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n    }\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n\n\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n\n\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n\n    function isString(value) {\n      return typeof value == 'string' || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n    }\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n\n\n    function isSymbol(value) {\n      return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n    }\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n\n\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n\n    function isUndefined(value) {\n      return value === undefined;\n    }\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n\n\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n\n\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n\n\n    var lt = createRelationalOperation(baseLt);\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n\n    var lte = createRelationalOperation(function (value, other) {\n      return value <= other;\n    });\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : tag == setTag ? setToArray : values;\n      return func(value);\n    }\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n\n\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n\n      value = toNumber(value);\n\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = value < 0 ? -1 : 1;\n        return sign * MAX_INTEGER;\n      }\n\n      return value === value ? value : 0;\n    }\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n\n\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n      return result === result ? remainder ? result - remainder : result : 0;\n    }\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n\n\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n\n\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n\n      if (isSymbol(value)) {\n        return NAN;\n      }\n\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? other + '' : other;\n      }\n\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n\n\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n\n\n    function toSafeInteger(value) {\n      return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0;\n    }\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n\n\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n\n    var assign = createAssigner(function (object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n\n    var assignIn = createAssigner(function (object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    var assignInWith = createAssigner(function (object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n    var assignWith = createAssigner(function (object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n\n    var at = flatRest(baseAt);\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n\n\n    var defaults = baseRest(function (object, sources) {\n      object = Object(object);\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n\n    var defaultsDeep = baseRest(function (args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n\n\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n\n\n    function forIn(object, iteratee) {\n      return object == null ? object : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n\n\n    function forInRight(object, iteratee) {\n      return object == null ? object : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n\n\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n\n\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n\n\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n\n\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n\n\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n\n\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n\n\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n\n\n    var invert = createInverter(function (result, value, key) {\n      if (value != null && typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n\n    var invertBy = createInverter(function (result, value, key) {\n      if (value != null && typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n\n    var invoke = baseRest(baseInvoke);\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n\n\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n\n\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n      baseForOwn(object, function (value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n\n\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n      baseForOwn(object, function (value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n\n\n    var merge = createAssigner(function (object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n\n    var mergeWith = createAssigner(function (object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n\n    var omit = flatRest(function (object, paths) {\n      var result = {};\n\n      if (object == null) {\n        return result;\n      }\n\n      var isDeep = false;\n      paths = arrayMap(paths, function (path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n\n      var length = paths.length;\n\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n\n      return result;\n    });\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n\n    var pick = flatRest(function (object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n\n      var props = arrayMap(getAllKeysIn(object), function (prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function (value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n\n\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n      var index = -1,\n          length = path.length; // Ensure the loop is entered when path is empty.\n\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n\n        object = isFunction(value) ? value.call(object) : value;\n      }\n\n      return object;\n    }\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n\n\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n\n\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n\n\n    var toPairs = createToPairs(keys);\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n\n    var toPairsIn = createToPairs(keysIn);\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n      iteratee = getIteratee(iteratee, 4);\n\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor() : [];\n        } else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        } else {\n          accumulator = {};\n        }\n      }\n\n      (isArrLike ? arrayEach : baseForOwn)(object, function (value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n\n\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n\n\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n\n\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n\n\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n\n\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n\n\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n\n      return baseClamp(toNumber(number), lower, upper);\n    }\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n\n\n    function inRange(number, start, end) {\n      start = toFinite(start);\n\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n\n\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        } else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      } else {\n        lower = toFinite(lower);\n\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1))), upper);\n      }\n\n      return baseRandom(lower, upper);\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n\n\n    var camelCase = createCompounder(function (result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n\n\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n\n\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n      var length = string.length;\n      position = position === undefined ? length : baseClamp(toInteger(position), 0, length);\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n\n\n    function escape(string) {\n      string = toString(string);\n      return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;\n    }\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n\n\n    function escapeRegExp(string) {\n      string = toString(string);\n      return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, '\\\\$&') : string;\n    }\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n\n\n    var kebabCase = createCompounder(function (result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n\n    var lowerCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n\n    var lowerFirst = createCaseFirst('toLowerCase');\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n\n      if (!length || strLength >= length) {\n        return string;\n      }\n\n      var mid = (length - strLength) / 2;\n      return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars);\n    }\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n\n\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n      return length && strLength < length ? string + createPadding(length - strLength, chars) : string;\n    }\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n\n\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n      var strLength = length ? stringSize(string) : 0;\n      return length && strLength < length ? createPadding(length - strLength, chars) + string : string;\n    }\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n\n\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n\n\n    function repeat(string, n, guard) {\n      if (guard ? isIterateeCall(string, n, guard) : n === undefined) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n\n      return baseRepeat(toString(string), n);\n    }\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n\n\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n\n\n    var snakeCase = createCompounder(function (result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n\n      if (!limit) {\n        return [];\n      }\n\n      string = toString(string);\n\n      if (string && (typeof separator == 'string' || separator != null && !isRegExp(separator))) {\n        separator = baseToString(separator);\n\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n\n      return string.split(separator, limit);\n    }\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n\n\n    var startCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n\n\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\"; // Compile the regexp to match each delimiter.\n\n      var reDelimiters = RegExp((options.escape || reNoMatch).source + '|' + interpolate.source + '|' + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$', 'g'); // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n\n      var sourceURL = '//# sourceURL=' + (hasOwnProperty.call(options, 'sourceURL') ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ') : 'lodash.templateSources[' + ++templateCounter + ']') + '\\n';\n      string.replace(reDelimiters, function (match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue); // Escape characters that can't be included in string literals.\n\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar); // Replace delimiters with snippets.\n\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n\n        index = offset + match.length; // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n\n        return match;\n      });\n      source += \"';\\n\"; // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      } // Cleanup code by stripping empty strings.\n\n\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source).replace(reEmptyStringMiddle, '$1').replace(reEmptyStringTrailing, '$1;'); // Frame code as the function body.\n\n      source = 'function(' + (variable || 'obj') + ') {\\n' + (variable ? '' : 'obj || (obj = {});\\n') + \"var __t, __p = ''\" + (isEscaping ? ', __e = _.escape' : '') + (isEvaluating ? ', __j = Array.prototype.join;\\n' + \"function print() { __p += __j.call(arguments, '') }\\n\" : ';\\n') + source + 'return __p\\n}';\n      var result = attempt(function () {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      }); // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n\n      result.source = source;\n\n      if (isError(result)) {\n        throw result;\n      }\n\n      return result;\n    }\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n\n\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n\n\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n\n\n    function trim(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n      return castSlice(strSymbols, start, end).join('');\n    }\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n\n\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n      return castSlice(strSymbols, 0, end).join('');\n    }\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n\n\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n      return castSlice(strSymbols, start).join('');\n    }\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n\n\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n\n      string = toString(string);\n      var strLength = string.length;\n\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n\n      if (length >= strLength) {\n        return string;\n      }\n\n      var end = length - stringSize(omission);\n\n      if (end < 1) {\n        return omission;\n      }\n\n      var result = strSymbols ? castSlice(strSymbols, 0, end).join('') : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n\n      if (strSymbols) {\n        end += result.length - end;\n      }\n\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n\n          separator.lastIndex = 0;\n\n          while (match = separator.exec(substring)) {\n            var newEnd = match.index;\n          }\n\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n\n      return result + omission;\n    }\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n\n\n    function unescape(string) {\n      string = toString(string);\n      return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;\n    }\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n\n\n    var upperCase = createCompounder(function (result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n\n    var upperFirst = createCaseFirst('toUpperCase');\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n\n      return string.match(pattern) || [];\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n\n\n    var attempt = baseRest(function (func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n\n    var bindAll = flatRest(function (object, methodNames) {\n      arrayEach(methodNames, function (key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n      pairs = !length ? [] : arrayMap(pairs, function (pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n\n        return [toIteratee(pair[0]), pair[1]];\n      });\n      return baseRest(function (args) {\n        var index = -1;\n\n        while (++index < length) {\n          var pair = pairs[index];\n\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n\n\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n\n\n    function constant(value) {\n      return function () {\n        return value;\n      };\n    }\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n\n\n    function defaultTo(value, defaultValue) {\n      return value == null || value !== value ? defaultValue : value;\n    }\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n\n\n    var flow = createFlow();\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n\n    var flowRight = createFlow(true);\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n\n    function identity(value) {\n      return value;\n    }\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n\n\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n\n\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n\n\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n\n\n    var method = baseRest(function (path, args) {\n      return function (object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n\n    var methodOf = baseRest(function (object, args) {\n      return function (path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n      arrayEach(methodNames, function (methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n\n        if (isFunc) {\n          object.prototype[methodName] = function () {\n            var chainAll = this.__chain__;\n\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n              actions.push({\n                'func': func,\n                'args': arguments,\n                'thisArg': object\n              });\n              result.__chain__ = chainAll;\n              return result;\n            }\n\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n      return object;\n    }\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n\n\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n\n      return this;\n    }\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n\n\n    function noop() {} // No operation performed.\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n\n\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function (args) {\n        return baseNth(args, n);\n      });\n    }\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n\n\n    var over = createOver(arrayMap);\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n\n    var overEvery = createOver(arrayEvery);\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n\n    var overSome = createOver(arraySome);\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n\n\n    function propertyOf(object) {\n      return function (path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n\n\n    var range = createRange();\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n\n    var rangeRight = createRange(true);\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n\n    function stubArray() {\n      return [];\n    }\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n\n\n    function stubFalse() {\n      return false;\n    }\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n\n\n    function stubObject() {\n      return {};\n    }\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n\n\n    function stubString() {\n      return '';\n    }\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n\n\n    function stubTrue() {\n      return true;\n    }\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n\n\n    function times(n, iteratee) {\n      n = toInteger(n);\n\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n      var result = baseTimes(length, iteratee);\n\n      while (++index < n) {\n        iteratee(index);\n      }\n\n      return result;\n    }\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n\n\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n\n\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n\n\n    var add = createMathOperation(function (augend, addend) {\n      return augend + addend;\n    }, 0);\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n\n    var ceil = createRound('ceil');\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n\n    var divide = createMathOperation(function (dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n\n    var floor = createRound('floor');\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n\n    function max(array) {\n      return array && array.length ? baseExtremum(array, identity, baseGt) : undefined;\n    }\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n\n    function maxBy(array, iteratee) {\n      return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined;\n    }\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n\n\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n\n\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n\n\n    function min(array) {\n      return array && array.length ? baseExtremum(array, identity, baseLt) : undefined;\n    }\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n\n\n    function minBy(array, iteratee) {\n      return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined;\n    }\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n\n\n    var multiply = createMathOperation(function (multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n\n    var round = createRound('round');\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n\n    var subtract = createMathOperation(function (minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n\n    function sum(array) {\n      return array && array.length ? baseSum(array, identity) : 0;\n    }\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n\n\n    function sumBy(array, iteratee) {\n      return array && array.length ? baseSum(array, getIteratee(iteratee, 2)) : 0;\n    }\n    /*------------------------------------------------------------------------*/\n    // Add methods that return wrapped values in chain sequences.\n\n\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith; // Add aliases.\n\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith; // Add methods to `lodash.prototype`.\n\n    mixin(lodash, lodash);\n    /*------------------------------------------------------------------------*/\n    // Add methods that return unwrapped values in chain sequences.\n\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst; // Add aliases.\n\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n    mixin(lodash, function () {\n      var source = {};\n      baseForOwn(lodash, function (func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), {\n      'chain': false\n    });\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n\n    lodash.VERSION = VERSION; // Assign default placeholders.\n\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function (methodName) {\n      lodash[methodName].placeholder = lodash;\n    }); // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n\n    arrayEach(['drop', 'take'], function (methodName, index) {\n      LazyWrapper.prototype[methodName] = function (n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n        var result = this.__filtered__ && !index ? new LazyWrapper(this) : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function (n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    }); // Add `LazyWrapper` methods that accept an `iteratee` value.\n\n    arrayEach(['filter', 'map', 'takeWhile'], function (methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function (iteratee) {\n        var result = this.clone();\n\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    }); // Add `LazyWrapper` methods for `_.head` and `_.last`.\n\n    arrayEach(['head', 'last'], function (methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function () {\n        return this[takeName](1).value()[0];\n      };\n    }); // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n\n    arrayEach(['initial', 'tail'], function (methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function () {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function () {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function (predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function (predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function (path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n\n      return this.map(function (value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function (predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function (start, end) {\n      start = toInteger(start);\n      var result = this;\n\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function (predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function () {\n      return this.take(MAX_ARRAY_LENGTH);\n    }; // Add `LazyWrapper` methods to `lodash.prototype`.\n\n\n    baseForOwn(LazyWrapper.prototype, function (func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? 'take' + (methodName == 'last' ? 'Right' : '') : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n\n      lodash.prototype[methodName] = function () {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function interceptor(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return isTaker && chainAll ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n\n          result.__actions__.push({\n            'func': thru,\n            'args': [interceptor],\n            'thisArg': undefined\n          });\n\n          return new LodashWrapper(result, chainAll);\n        }\n\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n\n        result = this.thru(interceptor);\n        return isUnwrapped ? isTaker ? result.value()[0] : result.value() : result;\n      };\n    }); // Add `Array` methods to `lodash.prototype`.\n\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function (methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function () {\n        var args = arguments;\n\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n\n        return this[chainName](function (value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    }); // Map minified method names to their real names.\n\n    baseForOwn(LazyWrapper.prototype, function (func, methodName) {\n      var lodashFunc = lodash[methodName];\n\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n\n        realNames[key].push({\n          'name': methodName,\n          'func': lodashFunc\n        });\n      }\n    });\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }]; // Add methods to `LazyWrapper`.\n\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue; // Add chain sequence methods to the `lodash` wrapper.\n\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue; // Add lazy aliases.\n\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n\n    return lodash;\n  };\n  /*--------------------------------------------------------------------------*/\n  // Export lodash.\n\n\n  var _ = runInContext(); // Some AMD build optimizers, like r.js, check for condition patterns like:\n\n\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _; // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n\n    define(function () {\n      return _;\n    });\n  } // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n      // Export for Node.js.\n      (freeModule.exports = _)._ = _; // Export for CommonJS support.\n\n      freeExports._ = _;\n    } else {\n      // Export to the global object.\n      root._ = _;\n    }\n}).call(this);","\"use strict\";\n/**\n * 提供绘制 shape 时的一些通用方法\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nfunction splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n}\n\nexports.splitPoints = splitPoints; // rename addFillAttrs\n\nfunction setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n}\n\nexports.setFillStyle = setFillStyle; // rename addStrokeAttrs\n\nfunction setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}\n\nexports.setStrokeStyle = setStrokeStyle;","var isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexport default isArrayLike;","import isArrayLike from './is-array-like';\n\nvar contains = function contains(arr, value) {\n  if (!isArrayLike(arr)) {\n    return false;\n  }\n\n  return arr.indexOf(value) > -1;\n};\n\nexport default contains;","var toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexport default isType;","import isType from './is-type';\nexport default (function (value) {\n  return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n});","export default (function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n});","import isArray from './is-array';\nimport isObject from './is-object';\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (isArray(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (isObject(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport default each;","import each from './each';\nimport isArrayLike from './is-array-like';\n\nvar filter = function filter(arr, func) {\n  if (!isArrayLike(arr)) {\n    return arr;\n  }\n\n  var result = [];\n  each(arr, function (value, index) {\n    if (func(value, index)) {\n      result.push(value);\n    }\n  });\n  return result;\n};\n\nexport default filter;","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\n\nvar difference = function difference(arr, values) {\n  if (values === void 0) {\n    values = [];\n  }\n\n  return filter(arr, function (value) {\n    return !contains(values, value);\n  });\n};\n\nexport default difference;","/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nimport isType from './is-type';\nexport default (function (value) {\n  return isType(value, 'Function');\n});","// isFinite,\nvar isNil = function isNil(value) {\n  /**\n   * isNil(null) => true\n   * isNil() => true\n   */\n  return value === null || value === undefined;\n};\n\nexport default isNil;","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) {\n  return Object.keys(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(key);\n    }\n  });\n  return result;\n};\nexport default keys;","import isNil from './is-nil';\nimport keys from './keys';\n\nfunction isMatch(obj, attrs) {\n  var _keys = keys(attrs);\n\n  var length = _keys.length;\n  if (isNil(obj)) return !length;\n\n  for (var i = 0; i < length; i += 1) {\n    var key = _keys[i];\n\n    if (attrs[key] !== obj[key] || !(key in obj)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isMatch;","var isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexport default isObjectLike;","import isObjectLike from './is-object-like';\nimport isType from './is-type';\n\nvar isPlainObject = function isPlainObject(value) {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   * isObjectLike(Object.create(null)) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n};\n\nexport default isPlainObject;","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nfunction find(arr, predicate) {\n  if (!isArray(arr)) return null;\n\n  var _predicate;\n\n  if (isFunction(predicate)) {\n    _predicate = predicate;\n  }\n\n  if (isPlainObject(predicate)) {\n    _predicate = function _predicate(a) {\n      return isMatch(a, predicate);\n    };\n  }\n\n  if (_predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (_predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n  }\n\n  return null;\n}\n\nexport default find;","function findIndex(arr, predicate, fromIndex) {\n  if (fromIndex === void 0) {\n    fromIndex = 0;\n  }\n\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (predicate(arr[i], i)) {\n      // 找到终止循环\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","import isNil from './is-nil';\nimport isArray from './is-array';\n\nvar firstValue = function firstValue(data, name) {\n  var rst = null;\n\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      if (isArray(value)) {\n        rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n      } else {\n        rst = value;\n      }\n\n      break;\n    }\n  }\n\n  return rst;\n};\n\nexport default firstValue;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\n\nvar flatten = function flatten(arr) {\n  if (!isArray(arr)) {\n    return [];\n  }\n\n  var rst = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    rst = rst.concat(arr[i]);\n  }\n\n  return rst;\n};\n\nexport default flatten;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\n\nvar flattenDeep = function flattenDeep(arr, result) {\n  if (result === void 0) {\n    result = [];\n  }\n\n  if (!isArray(arr)) {\n    result.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], result);\n    }\n  }\n\n  return result;\n};\n\nexport default flattenDeep;","import isArray from './is-array';\nimport filter from './filter';\n\nvar getRange = function getRange(values) {\n  // 存在 NaN 时，min,max 判定会出问题\n  values = filter(values, function (v) {\n    return !isNaN(v);\n  });\n\n  if (!values.length) {\n    // 如果没有数值则直接返回0\n    return {\n      min: 0,\n      max: 0\n    };\n  }\n\n  if (isArray(values[0])) {\n    var tmp = [];\n\n    for (var i = 0; i < values.length; i++) {\n      tmp = tmp.concat(values[i]);\n    }\n\n    values = tmp;\n  }\n\n  var max = Math.max.apply(null, values);\n  var min = Math.min.apply(null, values);\n  return {\n    min: min,\n    max: max\n  };\n};\n\nexport default getRange;","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\n\nvar pull = function pull(arr) {\n  var values = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    values[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var fromIndex = -1;\n\n    while ((fromIndex = indexOf.call(arr, value)) > -1) {\n      splice.call(arr, fromIndex, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pull;","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\n\nvar pullAt = function pullAt(arr, indexes) {\n  if (!isArrayLike(arr)) {\n    return [];\n  }\n\n  var length = arr ? indexes.length : 0;\n  var last = length - 1;\n\n  while (length--) {\n    var previous = void 0;\n    var index = indexes[length];\n\n    if (length === last || index !== previous) {\n      previous = index;\n      splice.call(arr, index, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pullAt;","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nvar reduce = function reduce(arr, fn, init) {\n  if (!isArray(arr) && !isPlainObject(arr)) {\n    return arr;\n  }\n\n  var result = init;\n  each(arr, function (data, i) {\n    result = fn(result, data, i);\n  });\n  return result;\n};\n\nexport default reduce;","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\n\nvar remove = function remove(arr, predicate) {\n  /**\n   * const arr = [1, 2, 3, 4]\n   * const evens = remove(arr, n => n % 2 == 0)\n   * console.log(arr) // => [1, 3]\n   * console.log(evens) // => [2, 4]\n   */\n  var result = [];\n\n  if (!isArrayLike(arr)) {\n    return result;\n  }\n\n  var i = -1;\n  var indexes = [];\n  var length = arr.length;\n\n  while (++i < length) {\n    var value = arr[i];\n\n    if (predicate(value, i, arr)) {\n      result.push(value);\n      indexes.push(i);\n    }\n  }\n\n  pullAt(arr, indexes);\n  return result;\n};\n\nexport default remove;","import isType from './is-type';\nexport default (function (str) {\n  return isType(str, 'String');\n});","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\n\nfunction sortBy(arr, key) {\n  var comparer;\n\n  if (isFunction(key)) {\n    comparer = function comparer(a, b) {\n      return key(a) - key(b);\n    };\n  } else {\n    var keys_1 = [];\n\n    if (isString(key)) {\n      keys_1.push(key);\n    } else if (isArray(key)) {\n      keys_1 = key;\n    }\n\n    comparer = function comparer(a, b) {\n      for (var i = 0; i < keys_1.length; i += 1) {\n        var prop = keys_1[i];\n\n        if (a[prop] > b[prop]) {\n          return 1;\n        }\n\n        if (a[prop] < b[prop]) {\n          return -1;\n        }\n      }\n\n      return 0;\n    };\n  }\n\n  arr.sort(comparer);\n  return arr;\n}\n\nexport default sortBy;","import contains from './contains';\nimport each from './each';\n\nvar uniq = function uniq(arr) {\n  var resultArr = [];\n  each(arr, function (item) {\n    if (!contains(resultArr, item)) {\n      resultArr.push(item);\n    }\n  });\n  return resultArr;\n};\n\nexport default uniq;","import uniq from './uniq';\n\nvar union = function union() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  return uniq([].concat.apply([], sources));\n};\n\nexport default union;","import each from './each';\nimport isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n  var rst = [];\n  var tmpMap = {};\n  data.forEach(function (obj) {\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      // flatten\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      each(value, function (val) {\n        // unique\n        if (!tmpMap[val]) {\n          rst.push(val);\n          tmpMap[val] = true;\n        }\n      });\n    }\n  });\n  return rst;\n});","import isArrayLike from './is-array-like';\nexport default function head(o) {\n  if (isArrayLike(o)) {\n    return o[0];\n  }\n\n  return undefined;\n}","import isArrayLike from './is-array-like';\nexport default function last(o) {\n  if (isArrayLike(o)) {\n    var arr = o;\n    return arr[arr.length - 1];\n  }\n\n  return undefined;\n}","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction startsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[0] === e : false;\n}\n\nexport default startsWith;","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction endsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[arr.length - 1] === e : false;\n}\n\nexport default endsWith;","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function every(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (!func(arr[i], i)) return false;\n  }\n\n  return true;\n};\n\nexport default every;","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function some(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (func(arr[i], i)) return true;\n  }\n\n  return false;\n};\n\nexport default some;","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction groupBy(data, condition) {\n  if (!condition || !isArray(data)) {\n    return {};\n  }\n\n  var result = {}; // 兼容方法和 字符串的写法\n\n  var predicate = isFunction(condition) ? condition : function (item) {\n    return item[condition];\n  };\n  var key;\n  each(data, function (item) {\n    key = predicate(item);\n\n    if (hasOwnProperty.call(result, key)) {\n      result[key].push(item);\n    } else {\n      result[key] = [item];\n    }\n  });\n  return result;\n}\n\nexport default groupBy;","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\n\nvar groupToMap = function groupToMap(data, condition) {\n  if (!condition) {\n    return {\n      0: data\n    };\n  }\n\n  if (!isFunction(condition)) {\n    var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n\n    condition = function condition(row) {\n      var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n\n      for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n        unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n      }\n\n      return unique;\n    };\n  }\n\n  var groups = groupBy(data, condition);\n  return groups;\n};\n\nexport default groupToMap;","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n  if (!condition) {\n    // 没有条件，则自身改成数组\n    return [data];\n  }\n\n  var groups = groupToMap(data, condition);\n  var array = [];\n\n  for (var i in groups) {\n    array.push(groups[i]);\n  }\n\n  return array;\n});","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n  return obj['_wrap_' + action];\n}\n\nexport default getWrapBehavior;","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n  if (obj['_wrap_' + action]) {\n    return obj['_wrap_' + action];\n  }\n\n  var method = function method(e) {\n    obj[action](e);\n  };\n\n  obj['_wrap_' + action] = method;\n  return method;\n}\n\nexport default wrapBehavior;","var numColorCache = {};\n\nfunction numberToColor(num) {\n  // 增加缓存\n  var color = numColorCache[num];\n\n  if (!color) {\n    var str = num.toString(16);\n\n    for (var i = str.length; i < 6; i++) {\n      str = '0' + str;\n    }\n\n    color = '#' + str;\n    numColorCache[num] = color;\n  }\n\n  return color;\n}\n\nexport default numberToColor;","import isArray from './is-array';\n\nfunction parseRadius(radius) {\n  var r1 = 0,\n      r2 = 0,\n      r3 = 0,\n      r4 = 0;\n\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  return {\n    r1: r1,\n    r2: r2,\n    r3: r3,\n    r4: r4\n  };\n}\n\nexport default parseRadius;","var clamp = function clamp(a, min, max) {\n  if (a < min) {\n    return min;\n  } else if (a > max) {\n    return max;\n  }\n\n  return a;\n};\n\nexport default clamp;","var fixedBase = function fixedBase(v, base) {\n  var str = base.toString();\n  var index = str.indexOf('.');\n\n  if (index === -1) {\n    return Math.round(v);\n  }\n\n  var length = str.substr(index + 1).length;\n\n  if (length > 20) {\n    length = 20;\n  }\n\n  return parseFloat(v.toFixed(length));\n};\n\nexport default fixedBase;","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\n\nvar isNumber = function isNumber(value) {\n  return isType(value, 'Number');\n};\n\nexport default isNumber;","import isNumber from './is-number';\n\nvar isDecimal = function isDecimal(num) {\n  return isNumber(num) && num % 1 !== 0;\n};\n\nexport default isDecimal;","import isNumber from './is-number';\n\nvar isEven = function isEven(num) {\n  return isNumber(num) && num % 2 === 0;\n};\n\nexport default isEven;","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n  return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;","import isNumber from './is-number';\n\nvar isNegative = function isNegative(num) {\n  return isNumber(num) && num < 0;\n};\n\nexport default isNegative;","var PRECISION = 0.00001; // numbers less than this is considered as 0\n\nexport default function isNumberEqual(a, b, precision) {\n  if (precision === void 0) {\n    precision = PRECISION;\n  }\n\n  return Math.abs(a - b) < precision;\n}\n;","import isNumber from './is-number';\n\nvar isOdd = function isOdd(num) {\n  return isNumber(num) && num % 2 !== 0;\n};\n\nexport default isOdd;","import isNumber from './is-number';\n\nvar isPositive = function isPositive(num) {\n  return isNumber(num) && num > 0;\n};\n\nexport default isPositive;","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var max = arr[0];\n  var maxData;\n\n  if (isFunction(fn)) {\n    maxData = fn(arr[0]);\n  } else {\n    maxData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data > maxData) {\n      max = val;\n      maxData = data;\n    }\n  });\n  return max;\n});","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var min = arr[0];\n  var minData;\n\n  if (isFunction(fn)) {\n    minData = fn(arr[0]);\n  } else {\n    minData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data < minData) {\n      min = val;\n      minData = data;\n    }\n  });\n  return min;\n});","var mod = function mod(n, m) {\n  return (n % m + m) % m;\n};\n\nexport default mod;","var DEGREE = 180 / Math.PI;\n\nvar toDegree = function toDegree(radian) {\n  return DEGREE * radian;\n};\n\nexport default toDegree;","export default parseInt;","var RADIAN = Math.PI / 180;\n\nvar toRadian = function toRadian(degree) {\n  return RADIAN * degree;\n};\n\nexport default toRadian;","import each from './each';\nexport default each;","export default (function (obj, key) {\n  return obj.hasOwnProperty(key);\n});","import has from './has';\nexport default has;","import each from './each';\nimport isFunction from './is-function'; // @ts-ignore\n\nvar values = Object.values ? function (obj) {\n  return Object.values(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(value);\n    }\n  });\n  return result;\n};\nexport default values;","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) {\n  return contains(values(obj), value);\n});","import isNil from './is-nil';\nexport default (function (value) {\n  if (isNil(value)) return '';\n  return value.toString();\n});","import toString from './to-string';\n\nvar lowerCase = function lowerCase(str) {\n  return toString(str).toLowerCase();\n};\n\nexport default lowerCase;","import toString from './to-string';\n\nvar lowerFirst = function lowerFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\nexport default lowerFirst;","function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    return o[name] === undefined ? '' : o[name];\n  });\n}\n\nexport default substitute;","import toString from './to-string';\n\nvar upperCase = function upperCase(str) {\n  return toString(str).toUpperCase();\n};\n\nexport default upperCase;","import toString from './to-string';\n\nvar upperFirst = function upperFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nexport default upperFirst;","var toString = {}.toString;\n\nvar getType = function getType(value) {\n  return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\n\nexport default getType;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isArguments = function isArguments(value) {\n  return isType(value, 'Arguments');\n};\n\nexport default isArguments;","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isBoolean = function isBoolean(value) {\n  return isType(value, 'Boolean');\n};\n\nexport default isBoolean;","import isType from './is-type';\n\nvar isDate = function isDate(value) {\n  return isType(value, 'Date');\n};\n\nexport default isDate;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isError = function isError(value) {\n  return isType(value, 'Error');\n};\n\nexport default isError;","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n  return isNumber(value) && isFinite(value);\n}","var isNull = function isNull(value) {\n  return value === null;\n};\n\nexport default isNull;","var objectProto = Object.prototype;\n\nvar isPrototype = function isPrototype(value) {\n  var Ctor = value && value.constructor;\n  var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n};\n\nexport default isPrototype;","import isType from './is-type';\n\nvar isRegExp = function isRegExp(str) {\n  return isType(str, 'RegExp');\n};\n\nexport default isRegExp;","var isUndefined = function isUndefined(value) {\n  return value === undefined;\n};\n\nexport default isUndefined;","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function isElement(o) {\n  return o instanceof Element || o instanceof HTMLDocument;\n};\n\nexport default isElement;","export default function requestAnimationFrame(fn) {\n  var method = window.requestAnimationFrame || window.webkitRequestAnimationFrame || // @ts-ignore\n  window.mozRequestAnimationFrame || // @ts-ignore\n  window.msRequestAnimationFrame || function (f) {\n    return setTimeout(f, 16);\n  };\n\n  return method(fn);\n}\n;","export default function cancelAnimationFrame(handler) {\n  var method = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || // @ts-ignore\n  window.mozCancelAnimationFrame || // @ts-ignore\n  window.msCancelAnimationFrame || clearTimeout;\n  method(handler);\n}\n;","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n      dist[key] = obj[key];\n    }\n  }\n}\n\nexport default function mix(dist, src1, src2, src3) {\n  if (src1) _mix(dist, src1);\n  if (src2) _mix(dist, src2);\n  if (src3) _mix(dist, src3);\n  return dist;\n}","import mix from './mix';\nimport isFunction from './is-function';\n\nvar augment = function augment() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var c = args[0];\n\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n\n    if (isFunction(obj)) {\n      obj = obj.prototype;\n    }\n\n    mix(c.prototype, obj);\n  }\n};\n\nexport default augment;","import isArray from './is-array';\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (isArray(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexport default clone;","function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    var later = function later() {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\nexport default debounce;","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\n\nexport default (function (f, resolver) {\n  if (!isFunction(f)) {\n    throw new TypeError('Expected a function');\n  }\n\n  var memoized = function memoized() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n\n\n    var key = resolver ? resolver.apply(this, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = f.apply(this, args); // 缓存起来\n\n    cache.set(key, result);\n    return result;\n  };\n\n  memoized.cache = new Map();\n  return memoized;\n});","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n} // todo 重写\n\n\nvar deepMix = function deepMix(rst) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n\n  return rst;\n};\n\nexport default deepMix;","import mix from './mix';\nimport isFunction from './is-function';\n\nvar extend = function extend(subclass, superclass, overrides, staticOverrides) {\n  // 如果只提供父类构造函数，则自动生成子类构造函数\n  if (!isFunction(superclass)) {\n    overrides = superclass;\n    superclass = subclass;\n\n    subclass = function subclass() {};\n  }\n\n  var create = Object.create ? function (proto, c) {\n    return Object.create(proto, {\n      constructor: {\n        value: c\n      }\n    });\n  } : function (proto, c) {\n    function Tmp() {}\n\n    Tmp.prototype = proto;\n    var o = new Tmp();\n    o.constructor = c;\n    return o;\n  };\n  var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n\n  subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n\n  subclass.superclass = create(superclass.prototype, superclass);\n  mix(superObj, overrides);\n  mix(subclass, staticOverrides);\n  return subclass;\n};\n\nexport default extend;","import isArrayLike from './is-array-like';\n\nvar indexOf = function indexOf(arr, obj) {\n  if (!isArrayLike(arr)) {\n    return -1;\n  }\n\n  var m = Array.prototype.indexOf;\n\n  if (m) {\n    return m.call(arr, obj);\n  }\n\n  var index = -1;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === obj) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n};\n\nexport default indexOf;","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmpty(value) {\n  /**\n   * isEmpty(null) => true\n   * isEmpty() => true\n   * isEmpty(true) => true\n   * isEmpty(1) => true\n   * isEmpty([1, 2, 3]) => false\n   * isEmpty('abc') => false\n   * isEmpty({ a: 1 }) => false\n   */\n  if (isNil(value)) {\n    return true;\n  }\n\n  if (isArrayLike(value)) {\n    return !value.length;\n  }\n\n  var type = getType(value);\n\n  if (type === 'Map' || type === 'Set') {\n    return !value.size;\n  }\n\n  if (isPrototype(value)) {\n    return !Object.keys(value).length;\n  }\n\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEmpty;","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (isString(value) || isString(other)) {\n    return false;\n  }\n\n  if (isArrayLike(value) || isArrayLike(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (isObjectLike(value) || isObjectLike(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexport default isEqual;","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\n\nexport default (function (value, other, fn) {\n  if (!isFunction(fn)) {\n    return isEqual(value, other);\n  }\n\n  return !!fn(value, other);\n});","import each from './each';\nimport isArrayLike from './is-array-like';\n\nvar map = function map(arr, func) {\n  if (!isArrayLike(arr)) {\n    // @ts-ignore\n    return arr;\n  }\n\n  var result = [];\n  each(arr, function (value, index) {\n    result.push(func(value, index));\n  });\n  return result;\n};\n\nexport default map;","import isNil from './is-nil';\nimport isObject from './is-object';\n\nvar identity = function identity(v) {\n  return v;\n};\n\nexport default (function (object, func) {\n  if (func === void 0) {\n    func = identity;\n  }\n\n  var r = {};\n\n  if (isObject(object) && !isNil(object)) {\n    Object.keys(object).forEach(function (key) {\n      // @ts-ignore\n      r[key] = func(object[key], key);\n    });\n  }\n\n  return r;\n});","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\n\nexport default (function (obj, key, defaultValue) {\n  var p = 0;\n  var keyArr = isString(key) ? key.split('.') : key;\n\n  while (obj && p < keyArr.length) {\n    obj = obj[keyArr[p++]];\n  }\n\n  return obj === undefined || p < keyArr.length ? defaultValue : obj;\n});","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\n\nexport default (function (obj, path, value) {\n  var o = obj;\n  var keyArr = isString(path) ? path.split('.') : path;\n  keyArr.forEach(function (key, idx) {\n    // 不是最后一个\n    if (idx < keyArr.length - 1) {\n      if (!isObject(o[key])) {\n        o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n      }\n\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return obj;\n});","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n  if (object === null || !isPlainObject(object)) {\n    return {};\n  }\n\n  var result = {};\n  each(keys, function (key) {\n    if (hasOwnProperty.call(object, key)) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n});","export default (function (func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n});","import isArrayLike from './is-array-like';\nexport default (function (value) {\n  return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});","var map = {};\nexport default (function (prefix) {\n  prefix = prefix || 'g';\n\n  if (!map[prefix]) {\n    map[prefix] = 1;\n  } else {\n    map[prefix] += 1;\n  }\n\n  return prefix + map[prefix];\n});","export default (function () {});","export default (function (v) {\n  return v;\n});","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n  if (isNil(o)) {\n    return 0;\n  }\n\n  if (isArraylike(o)) {\n    return o.length;\n  }\n\n  return Object.keys(o).length;\n}","/**\n * k-v 存储\n */\nvar default_1 =\n/** @class */\nfunction () {\n  function default_1() {\n    this.map = {};\n  }\n\n  default_1.prototype.has = function (key) {\n    return this.map[key] !== undefined;\n  };\n\n  default_1.prototype.get = function (key, def) {\n    var v = this.map[key];\n    return v === undefined ? def : v;\n  };\n\n  default_1.prototype.set = function (key, value) {\n    this.map[key] = value;\n  };\n\n  default_1.prototype.clear = function () {\n    this.map = {};\n  };\n\n  default_1.prototype.delete = function (key) {\n    delete this.map[key];\n  };\n\n  default_1.prototype.size = function () {\n    return Object.keys(this.map).length;\n  };\n\n  return default_1;\n}();\n\nexport default default_1;","// array\nexport { default as contains, default as includes } from './contains';\nexport { default as difference } from './difference';\nexport { default as find } from './find';\nexport { default as findIndex } from './find-index';\nexport { default as firstValue } from './first-value';\nexport { default as flatten } from './flatten';\nexport { default as flattenDeep } from './flatten-deep';\nexport { default as getRange } from './get-range';\nexport { default as pull } from './pull';\nexport { default as pullAt } from './pull-at';\nexport { default as reduce } from './reduce';\nexport { default as remove } from './remove';\nexport { default as sortBy } from './sort-by';\nexport { default as union } from './union';\nexport { default as uniq } from './uniq';\nexport { default as valuesOfKey } from './values-of-key';\nexport { default as head } from './head';\nexport { default as last } from './last';\nexport { default as startsWith } from './starts-with';\nexport { default as endsWith } from './ends-with';\nexport { default as filter } from './filter';\nexport { default as every } from './every';\nexport { default as some } from './some';\nexport { default as group } from './group';\nexport { default as groupBy } from './group-by';\nexport { default as groupToMap } from './group-to-map'; // event\n\nexport { default as getWrapBehavior } from './get-wrap-behavior';\nexport { default as wrapBehavior } from './wrap-behavior'; // format\n\nexport { default as number2color } from './number2color';\nexport { default as parseRadius } from './parse-radius'; // math\n\nexport { default as clamp } from './clamp';\nexport { default as fixedBase } from './fixed-base';\nexport { default as isDecimal } from './is-decimal';\nexport { default as isEven } from './is-even';\nexport { default as isInteger } from './is-integer';\nexport { default as isNegative } from './is-negative';\nexport { default as isNumberEqual } from './is-number-equal';\nexport { default as isOdd } from './is-odd';\nexport { default as isPositive } from './is-positive';\nexport { default as maxBy } from './max-by';\nexport { default as minBy } from './min-by';\nexport { default as mod } from './mod';\nexport { default as toDegree } from './to-degree';\nexport { default as toInteger } from './to-integer';\nexport { default as toRadian } from './to-radian'; // object\n\nexport { default as forIn } from './for-in';\nexport { default as has } from './has';\nexport { default as hasKey } from './has-key';\nexport { default as hasValue } from './has-value';\nexport { default as keys } from './keys';\nexport { default as isMatch } from './is-match';\nexport { default as values } from './values'; // string\n\nexport { default as lowerCase } from './lower-case';\nexport { default as lowerFirst } from './lower-first';\nexport { default as substitute } from './substitute';\nexport { default as upperCase } from './upper-case';\nexport { default as upperFirst } from './upper-first'; // type\n\nexport { default as getType } from './get-type';\nexport { default as isArguments } from './is-arguments';\nexport { default as isArray } from './is-array';\nexport { default as isArrayLike } from './is-array-like';\nexport { default as isBoolean } from './is-boolean';\nexport { default as isDate } from './is-date';\nexport { default as isError } from './is-error';\nexport { default as isFunction } from './is-function';\nexport { default as isFinite } from './is-finite';\nexport { default as isNil } from './is-nil';\nexport { default as isNull } from './is-null';\nexport { default as isNumber } from './is-number';\nexport { default as isObject } from './is-object';\nexport { default as isObjectLike } from './is-object-like';\nexport { default as isPlainObject } from './is-plain-object';\nexport { default as isPrototype } from './is-prototype';\nexport { default as isRegExp } from './is-reg-exp';\nexport { default as isString } from './is-string';\nexport { default as isType } from './is-type';\nexport { default as isUndefined } from './is-undefined';\nexport { default as isElement } from './is-element';\nexport { default as requestAnimationFrame } from './request-animation-frame';\nexport { default as clearAnimationFrame } from './clear-animation-frame'; // other\n\nexport { default as augment } from './augment';\nexport { default as clone } from './clone';\nexport { default as debounce } from './debounce';\nexport { default as memoize } from './memoize';\nexport { default as deepMix } from './deep-mix';\nexport { default as each } from './each';\nexport { default as extend } from './extend';\nexport { default as indexOf } from './index-of';\nexport { default as isEmpty } from './is-empty';\nexport { default as isEqual } from './is-equal';\nexport { default as isEqualWith } from './is-equal-with';\nexport { default as map } from './map';\nexport { default as mapValues } from './map-values';\nexport { default as mix, default as assign } from './mix';\nexport { default as get } from './get';\nexport { default as set } from './set';\nexport { default as pick } from './pick';\nexport { default as throttle } from './throttle';\nexport { default as toArray } from './to-array';\nexport { default as toString } from './to-string';\nexport { default as uniqueId } from './unique-id';\nexport { default as noop } from './noop';\nexport { default as identity } from './identity';\nexport { default as size } from './size'; // 不知道为什么，需要把这个 export，不然 ts 会报类型错误\n\nexport { default as Cache } from './cache';","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n;\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.G = e() : t.G = e();\n}(window, function () {\n  return function (t) {\n    var e = {};\n\n    function n(r) {\n      if (e[r]) return e[r].exports;\n      var i = e[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var i in t) {\n        n.d(r, i, function (e) {\n          return t[e];\n        }.bind(null, i));\n      }\n      return r;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 20);\n  }([function (t, e, n) {\n    var r;\n    r = function r() {\n      return function (t) {\n        var e = {};\n\n        function n(r) {\n          if (e[r]) return e[r].exports;\n          var i = e[r] = {\n            i: r,\n            l: !1,\n            exports: {}\n          };\n          return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n        }\n\n        return n.m = t, n.c = e, n.d = function (t, e, r) {\n          n.o(t, e) || Object.defineProperty(t, e, {\n            configurable: !1,\n            enumerable: !0,\n            get: r\n          });\n        }, n.n = function (t) {\n          var e = t && t.__esModule ? function () {\n            return t.default;\n          } : function () {\n            return t;\n          };\n          return n.d(e, \"a\", e), e;\n        }, n.o = function (t, e) {\n          return Object.prototype.hasOwnProperty.call(t, e);\n        }, n.p = \"\", n(n.s = 40);\n      }([function (t, e, n) {\n        var r = n(16),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          if (t) if (i(t)) for (var n = 0, a = t.length; n < a && !1 !== e(t[n], n); n++) {\n            ;\n          } else if (r(t)) for (var o in t) {\n            if (t.hasOwnProperty(o) && !1 === e(t[o], o)) break;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = Array.isArray ? Array.isArray : function (t) {\n          return r(t, \"Array\");\n        };\n        t.exports = i;\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t, e) {\n          return n.call(t) === \"[object \" + e + \"]\";\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Function\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null !== t && \"function\" != typeof t && isFinite(t.length);\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null == t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Number\");\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(2);\n\n        t.exports = function (t) {\n          if (!r(t) || !i(t, \"Object\")) return !1;\n          if (null === Object.getPrototypeOf(t)) return !0;\n\n          for (var e = t; null !== Object.getPrototypeOf(e);) {\n            e = Object.getPrototypeOf(e);\n          }\n\n          return Object.getPrototypeOf(t) === e;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t) {\n          return r(t) ? \"\" : t.toString();\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.indexOf;\n\n        t.exports = function (t, e) {\n          return !!r(t) && i.call(t, e) > -1;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"String\");\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          for (var n in e) {\n            e.hasOwnProperty(n) && \"constructor\" !== n && void 0 !== e[n] && (t[n] = e[n]);\n          }\n        }\n\n        t.exports = function (t, e, r, i) {\n          return e && n(t, e), r && n(t, r), i && n(t, i), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            e(t, r) && n.push(t);\n          }), n;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          return \"object\" === (void 0 === t ? \"undefined\" : n(t)) && null !== t;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t) {\n          return r(t) ? Array.prototype.slice.call(t) : [];\n        };\n      }, function (t, e) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.setMatrixArrayType = function (t) {\n          e.ARRAY_TYPE = t;\n        }, e.toRadian = function (t) {\n          return t * r;\n        }, e.equals = function (t, e) {\n          return Math.abs(t - e) <= n * Math.max(1, Math.abs(t), Math.abs(e));\n        };\n        var n = e.EPSILON = 1e-6;\n        e.ARRAY_TYPE = \"undefined\" != typeof Float32Array ? Float32Array : Array, e.RANDOM = Math.random;\n        var r = Math.PI / 180;\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          var e = void 0 === t ? \"undefined\" : n(t);\n          return null !== t && \"object\" === e || \"function\" === e;\n        };\n      }, function (t, e, n) {\n        var r = n(18),\n            i = n(5);\n\n        t.exports = function (t, e) {\n          var n = r(e),\n              a = n.length;\n          if (i(t)) return !a;\n\n          for (var o = 0; o < a; o += 1) {\n            var s = n[o];\n            if (e[s] !== t[s] || !(s in t)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.keys ? function (t) {\n          return Object.keys(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(r);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.splice;\n\n        t.exports = function (t, e) {\n          if (!r(t)) return [];\n\n          for (var n = t ? e.length : 0, a = n - 1; n--;) {\n            var o = void 0,\n                s = e[n];\n            n !== a && s === o || (o = s, i.call(t, s, 1));\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = [];\n          return r(t, function (t) {\n            i(e, t) || e.push(t);\n          }), e;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          return t < e ? e : t > n ? n : t;\n        };\n      }, function (t, e) {\n        t.exports = parseInt;\n      }, function (t, e, n) {\n        var r = n(89);\n        r.translate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromTranslation(i, n), r.multiply(t, i, e);\n        }, r.rotate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromRotation(i, n), r.multiply(t, i, e);\n        }, r.scale = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromScaling(i, n), r.multiply(t, i, e);\n        }, t.exports = r;\n      }, function (t, e, n) {\n        var r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            i = n(1);\n\n        t.exports = function t(e) {\n          if (\"object\" !== (void 0 === e ? \"undefined\" : r(e)) || null === e) return e;\n          var n = void 0;\n\n          if (i(e)) {\n            n = [];\n\n            for (var a = 0, o = e.length; a < o; a++) {\n              \"object\" === r(e[a]) && null != e[a] ? n[a] = t(e[a]) : n[a] = e[a];\n            }\n          } else for (var s in n = {}, e) {\n            \"object\" === r(e[s]) && null != e[s] ? n[s] = t(e[s]) : n[s] = e[s];\n          }\n\n          return n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t.hasOwnProperty(e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.values ? function (t) {\n          return Object.values(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(n);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(28);\n\n        t.exports = function (t, e, n, i, a) {\n          if (a) return [[\"M\", +t + +a, e], [\"l\", n - 2 * a, 0], [\"a\", a, a, 0, 0, 1, a, a], [\"l\", 0, i - 2 * a], [\"a\", a, a, 0, 0, 1, -a, a], [\"l\", 2 * a - n, 0], [\"a\", a, a, 0, 0, 1, -a, -a], [\"l\", 0, 2 * a - i], [\"a\", a, a, 0, 0, 1, a, -a], [\"z\"]];\n          var o = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, i], [\"l\", -n, 0], [\"z\"]];\n          return o.parsePathArray = r, o;\n        };\n      }, function (t, e) {\n        var n = /,?([a-z]),?/gi;\n\n        t.exports = function (t) {\n          return t.join(\",\").replace(n, \"$1\");\n        };\n      }, function (t, e, n) {\n        var r = n(30),\n            i = function t(e, n, r, i, a, o, s, u, c, l) {\n          r === i && (r += 1);\n\n          var h = 120 * Math.PI / 180,\n              f = Math.PI / 180 * (+a || 0),\n              p = [],\n              d = void 0,\n              v = void 0,\n              y = void 0,\n              g = void 0,\n              x = void 0,\n              m = function m(t, e, n) {\n            return {\n              x: t * Math.cos(n) - e * Math.sin(n),\n              y: t * Math.sin(n) + e * Math.cos(n)\n            };\n          };\n\n          if (l) v = l[0], y = l[1], g = l[2], x = l[3];else {\n            e = (d = m(e, n, -f)).x, n = d.y, u = (d = m(u, c, -f)).x, c = d.y, e === u && n === c && (u += 1, c += 1);\n            var b = (e - u) / 2,\n                M = (n - c) / 2,\n                w = b * b / (r * r) + M * M / (i * i);\n            w > 1 && (r *= w = Math.sqrt(w), i *= w);\n\n            var _ = r * r,\n                A = i * i,\n                P = (o === s ? -1 : 1) * Math.sqrt(Math.abs((_ * A - _ * M * M - A * b * b) / (_ * M * M + A * b * b)));\n\n            g = P * r * M / i + (e + u) / 2, x = P * -i * b / r + (n + c) / 2, v = Math.asin(((n - x) / i).toFixed(9)), y = Math.asin(((c - x) / i).toFixed(9)), v = e < g ? Math.PI - v : v, y = u < g ? Math.PI - y : y, v < 0 && (v = 2 * Math.PI + v), y < 0 && (y = 2 * Math.PI + y), s && v > y && (v -= 2 * Math.PI), !s && y > v && (y -= 2 * Math.PI);\n          }\n          var S = y - v;\n\n          if (Math.abs(S) > h) {\n            var k = y,\n                O = u,\n                I = c;\n            y = v + h * (s && y > v ? 1 : -1), p = t(u = g + r * Math.cos(y), c = x + i * Math.sin(y), r, i, a, 0, s, O, I, [y, k, g, x]);\n          }\n\n          S = y - v;\n          var T = Math.cos(v),\n              C = Math.sin(v),\n              E = Math.cos(y),\n              N = Math.sin(y),\n              j = Math.tan(S / 4),\n              L = 4 / 3 * r * j,\n              q = 4 / 3 * i * j,\n              B = [e, n],\n              R = [e + L * C, n - q * T],\n              F = [u + L * N, c - q * E],\n              D = [u, c];\n          if (R[0] = 2 * B[0] - R[0], R[1] = 2 * B[1] - R[1], l) return [R, F, D].concat(p);\n\n          for (var W = [], Y = 0, H = (p = [R, F, D].concat(p).join().split(\",\")).length; Y < H; Y++) {\n            W[Y] = Y % 2 ? m(p[Y - 1], p[Y], f).y : m(p[Y], p[Y + 1], f).x;\n          }\n\n          return W;\n        },\n            a = function a(t, e, n, r) {\n          return [t, e, n, r, n, r];\n        },\n            o = function o(t, e, n, r, i, a) {\n          return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n        };\n\n        t.exports = function (t, e) {\n          var n = r(t),\n              s = e && r(e),\n              u = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              c = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              l = [],\n              h = [],\n              f = \"\",\n              p = \"\",\n              d = void 0,\n              v = function v(t, e, n) {\n            var r = void 0,\n                s = void 0;\n            if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n            switch (!(t[0] in {\n              T: 1,\n              Q: 1\n            }) && (e.qx = e.qy = null), t[0]) {\n              case \"M\":\n                e.X = t[1], e.Y = t[2];\n                break;\n\n              case \"A\":\n                t = [\"C\"].concat(i.apply(0, [e.x, e.y].concat(t.slice(1))));\n                break;\n\n              case \"S\":\n                \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, s = 2 * e.y - e.by) : (r = e.x, s = e.y), t = [\"C\", r, s].concat(t.slice(1));\n                break;\n\n              case \"T\":\n                \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(o(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n                break;\n\n              case \"Q\":\n                e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(o(e.x, e.y, t[1], t[2], t[3], t[4]));\n                break;\n\n              case \"L\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], t[2]));\n                break;\n\n              case \"H\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], e.y));\n                break;\n\n              case \"V\":\n                t = [\"C\"].concat(a(e.x, e.y, e.x, t[1]));\n                break;\n\n              case \"Z\":\n                t = [\"C\"].concat(a(e.x, e.y, e.X, e.Y));\n            }\n\n            return t;\n          },\n              y = function y(t, e) {\n            if (t[e].length > 7) {\n              t[e].shift();\n\n              for (var r = t[e]; r.length;) {\n                l[e] = \"A\", s && (h[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(r.splice(0, 6)));\n              }\n\n              t.splice(e, 1), d = Math.max(n.length, s && s.length || 0);\n            }\n          },\n              g = function g(t, e, r, i, a) {\n            t && e && \"M\" === t[a][0] && \"M\" !== e[a][0] && (e.splice(a, 0, [\"M\", i.x, i.y]), r.bx = 0, r.by = 0, r.x = t[a][1], r.y = t[a][2], d = Math.max(n.length, s && s.length || 0));\n          };\n\n          d = Math.max(n.length, s && s.length || 0);\n\n          for (var x = 0; x < d; x++) {\n            n[x] && (f = n[x][0]), \"C\" !== f && (l[x] = f, x && (p = l[x - 1])), n[x] = v(n[x], u, p), \"A\" !== l[x] && \"C\" === f && (l[x] = \"C\"), y(n, x), s && (s[x] && (f = s[x][0]), \"C\" !== f && (h[x] = f, x && (p = h[x - 1])), s[x] = v(s[x], c, p), \"A\" !== h[x] && \"C\" === f && (h[x] = \"C\"), y(s, x)), g(n, s, u, c, x), g(s, n, c, u, x);\n            var m = n[x],\n                b = s && s[x],\n                M = m.length,\n                w = s && b.length;\n            u.x = m[M - 2], u.y = m[M - 1], u.bx = parseFloat(m[M - 4]) || u.x, u.by = parseFloat(m[M - 3]) || u.y, c.bx = s && (parseFloat(b[w - 4]) || c.x), c.by = s && (parseFloat(b[w - 3]) || c.y), c.x = s && b[w - 2], c.y = s && b[w - 1];\n          }\n\n          return s ? [n, s] : n;\n        };\n      }, function (t, e, n) {\n        var r = n(31),\n            i = n(32);\n\n        function a(t, e, n, r, i) {\n          var a = [];\n\n          if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n            var o = Math.PI / 180,\n                s = t + n * Math.cos(-r * o),\n                u = t + n * Math.cos(-i * o);\n            a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n          } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n          return a;\n        }\n\n        t.exports = function (t) {\n          if (!(t = r(t)) || !t.length) return [[\"M\", 0, 0]];\n          var e = [],\n              n = 0,\n              o = 0,\n              s = 0,\n              u = 0,\n              c = 0,\n              l = void 0,\n              h = void 0;\n          \"M\" === t[0][0] && (s = n = +t[0][1], u = o = +t[0][2], c++, e[0] = [\"M\", n, o]);\n\n          for (var f, p, d = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), v = c, y = t.length; v < y; v++) {\n            if (e.push(f = []), (l = (p = t[v])[0]) !== l.toUpperCase()) switch (f[0] = l.toUpperCase(), f[0]) {\n              case \"A\":\n                f[1] = p[1], f[2] = p[2], f[3] = p[3], f[4] = p[4], f[5] = p[5], f[6] = +p[6] + n, f[7] = +p[7] + o;\n                break;\n\n              case \"V\":\n                f[1] = +p[1] + o;\n                break;\n\n              case \"H\":\n                f[1] = +p[1] + n;\n                break;\n\n              case \"R\":\n                for (var g = 2, x = (h = [n, o].concat(p.slice(1))).length; g < x; g++) {\n                  h[g] = +h[g] + n, h[++g] = +h[g] + o;\n                }\n\n                e.pop(), e = e.concat(i(h, d));\n                break;\n\n              case \"O\":\n                e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);\n                break;\n\n              case \"U\":\n                e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));\n                break;\n\n              case \"M\":\n                s = +p[1] + n, u = +p[2] + o;\n                break;\n\n              default:\n                for (var m = 1, b = p.length; m < b; m++) {\n                  f[m] = +p[m] + (m % 2 ? n : o);\n                }\n\n            } else if (\"R\" === l) h = [n, o].concat(p.slice(1)), e.pop(), e = e.concat(i(h, d)), f = [\"R\"].concat(p.slice(-2));else if (\"O\" === l) e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);else if (\"U\" === l) e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));else for (var M = 0, w = p.length; M < w; M++) {\n              f[M] = p[M];\n            }\n            if (\"O\" !== (l = l.toUpperCase())) switch (f[0]) {\n              case \"Z\":\n                n = +s, o = +u;\n                break;\n\n              case \"H\":\n                n = f[1];\n                break;\n\n              case \"V\":\n                o = f[1];\n                break;\n\n              case \"M\":\n                s = f[f.length - 2], u = f[f.length - 1];\n                break;\n\n              default:\n                n = f[f.length - 2], o = f[f.length - 1];\n            }\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            r = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n            i = new RegExp(\"([a-z])[\" + r + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + r + \"]*,?[\" + r + \"]*)+)\", \"ig\"),\n            a = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + r + \"]*,?[\" + r + \"]*\", \"ig\");\n\n        t.exports = function (t) {\n          if (!t) return null;\n          if ((void 0 === t ? \"undefined\" : n(t)) === n([])) return t;\n          var e = {\n            a: 7,\n            c: 6,\n            o: 2,\n            h: 1,\n            l: 2,\n            m: 2,\n            r: 4,\n            q: 4,\n            s: 4,\n            t: 2,\n            v: 1,\n            u: 3,\n            z: 0\n          },\n              r = [];\n          return String(t).replace(i, function (t, n, i) {\n            var o = [],\n                s = n.toLowerCase();\n            if (i.replace(a, function (t, e) {\n              e && o.push(+e);\n            }), \"m\" === s && o.length > 2 && (r.push([n].concat(o.splice(0, 2))), s = \"l\", n = \"m\" === n ? \"l\" : \"L\"), \"o\" === s && 1 === o.length && r.push([n, o[0]]), \"r\" === s) r.push([n].concat(o));else for (; o.length >= e[s] && (r.push([n].concat(o.splice(0, e[s]))), e[s]);) {\n              ;\n            }\n          }), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n            var a = [{\n              x: +t[r - 2],\n              y: +t[r - 1]\n            }, {\n              x: +t[r],\n              y: +t[r + 1]\n            }, {\n              x: +t[r + 2],\n              y: +t[r + 3]\n            }, {\n              x: +t[r + 4],\n              y: +t[r + 5]\n            }];\n            e ? r ? i - 4 === r ? a[3] = {\n              x: +t[0],\n              y: +t[1]\n            } : i - 2 === r && (a[2] = {\n              x: +t[0],\n              y: +t[1]\n            }, a[3] = {\n              x: +t[2],\n              y: +t[3]\n            }) : a[0] = {\n              x: +t[i - 2],\n              y: +t[i - 1]\n            } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n              x: +t[r],\n              y: +t[r + 1]\n            }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toLowerCase();\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toUpperCase();\n        };\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t) {\n          return n.call(t).replace(/^\\[object /, \"\").replace(/\\]$/, \"\");\n        };\n      }, function (t, e) {\n        var n = Object.prototype;\n\n        t.exports = function (t) {\n          var e = t && t.constructor;\n          return t === (\"function\" == typeof e && e.prototype || n);\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(1),\n            a = n(38);\n\n        t.exports = function (t, e) {\n          if (!e) return {\n            0: t\n          };\n\n          if (!r(e)) {\n            var n = i(e) ? e : e.replace(/\\s+/g, \"\").split(\"*\");\n\n            e = function e(t) {\n              for (var e = \"_\", r = 0, i = n.length; r < i; r++) {\n                e += t[n[r]] && t[n[r]].toString();\n              }\n\n              return e;\n            };\n          }\n\n          return a(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(1),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (!e || !i(t)) return t;\n          var n = {},\n              o = null;\n          return r(t, function (t) {\n            o = e(t), a.call(n, o) ? n[o].push(t) : n[o] = [t];\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(4),\n            a = n(10);\n\n        t.exports = function t(e, n) {\n          if (e === n) return !0;\n          if (!e || !n) return !1;\n          if (a(e) || a(n)) return !1;\n\n          if (i(e) || i(n)) {\n            if (e.length !== n.length) return !1;\n\n            for (var o = !0, s = 0; s < e.length && (o = t(e[s], n[s])); s++) {\n              ;\n            }\n\n            return o;\n          }\n\n          if (r(e) || r(n)) {\n            var u = Object.keys(e),\n                c = Object.keys(n);\n            if (u.length !== c.length) return !1;\n\n            for (var l = !0, h = 0; h < u.length && (l = t(e[u[h]], n[u[h]])); h++) {\n              ;\n            }\n\n            return l;\n          }\n\n          return !1;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(11),\n            a = n(41),\n            o = n(53),\n            s = n(67),\n            u = n(70),\n            c = n(74),\n            l = n(88),\n            h = n(95),\n            f = n(99),\n            p = n(105),\n            d = n(111),\n            v = {\n          DOMUtil: a,\n          DomUtil: a,\n          MatrixUtil: l,\n          PathUtil: f,\n          arrayUtil: o,\n          domUtil: a,\n          eventUtil: s,\n          formatUtil: u,\n          mathUtil: c,\n          matrixUtil: l,\n          objectUtil: h,\n          stringUtil: p,\n          pathUtil: f,\n          typeUtil: d,\n          augment: n(119),\n          clone: n(24),\n          debounce: n(120),\n          deepMix: n(121),\n          each: r,\n          extend: n(122),\n          filter: n(12),\n          group: n(123),\n          groupBy: n(38),\n          groupToMap: n(37),\n          indexOf: n(124),\n          isEmpty: n(125),\n          isEqual: n(39),\n          isEqualWith: n(126),\n          map: n(127),\n          mix: i,\n          pick: n(128),\n          throttle: n(129),\n          toArray: n(14),\n          toString: n(8),\n          uniqueId: n(130)\n        };\n        r([a, o, s, u, c, l, h, f, p, d], function (t) {\n          i(v, t);\n        }), t.exports = v;\n      }, function (t, e, n) {\n        t.exports = {\n          addEventListener: n(42),\n          createDom: n(43),\n          getBoundingClientRect: n(44),\n          getHeight: n(45),\n          getOuterHeight: n(46),\n          getOuterWidth: n(47),\n          getRatio: n(48),\n          getStyle: n(49),\n          getWidth: n(50),\n          modifyCSS: n(51),\n          requestAnimationFrame: n(52)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          if (t) {\n            if (t.addEventListener) return t.addEventListener(e, n, !1), {\n              remove: function remove() {\n                t.removeEventListener(e, n, !1);\n              }\n            };\n            if (t.attachEvent) return t.attachEvent(\"on\" + e, n), {\n              remove: function remove() {\n                t.detachEvent(\"on\" + e, n);\n              }\n            };\n          }\n        };\n      }, function (t, e) {\n        var n = document.createElement(\"table\"),\n            r = document.createElement(\"tr\"),\n            i = /^\\s*<(\\w+|!)[^>]*>/,\n            a = {\n          tr: document.createElement(\"tbody\"),\n          tbody: n,\n          thead: n,\n          tfoot: n,\n          td: r,\n          th: r,\n          \"*\": document.createElement(\"div\")\n        };\n\n        t.exports = function (t) {\n          var e = i.test(t) && RegExp.$1;\n          e in a || (e = \"*\");\n          var n = a[e];\n          t = t.replace(/(^\\s*)|(\\s*$)/g, \"\"), n.innerHTML = \"\" + t;\n          var r = n.childNodes[0];\n          return n.removeChild(r), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t && t.getBoundingClientRect) {\n            var n = t.getBoundingClientRect(),\n                r = document.documentElement.clientTop,\n                i = document.documentElement.clientLeft;\n            return {\n              top: n.top - r,\n              bottom: n.bottom - r,\n              left: n.left - i,\n              right: n.right - i\n            };\n          }\n\n          return e || null;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"height\", e);\n          return \"auto\" === n && (n = t.offsetHeight), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getHeight(t, e),\n              r = parseFloat(this.getStyle(t, \"borderTopWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingTop\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingBottom\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderBottomWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getWidth(t, e),\n              r = parseFloat(this.getStyle(t, \"borderLeftWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingLeft\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingRight\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderRightWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function () {\n          return window.devicePixelRatio ? window.devicePixelRatio : 2;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t, e, n) {\n          try {\n            return window.getComputedStyle ? window.getComputedStyle(t, null)[e] : t.currentStyle[e];\n          } catch (t) {\n            return r(n) ? null : n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"width\", e);\n          return \"auto\" === n && (n = t.offsetWidth), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t) for (var n in e) {\n            e.hasOwnProperty(n) && (t.style[n] = e[n]);\n          }\n          return t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return (window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (t) {\n            return setTimeout(t, 16);\n          })(t);\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          contains: n(9),\n          difference: n(54),\n          find: n(55),\n          firstValue: n(56),\n          flatten: n(57),\n          flattenDeep: n(58),\n          getRange: n(59),\n          merge: n(60),\n          pull: n(61),\n          pullAt: n(19),\n          reduce: n(62),\n          remove: n(63),\n          sortBy: n(64),\n          union: n(65),\n          uniq: n(20),\n          valuesOfKey: n(66)\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          return r(t, function (t) {\n            return !i(e, t);\n          });\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(7),\n            a = n(17);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (r(e) && (n = e), i(e) && (n = function n(t) {\n            return a(t, e);\n          }), n) for (var o = 0; o < t.length; o += 1) {\n            if (n(t[o])) return t[o];\n          }\n          return null;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          for (var n = null, a = 0; a < t.length; a++) {\n            var o = t[a][e];\n\n            if (!r(o)) {\n              n = i(o) ? o[0] : o;\n              break;\n            }\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(0);\n\n        t.exports = function (t) {\n          if (!r(t)) return t;\n          var e = [];\n          return i(t, function (t) {\n            r(t) ? i(t, function (t) {\n              e.push(t);\n            }) : e.push(t);\n          }), e;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function t(e) {\n          var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          if (r(e)) for (var i = 0; i < e.length; i += 1) {\n            t(e[i], n);\n          } else n.push(e);\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(1);\n\n        t.exports = function (t) {\n          if (!(t = r(t, function (t) {\n            return !isNaN(t);\n          })).length) return {\n            min: 0,\n            max: 0\n          };\n\n          if (i(t[0])) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              e = e.concat(t[n]);\n            }\n\n            t = e;\n          }\n\n          var a = Math.max.apply(null, t);\n          return {\n            min: Math.min.apply(null, t),\n            max: a\n          };\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          for (var e = [], n = 0; n < t.length; n++) {\n            e = e.concat(t[n]);\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = Array.prototype,\n            r = n.splice,\n            i = n.indexOf,\n            a = n.slice;\n\n        t.exports = function (t) {\n          for (var e = a.call(arguments, 1), n = 0; n < e.length; n++) {\n            for (var o = e[n], s = -1; (s = i.call(t, o)) > -1;) {\n              r.call(t, s, 1);\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(7),\n            a = n(0);\n\n        t.exports = function (t, e, n) {\n          if (!r(t) && !i(t)) return t;\n          var o = n;\n          return a(t, function (t, n) {\n            o = e(o, t, n);\n          }), o;\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = n(19);\n\n        t.exports = function (t, e) {\n          var n = [];\n          if (!r(t)) return n;\n\n          for (var a = -1, o = [], s = t.length; ++a < s;) {\n            var u = t[a];\n            e(u, a, t) && (n.push(u), o.push(a));\n          }\n\n          return i(t, o), n;\n        };\n      }, function (t, e, n) {\n        var r = n(10),\n            i = n(3),\n            a = n(1);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (i(e)) n = function n(t, _n) {\n            return e(t) - e(_n);\n          };else {\n            var o = [];\n            r(e) ? o.push(e) : a(e) && (o = e), n = function n(t, e) {\n              for (var n = 0; n < o.length; n += 1) {\n                var r = o[n];\n                if (t[r] > e[r]) return 1;\n                if (t[r] < e[r]) return -1;\n              }\n\n              return 0;\n            };\n          }\n          return t.sort(n), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(14),\n            a = n(20);\n\n        t.exports = function () {\n          var t = [],\n              e = i(arguments);\n          return r(e, function (e) {\n            t = t.concat(e);\n          }), a(t);\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          for (var n = [], o = {}, s = 0; s < t.length; s++) {\n            var u = t[s][e];\n            r(u) || (i(u) || (u = [u]), a(u, function (t) {\n              o[t] || (n.push(t), o[t] = !0);\n            }));\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          getWrapBehavior: n(68),\n          wrapBehavior: n(69)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t[\"_wrap_\" + e];\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t[\"_wrap_\" + e]) return t[\"_wrap_\" + e];\n\n          var n = function n(_n2) {\n            t[e](_n2);\n          };\n\n          return t[\"_wrap_\" + e] = n, n;\n        };\n      }, function (t, e, n) {\n        var r = n(71);\n        t.exports = {\n          number2color: r,\n          numberToColor: r,\n          parsePath: n(72),\n          parseRadius: n(73)\n        };\n      }, function (t, e) {\n        var n = {};\n\n        t.exports = function (t) {\n          var e = n[t];\n\n          if (!e) {\n            for (var r = t.toString(16), i = r.length; i < 6; i++) {\n              r = \"0\" + r;\n            }\n\n            e = \"#\" + r, n[t] = e;\n          }\n\n          return e;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(10),\n            a = n(0),\n            o = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n            s = /[^\\s\\,]+/gi;\n\n        t.exports = function (t) {\n          return r(t = t || []) ? t : i(t) ? (t = t.match(o), a(t, function (e, n) {\n            if ((e = e.match(s))[0].length > 1) {\n              var r = e[0].charAt(0);\n              e.splice(1, 0, e[0].substr(1)), e[0] = r;\n            }\n\n            a(e, function (t, n) {\n              isNaN(t) || (e[n] = +t);\n            }), t[n] = e;\n          }), t) : void 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function (t) {\n          var e = 0,\n              n = 0,\n              i = 0,\n              a = 0;\n          return r(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n            r1: e,\n            r2: n,\n            r3: i,\n            r4: a\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(75);\n        t.exports = {\n          clamp: n(21),\n          fixedBase: n(76),\n          isDecimal: n(77),\n          isEven: n(78),\n          isInteger: n(79),\n          isNegative: n(80),\n          isNumberEqual: r,\n          isOdd: n(81),\n          isPositive: n(82),\n          maxBy: n(83),\n          minBy: n(84),\n          mod: n(85),\n          snapEqual: r,\n          toDegree: n(86),\n          toInt: n(22),\n          toInteger: n(22),\n          toRadian: n(87)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e-5;\n          return Math.abs(t - e) < n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = e.toString(),\n              r = n.indexOf(\".\");\n          if (-1 === r) return Math.round(t);\n          var i = n.substr(r + 1).length;\n          return i > 20 && (i = 20), parseFloat(t.toFixed(i));\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 1 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 == 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6),\n            i = Number.isInteger ? Number.isInteger : function (t) {\n          return r(t) && t % 1 == 0;\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t < 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t > 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) > o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) < o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return (t % e + e) % e;\n        };\n      }, function (t, e) {\n        var n = 180 / Math.PI;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e) {\n        var n = Math.PI / 180;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          mat3: n(23),\n          vec2: n(90),\n          vec3: n(92),\n          transform: n(94)\n        };\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.sub = e.mul = void 0, e.create = function () {\n          var t = new r.ARRAY_TYPE(9);\n          return r.ARRAY_TYPE != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0), t[0] = 1, t[4] = 1, t[8] = 1, t;\n        }, e.fromMat4 = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[4], t[4] = e[5], t[5] = e[6], t[6] = e[8], t[7] = e[9], t[8] = e[10], t;\n        }, e.clone = function (t) {\n          var e = new r.ARRAY_TYPE(9);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromValues = function (t, e, n, i, a, o, s, u, c) {\n          var l = new r.ARRAY_TYPE(9);\n          return l[0] = t, l[1] = e, l[2] = n, l[3] = i, l[4] = a, l[5] = o, l[6] = s, l[7] = u, l[8] = c, l;\n        }, e.set = function (t, e, n, r, i, a, o, s, u, c) {\n          return t[0] = e, t[1] = n, t[2] = r, t[3] = i, t[4] = a, t[5] = o, t[6] = s, t[7] = u, t[8] = c, t;\n        }, e.identity = function (t) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.transpose = function (t, e) {\n          if (t === e) {\n            var n = e[1],\n                r = e[2],\n                i = e[5];\n            t[1] = e[3], t[2] = e[6], t[3] = n, t[5] = e[7], t[6] = r, t[7] = i;\n          } else t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8];\n\n          return t;\n        }, e.invert = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = l * o - s * c,\n              f = -l * a + s * u,\n              p = c * a - o * u,\n              d = n * h + r * f + i * p;\n          return d ? (d = 1 / d, t[0] = h * d, t[1] = (-l * r + i * c) * d, t[2] = (s * r - i * o) * d, t[3] = f * d, t[4] = (l * n - i * u) * d, t[5] = (-s * n + i * a) * d, t[6] = p * d, t[7] = (-c * n + r * u) * d, t[8] = (o * n - r * a) * d, t) : null;\n        }, e.adjoint = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8];\n          return t[0] = o * l - s * c, t[1] = i * c - r * l, t[2] = r * s - i * o, t[3] = s * u - a * l, t[4] = n * l - i * u, t[5] = i * a - n * s, t[6] = a * c - o * u, t[7] = r * u - n * c, t[8] = n * o - r * a, t;\n        }, e.determinant = function (t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2],\n              i = t[3],\n              a = t[4],\n              o = t[5],\n              s = t[6],\n              u = t[7],\n              c = t[8];\n          return e * (c * a - o * u) + n * (-c * i + o * s) + r * (u * i - a * s);\n        }, e.multiply = i, e.translate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1];\n          return t[0] = r, t[1] = i, t[2] = a, t[3] = o, t[4] = s, t[5] = u, t[6] = f * r + p * o + c, t[7] = f * i + p * s + l, t[8] = f * a + p * u + h, t;\n        }, e.rotate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = Math.sin(n),\n              p = Math.cos(n);\n          return t[0] = p * r + f * o, t[1] = p * i + f * s, t[2] = p * a + f * u, t[3] = p * o - f * r, t[4] = p * s - f * i, t[5] = p * u - f * a, t[6] = c, t[7] = l, t[8] = h, t;\n        }, e.scale = function (t, e, n) {\n          var r = n[0],\n              i = n[1];\n          return t[0] = r * e[0], t[1] = r * e[1], t[2] = r * e[2], t[3] = i * e[3], t[4] = i * e[4], t[5] = i * e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromTranslation = function (t, e) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = e[0], t[7] = e[1], t[8] = 1, t;\n        }, e.fromRotation = function (t, e) {\n          var n = Math.sin(e),\n              r = Math.cos(e);\n          return t[0] = r, t[1] = n, t[2] = 0, t[3] = -n, t[4] = r, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromScaling = function (t, e) {\n          return t[0] = e[0], t[1] = 0, t[2] = 0, t[3] = 0, t[4] = e[1], t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromMat2d = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = 0, t[3] = e[2], t[4] = e[3], t[5] = 0, t[6] = e[4], t[7] = e[5], t[8] = 1, t;\n        }, e.fromQuat = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = n + n,\n              s = r + r,\n              u = i + i,\n              c = n * o,\n              l = r * o,\n              h = r * s,\n              f = i * o,\n              p = i * s,\n              d = i * u,\n              v = a * o,\n              y = a * s,\n              g = a * u;\n          return t[0] = 1 - h - d, t[3] = l - g, t[6] = f + y, t[1] = l + g, t[4] = 1 - c - d, t[7] = p - v, t[2] = f - y, t[5] = p + v, t[8] = 1 - c - h, t;\n        }, e.normalFromMat4 = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = e[9],\n              f = e[10],\n              p = e[11],\n              d = e[12],\n              v = e[13],\n              y = e[14],\n              g = e[15],\n              x = n * s - r * o,\n              m = n * u - i * o,\n              b = n * c - a * o,\n              M = r * u - i * s,\n              w = r * c - a * s,\n              _ = i * c - a * u,\n              A = l * v - h * d,\n              P = l * y - f * d,\n              S = l * g - p * d,\n              k = h * y - f * v,\n              O = h * g - p * v,\n              I = f * g - p * y,\n              T = x * I - m * O + b * k + M * S - w * P + _ * A;\n\n          return T ? (T = 1 / T, t[0] = (s * I - u * O + c * k) * T, t[1] = (u * S - o * I - c * P) * T, t[2] = (o * O - s * S + c * A) * T, t[3] = (i * O - r * I - a * k) * T, t[4] = (n * I - i * S + a * P) * T, t[5] = (r * S - n * O - a * A) * T, t[6] = (v * _ - y * w + g * M) * T, t[7] = (y * b - d * _ - g * m) * T, t[8] = (d * w - v * b + g * x) * T, t) : null;\n        }, e.projection = function (t, e, n) {\n          return t[0] = 2 / e, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = -2 / n, t[5] = 0, t[6] = -1, t[7] = 1, t[8] = 1, t;\n        }, e.str = function (t) {\n          return \"mat3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \", \" + t[3] + \", \" + t[4] + \", \" + t[5] + \", \" + t[6] + \", \" + t[7] + \", \" + t[8] + \")\";\n        }, e.frob = function (t) {\n          return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + Math.pow(t[6], 2) + Math.pow(t[7], 2) + Math.pow(t[8], 2));\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t[3] = e[3] + n[3], t[4] = e[4] + n[4], t[5] = e[5] + n[5], t[6] = e[6] + n[6], t[7] = e[7] + n[7], t[8] = e[8] + n[8], t;\n        }, e.subtract = a, e.multiplyScalar = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n, t[4] = e[4] * n, t[5] = e[5] * n, t[6] = e[6] * n, t[7] = e[7] * n, t[8] = e[8] * n, t;\n        }, e.multiplyScalarAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t[3] = e[3] + n[3] * r, t[4] = e[4] + n[4] * r, t[5] = e[5] + n[5] * r, t[6] = e[6] + n[6] * r, t[7] = e[7] + n[7] * r, t[8] = e[8] + n[8] * r, t;\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2] && t[3] === e[3] && t[4] === e[4] && t[5] === e[5] && t[6] === e[6] && t[7] === e[7] && t[8] === e[8];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              i = t[1],\n              a = t[2],\n              o = t[3],\n              s = t[4],\n              u = t[5],\n              c = t[6],\n              l = t[7],\n              h = t[8],\n              f = e[0],\n              p = e[1],\n              d = e[2],\n              v = e[3],\n              y = e[4],\n              g = e[5],\n              x = e[6],\n              m = e[7],\n              b = e[8];\n          return Math.abs(n - f) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(f)) && Math.abs(i - p) <= r.EPSILON * Math.max(1, Math.abs(i), Math.abs(p)) && Math.abs(a - d) <= r.EPSILON * Math.max(1, Math.abs(a), Math.abs(d)) && Math.abs(o - v) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(v)) && Math.abs(s - y) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(y)) && Math.abs(u - g) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(g)) && Math.abs(c - x) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(x)) && Math.abs(l - m) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(m)) && Math.abs(h - b) <= r.EPSILON * Math.max(1, Math.abs(h), Math.abs(b));\n        };\n\n        var r = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function i(t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1],\n              d = n[2],\n              v = n[3],\n              y = n[4],\n              g = n[5],\n              x = n[6],\n              m = n[7],\n              b = n[8];\n          return t[0] = f * r + p * o + d * c, t[1] = f * i + p * s + d * l, t[2] = f * a + p * u + d * h, t[3] = v * r + y * o + g * c, t[4] = v * i + y * s + g * l, t[5] = v * a + y * u + g * h, t[6] = x * r + m * o + b * c, t[7] = x * i + m * s + b * l, t[8] = x * a + m * u + b * h, t;\n        }\n\n        function a(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t[3] = e[3] - n[3], t[4] = e[4] - n[4], t[5] = e[5] - n[5], t[6] = e[6] - n[6], t[7] = e[7] - n[7], t[8] = e[8] - n[8], t;\n        }\n\n        e.mul = i, e.sub = a;\n      }, function (t, e, n) {\n        var r = n(91),\n            i = n(21);\n        r.angle = function (t, e) {\n          var n = r.dot(t, e) / (r.length(t) * r.length(e));\n          return Math.acos(i(n, -1, 1));\n        }, r.direction = function (t, e) {\n          return t[0] * e[1] - e[0] * t[1];\n        }, r.angleTo = function (t, e, n) {\n          var i = r.angle(t, e),\n              a = r.direction(t, e) >= 0;\n          return n ? a ? 2 * Math.PI - i : i : a ? i : 2 * Math.PI - i;\n        }, r.vertical = function (t, e, n) {\n          return n ? (t[0] = e[1], t[1] = -1 * e[0]) : (t[0] = -1 * e[1], t[1] = e[0]), t;\n        }, t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.sqrDist = e.dist = e.div = e.mul = e.sub = e.len = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(2);\n          return e[0] = t[0], e[1] = t[1], e;\n        }, e.fromValues = function (t, e) {\n          var n = new i.ARRAY_TYPE(2);\n          return n[0] = t, n[1] = e, n;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t;\n        }, e.set = function (t, e, n) {\n          return t[0] = e, t[1] = n, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;\n        }, e.subtract = o, e.multiply = s, e.divide = u, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t;\n        }, e.distance = c, e.squaredDistance = l, e.length = h, e.squaredLength = f, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t;\n        }, e.normalize = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = n * n + r * r;\n          return i > 0 && (i = 1 / Math.sqrt(i), t[0] = e[0] * i, t[1] = e[1] * i), t;\n        }, e.dot = function (t, e) {\n          return t[0] * e[0] + t[1] * e[1];\n        }, e.cross = function (t, e, n) {\n          var r = e[0] * n[1] - e[1] * n[0];\n          return t[0] = t[1] = 0, t[2] = r, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI;\n          return t[0] = Math.cos(n) * e, t[1] = Math.sin(n) * e, t;\n        }, e.transformMat2 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i, t[1] = n[1] * r + n[3] * i, t;\n        }, e.transformMat2d = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i + n[4], t[1] = n[1] * r + n[3] * i + n[5], t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[3] * i + n[6], t[1] = n[1] * r + n[4] * i + n[7], t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[4] * i + n[12], t[1] = n[1] * r + n[5] * i + n[13], t;\n        }, e.rotate = function (t, e, n, r) {\n          var i = e[0] - n[0],\n              a = e[1] - n[1],\n              o = Math.sin(r),\n              s = Math.cos(r);\n          return t[0] = i * s - a * o + n[0], t[1] = i * o + a * s + n[1], t;\n        }, e.angle = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              i = e[0],\n              a = e[1],\n              o = n * n + r * r;\n          o > 0 && (o = 1 / Math.sqrt(o));\n          var s = i * i + a * a;\n          s > 0 && (s = 1 / Math.sqrt(s));\n          var u = (n * i + r * a) * o * s;\n          return u > 1 ? 0 : u < -1 ? Math.PI : Math.acos(u);\n        }, e.str = function (t) {\n          return \"vec2(\" + t[0] + \", \" + t[1] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = e[0],\n              o = e[1];\n          return Math.abs(n - a) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(a)) && Math.abs(r - o) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(o));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(2);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0), t;\n        }\n\n        function o(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;\n        }\n\n        function s(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t;\n        }\n\n        function c(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return Math.sqrt(n * n + r * r);\n        }\n\n        function l(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return n * n + r * r;\n        }\n\n        function h(t) {\n          var e = t[0],\n              n = t[1];\n          return Math.sqrt(e * e + n * n);\n        }\n\n        function f(t) {\n          var e = t[0],\n              n = t[1];\n          return e * e + n * n;\n        }\n\n        e.len = h, e.sub = o, e.mul = s, e.div = u, e.dist = c, e.sqrDist = l, e.sqrLen = f, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 2), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], a(r, r, o), t[s] = r[0], t[s + 1] = r[1];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(93);\n        t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.len = e.sqrDist = e.dist = e.div = e.mul = e.sub = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(3);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e;\n        }, e.length = o, e.fromValues = s, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t;\n        }, e.set = function (t, e, n, r) {\n          return t[0] = e, t[1] = n, t[2] = r, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t;\n        }, e.subtract = u, e.multiply = c, e.divide = l, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t[2] = Math.ceil(e[2]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t[2] = Math.floor(e[2]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t[2] = Math.min(e[2], n[2]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t[2] = Math.max(e[2], n[2]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t[2] = Math.round(e[2]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t;\n        }, e.distance = h, e.squaredDistance = f, e.squaredLength = p, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t[2] = -e[2], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t[2] = 1 / e[2], t;\n        }, e.normalize = d, e.dot = v, e.cross = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[0],\n              s = n[1],\n              u = n[2];\n          return t[0] = i * u - a * s, t[1] = a * o - r * u, t[2] = r * s - i * o, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1],\n              o = e[2];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t[2] = o + r * (n[2] - o), t;\n        }, e.hermite = function (t, e, n, r, i, a) {\n          var o = a * a,\n              s = o * (2 * a - 3) + 1,\n              u = o * (a - 2) + a,\n              c = o * (a - 1),\n              l = o * (3 - 2 * a);\n          return t[0] = e[0] * s + n[0] * u + r[0] * c + i[0] * l, t[1] = e[1] * s + n[1] * u + r[1] * c + i[1] * l, t[2] = e[2] * s + n[2] * u + r[2] * c + i[2] * l, t;\n        }, e.bezier = function (t, e, n, r, i, a) {\n          var o = 1 - a,\n              s = o * o,\n              u = a * a,\n              c = s * o,\n              l = 3 * a * s,\n              h = 3 * u * o,\n              f = u * a;\n          return t[0] = e[0] * c + n[0] * l + r[0] * h + i[0] * f, t[1] = e[1] * c + n[1] * l + r[1] * h + i[1] * f, t[2] = e[2] * c + n[2] * l + r[2] * h + i[2] * f, t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI,\n              r = 2 * i.RANDOM() - 1,\n              a = Math.sqrt(1 - r * r) * e;\n          return t[0] = Math.cos(n) * a, t[1] = Math.sin(n) * a, t[2] = r * e, t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[3] * r + n[7] * i + n[11] * a + n[15];\n          return o = o || 1, t[0] = (n[0] * r + n[4] * i + n[8] * a + n[12]) / o, t[1] = (n[1] * r + n[5] * i + n[9] * a + n[13]) / o, t[2] = (n[2] * r + n[6] * i + n[10] * a + n[14]) / o, t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2];\n          return t[0] = r * n[0] + i * n[3] + a * n[6], t[1] = r * n[1] + i * n[4] + a * n[7], t[2] = r * n[2] + i * n[5] + a * n[8], t;\n        }, e.transformQuat = function (t, e, n) {\n          var r = n[0],\n              i = n[1],\n              a = n[2],\n              o = n[3],\n              s = e[0],\n              u = e[1],\n              c = e[2],\n              l = i * c - a * u,\n              h = a * s - r * c,\n              f = r * u - i * s,\n              p = i * f - a * h,\n              d = a * l - r * f,\n              v = r * h - i * l,\n              y = 2 * o;\n          return l *= y, h *= y, f *= y, p *= 2, d *= 2, v *= 2, t[0] = s + l + p, t[1] = u + h + d, t[2] = c + f + v, t;\n        }, e.rotateX = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0], a[1] = i[1] * Math.cos(r) - i[2] * Math.sin(r), a[2] = i[1] * Math.sin(r) + i[2] * Math.cos(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateY = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[2] * Math.sin(r) + i[0] * Math.cos(r), a[1] = i[1], a[2] = i[2] * Math.cos(r) - i[0] * Math.sin(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateZ = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0] * Math.cos(r) - i[1] * Math.sin(r), a[1] = i[0] * Math.sin(r) + i[1] * Math.cos(r), a[2] = i[2], t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.angle = function (t, e) {\n          var n = s(t[0], t[1], t[2]),\n              r = s(e[0], e[1], e[2]);\n          d(n, n), d(r, r);\n          var i = v(n, r);\n          return i > 1 ? 0 : i < -1 ? Math.PI : Math.acos(i);\n        }, e.str = function (t) {\n          return \"vec3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = t[2],\n              o = e[0],\n              s = e[1],\n              u = e[2];\n          return Math.abs(n - o) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(o)) && Math.abs(r - s) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(s)) && Math.abs(a - u) <= i.EPSILON * Math.max(1, Math.abs(a), Math.abs(u));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(3);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0), t;\n        }\n\n        function o(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return Math.sqrt(e * e + n * n + r * r);\n        }\n\n        function s(t, e, n) {\n          var r = new i.ARRAY_TYPE(3);\n          return r[0] = t, r[1] = e, r[2] = n, r;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t;\n        }\n\n        function c(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t[2] = e[2] * n[2], t;\n        }\n\n        function l(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t[2] = e[2] / n[2], t;\n        }\n\n        function h(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return Math.sqrt(n * n + r * r + i * i);\n        }\n\n        function f(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return n * n + r * r + i * i;\n        }\n\n        function p(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return e * e + n * n + r * r;\n        }\n\n        function d(t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = n * n + r * r + i * i;\n          return a > 0 && (a = 1 / Math.sqrt(a), t[0] = e[0] * a, t[1] = e[1] * a, t[2] = e[2] * a), t;\n        }\n\n        function v(t, e) {\n          return t[0] * e[0] + t[1] * e[1] + t[2] * e[2];\n        }\n\n        e.sub = u, e.mul = c, e.div = l, e.dist = h, e.sqrDist = f, e.len = o, e.sqrLen = p, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 3), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], r[2] = t[s + 2], a(r, r, o), t[s] = r[0], t[s + 1] = r[1], t[s + 2] = r[2];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(24),\n            i = n(0),\n            a = n(23);\n\n        t.exports = function (t, e) {\n          return t = r(t), i(e, function (e) {\n            switch (e[0]) {\n              case \"t\":\n                a.translate(t, t, [e[1], e[2]]);\n                break;\n\n              case \"s\":\n                a.scale(t, t, [e[1], e[2]]);\n                break;\n\n              case \"r\":\n                a.rotate(t, t, e[1]);\n                break;\n\n              case \"m\":\n                a.multiply(t, t, e[1]);\n                break;\n\n              default:\n                return !1;\n            }\n          }), t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          forIn: n(96),\n          has: n(25),\n          hasKey: n(97),\n          hasValue: n(98),\n          keys: n(18),\n          isMatch: n(17),\n          values: n(26)\n        };\n      }, function (t, e, n) {\n        t.exports = n(0);\n      }, function (t, e, n) {\n        t.exports = n(25);\n      }, function (t, e, n) {\n        var r = n(9),\n            i = n(26);\n\n        t.exports = function (t, e) {\n          return r(i(t), e);\n        };\n      }, function (t, e, n) {\n        var r = n(100),\n            i = n(30),\n            a = n(29),\n            o = n(32);\n        t.exports = {\n          catmullRom2Bezier: o,\n          catmullRomToBezier: o,\n          fillPath: n(101),\n          fillPathByDiff: n(102),\n          formatPath: n(104),\n          intersection: r,\n          pathIntersection: r,\n          parsePathArray: n(28),\n          parsePathString: n(31),\n          pathToAbsolute: i,\n          path2absolute: i,\n          pathTocurve: a,\n          path2curve: a,\n          rectPath: n(27)\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(27),\n            a = n(29),\n            o = function o(t, e, n, r, i) {\n          return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n        },\n            s = function s(t, e, n, r, i, a, _s, u, c) {\n          null === c && (c = 1);\n\n          for (var l = (c = c > 1 ? 1 : c < 0 ? 0 : c) / 2, h = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], p = 0, d = 0; d < 12; d++) {\n            var v = l * h[d] + l,\n                y = o(v, t, n, i, _s),\n                g = o(v, e, r, a, u),\n                x = y * y + g * g;\n            p += f[d] * Math.sqrt(x);\n          }\n\n          return l * p;\n        },\n            u = function u(t, e, n, r, i, a, o, s) {\n          for (var u = [], c = [[], []], l = void 0, h = void 0, f = void 0, p = void 0, d = 0; d < 2; ++d) {\n            if (0 === d ? (h = 6 * t - 12 * n + 6 * i, l = -3 * t + 9 * n - 9 * i + 3 * o, f = 3 * n - 3 * t) : (h = 6 * e - 12 * r + 6 * a, l = -3 * e + 9 * r - 9 * a + 3 * s, f = 3 * r - 3 * e), Math.abs(l) < 1e-12) {\n              if (Math.abs(h) < 1e-12) continue;\n              (p = -f / h) > 0 && p < 1 && u.push(p);\n            } else {\n              var v = h * h - 4 * f * l,\n                  y = Math.sqrt(v);\n\n              if (!(v < 0)) {\n                var g = (-h + y) / (2 * l);\n                g > 0 && g < 1 && u.push(g);\n                var x = (-h - y) / (2 * l);\n                x > 0 && x < 1 && u.push(x);\n              }\n            }\n          }\n\n          for (var m = u.length, b = m, M = void 0; m--;) {\n            M = 1 - (p = u[m]), c[0][m] = M * M * M * t + 3 * M * M * p * n + 3 * M * p * p * i + p * p * p * o, c[1][m] = M * M * M * e + 3 * M * M * p * r + 3 * M * p * p * a + p * p * p * s;\n          }\n\n          return c[0][b] = t, c[1][b] = e, c[0][b + 1] = o, c[1][b + 1] = s, c[0].length = c[1].length = b + 2, {\n            min: {\n              x: Math.min.apply(0, c[0]),\n              y: Math.min.apply(0, c[1])\n            },\n            max: {\n              x: Math.max.apply(0, c[0]),\n              y: Math.max.apply(0, c[1])\n            }\n          };\n        },\n            c = function c(t, e, n, r, i, a, o, s) {\n          if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n            var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n            if (u) {\n              var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n                  l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n                  h = +c.toFixed(2),\n                  f = +l.toFixed(2);\n              if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n                x: c,\n                y: l\n              };\n            }\n          }\n        },\n            l = function l(t, e, n) {\n          return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n        },\n            h = function h(t, e, n, r) {\n          return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n            x: t,\n            y: e,\n            width: n,\n            w: n,\n            height: r,\n            h: r,\n            x2: t + n,\n            y2: e + r,\n            cx: t + n / 2,\n            cy: e + r / 2,\n            r1: Math.min(n, r) / 2,\n            r2: Math.max(n, r) / 2,\n            r0: Math.sqrt(n * n + r * r) / 2,\n            path: i(t, e, n, r),\n            vb: [t, e, n, r].join(\" \")\n          };\n        },\n            f = function f(t, e, n, i, a, o, s, c) {\n          r(t) || (t = [t, e, n, i, a, o, s, c]);\n          var l = u.apply(null, t);\n          return h(l.min.x, l.min.y, l.max.x - l.min.x, l.max.y - l.min.y);\n        },\n            p = function p(t, e, n, r, i, a, o, s, u) {\n          var c = 1 - u,\n              l = Math.pow(c, 3),\n              h = Math.pow(c, 2),\n              f = u * u,\n              p = f * u,\n              d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n              v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n              y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n              g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n          return {\n            x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n            y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n            m: {\n              x: d,\n              y: v\n            },\n            n: {\n              x: y,\n              y: g\n            },\n            start: {\n              x: c * t + u * n,\n              y: c * e + u * r\n            },\n            end: {\n              x: c * i + u * o,\n              y: c * a + u * s\n            },\n            alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n          };\n        },\n            d = function d(t, e, n) {\n          if (!function (t, e) {\n            return t = h(t), e = h(e), l(e, t.x, t.y) || l(e, t.x2, t.y) || l(e, t.x, t.y2) || l(e, t.x2, t.y2) || l(t, e.x, e.y) || l(t, e.x2, e.y) || l(t, e.x, e.y2) || l(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n          }(f(t), f(e))) return n ? 0 : [];\n\n          for (var r = ~~(s.apply(0, t) / 8), i = ~~(s.apply(0, e) / 8), a = [], o = [], u = {}, d = n ? 0 : [], v = 0; v < r + 1; v++) {\n            var y = p.apply(0, t.concat(v / r));\n            a.push({\n              x: y.x,\n              y: y.y,\n              t: v / r\n            });\n          }\n\n          for (var g = 0; g < i + 1; g++) {\n            var x = p.apply(0, e.concat(g / i));\n            o.push({\n              x: x.x,\n              y: x.y,\n              t: g / i\n            });\n          }\n\n          for (var m = 0; m < r; m++) {\n            for (var b = 0; b < i; b++) {\n              var M = a[m],\n                  w = a[m + 1],\n                  _ = o[b],\n                  A = o[b + 1],\n                  P = Math.abs(w.x - M.x) < .001 ? \"y\" : \"x\",\n                  S = Math.abs(A.x - _.x) < .001 ? \"y\" : \"x\",\n                  k = c(M.x, M.y, w.x, w.y, _.x, _.y, A.x, A.y);\n\n              if (k) {\n                if (u[k.x.toFixed(4)] === k.y.toFixed(4)) continue;\n                u[k.x.toFixed(4)] = k.y.toFixed(4);\n\n                var O = M.t + Math.abs((k[P] - M[P]) / (w[P] - M[P])) * (w.t - M.t),\n                    I = _.t + Math.abs((k[S] - _[S]) / (A[S] - _[S])) * (A.t - _.t);\n\n                O >= 0 && O <= 1 && I >= 0 && I <= 1 && (n ? d++ : d.push({\n                  x: k.x,\n                  y: k.y,\n                  t1: O,\n                  t2: I\n                }));\n              }\n            }\n          }\n\n          return d;\n        };\n\n        t.exports = function (t, e) {\n          return function (t, e, n) {\n            t = a(t), e = a(e);\n\n            for (var r = void 0, i = void 0, o = void 0, s = void 0, u = void 0, c = void 0, l = void 0, h = void 0, f = void 0, p = void 0, v = n ? 0 : [], y = 0, g = t.length; y < g; y++) {\n              var x = t[y];\n              if (\"M\" === x[0]) r = u = x[1], i = c = x[2];else {\n                \"C\" === x[0] ? (f = [r, i].concat(x.slice(1)), r = f[6], i = f[7]) : (f = [r, i, r, i, u, c, u, c], r = u, i = c);\n\n                for (var m = 0, b = e.length; m < b; m++) {\n                  var M = e[m];\n                  if (\"M\" === M[0]) o = l = M[1], s = h = M[2];else {\n                    \"C\" === M[0] ? (p = [o, s].concat(M.slice(1)), o = p[6], s = p[7]) : (p = [o, s, o, s, l, h, l, h], o = l, s = h);\n                    var w = d(f, p, n);\n                    if (n) v += w;else {\n                      for (var _ = 0, A = w.length; _ < A; _++) {\n                        w[_].segment1 = y, w[_].segment2 = m, w[_].bez1 = f, w[_].bez2 = p;\n                      }\n\n                      v = v.concat(w);\n                    }\n                  }\n                }\n              }\n            }\n\n            return v;\n          }(t, e);\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          var n = [],\n              r = [];\n          return t.length && function t(e, i) {\n            if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n              for (var a = [], o = 0; o < e.length - 1; o++) {\n                0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n              }\n\n              t(a, i);\n            }\n          }(t, e), {\n            left: n,\n            right: r.reverse()\n          };\n        }\n\n        function r(t, e, r) {\n          if (1 === r) return [[].concat(t)];\n          var i = [];\n          if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) i = i.concat(function (t, e, r) {\n            var i = [[t[1], t[2]]];\n            r = r || 2;\n            var a = [];\n            \"A\" === e[0] ? (i.push(e[6]), i.push(e[7])) : \"C\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]]), i.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]])) : i.push([e[1], e[2]]);\n\n            for (var o = i, s = 1 / r, u = 0; u < r - 1; u++) {\n              var c = n(o, s / (1 - s * u));\n              a.push(c.left), o = c.right;\n            }\n\n            return a.push(o), a.map(function (t) {\n              var e = [];\n              return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n            });\n          }(t, e, r));else {\n            var a = [].concat(t);\n            \"M\" === a[0] && (a[0] = \"L\");\n\n            for (var o = 0; o <= r - 1; o++) {\n              i.push(a);\n            }\n          }\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (1 === t.length) return t;\n          var n = t.length - 1,\n              i = e.length - 1,\n              a = n / i,\n              o = [];\n\n          if (1 === t.length && \"M\" === t[0][0]) {\n            for (var s = 0; s < i - n; s++) {\n              t.push(t[0]);\n            }\n\n            return t;\n          }\n\n          for (var u = 0; u < i; u++) {\n            var c = Math.floor(a * u);\n            o[c] = (o[c] || 0) + 1;\n          }\n\n          var l = o.reduce(function (e, i, a) {\n            return a === n ? e.concat(t[n]) : e.concat(r(t[a], t[a + 1], i));\n          }, []);\n          return l.unshift(t[0]), \"Z\" !== e[i] && \"z\" !== e[i] || l.push(\"Z\"), l;\n        };\n      }, function (t, e, n) {\n        var r = n(103);\n\n        function i(t, e, n) {\n          var r = null,\n              i = n;\n          return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n            type: r,\n            min: i\n          };\n        }\n\n        t.exports = function (t, e) {\n          var n = function (t, e) {\n            var n = t.length,\n                a = e.length,\n                o = void 0,\n                s = void 0,\n                u = 0;\n            if (0 === n || 0 === a) return null;\n\n            for (var c = [], l = 0; l <= n; l++) {\n              c[l] = [], c[l][0] = {\n                min: l\n              };\n            }\n\n            for (var h = 0; h <= a; h++) {\n              c[0][h] = {\n                min: h\n              };\n            }\n\n            for (var f = 1; f <= n; f++) {\n              o = t[f - 1];\n\n              for (var p = 1; p <= a; p++) {\n                s = e[p - 1], u = r(o, s) ? 0 : 1;\n                var d = c[f - 1][p].min + 1,\n                    v = c[f][p - 1].min + 1,\n                    y = c[f - 1][p - 1].min + u;\n                c[f][p] = i(d, v, y);\n              }\n            }\n\n            return c;\n          }(t, e),\n              a = t.length,\n              o = e.length,\n              s = [],\n              u = 1,\n              c = 1;\n\n          if (n[a][o] !== a) {\n            for (var l = 1; l <= a; l++) {\n              var h = n[l][l].min;\n              c = l;\n\n              for (var f = u; f <= o; f++) {\n                n[l][f].min < h && (h = n[l][f].min, c = f);\n              }\n\n              u = c, n[l][u].type && s.push({\n                index: l - 1,\n                type: n[l][u].type\n              });\n            }\n\n            for (var p = s.length - 1; p >= 0; p--) {\n              u = s[p].index, \"add\" === s[p].type ? t.splice(u, 0, [].concat(t[u])) : t.splice(u, 1);\n            }\n          }\n\n          if ((a = t.length) < o) for (var d = 0; d < o - a; d++) {\n            \"z\" === t[a - 1][0] || \"Z\" === t[a - 1][0] ? t.splice(a - 2, 0, t[a - 2]) : t.push(t[a - 1]);\n          }\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0);\n\n        t.exports = function (t, e) {\n          if (t.length !== e.length) return !1;\n          var n = !0;\n          return r(t, function (t, r) {\n            if (t !== e[r]) return n = !1, !1;\n          }), n;\n        };\n      }, function (t, e) {\n        function n(t) {\n          var e = [];\n\n          switch (t[0]) {\n            case \"M\":\n            case \"L\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"A\":\n              e.push([t[6], t[7]]);\n              break;\n\n            case \"Q\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"T\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"C\":\n              e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n              break;\n\n            case \"S\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"H\":\n            case \"V\":\n              e.push([t[1], t[1]]);\n          }\n\n          return e;\n        }\n\n        function r(t, e, r) {\n          for (var i = [].concat(t), a = void 0, o = 1 / (r + 1), s = n(e)[0], u = 1; u <= r; u++) {\n            o *= u, 0 === (a = Math.floor(t.length * o)) ? i.unshift([s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]) : i.splice(a, 0, [s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]);\n          }\n\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (t.length <= 1) return t;\n\n          for (var i = void 0, a = 0; a < e.length; a++) {\n            if (t[a][0] !== e[a][0]) switch (i = n(t[a]), e[a][0]) {\n              case \"M\":\n                t[a] = [\"M\"].concat(i[0]);\n                break;\n\n              case \"L\":\n                t[a] = [\"L\"].concat(i[0]);\n                break;\n\n              case \"A\":\n                t[a] = [].concat(e[a]), t[a][6] = i[0][0], t[a][7] = i[0][1];\n                break;\n\n              case \"Q\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"Q\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"T\":\n                t[a] = [\"T\"].concat(i[0]);\n                break;\n\n              case \"C\":\n                if (i.length < 3) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 2);\n                }\n\n                t[a] = [\"C\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"S\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"S\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              default:\n                t[a] = e[a];\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = {\n          lc: n(106),\n          lowerCase: n(33),\n          lowerFirst: n(107),\n          substitute: n(108),\n          uc: n(109),\n          upperCase: n(34),\n          upperFirst: n(110)\n        };\n        t.exports = r;\n      }, function (t, e, n) {\n        t.exports = n(33);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toLowerCase() + e.substring(1);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t && e ? t.replace(/\\\\?\\{([^{}]+)\\}/g, function (t, n) {\n            return \"\\\\\" === t.charAt(0) ? t.slice(1) : void 0 === e[n] ? \"\" : e[n];\n          }) : t;\n        };\n      }, function (t, e, n) {\n        t.exports = n(34);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toUpperCase() + e.substring(1);\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = {\n          getType: n(35),\n          isArray: n(1),\n          isArrayLike: n(4),\n          isBoolean: n(112),\n          isFunction: n(3),\n          isNil: n(5),\n          isNull: n(113),\n          isNumber: n(6),\n          isObject: n(16),\n          isObjectLike: n(13),\n          isPlainObject: n(7),\n          isPrototype: n(36),\n          isType: r,\n          isUndefined: n(114),\n          isString: n(10),\n          isRegExp: n(115),\n          isDate: n(116),\n          isArguments: n(117),\n          isError: n(118)\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Boolean\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null === t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return void 0 === t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"RegExp\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Date\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Arguments\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Error\");\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(14),\n            a = n(11);\n\n        t.exports = function (t) {\n          for (var e = i(arguments), n = 1; n < e.length; n++) {\n            var o = e[n];\n            r(o) && (o = o.prototype), a(t.prototype, o);\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0;\n          return function () {\n            var i = this,\n                a = arguments,\n                o = function o() {\n              r = null, n || t.apply(i, a);\n            },\n                s = n && !r;\n\n            clearTimeout(r), r = setTimeout(o, e), s && t.apply(i, a);\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(7),\n            i = n(1);\n\n        function a(t, e, n, o) {\n          for (var s in n = n || 0, o = o || 5, e) {\n            if (e.hasOwnProperty(s)) {\n              var u = e[s];\n              null !== u && r(u) ? (r(t[s]) || (t[s] = {}), n < o ? a(t[s], u, n + 1, o) : t[s] = e[s]) : i(u) ? (t[s] = [], t[s] = t[s].concat(u)) : void 0 !== u && (t[s] = u);\n            }\n          }\n        }\n\n        t.exports = function () {\n          for (var t = new Array(arguments.length), e = t.length, n = 0; n < e; n++) {\n            t[n] = arguments[n];\n          }\n\n          for (var r = t[0], i = 1; i < e; i++) {\n            a(r, t[i]);\n          }\n\n          return r;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(11);\n\n        t.exports = function (t, e, n, a) {\n          r(e) || (n = e, e = t, t = function t() {});\n          var o = Object.create ? function (t, e) {\n            return Object.create(t, {\n              constructor: {\n                value: e\n              }\n            });\n          } : function (t, e) {\n            function n() {}\n\n            n.prototype = t;\n            var r = new n();\n            return r.constructor = e, r;\n          },\n              s = o(e.prototype, t);\n          return t.prototype = i(s, t.prototype), t.superclass = o(e.prototype, e), i(s, n), i(t, a), t;\n        };\n      }, function (t, e, n) {\n        var r = n(37);\n\n        t.exports = function (t, e) {\n          if (!e) return [t];\n          var n = r(t, e),\n              i = [];\n\n          for (var a in n) {\n            i.push(n[a]);\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t, e) {\n          if (!r(t)) return -1;\n          var n = Array.prototype.indexOf;\n          if (n) return n.call(t, e);\n\n          for (var i = -1, a = 0; a < t.length; a++) {\n            if (t[a] === e) {\n              i = a;\n              break;\n            }\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(4),\n            a = n(35),\n            o = n(36),\n            s = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t) {\n          if (r(t)) return !0;\n          if (i(t)) return !t.length;\n          var e = a(t);\n          if (\"Map\" === e || \"Set\" === e) return !t.size;\n          if (o(t)) return !Object.keys(t).length;\n\n          for (var n in t) {\n            if (s.call(t, n)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(39);\n\n        t.exports = function (t, e, n) {\n          return r(n) ? !!n(t, e) : i(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            n.push(e(t, r));\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(7),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (null === t || !i(t)) return {};\n          var n = {};\n          return r(e, function (e) {\n            a.call(t, e) && (n[e] = t[e]);\n          }), n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0,\n              i = void 0,\n              a = void 0,\n              o = void 0,\n              s = 0;\n          n || (n = {});\n\n          var u = function u() {\n            s = !1 === n.leading ? 0 : Date.now(), r = null, o = t.apply(i, a), r || (i = a = null);\n          },\n              c = function c() {\n            var c = Date.now();\n            s || !1 !== n.leading || (s = c);\n            var l = e - (c - s);\n            return i = this, a = arguments, l <= 0 || l > e ? (r && (clearTimeout(r), r = null), s = c, o = t.apply(i, a), r || (i = a = null)) : r || !1 === n.trailing || (r = setTimeout(u, l)), o;\n          };\n\n          return c.cancel = function () {\n            clearTimeout(r), s = 0, r = i = a = null;\n          }, c;\n        };\n      }, function (t, e) {\n        var n,\n            r = (n = {}, function (t) {\n          return n[t = t || \"g\"] ? n[t] += 1 : n[t] = 1, t + n[t];\n        });\n        t.exports = r;\n      }]);\n    }, t.exports = r();\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"__extends\", function () {\n      return i;\n    }), n.d(e, \"__assign\", function () {\n      return _a;\n    }), n.d(e, \"__rest\", function () {\n      return o;\n    }), n.d(e, \"__decorate\", function () {\n      return s;\n    }), n.d(e, \"__param\", function () {\n      return u;\n    }), n.d(e, \"__metadata\", function () {\n      return c;\n    }), n.d(e, \"__awaiter\", function () {\n      return l;\n    }), n.d(e, \"__generator\", function () {\n      return h;\n    }), n.d(e, \"__exportStar\", function () {\n      return f;\n    }), n.d(e, \"__values\", function () {\n      return p;\n    }), n.d(e, \"__read\", function () {\n      return d;\n    }), n.d(e, \"__spread\", function () {\n      return v;\n    }), n.d(e, \"__spreadArrays\", function () {\n      return y;\n    }), n.d(e, \"__await\", function () {\n      return g;\n    }), n.d(e, \"__asyncGenerator\", function () {\n      return x;\n    }), n.d(e, \"__asyncDelegator\", function () {\n      return m;\n    }), n.d(e, \"__asyncValues\", function () {\n      return b;\n    }), n.d(e, \"__makeTemplateObject\", function () {\n      return M;\n    }), n.d(e, \"__importStar\", function () {\n      return w;\n    }), n.d(e, \"__importDefault\", function () {\n      return _;\n    });\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation. All rights reserved.\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n    this file except in compliance with the License. You may obtain a copy of the\n    License at http://www.apache.org/licenses/LICENSE-2.0\n    \n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n    MERCHANTABLITY OR NON-INFRINGEMENT.\n    \n    See the Apache Version 2.0 License for specific language governing permissions\n    and limitations under the License.\n    ***************************************************************************** */\n\n    var _r = function r(t, e) {\n      return (_r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) {\n          e.hasOwnProperty(n) && (t[n] = e[n]);\n        }\n      })(t, e);\n    };\n\n    function i(t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    }\n\n    var _a = function a() {\n      return (_a = Object.assign || function (t) {\n        for (var e, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in e = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    };\n\n    function o(t, e) {\n      var n = {};\n\n      for (var r in t) {\n        Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);\n      }\n\n      if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n\n        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) {\n          e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);\n        }\n      }\n\n      return n;\n    }\n\n    function s(t, e, n, r) {\n      var i,\n          a = arguments.length,\n          o = a < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(t, e, n, r);else for (var s = t.length - 1; s >= 0; s--) {\n        (i = t[s]) && (o = (a < 3 ? i(o) : a > 3 ? i(e, n, o) : i(e, n)) || o);\n      }\n      return a > 3 && o && Object.defineProperty(e, n, o), o;\n    }\n\n    function u(t, e) {\n      return function (n, r) {\n        e(n, r, t);\n      };\n    }\n\n    function c(t, e) {\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(t, e);\n    }\n\n    function l(t, e, n, r) {\n      return new (n || (n = Promise))(function (i, a) {\n        function o(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function s(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function u(t) {\n          t.done ? i(t.value) : new n(function (e) {\n            e(t.value);\n          }).then(o, s);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    }\n\n    function h(t, e) {\n      var n,\n          r,\n          i,\n          a,\n          o = {\n        label: 0,\n        sent: function sent() {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return a = {\n        next: s(0),\n        throw: s(1),\n        return: s(2)\n      }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n        return this;\n      }), a;\n\n      function s(a) {\n        return function (s) {\n          return function (a) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; o;) {\n              try {\n                if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;\n\n                switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n                  case 0:\n                  case 1:\n                    i = a;\n                    break;\n\n                  case 4:\n                    return o.label++, {\n                      value: a[1],\n                      done: !1\n                    };\n\n                  case 5:\n                    o.label++, r = a[1], a = [0];\n                    continue;\n\n                  case 7:\n                    a = o.ops.pop(), o.trys.pop();\n                    continue;\n\n                  default:\n                    if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                      o = 0;\n                      continue;\n                    }\n\n                    if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                      o.label = a[1];\n                      break;\n                    }\n\n                    if (6 === a[0] && o.label < i[1]) {\n                      o.label = i[1], i = a;\n                      break;\n                    }\n\n                    if (i && o.label < i[2]) {\n                      o.label = i[2], o.ops.push(a);\n                      break;\n                    }\n\n                    i[2] && o.ops.pop(), o.trys.pop();\n                    continue;\n                }\n\n                a = e.call(t, o);\n              } catch (t) {\n                a = [6, t], r = 0;\n              } finally {\n                n = i = 0;\n              }\n            }\n\n            if (5 & a[0]) throw a[1];\n            return {\n              value: a[0] ? a[1] : void 0,\n              done: !0\n            };\n          }([a, s]);\n        };\n      }\n    }\n\n    function f(t, e) {\n      for (var n in t) {\n        e.hasOwnProperty(n) || (e[n] = t[n]);\n      }\n    }\n\n    function p(t) {\n      var e = \"function\" == typeof Symbol && t[Symbol.iterator],\n          n = 0;\n      return e ? e.call(t) : {\n        next: function next() {\n          return t && n >= t.length && (t = void 0), {\n            value: t && t[n++],\n            done: !t\n          };\n        }\n      };\n    }\n\n    function d(t, e) {\n      var n = \"function\" == typeof Symbol && t[Symbol.iterator];\n      if (!n) return t;\n      var r,\n          i,\n          a = n.call(t),\n          o = [];\n\n      try {\n        for (; (void 0 === e || e-- > 0) && !(r = a.next()).done;) {\n          o.push(r.value);\n        }\n      } catch (t) {\n        i = {\n          error: t\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return o;\n    }\n\n    function v() {\n      for (var t = [], e = 0; e < arguments.length; e++) {\n        t = t.concat(d(arguments[e]));\n      }\n\n      return t;\n    }\n\n    function y() {\n      for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n        t += arguments[e].length;\n      }\n\n      var r = Array(t),\n          i = 0;\n\n      for (e = 0; e < n; e++) {\n        for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n          r[i] = a[o];\n        }\n      }\n\n      return r;\n    }\n\n    function g(t) {\n      return this instanceof g ? (this.v = t, this) : new g(t);\n    }\n\n    function x(t, e, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var r,\n          i = n.apply(t, e || []),\n          a = [];\n      return r = {}, o(\"next\"), o(\"throw\"), o(\"return\"), r[Symbol.asyncIterator] = function () {\n        return this;\n      }, r;\n\n      function o(t) {\n        i[t] && (r[t] = function (e) {\n          return new Promise(function (n, r) {\n            a.push([t, e, n, r]) > 1 || s(t, e);\n          });\n        });\n      }\n\n      function s(t, e) {\n        try {\n          (n = i[t](e)).value instanceof g ? Promise.resolve(n.value.v).then(u, c) : l(a[0][2], n);\n        } catch (t) {\n          l(a[0][3], t);\n        }\n\n        var n;\n      }\n\n      function u(t) {\n        s(\"next\", t);\n      }\n\n      function c(t) {\n        s(\"throw\", t);\n      }\n\n      function l(t, e) {\n        t(e), a.shift(), a.length && s(a[0][0], a[0][1]);\n      }\n    }\n\n    function m(t) {\n      var e, n;\n      return e = {}, r(\"next\"), r(\"throw\", function (t) {\n        throw t;\n      }), r(\"return\"), e[Symbol.iterator] = function () {\n        return this;\n      }, e;\n\n      function r(r, i) {\n        e[r] = t[r] ? function (e) {\n          return (n = !n) ? {\n            value: g(t[r](e)),\n            done: \"return\" === r\n          } : i ? i(e) : e;\n        } : i;\n      }\n    }\n\n    function b(t) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var e,\n          n = t[Symbol.asyncIterator];\n      return n ? n.call(t) : (t = p(t), e = {}, r(\"next\"), r(\"throw\"), r(\"return\"), e[Symbol.asyncIterator] = function () {\n        return this;\n      }, e);\n\n      function r(n) {\n        e[n] = t[n] && function (e) {\n          return new Promise(function (r, i) {\n            (function (t, e, n, r) {\n              Promise.resolve(r).then(function (e) {\n                t({\n                  value: e,\n                  done: n\n                });\n              }, e);\n            })(r, i, (e = t[n](e)).done, e.value);\n          });\n        };\n      }\n    }\n\n    function M(t, e) {\n      return Object.defineProperty ? Object.defineProperty(t, \"raw\", {\n        value: e\n      }) : t.raw = e, t;\n    }\n\n    function w(t) {\n      if (t && t.__esModule) return t;\n      var e = {};\n      if (null != t) for (var n in t) {\n        Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n      return e.default = t, e;\n    }\n\n    function _(t) {\n      return t && t.__esModule ? t : {\n        default: t\n      };\n    }\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function t(t, e, n, r) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.height = r, this.width = n, this.x = this.minX = t, this.y = this.minY = e;\n        var i = this.maxX = t + n,\n            a = this.maxY = e + r;\n        this.tl = {\n          x: t,\n          y: e\n        }, this.tr = {\n          x: i,\n          y: e\n        }, this.bl = {\n          x: t,\n          y: a\n        }, this.br = {\n          x: i,\n          y: a\n        }, this.bottom = 0, this.left = this.x, this.right = 0, this.top = this.y;\n      }\n\n      return t.fromRange = function (e, n, r, i) {\n        return new t(e, n, r - e, i - n);\n      }, t.prototype.equals = function (t) {\n        return this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(4),\n        s = {\n      matrix: \"matrix\",\n      path: \"path\",\n      points: \"points\",\n      lineDash: \"lineDash\"\n    };\n\n    var u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.isShape = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.createPath = function (t) {}, e.prototype.afterPath = function (t) {}, e.prototype.isPointInPath = function (t, e) {\n        return !1;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs;\n        this.createPath(t);\n        var n = t.globalAlpha;\n\n        if (this.hasFill()) {\n          var r = e.fillOpacity;\n          i.isNil(r) || 1 === r ? t.fill() : (t.globalAlpha = r, t.fill(), t.globalAlpha = n);\n        }\n\n        if (this.hasStroke() && this.attrs.lineWidth > 0) {\n          var a = e.strokeOpacity;\n          i.isNil(a) || 1 === a || (t.globalAlpha = a), t.stroke();\n        }\n\n        this.afterPath(t);\n      }, e.prototype.isHitBox = function () {\n        return !0;\n      }, e.prototype.isHit = function (t, e) {\n        var n = [t, e, 1];\n\n        if (this.invert(n), this.isHitBox()) {\n          var r = this.getBBox();\n          if (r && !o.box(r.minX, r.maxX, r.minY, r.maxY, n[0], n[1])) return !1;\n        }\n\n        var i = this.attrs.clip;\n        return i ? (i.invert(n, this.get(\"canvas\")), !!i.isPointInPath(n[0], n[1]) && this.isPointInPath(n[0], n[1])) : this.isPointInPath(n[0], n[1]);\n      }, e.prototype.calculateBox = function () {\n        return null;\n      }, e.prototype.getHitLineWidth = function () {\n        var t = this.attrs,\n            e = t.lineAppendWidth || 0;\n        return (t.lineWidth || 0) + e;\n      }, e.prototype.clearTotalMatrix = function () {\n        this.cfg.totalMatrix = null, this.cfg.region = null;\n      }, e.prototype.clearBBox = function () {\n        this.cfg.box = null, this.cfg.region = null;\n      }, e.prototype.getBBox = function () {\n        var t = this.get(\"box\");\n        return t || (t = this.calculateBox()) && this.set(\"box\", t), t;\n      }, e.prototype.clone = function () {\n        var t = null,\n            n = this.attrs,\n            r = {};\n        return i.each(n, function (t, e) {\n          s[e] && i.isArray(n[e]) ? r[e] = function (t) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              i.isArray(t[n]) ? e.push([].concat(t[n])) : e.push(t[n]);\n            }\n\n            return e;\n          }(n[e]) : r[e] = n[e];\n        }), (t = new e({\n          attrs: r\n        })).cfg.zIndex = this.cfg.zIndex, t;\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(12),\n        i = n(18),\n        a = n(13),\n        o = n(7);\n\n    function s(t, e, n, i, a, o, s) {\n      var c = r.box(t, e, n, i, a);\n      if (!u(c.minX, c.maxX, c.minY, c.maxY, o, s)) return !1;\n      var l = r.pointDistance(t, e, n, i, o, s);\n      return !isNaN(l) && l <= a / 2;\n    }\n\n    function u(t, e, n, r, i, a) {\n      return t <= i && i <= e && n <= a && a <= r;\n    }\n\n    e.line = s, e.polyline = function (t, e, n, r) {\n      var i = t.length - 1;\n      if (i < 1) return !1;\n\n      for (var a = 0; a < i; a++) {\n        if (s(t[a][0], t[a][1], t[a + 1][0], t[a + 1][1], e, n, r)) return !0;\n      }\n\n      return !1;\n    }, e.cubicline = function (t, e, n, r, i, o, s, u, c, l, h) {\n      return a.pointDistance(t, e, n, r, i, o, s, u, l, h) <= c / 2;\n    }, e.quadraticline = function (t, e, n, r, a, o, s, u, c) {\n      return i.pointDistance(t, e, n, r, a, o, u, c) <= s / 2;\n    }, e.arcline = function (t, e, n, r, i, a, s, u, c) {\n      return o.pointDistance(t, e, n, r, i, a, u, c) <= s / 2;\n    }, e.rect = function (t, e, n, r, i, a) {\n      return t <= i && i <= t + n && e <= a && a <= e + r;\n    }, e.circle = function (t, e, n, r, i) {\n      return Math.pow(r - t, 2) + Math.pow(i - e, 2) <= Math.pow(n, 2);\n    }, e.box = u;\n  },, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi;\n    e.parseRadius = function (t) {\n      var e = 0,\n          n = 0,\n          i = 0,\n          a = 0;\n      return r.isArray(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n        r1: e,\n        r2: n,\n        r3: i,\n        r4: a\n      };\n    }, e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(2),\n        a = function a(t, e, n, r) {\n      return {\n        x: Math.cos(r) * n + t,\n        y: Math.sin(r) * n + e\n      };\n    },\n        o = function o(t, e, n, r) {\n      var i, a;\n      return r ? t < e ? (i = e - t, a = 2 * Math.PI - n + t) : t > n && (i = 2 * Math.PI - t + e, a = t - n) : (i = t - e, a = n - t), i > a ? n : e;\n    };\n\n    e.nearAngle = function (t, e, n, i) {\n      var a = 0;\n      return n - e >= 2 * Math.PI && (a = 2 * Math.PI), e = r.mod(e, 2 * Math.PI), n = r.mod(n, 2 * Math.PI) + a, t = r.mod(t, 2 * Math.PI), i ? e >= n ? t > n && t < e ? t : o(t, n, e, !0) : t < e || t > n ? t : o(t, e, n, !1) : e <= n ? e < t && t < n ? t : o(t, e, n, !0) : t > e || t < n ? t : o(t, n, e, !1);\n    }, e.pointDistance = function (t, n, i, a, o, s, u, c, l) {\n      var h = [u, c],\n          f = [t, n],\n          p = r.vec2.subtract([], h, f),\n          d = r.vec2.angleTo([1, 0], p);\n      d = e.nearAngle(d, a, o, s);\n      var v = [i * Math.cos(d) + t, i * Math.sin(d) + n];\n      return l ? {\n        x: v[0],\n        y: v[1]\n      } : r.vec2.distance(v, h);\n    }, e.box = function (t, n, r, o, s, u) {\n      var c = Math.PI / 2,\n          l = Math.PI,\n          h = 3 * Math.PI / 2,\n          f = [],\n          p = e.nearAngle(0, o, s, u);\n      0 === p && f.push(a(t, n, r, 0)), (p = e.nearAngle(c, o, s, u)) === c && f.push(a(t, n, r, c)), (p = e.nearAngle(l, o, s, u)) === l && f.push(a(t, n, r, l)), (p = e.nearAngle(h, o, s, u)) === h && f.push(a(t, n, r, h)), f.push(a(t, n, r, o)), f.push(a(t, n, r, s));\n      var d = f.map(function (t) {\n        return t.x;\n      }),\n          v = f.map(function (t) {\n        return t.y;\n      });\n      return i.default.fromRange(Math.min.apply(Math, d), Math.min.apply(Math, v), Math.max.apply(Math, d), Math.max.apply(Math, v));\n    }, e.projectPoint = function (t, n, r, i, a, o, s, u) {\n      return e.pointDistance(t, n, r, i, a, o, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(4),\n        a = n(13),\n        o = n(18),\n        s = n(39),\n        u = n(2),\n        c = r.vec3,\n        l = r.mat3,\n        h = [\"m\", \"l\", \"c\", \"a\", \"q\", \"h\", \"v\", \"t\", \"s\", \"z\"];\n\n    function f(t, e, n) {\n      return {\n        x: n.x + t,\n        y: n.y + e\n      };\n    }\n\n    function p(t, e) {\n      return {\n        x: e.x + (e.x - t.x),\n        y: e.y + (e.y - t.y)\n      };\n    }\n\n    function d(t) {\n      return Math.sqrt(t[0] * t[0] + t[1] * t[1]);\n    }\n\n    function v(t, e) {\n      return (t[0] * e[0] + t[1] * e[1]) / (d(t) * d(e));\n    }\n\n    function y(t, e) {\n      return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(v(t, e));\n    }\n\n    var g = function () {\n      function t(t, e, n) {\n        this.preSegment = e, this.isLast = n, this.init(t, e);\n      }\n\n      return t.prototype.init = function (t, e) {\n        var n = t[0];\n        e = e || {\n          endPoint: {\n            x: 0,\n            y: 0\n          }\n        };\n        var i,\n            a,\n            o,\n            s,\n            u = h.indexOf(n) >= 0,\n            c = u ? n.toUpperCase() : n,\n            l = t,\n            d = e.endPoint,\n            g = l[1],\n            x = l[2];\n\n        switch (c) {\n          default:\n            break;\n\n          case \"M\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"M\", this.params = [d, s], this.subStart = s, this.endPoint = s;\n            break;\n\n          case \"L\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"H\":\n            s = u ? f(g, 0, d) : {\n              x: g,\n              y: d.y\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"V\":\n            s = u ? f(0, g, d) : {\n              x: d.x,\n              y: g\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"Q\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"T\":\n            a = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, \"Q\" === e.command ? (i = p(e.params[1], d), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"TL\", this.params = [d, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - d.x, a.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"C\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d), o = f(l[5], l[6], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }, o = {\n              x: l[5],\n              y: l[6]\n            }), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"S\":\n            u ? (a = f(g, x, d), o = f(l[3], l[4], d)) : (a = {\n              x: g,\n              y: x\n            }, o = {\n              x: l[3],\n              y: l[4]\n            }), \"C\" === e.command ? (i = p(e.params[2], d), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"SQ\", this.params = [d, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"A\":\n            var m = g,\n                b = x,\n                M = l[3],\n                w = l[4],\n                _ = l[5];\n            s = u ? f(l[6], l[7], d) : {\n              x: l[6],\n              y: l[7]\n            }, this.command = \"A\";\n\n            var A = function (t, e, n, i, a, o, s) {\n              var u = r.mod(r.toRadian(s), 2 * Math.PI),\n                  c = t.x,\n                  l = t.y,\n                  h = e.x,\n                  f = e.y,\n                  p = Math.cos(u) * (c - h) / 2 + Math.sin(u) * (l - f) / 2,\n                  d = -1 * Math.sin(u) * (c - h) / 2 + Math.cos(u) * (l - f) / 2,\n                  g = p * p / (a * a) + d * d / (o * o);\n              g > 1 && (a *= Math.sqrt(g), o *= Math.sqrt(g));\n              var x = a * a * (d * d) + o * o * (p * p),\n                  m = Math.sqrt((a * a * (o * o) - x) / x);\n              n === i && (m *= -1), isNaN(m) && (m = 0);\n\n              var b = m * a * d / o,\n                  M = m * -o * p / a,\n                  w = (c + h) / 2 + Math.cos(u) * b - Math.sin(u) * M,\n                  _ = (l + f) / 2 + Math.sin(u) * b + Math.cos(u) * M,\n                  A = y([1, 0], [(p - b) / a, (d - M) / o]),\n                  P = [(p - b) / a, (d - M) / o],\n                  S = [(-1 * p - b) / a, (-1 * d - M) / o],\n                  k = y(P, S);\n\n              return v(P, S) <= -1 && (k = Math.PI), v(P, S) >= 1 && (k = 0), 0 === i && k > 0 && (k -= 2 * Math.PI), 1 === i && k < 0 && (k += 2 * Math.PI), [t, w, _, a, o, A, k, u, i];\n            }(d, s, w, _, m, b, M);\n\n            this.params = A;\n            var P = e.subStart;\n            this.subStart = P, this.endPoint = s;\n            var S = A[5] % (2 * Math.PI);\n            r.isNumberEqual(S, 2 * Math.PI) && (S = 0);\n            var k = A[6] % (2 * Math.PI);\n            r.isNumberEqual(k, 2 * Math.PI) && (k = 0);\n            var O = .001;\n            this.startTangent = function () {\n              0 === _ && (O *= -1);\n              var t = A[3] * Math.cos(S - O) + A[1],\n                  e = A[4] * Math.sin(S - O) + A[2];\n              return [t - P.x, e - P.y];\n            }, this.endTangent = function () {\n              var t = A[6];\n              t - 2 * Math.PI < 1e-4 && (t = 0);\n              var e = A[3] * Math.cos(S + t + O) + A[1],\n                  n = A[4] * Math.sin(S + t - O) + A[2];\n              return [d.x - e, d.y - n];\n            };\n            break;\n\n          case \"Z\":\n            this.command = \"Z\", this.params = [d, e.subStart], this.subStart = e.subStart, this.endPoint = e.subStart;\n        }\n      }, t.prototype.isInside = function (t, e, n) {\n        var r = this.command,\n            a = this.params,\n            o = this.box;\n        if (o && !i.box(o.minX, o.maxX, o.minY, o.maxY, t, e)) return !1;\n\n        switch (r) {\n          default:\n            break;\n\n          case \"M\":\n            return !1;\n\n          case \"TL\":\n          case \"L\":\n          case \"Z\":\n            return i.line(a[0].x, a[0].y, a[1].x, a[1].y, n, t, e);\n\n          case \"SQ\":\n          case \"Q\":\n            return i.quadraticline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, n, t, e);\n\n          case \"C\":\n            return i.cubicline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, a[3].x, a[3].y, n, t, e);\n\n          case \"A\":\n            var s = a,\n                u = s[1],\n                h = s[2],\n                f = s[3],\n                p = s[4],\n                d = s[5],\n                v = s[6],\n                y = s[7],\n                g = s[8],\n                x = f > p ? f : p,\n                m = f > p ? 1 : f / p,\n                b = f > p ? p / f : 1;\n            s = [t, e, 1];\n            var M = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            return l.translate(M, M, [-u, -h]), l.rotate(M, M, -y), l.scale(M, M, [1 / m, 1 / b]), c.transformMat3(s, s, M), i.arcline(0, 0, x, d, d + v, 1 - g, n, s[0], s[1]);\n        }\n\n        return !1;\n      }, t.prototype.draw = function (t) {\n        var e,\n            n,\n            r,\n            i = this.command,\n            a = this.params;\n\n        switch (i) {\n          default:\n            break;\n\n          case \"M\":\n            t.moveTo(a[1].x, a[1].y);\n            break;\n\n          case \"TL\":\n          case \"L\":\n            t.lineTo(a[1].x, a[1].y);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            e = a[1], n = a[2], t.quadraticCurveTo(e.x, e.y, n.x, n.y);\n            break;\n\n          case \"C\":\n            e = a[1], n = a[2], r = a[3], t.bezierCurveTo(e.x, e.y, n.x, n.y, r.x, r.y);\n            break;\n\n          case \"A\":\n            var o = a,\n                s = o[1],\n                u = o[2],\n                c = o[3],\n                l = o[4],\n                h = o[5],\n                f = o[6],\n                p = o[7],\n                d = o[8],\n                v = c > l ? c : l,\n                y = c > l ? 1 : c / l,\n                g = c > l ? l / c : 1;\n            t.translate(s, u), t.rotate(p), t.scale(y, g), t.arc(0, 0, v, h, h + f, 1 - d), t.scale(1 / y, 1 / g), t.rotate(-p), t.translate(-s, -u);\n            break;\n\n          case \"Z\":\n            t.closePath();\n        }\n      }, t.prototype.getBBox = function (t) {\n        var e,\n            n,\n            r,\n            i,\n            c = t / 2,\n            l = this.params;\n\n        switch (this.command) {\n          default:\n          case \"M\":\n          case \"Z\":\n            break;\n\n          case \"TL\":\n          case \"L\":\n            this.box = u.default.fromRange(Math.min(l[0].x, l[1].x) - c, Math.min(l[0].y, l[1].y) - c, Math.max(l[0].x, l[1].x) + c, Math.max(l[0].y, l[1].y) + c);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            for (r = 0, i = (n = o.extrema(l[0].x, l[1].x, l[2].x)).length; r < i; r++) {\n              n[r] = o.at(l[0].x, l[1].x, l[2].x, n[r]);\n            }\n\n            for (n.push(l[0].x, l[2].x), r = 0, i = (e = o.extrema(l[0].y, l[1].y, l[2].y)).length; r < i; r++) {\n              e[r] = o.at(l[0].y, l[1].y, l[2].y, e);\n            }\n\n            e.push(l[0].y, l[2].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"C\":\n            for (r = 0, i = (n = a.extrema(l[0].x, l[1].x, l[2].x, l[3].x)).length; r < i; r++) {\n              n[r] = a.at(l[0].x, l[1].x, l[2].x, l[3].x, n[r]);\n            }\n\n            for (r = 0, i = (e = a.extrema(l[0].y, l[1].y, l[2].y, l[3].y)).length; r < i; r++) {\n              e[r] = a.at(l[0].y, l[1].y, l[2].y, l[3].y, e[r]);\n            }\n\n            n.push(l[0].x, l[3].x), e.push(l[0].y, l[3].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"A\":\n            var h = l,\n                f = h[1],\n                p = h[2],\n                d = h[3],\n                v = h[4],\n                y = h[5],\n                g = h[6],\n                x = h[7],\n                m = h[8],\n                b = y,\n                M = y + g,\n                w = s.xExtrema(x, d, v),\n                _ = 1 / 0,\n                A = -1 / 0,\n                P = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var S = w + r;\n              1 === m ? b < S && S < M && P.push(S) : M < S && S < b && P.push(S);\n            }\n\n            for (r = 0, i = P.length; r < i; r++) {\n              var k = s.xAt(x, d, v, f, P[r]);\n              k < _ && (_ = k), k > A && (A = k);\n            }\n\n            var O = s.yExtrema(x, d, v),\n                I = 1 / 0,\n                T = -1 / 0,\n                C = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var E = O + r;\n              1 === m ? b < E && E < M && C.push(E) : M < E && E < b && C.push(E);\n            }\n\n            for (r = 0, i = C.length; r < i; r++) {\n              var N = s.yAt(x, d, v, p, C[r]);\n              N < I && (I = N), N > T && (T = N);\n            }\n\n            this.box = u.default.fromRange(_ - c, I - c, A + c, T + c);\n        }\n      }, t;\n    }();\n\n    e.default = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(6),\n        i = n(8),\n        a = Math.PI,\n        o = Math.sin,\n        s = Math.cos,\n        u = Math.atan2,\n        c = a / 3;\n\n    function l(t, e, n, r, i, l, h) {\n      var f, p, d, v, y, g, x;\n\n      if (!e.fill) {\n        var m = e.arrowLength || 10,\n            b = e.arrowAngle ? e.arrowAngle * a / 180 : c;\n        x = u(r - l, n - i), y = Math.abs(e.lineWidth * s(x)) / 2, g = Math.abs(e.lineWidth * o(x)) / 2, h && (y = -y, g = -g), f = i + m * s(x + b / 2), p = l + m * o(x + b / 2), d = i + m * s(x - b / 2), v = l + m * o(x - b / 2), t.beginPath(), t.moveTo(f - y, p - g), t.lineTo(i - y, l - g), t.lineTo(d - y, v - g), t.moveTo(i - y, l - g), t.lineTo(i + y, l + g), t.moveTo(i, l), t.stroke();\n      }\n    }\n\n    function h(t, e, n, a, o, s, u) {\n      var c = u ? e.startArrow : e.endArrow,\n          l = c.d,\n          h = 0,\n          f = o - n,\n          p = s - a,\n          d = Math.atan(f / p);\n      0 === p && f < 0 ? h = Math.PI : f > 0 && p > 0 ? h = Math.PI / 2 - d : f < 0 && p < 0 ? h = -Math.PI / 2 - d : f >= 0 && p < 0 ? h = -d - Math.PI / 2 : f <= 0 && p > 0 && (h = Math.PI / 2 - d);\n\n      var v = function (t) {\n        var e,\n            n = [],\n            a = r.parsePath(t.path);\n\n        if (Array.isArray(a) && 0 !== a.length && (\"M\" === a[0][0] || \"m\" === a[0][0])) {\n          for (var o = a.length, s = 0; s < a.length; s++) {\n            var u = a[s];\n            e = new i.default(u, e, s === o - 1), n.push(e);\n          }\n\n          return n;\n        }\n      }(c);\n\n      if (v) {\n        l && (u ? (o += Math.sin(Math.abs(d)) * l, s = s + Math.cos(Math.abs(d)) * l - .5 * t.lineWidth) : (o -= Math.sin(Math.abs(d)) * l, s = s - Math.cos(Math.abs(d)) * l + .5 * t.lineWidth)), t.save(), t.beginPath(), t.translate(o, s), t.rotate(h);\n\n        for (var y = 0; y < v.length; y++) {\n          v[y].draw(t);\n        }\n\n        t.setTransform(1, 0, 0, 1, 0, 0), t.fillStyle = t.strokeStyle, t.fill(), t.restore();\n      }\n    }\n\n    e.addStartArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.startArrow ? h(t, e, n, r, i, a, !0) : e.startArrow && l(t, e, n, r, i, a, !0);\n    }, e.addEndArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.endArrow ? h(t, e, n, r, i, a, !1) : e.endArrow && l(t, e, n, r, i, a, !1);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(36),\n        o = {\n      delay: \"delay\",\n      rotate: \"rotate\"\n    },\n        s = {\n      fill: \"fill\",\n      stroke: \"stroke\",\n      fillStyle: \"fillStyle\",\n      strokeStyle: \"strokeStyle\"\n    };\n\n    function u(t, e) {\n      var n = {},\n          r = e.attrs;\n\n      for (var i in t.attrs) {\n        n[i] = r[i];\n      }\n\n      return n;\n    }\n\n    var c = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.initTransform(), n.initAnimate(), n;\n      }\n\n      return r.__extends(e, t), e.prototype.initAnimate = function () {\n        this.setSilent(\"animable\", !0), this.setSilent(\"animating\", !1);\n      }, e.prototype.animate = function (t, e, n, r, a) {\n        void 0 === r && (r = i.noop), void 0 === a && (a = 0);\n        this.set(\"animating\", !0);\n        var c = this.get(\"timeline\");\n        c || (c = this.get(\"canvas\").get(\"timeline\"), this.setSilent(\"timeline\", c));\n        var l = this.get(\"animators\") || [];\n        c.timer || c.initTimer(), i.isNumber(r) && (a = r, r = null), i.isFunction(n) ? (r = n, n = \"easeLinear\") : n = n || \"easeLinear\";\n\n        var h = function (t, e) {\n          var n = {\n            matrix: null,\n            attrs: {}\n          },\n              r = e.attrs;\n\n          for (var a in t) {\n            if (\"transform\" === a) n.matrix = i.transform(e.getMatrix(), t[a]);else if (\"rotate\" === a) n.matrix = i.transform(e.getMatrix(), [[\"r\", t[a]]]);else if (\"matrix\" === a) n.matrix = t[a];else {\n              if (s[a] && /^[r,R,L,l]{1}[\\s]*\\(/.test(t[a])) continue;\n              o[a] || r[a] === t[a] || (n.attrs[a] = t[a]);\n            }\n          }\n\n          return n;\n        }(t, this),\n            f = {\n          fromAttrs: u(h, this),\n          toAttrs: h.attrs,\n          fromMatrix: i.clone(this.getMatrix()),\n          toMatrix: h.matrix,\n          duration: e,\n          easing: n,\n          callback: r,\n          delay: a,\n          startTime: c.getTime(),\n          id: i.uniqueId(),\n          onFrame: null\n        };\n\n        t.onFrame && (f.onFrame = t.onFrame), l.length > 0 ? l = function (t, e) {\n          if (e.onFrame) return t;\n          var n = e.delay,\n              r = Object.prototype.hasOwnProperty;\n          return i.each(e.toAttrs, function (e, a) {\n            i.each(t, function (t) {\n              n < t.startTime + t.duration && r.call(t.toAttrs, a) && (delete t.toAttrs[a], delete t.fromAttrs[a]);\n            });\n          }), e.toMatrix && i.each(t, function (t) {\n            n < t.startTime + t.duration && t.toMatrix && delete t.toMatrix;\n          }), t;\n        }(l, f) : c.addAnimator(this), l.push(f), this.setSilent(\"animators\", l), this.setSilent(\"pause\", {\n          isPaused: !1\n        });\n      }, e.prototype.stopAnimate = function () {\n        var t = this,\n            e = this.get(\"animators\");\n        i.each(e, function (e) {\n          e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.attr(\"matrix\", e.toMatrix), e.callback && e.callback();\n        }), this.setSilent(\"animating\", !1), this.setSilent(\"animators\", []);\n      }, e.prototype.pauseAnimate = function () {\n        var t = this.get(\"timeline\");\n        return this.setSilent(\"pause\", {\n          isPaused: !0,\n          pauseTime: t.getTime()\n        }), this;\n      }, e.prototype.resumeAnimate = function () {\n        var t = this.get(\"timeline\").getTime(),\n            e = this.get(\"animators\"),\n            n = this.get(\"pause\").pauseTime;\n        return i.each(e, function (e) {\n          e.startTime = e.startTime + (t - n), e._paused = !1, e._pauseTime = null;\n        }), this.setSilent(\"pause\", {\n          isPaused: !1\n        }), this.setSilent(\"animators\", e), this;\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e, n, r) {\n        this.x = 0, this.y = 0, this.clientX = 0, this.clientY = 0, this.cfg = {}, this.bubbles = !1, this.cancelable = !1, this.timeStamp = new Date().getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.type = t, this.event = e, this.bubbles = !!n, this.cancelable = !!r;\n      }\n\n      return t.prototype.preventDefault = function () {\n        this.defaultPrevented = this.cancelable && !0;\n      }, t.prototype.stopPropagation = function () {\n        this.propagationStopped = !0;\n      }, t.prototype.remove = function () {\n        this.cfg.removed = !0;\n      }, t.prototype.clone = function () {\n        return r.clone(this);\n      }, t.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(2);\n    e.at = function (t, e, n) {\n      return (e - t) * n + t;\n    }, e.pointDistance = function (t, e, n, i, a, o) {\n      var s = [n - t, i - e];\n      if (r.vec2.exactEquals(s, [0, 0])) return NaN;\n      var u = [-s[1], s[0]];\n      r.vec2.normalize(u, u);\n      var c = [a - t, o - e];\n      return Math.abs(r.vec2.dot(c, u));\n    }, e.box = function (t, e, n, r, a) {\n      var o = a / 2;\n      return i.default.fromRange(Math.min(t, n) - o, Math.min(e, r) - o, Math.max(t, n) + o, Math.max(e, r) + o);\n    }, e.len = function (t, e, n, r) {\n      return Math.sqrt((n - t) * (n - t) + (r - e) * (r - e));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r, i) {\n      var a = 1 - i;\n      return a * a * (a * r + 3 * i * n) + i * i * (i * t + 3 * a * e);\n    }\n\n    function o(t, e, n, r, o, s, u, c, l, h, f) {\n      var p,\n          d,\n          v,\n          y,\n          g,\n          x,\n          m,\n          b,\n          M = .005,\n          w = 1 / 0,\n          _ = [l, h];\n\n      for (d = 0; d < 1; d += .05) {\n        v = [a(t, n, o, u, d), a(e, r, s, c, d)], (y = i.squaredDistance(_, v)) < w && (p = d, w = y);\n      }\n\n      w = 1 / 0;\n\n      for (var A = 0; A < 32 && !(M < 1e-4); A++) {\n        b = p + M, v = [a(t, n, o, u, m = p - M), a(e, r, s, c, m)], y = i.squaredDistance(_, v), m >= 0 && y < w ? (p = m, w = y) : (x = [a(t, n, o, u, b), a(e, r, s, c, b)], g = i.squaredDistance(_, x), b <= 1 && g < w ? (p = b, w = g) : M *= .5);\n      }\n\n      return f ? {\n        x: a(t, n, o, u, p),\n        y: a(e, r, s, c, p)\n      } : Math.sqrt(w);\n    }\n\n    function s(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    }\n\n    e.at = a, e.derivativeAt = function (t, e, n, r, i) {\n      var a = 1 - i;\n      return 3 * (((e - t) * a + 2 * (n - e) * i) * a + (r - n) * i * i);\n    }, e.pointDistance = o, e.extrema = function (t, e, n, i) {\n      var a,\n          o,\n          s,\n          u = 3 * t - 9 * e + 9 * n - 3 * i,\n          c = 6 * e - 12 * n + 6 * i,\n          l = 3 * n - 3 * i,\n          h = [];\n      if (r.isNumberEqual(u, 0)) r.isNumberEqual(c, 0) || (a = -l / c) >= 0 && a <= 1 && h.push(a);else {\n        var f = c * c - 4 * u * l;\n        r.isNumberEqual(f, 0) ? h.push(-c / (2 * u)) : f > 0 && (o = (-c - (s = Math.sqrt(f))) / (2 * u), (a = (-c + s) / (2 * u)) >= 0 && a <= 1 && h.push(a), o >= 0 && o <= 1 && h.push(o));\n      }\n      return h;\n    }, e.len = function (t, e, n, i, a, o, u, c, l) {\n      r.isNil(l) && (l = 1);\n\n      for (var h = (l = l > 1 ? 1 : l < 0 ? 0 : l) / 2, f = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], p = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], d = 0, v = 0; v < 12; v++) {\n        var y = h * f[v] + h,\n            g = s(y, t, n, a, u),\n            x = s(y, e, i, o, c),\n            m = g * g + x * x;\n        d += p[v] * Math.sqrt(m);\n      }\n\n      return h * d;\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u, c, l) {\n      return o(t, e, n, r, i, a, s, u, c, l, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n        a = new RegExp(\"([a-z])[\" + i + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + i + \"]*,?[\" + i + \"]*)+)\", \"ig\"),\n        o = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + i + \"]*,?[\" + i + \"]*\", \"ig\"),\n        s = function s(t) {\n      if (!t) return null;\n      if (typeof t == typeof []) return t;\n      var e = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0\n      },\n          n = [];\n      return String(t).replace(a, function (r, i, a) {\n        var s = [],\n            u = i.toLowerCase();\n        if (a.replace(o, function (t, e) {\n          e && s.push(+e);\n        }), \"m\" === u && s.length > 2 && (n.push([i].concat(s.splice(0, 2))), u = \"l\", i = \"m\" === i ? \"l\" : \"L\"), \"o\" === u && 1 === s.length && n.push([i, s[0]]), \"r\" === u) n.push([i].concat(s));else for (; s.length >= e[u] && (n.push([i].concat(s.splice(0, e[u]))), e[u]);) {\n          ;\n        }\n        return t;\n      }), n;\n    };\n\n    e.parsePathString = s;\n\n    var u = function u(t, e) {\n      for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n        var a = [{\n          x: +t[r - 2],\n          y: +t[r - 1]\n        }, {\n          x: +t[r],\n          y: +t[r + 1]\n        }, {\n          x: +t[r + 2],\n          y: +t[r + 3]\n        }, {\n          x: +t[r + 4],\n          y: +t[r + 5]\n        }];\n        e ? r ? i - 4 === r ? a[3] = {\n          x: +t[0],\n          y: +t[1]\n        } : i - 2 === r && (a[2] = {\n          x: +t[0],\n          y: +t[1]\n        }, a[3] = {\n          x: +t[2],\n          y: +t[3]\n        }) : a[0] = {\n          x: +t[i - 2],\n          y: +t[i - 1]\n        } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n          x: +t[r],\n          y: +t[r + 1]\n        }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n      }\n\n      return n;\n    };\n\n    e.catmullRomToBezier = u;\n\n    var c = function c(t, e, n, r, i) {\n      var a = [];\n\n      if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n        var o = Math.PI / 180,\n            s = t + n * Math.cos(-r * o),\n            u = t + n * Math.cos(-i * o);\n        a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n      } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n      return a;\n    },\n        l = function l(t) {\n      if (!(t = s(t)) || !t.length) return [[\"M\", 0, 0]];\n      var e,\n          n,\n          r = [],\n          i = 0,\n          a = 0,\n          o = 0,\n          l = 0,\n          h = 0;\n      \"M\" === t[0][0] && (o = i = +t[0][1], l = a = +t[0][2], h++, r[0] = [\"M\", i, a]);\n\n      for (var f = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), p = void 0, d = void 0, v = h, y = t.length; v < y; v++) {\n        if (r.push(p = []), (e = (d = t[v])[0]) !== e.toUpperCase()) switch (p[0] = e.toUpperCase(), p[0]) {\n          case \"A\":\n            p[1] = d[1], p[2] = d[2], p[3] = d[3], p[4] = d[4], p[5] = d[5], p[6] = +d[6] + i, p[7] = +d[7] + a;\n            break;\n\n          case \"V\":\n            p[1] = +d[1] + a;\n            break;\n\n          case \"H\":\n            p[1] = +d[1] + i;\n            break;\n\n          case \"R\":\n            for (var g = 2, x = (n = [i, a].concat(d.slice(1))).length; g < x; g++) {\n              n[g] = +n[g] + i, n[++g] = +n[g] + a;\n            }\n\n            r.pop(), r = r.concat(u(n, f));\n            break;\n\n          case \"O\":\n            r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);\n            break;\n\n          case \"U\":\n            r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));\n            break;\n\n          case \"M\":\n            o = +d[1] + i, l = +d[2] + a;\n            break;\n\n          default:\n            for (g = 1, x = d.length; g < x; g++) {\n              p[g] = +d[g] + (g % 2 ? i : a);\n            }\n\n        } else if (\"R\" === e) n = [i, a].concat(d.slice(1)), r.pop(), r = r.concat(u(n, f)), p = [\"R\"].concat(d.slice(-2));else if (\"O\" === e) r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);else if (\"U\" === e) r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));else for (var m = 0, b = d.length; m < b; m++) {\n          p[m] = d[m];\n        }\n        if (\"O\" !== (e = e.toUpperCase())) switch (p[0]) {\n          case \"Z\":\n            i = +o, a = +l;\n            break;\n\n          case \"H\":\n            i = p[1];\n            break;\n\n          case \"V\":\n            a = p[1];\n            break;\n\n          case \"M\":\n            o = p[p.length - 2], l = p[p.length - 1];\n            break;\n\n          default:\n            i = p[p.length - 2], a = p[p.length - 1];\n        }\n      }\n\n      return r;\n    };\n\n    e.pathToAbsolute = l;\n\n    var h = function h(t, e, n, r) {\n      return [t, e, n, r, n, r];\n    },\n        f = function f(t, e, n, r, i, a) {\n      return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n    },\n        p = function p(t, e, n, r, i, a, o, s, u, c) {\n      n === r && (n += 1);\n\n      var l,\n          h,\n          f,\n          d,\n          v,\n          y = 120 * Math.PI / 180,\n          g = Math.PI / 180 * (+i || 0),\n          x = [],\n          m = function m(t, e, n) {\n        return {\n          x: t * Math.cos(n) - e * Math.sin(n),\n          y: t * Math.sin(n) + e * Math.cos(n)\n        };\n      };\n\n      if (c) h = c[0], f = c[1], d = c[2], v = c[3];else {\n        t = (l = m(t, e, -g)).x, e = l.y, s = (l = m(s, u, -g)).x, u = l.y, t === s && e === u && (s += 1, u += 1);\n        var b = (t - s) / 2,\n            M = (e - u) / 2,\n            w = b * b / (n * n) + M * M / (r * r);\n        w > 1 && (n *= w = Math.sqrt(w), r *= w);\n\n        var _ = n * n,\n            A = r * r,\n            P = (a === o ? -1 : 1) * Math.sqrt(Math.abs((_ * A - _ * M * M - A * b * b) / (_ * M * M + A * b * b)));\n\n        d = P * n * M / r + (t + s) / 2, v = P * -r * b / n + (e + u) / 2, h = Math.asin(((e - v) / r).toFixed(9)), f = Math.asin(((u - v) / r).toFixed(9)), h = t < d ? Math.PI - h : h, f = s < d ? Math.PI - f : f, h < 0 && (h = 2 * Math.PI + h), f < 0 && (f = 2 * Math.PI + f), o && h > f && (h -= 2 * Math.PI), !o && f > h && (f -= 2 * Math.PI);\n      }\n      var S = f - h;\n\n      if (Math.abs(S) > y) {\n        var k = f,\n            O = s,\n            I = u;\n        f = h + y * (o && f > h ? 1 : -1), s = d + n * Math.cos(f), u = v + r * Math.sin(f), x = p(s, u, n, r, i, 0, o, O, I, [f, k, d, v]);\n      }\n\n      S = f - h;\n      var T = Math.cos(h),\n          C = Math.sin(h),\n          E = Math.cos(f),\n          N = Math.sin(f),\n          j = Math.tan(S / 4),\n          L = 4 / 3 * n * j,\n          q = 4 / 3 * r * j,\n          B = [t, e],\n          R = [t + L * C, e - q * T],\n          F = [s + L * N, u - q * E],\n          D = [s, u];\n      if (R[0] = 2 * B[0] - R[0], R[1] = 2 * B[1] - R[1], c) return [R, F, D].concat(x);\n\n      for (var W = [], Y = 0, H = (x = [R, F, D].concat(x).join().split(\",\")).length; Y < H; Y++) {\n        W[Y] = Y % 2 ? m(x[Y - 1], x[Y], g).y : m(x[Y], x[Y + 1], g).x;\n      }\n\n      return W;\n    },\n        d = function d(t, e) {\n      var n,\n          r = l(t),\n          i = e && l(e),\n          a = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          o = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          s = [],\n          u = [],\n          c = \"\",\n          d = \"\",\n          v = function v(t, e, n) {\n        var r, i;\n        if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n        switch (!(t[0] in {\n          T: 1,\n          Q: 1\n        }) && (e.qx = e.qy = null), t[0]) {\n          case \"M\":\n            e.X = t[1], e.Y = t[2];\n            break;\n\n          case \"A\":\n            t = [\"C\"].concat(p.apply(0, [e.x, e.y].concat(t.slice(1))));\n            break;\n\n          case \"S\":\n            \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, i = 2 * e.y - e.by) : (r = e.x, i = e.y), t = [\"C\", r, i].concat(t.slice(1));\n            break;\n\n          case \"T\":\n            \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(f(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n            break;\n\n          case \"Q\":\n            e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(f(e.x, e.y, t[1], t[2], t[3], t[4]));\n            break;\n\n          case \"L\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], t[2]));\n            break;\n\n          case \"H\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], e.y));\n            break;\n\n          case \"V\":\n            t = [\"C\"].concat(h(e.x, e.y, e.x, t[1]));\n            break;\n\n          case \"Z\":\n            t = [\"C\"].concat(h(e.x, e.y, e.X, e.Y));\n        }\n\n        return t;\n      },\n          y = function y(t, e) {\n        if (t[e].length > 7) {\n          t[e].shift();\n\n          for (var a = t[e]; a.length;) {\n            s[e] = \"A\", i && (u[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(a.splice(0, 6)));\n          }\n\n          t.splice(e, 1), n = Math.max(r.length, i && i.length || 0);\n        }\n      },\n          g = function g(t, e, a, o, s) {\n        t && e && \"M\" === t[s][0] && \"M\" !== e[s][0] && (e.splice(s, 0, [\"M\", o.x, o.y]), a.bx = 0, a.by = 0, a.x = t[s][1], a.y = t[s][2], n = Math.max(r.length, i && i.length || 0));\n      };\n\n      n = Math.max(r.length, i && i.length || 0);\n\n      for (var x = 0; x < n; x++) {\n        r[x] && (c = r[x][0]), \"C\" !== c && (s[x] = c, x && (d = s[x - 1])), r[x] = v(r[x], a, d), \"A\" !== s[x] && \"C\" === c && (s[x] = \"C\"), y(r, x), i && (i[x] && (c = i[x][0]), \"C\" !== c && (u[x] = c, x && (d = u[x - 1])), i[x] = v(i[x], o, d), \"A\" !== u[x] && \"C\" === c && (u[x] = \"C\"), y(i, x)), g(r, i, a, o, x), g(i, r, o, a, x);\n        var m = r[x],\n            b = i && i[x],\n            M = m.length,\n            w = i && b.length;\n        a.x = m[M - 2], a.y = m[M - 1], a.bx = parseFloat(m[M - 4]) || a.x, a.by = parseFloat(m[M - 3]) || a.y, o.bx = i && (parseFloat(b[w - 4]) || o.x), o.by = i && (parseFloat(b[w - 3]) || o.y), o.x = i && b[w - 2], o.y = i && b[w - 1];\n      }\n\n      return i ? [r, i] : r;\n    };\n\n    e.pathTocurve = d;\n\n    var v = /,?([a-z]),?/gi,\n        y = function y(t) {\n      return t.join(\",\").replace(v, \"$1\");\n    };\n\n    e.parsePathArray = y;\n\n    var g = function g(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    },\n        x = function x(t, e, n, r, i, a, o, s, u) {\n      null === u && (u = 1);\n\n      for (var c = (u = u > 1 ? 1 : u < 0 ? 0 : u) / 2, l = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], h = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], f = 0, p = 0; p < 12; p++) {\n        var d = c * l[p] + c,\n            v = g(d, t, n, i, o),\n            y = g(d, e, r, a, s),\n            x = v * v + y * y;\n        f += h[p] * Math.sqrt(x);\n      }\n\n      return c * f;\n    },\n        m = function m(t, e, n, r, i, a, o, s) {\n      for (var u, c, l, h, f = [], p = [[], []], d = 0; d < 2; ++d) {\n        if (0 === d ? (c = 6 * t - 12 * n + 6 * i, u = -3 * t + 9 * n - 9 * i + 3 * o, l = 3 * n - 3 * t) : (c = 6 * e - 12 * r + 6 * a, u = -3 * e + 9 * r - 9 * a + 3 * s, l = 3 * r - 3 * e), Math.abs(u) < 1e-12) {\n          if (Math.abs(c) < 1e-12) continue;\n          (h = -l / c) > 0 && h < 1 && f.push(h);\n        } else {\n          var v = c * c - 4 * l * u,\n              y = Math.sqrt(v);\n\n          if (!(v < 0)) {\n            var g = (-c + y) / (2 * u);\n            g > 0 && g < 1 && f.push(g);\n            var x = (-c - y) / (2 * u);\n            x > 0 && x < 1 && f.push(x);\n          }\n        }\n      }\n\n      for (var m, b = f.length, M = b; b--;) {\n        m = 1 - (h = f[b]), p[0][b] = m * m * m * t + 3 * m * m * h * n + 3 * m * h * h * i + h * h * h * o, p[1][b] = m * m * m * e + 3 * m * m * h * r + 3 * m * h * h * a + h * h * h * s;\n      }\n\n      return p[0][M] = t, p[1][M] = e, p[0][M + 1] = o, p[1][M + 1] = s, p[0].length = p[1].length = M + 2, {\n        min: {\n          x: Math.min.apply(0, p[0]),\n          y: Math.min.apply(0, p[1])\n        },\n        max: {\n          x: Math.max.apply(0, p[0]),\n          y: Math.max.apply(0, p[1])\n        }\n      };\n    },\n        b = function b(t, e, n, r, i, a, o, s) {\n      if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n        var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n        if (u) {\n          var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n              l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n              h = +c.toFixed(2),\n              f = +l.toFixed(2);\n          if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n            x: c,\n            y: l\n          };\n        }\n      }\n    },\n        M = function M(t, e, n) {\n      return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n    },\n        w = function w(t, e, n, r, i) {\n      if (i) return [[\"M\", +t + +i, e], [\"l\", n - 2 * i, 0], [\"a\", i, i, 0, 0, 1, i, i], [\"l\", 0, r - 2 * i], [\"a\", i, i, 0, 0, 1, -i, i], [\"l\", 2 * i - n, 0], [\"a\", i, i, 0, 0, 1, -i, -i], [\"l\", 0, 2 * i - r], [\"a\", i, i, 0, 0, 1, i, -i], [\"z\"]];\n      var a = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, r], [\"l\", -n, 0], [\"z\"]];\n      return a.parsePathArray = y, a;\n    };\n\n    e.rectPath = w;\n\n    var _ = function _(t, e, n, r) {\n      return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n        x: t,\n        y: e,\n        width: n,\n        w: n,\n        height: r,\n        h: r,\n        x2: t + n,\n        y2: e + r,\n        cx: t + n / 2,\n        cy: e + r / 2,\n        r1: Math.min(n, r) / 2,\n        r2: Math.max(n, r) / 2,\n        r0: Math.sqrt(n * n + r * r) / 2,\n        path: w(t, e, n, r),\n        vb: [t, e, n, r].join(\" \")\n      };\n    },\n        A = function A(t, e, n, i, a, o, s, u) {\n      r.isArray(t) || (t = [t, e, n, i, a, o, s, u]);\n      var c = m.apply(null, t);\n      return _(c.min.x, c.min.y, c.max.x - c.min.x, c.max.y - c.min.y);\n    },\n        P = function P(t, e, n, r, i, a, o, s, u) {\n      var c = 1 - u,\n          l = Math.pow(c, 3),\n          h = Math.pow(c, 2),\n          f = u * u,\n          p = f * u,\n          d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n          v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n          y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n          g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n      return {\n        x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n        y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n        m: {\n          x: d,\n          y: v\n        },\n        n: {\n          x: y,\n          y: g\n        },\n        start: {\n          x: c * t + u * n,\n          y: c * e + u * r\n        },\n        end: {\n          x: c * i + u * o,\n          y: c * a + u * s\n        },\n        alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n      };\n    },\n        S = function S(t, e, n) {\n      if (!function (t, e) {\n        return t = _(t), e = _(e), M(e, t.x, t.y) || M(e, t.x2, t.y) || M(e, t.x, t.y2) || M(e, t.x2, t.y2) || M(t, e.x, e.y) || M(t, e.x2, e.y) || M(t, e.x, e.y2) || M(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n      }(A(t), A(e))) return n ? 0 : [];\n\n      for (var r = ~~(x.apply(0, t) / 8), i = ~~(x.apply(0, e) / 8), a = [], o = [], s = {}, u = n ? 0 : [], c = 0; c < r + 1; c++) {\n        var l = P.apply(0, t.concat(c / r));\n        a.push({\n          x: l.x,\n          y: l.y,\n          t: c / r\n        });\n      }\n\n      for (c = 0; c < i + 1; c++) {\n        l = P.apply(0, e.concat(c / i));\n        o.push({\n          x: l.x,\n          y: l.y,\n          t: c / i\n        });\n      }\n\n      for (c = 0; c < r; c++) {\n        for (var h = 0; h < i; h++) {\n          var f = a[c],\n              p = a[c + 1],\n              d = o[h],\n              v = o[h + 1],\n              y = Math.abs(p.x - f.x) < .001 ? \"y\" : \"x\",\n              g = Math.abs(v.x - d.x) < .001 ? \"y\" : \"x\",\n              m = b(f.x, f.y, p.x, p.y, d.x, d.y, v.x, v.y);\n\n          if (m) {\n            if (s[m.x.toFixed(4)] === m.y.toFixed(4)) continue;\n            s[m.x.toFixed(4)] = m.y.toFixed(4);\n            var w = f.t + Math.abs((m[y] - f[y]) / (p[y] - f[y])) * (p.t - f.t),\n                S = d.t + Math.abs((m[g] - d[g]) / (v[g] - d[g])) * (v.t - d.t);\n            w >= 0 && w <= 1 && S >= 0 && S <= 1 && (n ? u += 1 : u.push({\n              x: m.x,\n              y: m.y,\n              t1: w,\n              t2: S\n            }));\n          }\n        }\n      }\n\n      return u;\n    };\n\n    function k(t, e) {\n      var n = [],\n          r = [];\n      return t.length && function t(e, i) {\n        if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n          for (var a = [], o = 0; o < e.length - 1; o++) {\n            0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n          }\n\n          t(a, i);\n        }\n      }(t, e), {\n        left: n,\n        right: r.reverse()\n      };\n    }\n\n    e.intersection = function (t, e) {\n      return function (t, e, n) {\n        var r, i, a, o, s, u, c, l, h, f;\n        t = d(t), e = d(e);\n\n        for (var p = n ? 0 : [], v = 0, y = t.length; v < y; v++) {\n          var g = t[v];\n          if (\"M\" === g[0]) r = s = g[1], i = u = g[2];else {\n            \"C\" === g[0] ? (h = [r, i].concat(g.slice(1)), r = h[6], i = h[7]) : (h = [r, i, r, i, s, u, s, u], r = s, i = u);\n\n            for (var x = 0, m = e.length; x < m; x++) {\n              var b = e[x];\n              if (\"M\" === b[0]) a = c = b[1], o = l = b[2];else {\n                \"C\" === b[0] ? (f = [a, o].concat(b.slice(1)), a = f[6], o = f[7]) : (f = [a, o, a, o, c, l, c, l], a = c, o = l);\n                var M = S(h, f, n);\n                if (n) p += M;else {\n                  for (var w = 0, _ = M.length; w < _; w++) {\n                    M[w].segment1 = v, M[w].segment2 = x, M[w].bez1 = h, M[w].bez2 = f;\n                  }\n\n                  p = p.concat(M);\n                }\n              }\n            }\n          }\n        }\n\n        return p;\n      }(t, e);\n    };\n\n    var O = function O(t, e, n) {\n      if (1 === n) return [[].concat(t)];\n      var r = [];\n      if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) r = r.concat(function (t, e, n) {\n        var r = [[t[1], t[2]]];\n        n = n || 2;\n        var i = [];\n        \"A\" === e[0] ? (r.push(e[6]), r.push(e[7])) : \"C\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]]), r.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]])) : r.push([e[1], e[2]]);\n\n        for (var a = r, o = 1 / n, s = 0; s < n - 1; s++) {\n          var u = k(a, o / (1 - o * s));\n          i.push(u.left), a = u.right;\n        }\n\n        return i.push(a), i.map(function (t) {\n          var e = [];\n          return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n        });\n      }(t, e, n));else {\n        var i = [].concat(t);\n        \"M\" === i[0] && (i[0] = \"L\");\n\n        for (var a = 0; a <= n - 1; a++) {\n          r.push(i);\n        }\n      }\n      return r;\n    };\n\n    e.fillPath = function (t, e) {\n      if (1 === t.length) return t;\n      var n = t.length - 1,\n          r = e.length - 1,\n          i = n / r,\n          a = [];\n\n      if (1 === t.length && \"M\" === t[0][0]) {\n        for (var o = 0; o < r - n; o++) {\n          t.push(t[0]);\n        }\n\n        return t;\n      }\n\n      for (o = 0; o < r; o++) {\n        var s = Math.floor(i * o);\n        a[s] = (a[s] || 0) + 1;\n      }\n\n      var u = a.reduce(function (e, r, i) {\n        return i === n ? e.concat(t[n]) : e.concat(O(t[i], t[i + 1], r));\n      }, []);\n      return u.unshift(t[0]), \"Z\" !== e[r] && \"z\" !== e[r] || u.push(\"Z\"), u;\n    };\n\n    var I = function I(t, e) {\n      if (t.length !== e.length) return !1;\n      var n = !0;\n      return r.each(t, function (t, r) {\n        if (t !== e[r]) return n = !1, !1;\n      }), n;\n    };\n\n    function T(t, e, n) {\n      var r = null,\n          i = n;\n      return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n        type: r,\n        min: i\n      };\n    }\n\n    function C(t, e, n) {\n      for (var r, i = [].concat(t), a = 1 / (n + 1), o = E(e)[0], s = 1; s <= n; s++) {\n        a *= s, 0 === (r = Math.floor(t.length * a)) ? i.unshift([o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]) : i.splice(r, 0, [o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]);\n      }\n\n      return i;\n    }\n\n    function E(t) {\n      var e = [];\n\n      switch (t[0]) {\n        case \"M\":\n        case \"L\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"A\":\n          e.push([t[6], t[7]]);\n          break;\n\n        case \"Q\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"T\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"C\":\n          e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n          break;\n\n        case \"S\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"H\":\n        case \"V\":\n          e.push([t[1], t[1]]);\n      }\n\n      return e;\n    }\n\n    e.fillPathByDiff = function (t, e) {\n      var n = function (t, e) {\n        var n,\n            r,\n            i = t.length,\n            a = e.length,\n            o = 0;\n        if (0 === i || 0 === a) return null;\n\n        for (var s = [], u = 0; u <= i; u++) {\n          s[u] = [], s[u][0] = {\n            min: u\n          };\n        }\n\n        for (var c = 0; c <= a; c++) {\n          s[0][c] = {\n            min: c\n          };\n        }\n\n        for (u = 1; u <= i; u++) {\n          n = t[u - 1];\n\n          for (c = 1; c <= a; c++) {\n            r = e[c - 1], o = I(n, r) ? 0 : 1;\n            var l = s[u - 1][c].min + 1,\n                h = s[u][c - 1].min + 1,\n                f = s[u - 1][c - 1].min + o;\n            s[u][c] = T(l, h, f);\n          }\n        }\n\n        return s;\n      }(t, e),\n          r = t.length,\n          i = e.length,\n          a = [],\n          o = 1,\n          s = 1;\n\n      if (n[r][i] !== r) {\n        for (var u = 1; u <= r; u++) {\n          var c = n[u][u].min;\n          s = u;\n\n          for (var l = o; l <= i; l++) {\n            n[u][l].min < c && (c = n[u][l].min, s = l);\n          }\n\n          o = s, n[u][o].type && a.push({\n            index: u - 1,\n            type: n[u][o].type\n          });\n        }\n\n        for (u = a.length - 1; u >= 0; u--) {\n          o = a[u].index, \"add\" === a[u].type ? t.splice(o, 0, [].concat(t[o])) : t.splice(o, 1);\n        }\n      }\n\n      var h = i - (r = t.length);\n      if (r < i) for (u = 0; u < h; u++) {\n        \"z\" === t[r - 1][0] || \"Z\" === t[r - 1][0] ? t.splice(r - 2, 0, t[r - 2]) : t.push(t[r - 1]), r += 1;\n      }\n      return t;\n    };\n\n    e.formatPath = function (t, e) {\n      if (t.length <= 1) return t;\n\n      for (var n, r = 0; r < e.length; r++) {\n        if (t[r][0] !== e[r][0]) switch (n = E(t[r]), e[r][0]) {\n          case \"M\":\n            t[r] = [\"M\"].concat(n[0]);\n            break;\n\n          case \"L\":\n            t[r] = [\"L\"].concat(n[0]);\n            break;\n\n          case \"A\":\n            t[r] = [].concat(e[r]), t[r][6] = n[0][0], t[r][7] = n[0][1];\n            break;\n\n          case \"Q\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"Q\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"T\":\n            t[r] = [\"T\"].concat(n[0]);\n            break;\n\n          case \"C\":\n            if (n.length < 3) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 2);\n            }\n\n            t[r] = [\"C\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"S\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"S\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          default:\n            t[r] = e[r];\n        }\n      }\n\n      return t;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(43);\n    e.Arc = r.default;\n    var i = n(44);\n    e.Circle = i.default;\n    var a = n(45);\n    e.Dom = a.default;\n    var o = n(46);\n    e.Ellipse = o.default;\n    var s = n(47);\n    e.Fan = s.default;\n    var u = n(48);\n    e.Image = u.default;\n    var c = n(49);\n    e.Line = c.default;\n    var l = n(17);\n    e.Marker = l.default;\n    var h = n(50);\n    e.Path = h.default;\n    var f = n(51);\n    e.Polygon = f.default;\n    var p = n(52);\n    e.Polyline = p.default;\n    var d = n(53);\n    e.Rect = d.default;\n    var v = n(54);\n    e.Text = v.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0).createDom('<canvas width=\"500\" height=\"500\"></canvas>').getContext(\"2d\");\n\n    e.default = function (t, e, n) {\n      return n.createPath(r), r.isPointInPath(t, e);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(6),\n        o = n(3),\n        s = n(8),\n        u = n(4),\n        c = n(2),\n        l = n(40),\n        h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"marker\", e.canFill = !0, e.canStroke = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          x: 0,\n          y: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.radius,\n            o = this.getHitLineWidth();\n        return u.circle(r, i, a + o / 2, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.radius,\n            i = this.getHitLineWidth() / 2 + r;\n        return c.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype._getPath = function () {\n        var t,\n            e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.radius,\n            o = e.symbol || \"circle\";\n        return (t = i.isFunction(o) ? o : l.default.get(o)) ? t(n, r, a) : (console.warn(t + \" symbol is not exist.\"), null);\n      }, e.prototype.createPath = function (t) {\n        var e = this.cfg.segments;\n\n        if (!e || this.cfg.hasUpdate) {\n          var n,\n              r = a.parsePath(this._getPath());\n          t.beginPath(), e = [];\n\n          for (o = 0; o < r.length; o++) {\n            var i = r[o];\n            n = new s.default(i, n, o === r.length - 1), e.push(n), n.draw(t);\n          }\n\n          this.cfg.segments = e, this.cfg.hasUpdate = !1;\n        } else {\n          t.beginPath();\n\n          for (var o = 0; o < e.length; o++) {\n            e[o].draw(t);\n          }\n        }\n      }, e.symbolsFactory = l.default, e;\n    }(o.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r) {\n      var i = 1 - r;\n      return i * (i * t + 2 * r * e) + r * r * n;\n    }\n\n    function o(t, e, n, r, o, s, u, c, l) {\n      var h,\n          f,\n          p,\n          d,\n          v,\n          y,\n          g,\n          x = .005,\n          m = 1 / 0,\n          b = [u, c];\n\n      for (v = 0; v < 1; v += .05) {\n        p = [a(t, n, o, v), a(e, r, s, v)], (f = i.squaredDistance(b, p)) < m && (h = v, m = f);\n      }\n\n      for (m = 1 / 0, g = 0; g < 32 && !(x < 1e-4); g++) {\n        var M = h - x,\n            w = h + x;\n        p = [a(t, n, o, M), a(e, r, s, M)], f = i.squaredDistance(b, p), M >= 0 && f < m ? (h = M, m = f) : (d = [a(t, n, o, w), a(e, r, s, w)], y = i.squaredDistance(b, d), w <= 1 && y < m ? (h = w, m = y) : x *= .5);\n      }\n\n      return l ? {\n        x: a(t, n, o, h),\n        y: a(e, r, s, h)\n      } : Math.sqrt(m);\n    }\n\n    e.at = a, e.pointDistance = o, e.extrema = function (t, e, n) {\n      var i = t + n - 2 * e;\n      if (r.isNumberEqual(i, 0)) return [.5];\n      var a = (t - e) / i;\n      return a <= 1 && a >= 0 ? [a] : [];\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u) {\n      return o(t, e, n, r, i, a, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(2),\n        s = n(15),\n        u = {};\n\n    function c(t, e, n) {\n      for (var r, i = t.length - 1; i >= 0; i--) {\n        var a = t[i];\n        if (a.cfg.visible && a.cfg.capture && !a.destroyed && !a.removed && (a.isGroup ? r = a.getShape(e, n) : a.isHit(e, n) && (r = a)), r) break;\n      }\n\n      return r;\n    }\n\n    var l = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.isGroup = !0, n.type = \"group\", n.canFill = !0, n.canStroke = !0, n.set(\"children\", []), n.set(\"tobeRemoved\", []), n._beforeRenderUI(), n._renderUI(), n._bindUI(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._beforeRenderUI = function () {}, e.prototype._renderUI = function () {}, e.prototype._bindUI = function () {}, e.prototype.addShape = function (t, e) {\n        var n = this.get(\"canvas\");\n        e = e || {};\n        var r = u[t];\n\n        if (r || (r = i.upperFirst(t), u[t] = r), e.attrs && n) {\n          var a = e.attrs;\n\n          if (\"text\" === t) {\n            var o = n.get(\"fontFamily\");\n            o && (a.fontFamily = a.fontFamily ? a.fontFamily : o);\n          }\n        }\n\n        e.canvas = n, e.type = t;\n        var c = new s[r](e);\n        return this.add(c), c;\n      }, e.prototype.addGroup = function (t, n) {\n        var r,\n            a = this.get(\"canvas\");\n        if (n = i.mix({}, n), i.isFunction(t)) n ? (n.canvas = a, n.parent = this, r = new t(n)) : r = new t({\n          canvas: a,\n          parent: this\n        }), this.add(r);else if (i.isObject(t)) t.canvas = a, r = new e(t), this.add(r);else {\n          if (void 0 !== t) return !1;\n          r = new e(), this.add(r);\n        }\n        return r;\n      }, e.prototype.renderBack = function (t, e) {\n        var n = this.get(\"backShape\"),\n            r = this.getBBox();\n        return i.mix(e, {\n          x: r.x - t[3],\n          y: r.y - t[0],\n          width: r.width + t[1] + t[3],\n          height: r.height + t[0] + t[2]\n        }), n ? n.attr(e) : n = this.addShape(\"rect\", {\n          zIndex: -1,\n          attrs: e\n        }), this.set(\"backShape\", n), this.sort(), n;\n      }, e.prototype.removeChild = function (e, n) {\n        if (arguments.length >= 2) this.contain(e) && e.remove(n);else {\n          if (1 === arguments.length) {\n            if (!i.isBoolean(e)) return this.contain(e) && e.remove(!0), this;\n            n = e;\n          }\n\n          0 === arguments.length && (n = !0), t.prototype.remove.call(this, n);\n        }\n        return this;\n      }, e.prototype.add = function (t) {\n        var e = this,\n            n = e.get(\"children\");\n        if (i.isArray(t)) i.each(t, function (t) {\n          var n = t.get(\"parent\");\n          n && n.removeChild(t, !1), e._setCfgProperty(t);\n        }), e.cfg.children = n.concat(t);else {\n          var r = t,\n              a = r.get(\"parent\");\n          a && a.removeChild(r, !1), e._setCfgProperty(r), n.push(r);\n        }\n        return e;\n      }, e.prototype._setCfgProperty = function (t) {\n        var e = this.cfg;\n        t.set(\"parent\", this), t.set(\"canvas\", e.canvas), e.timeline && t.set(\"timeline\", e.timeline);\n      }, e.prototype.contain = function (t) {\n        return this.get(\"children\").indexOf(t) > -1;\n      }, e.prototype.getChildByIndex = function (t) {\n        return this.get(\"children\")[t];\n      }, e.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n      }, e.prototype.getLast = function () {\n        var t = this.get(\"children\").length - 1;\n        return this.getChildByIndex(t);\n      }, e.prototype.getBBox = function () {\n        var t = 1 / 0,\n            e = -1 / 0,\n            n = 1 / 0,\n            r = -1 / 0,\n            a = this.get(\"children\");\n        return a.length > 0 ? i.each(a, function (i) {\n          if (i.get(\"visible\")) {\n            var a = i.getBBox();\n            if (!a) return !0;\n            var o = a.tl,\n                s = a.tr,\n                u = a.bl,\n                c = a.br,\n                l = [o.x, o.y, 1],\n                h = [u.x, u.y, 1],\n                f = [s.x, s.y, 1],\n                p = [c.x, c.y, 1];\n            i.apply(l), i.apply(h), i.apply(f), i.apply(p);\n            var d = Math.min(l[0], h[0], f[0], p[0]),\n                v = Math.max(l[0], h[0], f[0], p[0]),\n                y = Math.min(l[1], h[1], f[1], p[1]),\n                g = Math.max(l[1], h[1], f[1], p[1]);\n            d < t && (t = d), v > e && (e = v), y < n && (n = y), g > r && (r = g);\n          }\n        }) : (t = 0, e = 0, n = 0, r = 0), new o.default(t, n, e - t, r - n);\n      }, e.prototype.getCount = function () {\n        return this.get(\"children\").length;\n      }, e.prototype.sort = function () {\n        var t,\n            e = this.get(\"children\");\n        return i.each(e, function (t, e) {\n          return t._INDEX = e, t;\n        }), e.sort((t = function t(_t2, e) {\n          return _t2.get(\"zIndex\") - e.get(\"zIndex\");\n        }, function (e, n) {\n          var r = t(e, n);\n          return 0 === r ? e._INDEX - n._INDEX : r;\n        })), this;\n      }, e.prototype.findById = function (t) {\n        return this.find(function (e) {\n          return e.get(\"id\") === t;\n        });\n      }, e.prototype.find = function (t) {\n        if (i.isString(t)) return this.findById(t);\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.find && (n = e.find(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAll = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.findBy = function (t) {\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.findBy && (n = e.findBy(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAllBy = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.getShape = function (t, e, n) {\n        var r,\n            i = this.attrs.clip,\n            a = this.cfg.children;\n\n        if (i) {\n          var o = [t, e, 1];\n          i.invert(o, this.get(\"canvas\")), i.isPointInPath(o[0], o[1]) && (r = c(a, t, e));\n        } else r = c(a, t, e);\n\n        return r;\n      }, e.prototype.clearTotalMatrix = function () {\n        if (this.get(\"totalMatrix\")) {\n          this.setSilent(\"totalMatrix\", null);\n\n          for (var t = this.cfg.children, e = 0; e < t.length; e++) {\n            t[e].clearTotalMatrix();\n          }\n        }\n      }, e.prototype.clear = function (t) {\n        if (!this.destroyed) {\n          for (var e = this.cfg.children, n = e.length - 1; n >= 0; n--) {\n            e[n].remove(!0, t);\n          }\n\n          return this.cfg.children = [], this;\n        }\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.clear(), t.prototype.destroy.call(this));\n      }, e.prototype.clone = function () {\n        var t = this.cfg.children,\n            n = new e();\n        return i.each(t, function (t) {\n          n.add(t.clone());\n        }), n;\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(2);\n    e.BBox = i.default;\n    var a = n(21);\n    e.Canvas = a.default;\n    var o = n(10);\n    e.Element = o.default;\n    var s = n(11);\n    e.Event = s.default;\n    var u = n(19);\n    e.Group = u.default;\n    var c = n(8);\n    e.PathSegment = c.default;\n    var l = n(3);\n    e.Shape = l.default;\n    var h = n(14);\n    e.PathUtil = h;\n    var f = n(15);\n    e.Shapes = f;\n    var p = n(55);\n    e.version = p.version, r.__exportStar(n(15), e), r.__exportStar(n(56), e);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(22),\n        o = n(11),\n        s = n(42),\n        u = n(19),\n        c = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\"],\n        l = null,\n        h = null,\n        f = null;\n\n    function p(t) {\n      return +t;\n    }\n\n    var d = function (t) {\n      function e(e) {\n        var n = t.call(this, r.__assign({\n          eventEnable: !0,\n          width: null,\n          height: null,\n          widthCanvas: null,\n          heightCanvas: null,\n          widthStyle: null,\n          heightStyle: null,\n          containerDOM: null,\n          canvasDOM: null,\n          pixelRatio: null,\n          renderer: \"canvas\"\n        }, e)) || this;\n        return n._setGlobalParam(), n._setContainer(), n._initPainter(), n._scale(), n.get(\"eventEnable\") && n.registerEvent(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._scale = function () {\n        if (\"svg\" !== this.cfg.renderType) {\n          var t = this.get(\"pixelRatio\");\n          this.scale(t, t);\n        }\n      }, e.prototype._setGlobalParam = function () {\n        var t = this.get(\"renderer\") || \"canvas\";\n        \"svg\" === t ? this.set(\"pixelRatio\", 1) : this.get(\"pixelRatio\") || this.set(\"pixelRatio\", i.getRatio()), this.cfg.renderType = t;\n        var e = a[t];\n        this.cfg.renderer = e, this.cfg.canvas = this;\n        var n = new s.default(this);\n        this.cfg.timeline = n;\n      }, e.prototype._setContainer = function () {\n        var t = this.get(\"containerId\"),\n            e = this.get(\"containerDOM\");\n        e || (e = document.getElementById(t), this.set(\"containerDOM\", e)), i.modifyCSS(e, {\n          position: \"relative\"\n        });\n\n        for (var n = e.style.transform, r = [], a = /(\\w+)\\((.+?)\\)/g, o = a.exec(n); o;) {\n          r.push([o[1], o[2].split(\", \")]), o = a.exec(n);\n        }\n\n        var s = {\n          scaleX: 1,\n          scaleY: 1\n        };\n        i.each(r, function (t, e) {\n          var n = t[0],\n              r = t[1] && t[1][0],\n              a = t[1] && t[1][1];\n          \"scale\" === n ? (s.scaleX = i.isNil(r) ? 1 : p(r), s.scaleY = i.isNil(a) ? s.scaleX : p(a)) : n === e && (s[e] = r);\n        }), this.set(\"containerTransform\", s);\n      }, e.prototype._initPainter = function () {\n        var t = this.get(\"containerDOM\"),\n            e = new this.cfg.renderer.painter(t);\n        this.cfg.painter = e, this.cfg.canvasDOM = this.cfg.el = e.canvas, this.changeSize(this.get(\"width\"), this.get(\"height\"));\n      }, e.prototype._resize = function () {\n        var t = this.get(\"canvasDOM\"),\n            e = this.get(\"widthCanvas\"),\n            n = this.get(\"heightCanvas\"),\n            r = this.get(\"widthStyle\"),\n            i = this.get(\"heightStyle\");\n        t.style.width = r, t.style.height = i, t.setAttribute(\"width\", e), t.setAttribute(\"height\", n);\n      }, e.prototype.getWidth = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"width\") * t;\n      }, e.prototype.getHeight = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"height\") * t;\n      }, e.prototype.changeSize = function (t, e) {\n        var n = this.get(\"pixelRatio\"),\n            r = t * n,\n            i = e * n;\n        this.set(\"widthCanvas\", r), this.set(\"heightCanvas\", i), this.set(\"widthStyle\", t + \"px\"), this.set(\"heightStyle\", e + \"px\"), this.set(\"width\", t), this.set(\"height\", e), this._resize();\n      }, e.prototype.getPointByClient = function (t, e) {\n        var n = this.get(\"containerTransform\"),\n            r = n.scaleX,\n            i = n.scaleY,\n            a = this.get(\"el\"),\n            o = this.get(\"pixelRatio\") || 1,\n            s = a.getBoundingClientRect();\n        return {\n          x: (t - s.left) * o / r,\n          y: (e - s.top) * o / i\n        };\n      }, e.prototype.getClientByPoint = function (t, e) {\n        var n = this.get(\"containerTransform\"),\n            r = n.scaleX,\n            i = n.scaleY,\n            a = this.get(\"el\").getBoundingClientRect(),\n            o = this.get(\"pixelRatio\") || 1;\n        return {\n          clientX: t / o * r + a.left,\n          clientY: e / o * i + a.top\n        };\n      }, e.prototype.draw = function () {\n        this.cfg.painter.draw(this);\n      }, e.prototype.getShape = function (e, n, r) {\n        return 3 === arguments.length && this.cfg.renderer.getShape ? this.cfg.renderer.getShape.call(this, e, n, r) : t.prototype.getShape.call(this, e, n);\n      }, e.prototype.getRenderer = function () {\n        return this.cfg.renderType;\n      }, e.prototype._drawSync = function () {\n        this.cfg.painter.drawSync(this);\n      }, e.prototype.destroy = function () {\n        var e = this.cfg,\n            n = e.containerDOM,\n            r = e.canvasDOM;\n        r && n && n.removeChild(r), e.timeline.stop(), t.prototype.destroy.call(this);\n      }, e.prototype.registerEvent = function () {\n        var t = this,\n            e = this.get(\"el\");\n        i.each(c, function (n) {\n          e.addEventListener(n, function (e) {\n            t._triggerEvent(n, e);\n          }, !1);\n        }), e.addEventListener(\"touchstart\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchstart\", e);\n        }, !1), e.addEventListener(\"touchmove\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchmove\", e);\n        }, !1), e.addEventListener(\"touchend\", function (e) {\n          i.isEmpty(e.changedTouches) || t._triggerEvent(\"touchend\", e);\n        }, !1);\n      }, e.prototype._getEmitter = function (t, e) {\n        if (t) {\n          if (!i.isEmpty(t.getEvents())) return t;\n          var n = t.get(\"parent\");\n          if (n && !e.propagationStopped) return this._getEmitter(n, e);\n        }\n      }, e.prototype._getEventObj = function (t, e, n, r) {\n        var i = new o.default(t, e, !0, !0);\n        return i.x = n.x, i.y = n.y, i.clientX = e.clientX, i.clientY = e.clientY, i.target = r, i.currentTarget = this._getEmitter(r, i), i;\n      }, e.prototype._getClientXY = function (t, e) {\n        return \"touchstart\" === t || \"touchmove\" === t ? [e.targetTouches[0].clientX, e.targetTouches[0].clientY] : \"touchend\" === t ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [e.clientX, e.clientY];\n      }, e.prototype._triggerEvent = function (t, e) {\n        var n = this._getClientXY(t, e),\n            r = n[0],\n            i = n[1],\n            a = this.getPointByClient(r, i),\n            o = this.getShape(a.x, a.y, e),\n            s = this.get(\"el\");\n\n        if (f && \"svg\" === this.getRenderer() && (o = this.getShape(a.x, a.y)), \"mousemove\" === t) {\n          if (l && l !== o && (this._emitEvent(\"mouseout\", e, a, l), this._emitEvent(\"mouseleave\", e, a, l), f && this._emitEvent(\"dragleave\", e, a, l), l.destroyed || l.removed || (s.style.cursor = l.attr(\"cursor\") || \"default\")), f && (this._emitEvent(\"drag\", e, a, f), this._emitEvent(\"mousemove\", e, a, o || this)), o) f || (h === o ? (f = o, h = null, this._emitEvent(\"dragstart\", e, a, o)) : this._emitEvent(\"mousemove\", e, a, o)), l !== o && (this._emitEvent(\"mouseenter\", e, a, o), this._emitEvent(\"mouseover\", e, a, o), f && this._emitEvent(\"dragenter\", e, a, o));else {\n            var u = this._getEventObj(\"mousemove\", e, a, this);\n\n            this.emit(\"mousemove\", u);\n          }\n          l = o;\n        } else this._emitEvent(t, e, a, o || this), f || \"mousedown\" !== t || (h = o), \"mouseup\" === t && (h = null, f && (f.cfg.capture = !0, this._emitEvent(\"dragend\", e, a, f), f = null, this._emitEvent(\"drop\", e, a, o || this)));\n\n        o && !o.destroyed && (s.style.cursor = o.attr(\"cursor\") || \"default\");\n      }, e.prototype._emitEvent = function (t, e, n, r) {\n        var i = this._getEventObj(t, e, n, r),\n            a = this._getEmitter(r, e);\n\n        return a && a.emit(t, i), a;\n      }, e;\n    }(u.default);\n\n    e.default = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(23);\n    e.canvas = r;\n    var i = n(26);\n    e.svg = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(24);\n    e.painter = r.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(25),\n        a = [\"fillStyle\", \"font\", \"globalAlpha\", \"lineCap\", \"lineWidth\", \"lineJoin\", \"miterLimit\", \"shadowBlur\", \"shadowColor\", \"shadowOffsetX\", \"shadowOffsetY\", \"strokeStyle\", \"textAlign\", \"textBaseline\", \"lineDash\", \"lineDashOffset\"],\n        o = function () {\n      function t(t) {\n        if (!t) return null;\n        var e = r.uniqueId(\"canvas_\"),\n            n = r.createDom('<canvas id=\"' + e + '\"></canvas>');\n        return t.appendChild(n), this.type = \"canvas\", this.canvas = n, this.context = n.getContext(\"2d\"), this;\n      }\n\n      return t.prototype.beforeDraw = function () {\n        var t = this.canvas;\n        this.context && this.context.clearRect(0, 0, t.width, t.height);\n      }, t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          }), e.beforeDraw();\n\n          try {\n            e._drawGroup(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this.beforeDraw(), this._drawGroup(t);\n      }, t.prototype._drawGroup = function (t) {\n        if (!t.removed && !t.destroyed && t.cfg.visible) {\n          var e = t.cfg.children,\n              n = null;\n          this.setContext(t);\n\n          for (var r = 0; r < e.length; r++) {\n            n = e[r], e[r].isGroup ? this._drawGroup(n) : this._drawShape(n);\n          }\n\n          this.restoreContext(t);\n        }\n      }, t.prototype._drawShape = function (t) {\n        t.removed || t.destroyed || !t.cfg.visible || (this.setContext(t), t.drawInner(this.context), this.restoreContext(t), t.cfg.attrs = t.attrs, t.cfg.hasUpdate = !1);\n      }, t.prototype.setContext = function (t) {\n        var e = this.context,\n            n = t.attrs.clip;\n        e.save(), n && (n.resetTransform(e), n.createPath(e), e.clip()), this.resetContext(t), t.resetTransform(e);\n      }, t.prototype.restoreContext = function (t) {\n        this.context.restore();\n      }, t.prototype.resetContext = function (t) {\n        var e = this.context,\n            n = t.attrs;\n        if (!t.isGroup) for (var o in n) {\n          if (a.indexOf(o) > -1) {\n            var s = n[o];\n            \"fillStyle\" === o && (s = i.parseStyle(s, t, e)), \"strokeStyle\" === o && (s = i.parseStyle(s, t, e)), \"lineDash\" === o && e.setLineDash ? r.isArray(s) ? e.setLineDash(s) : r.isString(s) && e.setLineDash(s.split(\" \")) : e[o] = s;\n          }\n        }\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi,\n        o = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        s = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        u = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        c = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function l(t, e) {\n      var n = t.match(c);\n      r.each(n, function (t) {\n        t = t.split(\":\"), e.addColorStop(t[0], t[1]);\n      });\n    }\n\n    e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    }, e.parseStyle = function (t, e, n) {\n      if (r.isString(t)) {\n        if (\"(\" === t[1] || \"(\" === t[2]) {\n          if (\"l\" === t[0]) return function (t, e, n) {\n            var i,\n                a,\n                s = o.exec(t),\n                u = r.mod(r.toRadian(parseFloat(s[1])), 2 * Math.PI),\n                c = s[2],\n                h = e.getBBox(),\n                f = h.maxX,\n                p = h.maxY;\n            u >= 0 && u < .5 * Math.PI ? (i = {\n              x: h.x,\n              y: h.y\n            }, a = {\n              x: f,\n              y: p\n            }) : .5 * Math.PI <= u && u < Math.PI ? (i = {\n              x: f,\n              y: h.y\n            }, a = {\n              x: h.x,\n              y: p\n            }) : Math.PI <= u && u < 1.5 * Math.PI ? (i = {\n              x: f,\n              y: p\n            }, a = {\n              x: h.x,\n              y: h.y\n            }) : (i = {\n              x: h.x,\n              y: p\n            }, a = {\n              x: f,\n              y: h.y\n            });\n            var d = Math.tan(u),\n                v = d * d,\n                y = (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.x,\n                g = d * (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.y,\n                x = n.createLinearGradient(i.x, i.y, y, g);\n            return l(c, x), x;\n          }(t, e, n);\n          if (\"r\" === t[0]) return function (t, e, n) {\n            var r = s.exec(t),\n                i = parseFloat(r[1]),\n                a = parseFloat(r[2]),\n                o = parseFloat(r[3]),\n                u = r[4];\n\n            if (0 === o) {\n              var h = u.match(c);\n              return h[h.length - 1].split(\":\")[1];\n            }\n\n            var f = e.getBBox(),\n                p = f.maxX,\n                d = f.maxY,\n                v = p - f.x,\n                y = d - f.y,\n                g = Math.sqrt(v * v + y * y) / 2,\n                x = n.createRadialGradient(f.x + v * i, f.y + y * a, o * g, f.x + v / 2, f.y + y / 2, g);\n            return l(u, x), x;\n          }(t, e, n);\n          if (\"p\" === t[0]) return function (t, e, n) {\n            if (e.get(\"patternSource\") && e.get(\"patternSource\") === t) return e.get(\"pattern\");\n            var r,\n                i,\n                a = u.exec(t),\n                o = a[1],\n                s = a[2];\n\n            function c() {\n              r = n.createPattern(i, o), e.setSilent(\"pattern\", r), e.setSilent(\"patternSource\", t);\n            }\n\n            switch (o) {\n              case \"a\":\n                o = \"repeat\";\n                break;\n\n              case \"x\":\n                o = \"repeat-x\";\n                break;\n\n              case \"y\":\n                o = \"repeat-y\";\n                break;\n\n              case \"n\":\n                o = \"no-repeat\";\n                break;\n\n              default:\n                o = \"no-repeat\";\n            }\n\n            return i = new Image(), s.match(/^data:/i) || (i.crossOrigin = \"Anonymous\"), i.src = s, i.complete ? c() : (i.onload = c, i.src = i.src), r;\n          }(t, e, n);\n        }\n\n        return t;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(27);\n    e.painter = r.default;\n    var i = n(41);\n    e.getShape = i.default;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(28),\n        a = n(30),\n        o = n(6),\n        s = (n(17).default.symbolsFactory, {\n      rect: \"path\",\n      circle: \"circle\",\n      line: \"line\",\n      path: \"path\",\n      marker: \"path\",\n      text: \"text\",\n      polygon: \"polygon\",\n      image: \"image\",\n      ellipse: \"ellipse\",\n      dom: \"foreignObject\",\n      fan: \"path\",\n      group: \"g\"\n    }),\n        u = {\n      opacity: \"opacity\",\n      fillStyle: \"fill\",\n      strokeOpacity: \"stroke-opacity\",\n      fillOpacity: \"fill-opacity\",\n      strokeStyle: \"stroke\",\n      x: \"x\",\n      y: \"y\",\n      r: \"r\",\n      width: \"width\",\n      height: \"height\",\n      x1: \"x1\",\n      x2: \"x2\",\n      y1: \"y1\",\n      y2: \"y2\",\n      lineCap: \"stroke-linecap\",\n      lineJoin: \"stroke-linejoin\",\n      lineWidth: \"stroke-width\",\n      lineDash: \"stroke-dasharray\",\n      lineDashOffset: \"stroke-dashoffset\",\n      miterLimit: \"stroke-miterlimit\",\n      font: \"font\",\n      fontSize: \"font-size\",\n      fontStyle: \"font-style\",\n      fontVariant: \"font-variant\",\n      fontWeight: \"font-weight\",\n      fontFamily: \"font-family\",\n      startArrow: \"marker-start\",\n      endArrow: \"marker-end\",\n      path: \"d\",\n      class: \"class\",\n      id: \"id\",\n      style: \"style\",\n      preserveAspectRatio: \"preserveAspectRatio\"\n    },\n        c = {\n      top: \"before-edge\",\n      middle: \"central\",\n      bottom: \"after-edge\",\n      alphabetic: \"baseline\",\n      hanging: \"hanging\"\n    },\n        l = {\n      top: \"text-before-edge\",\n      middle: \"central\",\n      bottom: \"text-after-edge\",\n      alphabetic: \"alphabetic\",\n      hanging: \"hanging\"\n    },\n        h = {\n      left: \"left\",\n      start: \"left\",\n      center: \"middle\",\n      right: \"end\",\n      end: \"end\"\n    },\n        f = function () {\n      function t(t) {\n        if (this.toDraw = !1, this.type = \"svg\", this.removed = !1, this.destroyed = !1, !t) return null;\n        var e = r.uniqueId(\"canvas_\"),\n            n = r.createDom('<svg id=\"' + e + '\"></svg>');\n        return t.appendChild(n), this.type = \"svg\", this.canvas = n, this.context = new a.default(n), this.toDraw = !1, this;\n      }\n\n      return t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          });\n\n          try {\n            e._drawChildren(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this._drawChildren(t);\n      }, t.prototype._drawGroup = function (t, e) {\n        var n = t.cfg;\n        t.removed || t.destroyed || (n.tobeRemoved && (r.each(n.tobeRemoved, function (t) {\n          t.parentNode && t.parentNode.removeChild(t);\n        }), n.tobeRemoved = []), this._drawShape(t, e), n.children && n.children.length > 0 && this._drawChildren(t));\n      }, t.prototype._drawChildren = function (t) {\n        var e,\n            n = t.cfg.children;\n        if (n) for (var r = 0; r < n.length; r++) {\n          (e = n[r]).isGroup ? this._drawGroup(e, r) : this._drawShape(e, r);\n        }\n      }, t.prototype._drawShape = function (t, e) {\n        var n = t.attrs,\n            r = t.cfg,\n            i = r.el;\n        t.removed || t.destroyed ? i && i.parentNode.removeChild(r.el) : (!i && r.parent && (this._createDom(t, e), this._updateShape(t)), i = r.el, !1 !== r.visible ? (r.visible && i.hasAttribute(\"visibility\") && i.removeAttribute(\"visibility\"), r.hasUpdate && this._updateShape(t), n.clip && n.clip.cfg.hasUpdate && this._updateShape(n.clip)) : i.setAttribute(\"visibility\", \"hidden\"));\n      }, t.prototype._updateShape = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs;\n        if (n) if (t.cfg.el || this._createDom(t), \"clip\" in e && this._setClip(t, e.clip), (\"shadowOffsetX\" in e || \"shadowOffsetY\" in e || \"shadowBlur\" in e || \"shadowColor\" in e) && this._setShadow(t), \"text\" !== t.type) {\n          for (var i in \"fan\" === t.type && this._updateFan(t), \"marker\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleMarker(t, e)), \"rect\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleRect(e)), e) {\n            e[i] !== n[i] && this._setAttribute(t, i, e[i]);\n          }\n\n          t.cfg.attrs = r.deepMix({}, t.attrs), t.cfg.hasUpdate = !1;\n        } else this._updateText(t);\n      }, t.prototype._setAttribute = function (t, e, n) {\n        var i = t.type,\n            a = t.attrs,\n            o = t.cfg.el,\n            s = this.context;\n        if (\"marker\" !== i && \"rect\" !== i || !~[\"x\", \"y\", \"radius\", \"r\"].indexOf(e)) if (~[\"circle\", \"ellipse\"].indexOf(i) && ~[\"x\", \"y\"].indexOf(e)) o.setAttribute(\"c\" + e, parseInt(n, 10));else {\n          if (\"polygon\" === i && \"points\" === e) return n && 0 !== n.length || (n = \"\"), r.isArray(n) && (n = (n = n.map(function (t) {\n            return t[0] + \",\" + t[1];\n          })).join(\" \")), void o.setAttribute(\"points\", n);\n          if (\"path\" !== e) {\n            if (\"img\" !== e) {\n              if (\"transform\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"rotate\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"matrix\" !== e) {\n                if (\"fillStyle\" !== e && \"strokeStyle\" !== e) {\n                  if (\"clip\" !== e) if (~e.indexOf(\"Arrow\")) {\n                    if (e = u[e], n) {\n                      var c = null;\n                      c = \"boolean\" == typeof n ? s.getDefaultArrow(a, e) : s.addArrow(a, e), o.setAttribute(e, \"url(#\" + c + \")\"), t.cfg[e] = c;\n                    } else t.cfg[e] = null, o.removeAttribute(e);\n                  } else \"html\" === e && (\"string\" == typeof n ? o.innerHTML = n : (o.innerHTML = \"\", o.appendChild(n))), u[e] && o.setAttribute(u[e], n);\n                } else this._setColor(t, e, n);\n              } else this._setTransform(t);\n            } else this._setImage(t, n);\n          } else r.isArray(n) && o.setAttribute(\"d\", this._formatPath(n));\n        }\n      }, t.prototype._createDom = function (t, e) {\n        var n = s[t.type],\n            r = t.attrs,\n            i = t.cfg.parent;\n        if (!n) throw new Error(\"the type\" + t.type + \"is not supported by svg\");\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n\n        if (t.cfg.id && (a.id = t.cfg.id), t.cfg.el = a, i) {\n          var o = i.cfg.el;\n          if (void 0 === e) o.appendChild(a);else {\n            var u = i.cfg.el.childNodes;\n            \"svg\" === o.tagName && (e += 1), u.length <= e ? o.appendChild(a) : o.insertBefore(a, u[e]);\n          }\n        }\n\n        return t.cfg.attrs = {}, \"text\" === t.type ? (a.setAttribute(\"paint-order\", \"stroke\"), a.setAttribute(\"style\", \"stroke-linecap:butt; stroke-linejoin:miter;\")) : (r.stroke || r.strokeStyle || a.setAttribute(\"stroke\", \"none\"), r.fill || r.fillStyle || a.setAttribute(\"fill\", \"none\")), a;\n      }, t.prototype._assembleMarker = function (t, e) {\n        var n = t._getPath();\n\n        return r.isArray(n) ? n.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\") : n;\n      }, t.prototype._assembleRect = function (t) {\n        var e = t.x,\n            n = t.y,\n            i = t.width,\n            a = t.height,\n            s = t.radius;\n        if (!s) return \"M \" + e + \",\" + n + \" l \" + i + \",0 l 0,\" + a + \" l\" + -i + \" 0 z\";\n        var u = o.parseRadius(s);\n        return r.isArray(s) ? 1 === s.length ? u.r1 = u.r2 = u.r3 = u.r4 = s[0] : 2 === s.length ? (u.r1 = u.r3 = s[0], u.r2 = u.r4 = s[1]) : 3 === s.length ? (u.r1 = s[0], u.r2 = u.r4 = s[1], u.r3 = s[2]) : (u.r1 = s[0], u.r2 = s[1], u.r3 = s[2], u.r4 = s[3]) : u.r1 = u.r2 = u.r3 = u.r4 = s, [[\"M \" + (e + u.r1) + \",\" + n], [\"l \" + (i - u.r1 - u.r2) + \",0\"], [\"a \" + u.r2 + \",\" + u.r2 + \",0,0,1,\" + u.r2 + \",\" + u.r2], [\"l 0,\" + (a - u.r2 - u.r3)], [\"a \" + u.r3 + \",\" + u.r3 + \",0,0,1,\" + -u.r3 + \",\" + u.r3], [\"l \" + (u.r3 + u.r4 - i) + \",0\"], [\"a \" + u.r4 + \",\" + u.r4 + \",0,0,1,\" + -u.r4 + \",\" + -u.r4], [\"l 0,\" + (u.r4 + u.r1 - a)], [\"a \" + u.r1 + \",\" + u.r1 + \",0,0,1,\" + u.r1 + \",\" + -u.r1], [\"z\"]].join(\" \");\n      }, t.prototype._formatPath = function (t) {\n        return ~(t = t.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")).indexOf(\"NaN\") ? \"\" : t;\n      }, t.prototype._setTransform = function (t) {\n        for (var e = t.attrs.matrix, n = t.cfg.el, r = [], i = 0; i < 9; i += 3) {\n          r.push(e[i] + \",\" + e[i + 1]);\n        }\n\n        -1 === (r = r.join(\",\")).indexOf(\"NaN\") ? n.setAttribute(\"transform\", \"matrix(\" + r + \")\") : console.warn(\"invalid matrix:\", e);\n      }, t.prototype._setImage = function (t, e) {\n        var n = t.attrs,\n            i = t.cfg.el;\n        if (r.isString(e)) i.setAttribute(\"href\", e);else if (e instanceof Image) n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", e.src);else if (e instanceof HTMLElement && r.isString(e.nodeName) && \"CANVAS\" === e.nodeName.toUpperCase()) i.setAttribute(\"href\", e.toDataURL());else if (e instanceof ImageData) {\n          var a = document.createElement(\"canvas\");\n          a.setAttribute(\"width\", \"\" + e.width), a.setAttribute(\"height\", \"\" + e.height), a.getContext(\"2d\").putImageData(e, 0, 0), n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", a.toDataURL());\n        }\n      }, t.prototype._updateFan = function (t) {\n        function e(t, e, n) {\n          return {\n            x: e * Math.cos(t) + n.x,\n            y: e * Math.sin(t) + n.y\n          };\n        }\n\n        var n = t.attrs,\n            i = t.cfg,\n            a = {\n          x: n.x,\n          y: n.y\n        },\n            o = [],\n            s = n.startAngle,\n            u = n.endAngle;\n        r.isNumberEqual(u - s, 2 * Math.PI) && (u -= 1e-5);\n        var c = e(s, n.re, a),\n            l = e(u, n.re, a),\n            h = u > s ? 1 : 0,\n            f = Math.abs(u - s) > Math.PI ? 1 : 0,\n            p = n.rs,\n            d = n.re,\n            v = e(s, n.rs, a),\n            y = e(u, n.rs, a);\n        n.rs > 0 ? (o.push(\"M \" + l.x + \",\" + l.y), o.push(\"L \" + y.x + \",\" + y.y), o.push(\"A \" + p + \",\" + p + \",0,\" + f + \",\" + (1 === h ? 0 : 1) + \",\" + v.x + \",\" + v.y), o.push(\"L \" + c.x + \" \" + c.y)) : (o.push(\"M \" + a.x + \",\" + a.y), o.push(\"L \" + c.x + \",\" + c.y)), o.push(\"A \" + d + \",\" + d + \",0,\" + f + \",\" + h + \",\" + l.x + \",\" + l.y), n.rs > 0 ? o.push(\"L \" + y.x + \",\" + y.y) : o.push(\"Z\"), i.el.setAttribute(\"d\", o.join(\" \"));\n      }, t.prototype._updateText = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs,\n            r = t.cfg.el;\n\n        for (var i in this._setFont(t), e) {\n          if (e[i] !== n[i]) {\n            if (\"text\" === i) {\n              this._setText(t, \"\" + e[i]);\n\n              continue;\n            }\n\n            if (\"fillStyle\" === i || \"strokeStyle\" === i) {\n              this._setColor(t, i, e[i]);\n\n              continue;\n            }\n\n            if (\"matrix\" === i) {\n              this._setTransform(t);\n\n              continue;\n            }\n\n            u[i] && r.setAttribute(u[i], e[i]);\n          }\n        }\n\n        t.cfg.attrs = Object.assign({}, t.attrs), t.cfg.hasUpdate = !1;\n      }, t.prototype._setFont = function (t) {\n        var e = t.get(\"el\"),\n            n = t.attrs,\n            r = n.fontSize,\n            a = i.detect();\n        a && \"firefox\" === a.name ? e.setAttribute(\"dominant-baseline\", l[n.textBaseline] || \"alphabetic\") : e.setAttribute(\"alignment-baseline\", c[n.textBaseline] || \"baseline\"), e.setAttribute(\"text-anchor\", h[n.textAlign] || \"left\"), r && +r < 12 && (n.matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1], t.transform([[\"t\", -n.x, -n.y], [\"s\", +r / 12, +r / 12], [\"t\", n.x, n.y]]));\n      }, t.prototype._setText = function (t, e) {\n        var n = t.cfg.el,\n            i = t.attrs.textBaseline || \"bottom\";\n        if (e) {\n          if (~e.indexOf(\"\\n\")) {\n            var a = t.attrs.x,\n                o = e.split(\"\\n\"),\n                s = o.length - 1,\n                u = \"\";\n            r.each(o, function (t, e) {\n              0 === e ? \"alphabetic\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -s + 'em\">' + t + \"</tspan>\" : \"top\" === i ? u += '<tspan x=\"' + a + '\" dy=\"0.9em\">' + t + \"</tspan>\" : \"middle\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -(s - 1) / 2 + 'em\">' + t + \"</tspan>\" : \"bottom\" === i ? u += '<tspan x=\"' + a + '\" dy=\"-' + (s + .3) + 'em\">' + t + \"</tspan>\" : \"hanging\" === i && (u += '<tspan x=\"' + a + '\" dy=\"' + (-(s - 1) - .3) + 'em\">' + t + \"</tspan>\") : u += '<tspan x=\"' + a + '\" dy=\"1em\">' + t + \"</tspan>\";\n            }), n.innerHTML = u;\n          } else n.innerHTML = e;\n        } else n.innerHTML = \"\";\n      }, t.prototype._setClip = function (t, e) {\n        var n = t.cfg.el;\n        if (e) {\n          if (n.hasAttribute(\"clip-path\")) e.cfg.hasUpdate && this._updateShape(e);else {\n            this._createDom(e), this._updateShape(e);\n            var r = this.context.addClip(e);\n            n.setAttribute(\"clip-path\", \"url(#\" + r + \")\");\n          }\n        } else n.removeAttribute(\"clip-path\");\n      }, t.prototype._setColor = function (t, e, n) {\n        var r = t.cfg.el,\n            i = this.context;\n        if (n) {\n          if (n = n.trim(), /^[r,R,L,l]{1}[\\s]*\\(/.test(n)) (a = i.find(\"gradient\", n)) || (a = i.addGradient(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");else if (/^[p,P]{1}[\\s]*\\(/.test(n)) {\n            var a;\n            (a = i.find(\"pattern\", n)) || (a = i.addPattern(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");\n          } else r.setAttribute(u[e], n);\n        } else r.setAttribute(u[e], \"none\");\n      }, t.prototype._setShadow = function (t) {\n        var e = t.cfg.el,\n            n = t.attrs,\n            r = {\n          dx: n.shadowOffsetX,\n          dy: n.shadowOffsetY,\n          blur: n.shadowBlur,\n          color: n.shadowColor\n        };\n\n        if (r.dx || r.dy || r.blur || r.color) {\n          var i = this.context.find(\"filter\", r);\n          i || (i = this.context.addShadow(r)), e.setAttribute(\"filter\", \"url(#\" + i + \")\");\n        } else e.removeAttribute(\"filter\");\n      }, t;\n    }();\n\n    e.default = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    (function (t) {\n      var n = this && this.__spreadArrays || function () {\n        for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n          t += arguments[e].length;\n        }\n\n        var r = Array(t),\n            i = 0;\n\n        for (e = 0; e < n; e++) {\n          for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n            r[i] = a[o];\n          }\n        }\n\n        return r;\n      };\n\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n\n      var r = function r(t, e, n) {\n        this.name = t, this.version = e, this.os = n;\n      };\n\n      e.BrowserInfo = r;\n\n      var i = function i(e) {\n        this.version = e, this.name = \"node\", this.os = t.platform;\n      };\n\n      e.NodeInfo = i;\n\n      var a = function a() {\n        this.bot = !0, this.name = \"bot\", this.version = null, this.os = null;\n      };\n\n      e.BotInfo = a;\n      var o = [[\"aol\", /AOLShield\\/([0-9\\._]+)/], [\"edge\", /Edge\\/([0-9\\._]+)/], [\"edge-ios\", /EdgiOS\\/([0-9\\._]+)/], [\"yandexbrowser\", /YaBrowser\\/([0-9\\._]+)/], [\"vivaldi\", /Vivaldi\\/([0-9\\.]+)/], [\"kakaotalk\", /KAKAOTALK\\s([0-9\\.]+)/], [\"samsung\", /SamsungBrowser\\/([0-9\\.]+)/], [\"silk\", /\\bSilk\\/([0-9._-]+)\\b/], [\"miui\", /MiuiBrowser\\/([0-9\\.]+)$/], [\"beaker\", /BeakerBrowser\\/([0-9\\.]+)/], [\"edge-chromium\", /Edg\\/([0-9\\.]+)/], [\"chromium-webview\", /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"chrome\", /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"phantomjs\", /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/], [\"crios\", /CriOS\\/([0-9\\.]+)(:?\\s|$)/], [\"firefox\", /Firefox\\/([0-9\\.]+)(?:\\s|$)/], [\"fxios\", /FxiOS\\/([0-9\\.]+)/], [\"opera-mini\", /Opera Mini.*Version\\/([0-9\\.]+)/], [\"opera\", /Opera\\/([0-9\\.]+)(?:\\s|$)/], [\"opera\", /OPR\\/([0-9\\.]+)(:?\\s|$)/], [\"ie\", /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/], [\"ie\", /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/], [\"ie\", /MSIE\\s(7\\.0)/], [\"bb10\", /BB10;\\sTouch.*Version\\/([0-9\\.]+)/], [\"android\", /Android\\s([0-9\\.]+)/], [\"ios\", /Version\\/([0-9\\._]+).*Mobile.*Safari.*/], [\"safari\", /Version\\/([0-9\\._]+).*Safari/], [\"facebook\", /FBAV\\/([0-9\\.]+)/], [\"instagram\", /Instagram\\s([0-9\\.]+)/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Mobile/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/], [\"searchbot\", /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],\n          s = [[\"iOS\", /iP(hone|od|ad)/], [\"Android OS\", /Android/], [\"BlackBerry OS\", /BlackBerry|BB10/], [\"Windows Mobile\", /IEMobile/], [\"Amazon OS\", /Kindle/], [\"Windows 3.11\", /Win16/], [\"Windows 95\", /(Windows 95)|(Win95)|(Windows_95)/], [\"Windows 98\", /(Windows 98)|(Win98)/], [\"Windows 2000\", /(Windows NT 5.0)|(Windows 2000)/], [\"Windows XP\", /(Windows NT 5.1)|(Windows XP)/], [\"Windows Server 2003\", /(Windows NT 5.2)/], [\"Windows Vista\", /(Windows NT 6.0)/], [\"Windows 7\", /(Windows NT 6.1)/], [\"Windows 8\", /(Windows NT 6.2)/], [\"Windows 8.1\", /(Windows NT 6.3)/], [\"Windows 10\", /(Windows NT 10.0)/], [\"Windows ME\", /Windows ME/], [\"Open BSD\", /OpenBSD/], [\"Sun OS\", /SunOS/], [\"Chrome OS\", /CrOS/], [\"Linux\", /(Linux)|(X11)/], [\"Mac OS\", /(Mac_PowerPC)|(Macintosh)/], [\"QNX\", /QNX/], [\"BeOS\", /BeOS/], [\"OS/2\", /OS\\/2/], [\"Search Bot\", /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];\n\n      function u(t) {\n        var e = \"\" !== t && o.reduce(function (e, n) {\n          var r = n[0],\n              i = n[1];\n          if (e) return e;\n          var a = i.exec(t);\n          return !!a && [r, a];\n        }, !1);\n        if (!e) return null;\n        var i = e[0],\n            s = e[1];\n        if (\"searchbot\" === i) return new a();\n        var u = s[1] && s[1].split(/[._]/).slice(0, 3);\n        return u ? u.length < 3 && (u = n(u, function (t) {\n          for (var e = [], n = 0; n < t; n++) {\n            e.push(\"0\");\n          }\n\n          return e;\n        }(3 - u.length))) : u = [], new r(i, u.join(\".\"), c(t));\n      }\n\n      function c(t) {\n        for (var e = 0, n = s.length; e < n; e++) {\n          var r = s[e],\n              i = r[0];\n          if (r[1].test(t)) return i;\n        }\n\n        return null;\n      }\n\n      function l() {\n        return void 0 !== t && t.version ? new i(t.version.slice(1)) : null;\n      }\n\n      e.detect = function (t) {\n        return t ? u(t) : \"undefined\" != typeof navigator ? u(navigator.userAgent) : l();\n      }, e.parseUserAgent = u, e.detectOS = c, e.getNodeVersion = l;\n    }).call(this, n(29));\n  }, function (t, e) {\n    var n,\n        r,\n        i = t.exports = {};\n\n    function a() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function o() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function s(t) {\n      if (n === setTimeout) return setTimeout(t, 0);\n      if ((n === a || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);\n\n      try {\n        return n(t, 0);\n      } catch (e) {\n        try {\n          return n.call(null, t, 0);\n        } catch (e) {\n          return n.call(this, t, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        n = \"function\" == typeof setTimeout ? setTimeout : a;\n      } catch (t) {\n        n = a;\n      }\n\n      try {\n        r = \"function\" == typeof clearTimeout ? clearTimeout : o;\n      } catch (t) {\n        r = o;\n      }\n    }();\n    var u,\n        c = [],\n        l = !1,\n        h = -1;\n\n    function f() {\n      l && u && (l = !1, u.length ? c = u.concat(c) : h = -1, c.length && p());\n    }\n\n    function p() {\n      if (!l) {\n        var t = s(f);\n        l = !0;\n\n        for (var e = c.length; e;) {\n          for (u = c, c = []; ++h < e;) {\n            u && u[h].run();\n          }\n\n          h = -1, e = c.length;\n        }\n\n        u = null, l = !1, function (t) {\n          if (r === clearTimeout) return clearTimeout(t);\n          if ((r === o || !r) && clearTimeout) return r = clearTimeout, clearTimeout(t);\n\n          try {\n            r(t);\n          } catch (e) {\n            try {\n              return r.call(null, t);\n            } catch (e) {\n              return r.call(this, t);\n            }\n          }\n        }(t);\n      }\n    }\n\n    function d(t, e) {\n      this.fun = t, this.array = e;\n    }\n\n    function v() {}\n\n    i.nextTick = function (t) {\n      var e = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) {\n        e[n - 1] = arguments[n];\n      }\n      c.push(new d(t, e)), 1 !== c.length || l || s(p);\n    }, d.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, i.title = \"browser\", i.browser = !0, i.env = {}, i.argv = [], i.version = \"\", i.versions = {}, i.on = v, i.addListener = v, i.once = v, i.off = v, i.removeListener = v, i.removeAllListeners = v, i.emit = v, i.prependListener = v, i.prependOnceListener = v, i.listeners = function (t) {\n      return [];\n    }, i.binding = function (t) {\n      throw new Error(\"process.binding is not supported\");\n    }, i.cwd = function () {\n      return \"/\";\n    }, i.chdir = function (t) {\n      throw new Error(\"process.chdir is not supported\");\n    }, i.umask = function () {\n      return 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(31),\n        a = n(32),\n        o = n(33),\n        s = n(34),\n        u = n(35),\n        c = function () {\n      function t(t) {\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\"),\n            n = r.uniqueId(\"defs_\");\n        e.id = n, t.appendChild(e), this.children = [], this.defaultArrow = {}, this.el = e, this.canvas = t;\n      }\n\n      return t.prototype.find = function (t, e) {\n        for (var n = this.children, r = null, i = 0; i < n.length; i++) {\n          if (n[i].match(t, e)) {\n            r = n[i].id;\n            break;\n          }\n        }\n\n        return r;\n      }, t.prototype.findById = function (t) {\n        for (var e = this.children, n = null, r = 0; r < e.length; r++) {\n          if (e[r].id === t) {\n            n = e[r];\n            break;\n          }\n        }\n\n        return n;\n      }, t.prototype.add = function (t) {\n        this.children.push(t), t.canvas = this.canvas, t.parent = this;\n      }, t.prototype.getDefaultArrow = function (t, e) {\n        var n = t.stroke || t.strokeStyle;\n        if (this.defaultArrow[n]) return this.defaultArrow[n].id;\n        var r = new o.default(t, e);\n        return this.defaultArrow[n] = r, this.el.appendChild(r.el), r.id;\n      }, t.prototype.addGradient = function (t) {\n        var e = new i.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addArrow = function (t, e) {\n        var n = new o.default(t, e);\n        return this.el.appendChild(n.el), n.id;\n      }, t.prototype.addShadow = function (t) {\n        var e = new a.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addPattern = function (t) {\n        var e = new u.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addClip = function (t) {\n        var e = new s.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        a = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        o = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function s(t) {\n      var e = t.match(o);\n      if (!e) return \"\";\n      var n = \"\";\n      return e.sort(function (t, e) {\n        return t = t.split(\":\"), e = e.split(\":\"), Number(t[0]) - Number(e[0]);\n      }), r.each(e, function (t) {\n        t = t.split(\":\"), n += '<stop offset=\"' + t[0] + '\" stop-color=\"' + t[1] + '\"></stop>';\n      }), n;\n    }\n\n    var u = function () {\n      function t(t) {\n        this.cfg = {};\n        var e,\n            n,\n            o,\n            u,\n            c,\n            l,\n            h,\n            f = null,\n            p = r.uniqueId(\"gradient_\");\n        return \"l\" === t.toLowerCase()[0] ? function (t, e) {\n          var n,\n              a,\n              o = i.exec(t),\n              u = r.mod(r.toRadian(parseFloat(o[1])), 2 * Math.PI),\n              c = o[2];\n          u >= 0 && u < .5 * Math.PI ? (n = {\n            x: 0,\n            y: 0\n          }, a = {\n            x: 1,\n            y: 1\n          }) : .5 * Math.PI <= u && u < Math.PI ? (n = {\n            x: 1,\n            y: 0\n          }, a = {\n            x: 0,\n            y: 1\n          }) : Math.PI <= u && u < 1.5 * Math.PI ? (n = {\n            x: 1,\n            y: 1\n          }, a = {\n            x: 0,\n            y: 0\n          }) : (n = {\n            x: 0,\n            y: 1\n          }, a = {\n            x: 1,\n            y: 0\n          });\n          var l = Math.tan(u),\n              h = l * l,\n              f = (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.x,\n              p = l * (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.y;\n          e.setAttribute(\"x1\", n.x), e.setAttribute(\"y1\", n.y), e.setAttribute(\"x2\", f), e.setAttribute(\"y2\", p), e.innerHTML = s(c);\n        }(t, f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\")) : (f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\"), e = t, n = f, o = a.exec(e), u = parseFloat(o[1]), c = parseFloat(o[2]), l = parseFloat(o[3]), h = o[4], n.setAttribute(\"cx\", u), n.setAttribute(\"cy\", c), n.setAttribute(\"r\", l), n.innerHTML = s(h)), f.setAttribute(\"id\", p), this.el = f, this.id = p, this.cfg = t, this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = {\n      shadowColor: \"color\",\n      shadowOpacity: \"opacity\",\n      shadowBlur: \"blur\",\n      shadowOffsetX: \"dx\",\n      shadowOffsetY: \"dy\"\n    },\n        a = {\n      x: \"-40%\",\n      y: \"-40%\",\n      width: \"200%\",\n      height: \"200%\"\n    },\n        o = function () {\n      function t(t) {\n        this.type = \"filter\", this.cfg = {}, this.type = \"filter\";\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"filter\");\n        return r.each(a, function (t, n) {\n          e.setAttribute(n, t);\n        }), this.el = e, this.id = r.uniqueId(\"filter_\"), this.el.id = this.id, this.cfg = t, this._parseShadow(t, e), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        if (this.type !== t) return !1;\n        var n = !0,\n            i = this.cfg;\n        return r.each(Object.keys(i), function (t) {\n          if (i[t] !== e[t]) return n = !1, !1;\n        }), n;\n      }, t.prototype.update = function (t, e) {\n        var n = this.cfg;\n        return n[i[t]] = e, this._parseShadow(n, this.el), this;\n      }, t.prototype._parseShadow = function (t, e) {\n        var n = '<feDropShadow\\n      dx=\"' + (t.dx || 0) + '\"\\n      dy=\"' + (t.dy || 0) + '\"\\n      stdDeviation=\"' + (t.blur ? t.blur / 10 : 0) + '\"\\n      flood-color=\"' + (t.color ? t.color : \"#000\") + '\"\\n      flood-opacity=\"' + (t.opacity ? t.opacity : 1) + '\"\\n      />';\n        e.innerHTML = n;\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e) {\n        this.cfg = {};\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"marker\"),\n            i = r.uniqueId(\"marker_\");\n        n.setAttribute(\"id\", i);\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        a.setAttribute(\"stroke\", \"none\"), a.setAttribute(\"fill\", t.stroke || \"#000\"), n.appendChild(a), n.setAttribute(\"overflow\", \"visible\"), n.setAttribute(\"orient\", \"auto-start-reverse\"), this.el = n, this.child = a, this.id = i;\n        var o = t[\"marker-start\" === e ? \"startArrow\" : \"endArrow\"];\n        return this.stroke = t.stroke || \"#000\", !0 === o ? this._setDefaultPath(e, a) : this._setMarker(t.lineWidth, a), this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype._setDefaultPath = function (t, e) {\n        var n = this.el;\n        e.setAttribute(\"d\", \"M0,0 L6,3 L0,6 L3,3Z\"), n.setAttribute(\"refX\", \"3\"), n.setAttribute(\"refY\", \"3\");\n      }, t.prototype._setMarker = function (t, e) {\n        var n = this.el,\n            i = this.cfg.path,\n            a = this.cfg.d;\n        r.isArray(i) && (i = i.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")), e.setAttribute(\"d\", i), n.appendChild(e), a && n.setAttribute(\"refX\", \"\" + a / t);\n      }, t.prototype.update = function (t) {\n        var e = this.child;\n        e.attr ? e.attr(\"fill\", t) : e.setAttribute(\"fill\", t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t) {\n        this.type = \"clip\", this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this.el = e, this.id = r.uniqueId(\"clip_\"), e.id = this.id;\n        var n = t.cfg.el;\n        return e.appendChild(n.cloneNode(!0)), this.cfg = t, this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype.remove = function () {\n        var t = this.el;\n        t.parentNode.removeChild(t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        a = function () {\n      function t(t) {\n        this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\n        e.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n        e.appendChild(n);\n        var a = r.uniqueId(\"pattern_\");\n        e.id = a, this.el = e, this.id = a, this.cfg = t;\n        var o = i.exec(t)[2];\n        n.setAttribute(\"href\", o);\n        var s = new Image();\n\n        function u() {\n          e.setAttribute(\"width\", \"\" + s.width), e.setAttribute(\"height\", \"\" + s.height);\n        }\n\n        return o.match(/^data:/i) || (s.crossOrigin = \"Anonymous\"), s.src = o, s.complete ? u() : (s.onload = u, s.src = s.src), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0);\n\n    function a(t) {\n      return 1 === t[0] && 0 === t[1] && 0 === t[3] && 1 === t[4] && 0 === t[6] && 0 === t[7];\n    }\n\n    function o(t) {\n      return 0 === t[1] && 0 === t[3] && 0 === t[6] && 0 === t[7];\n    }\n\n    function s(t, e) {\n      a(e) || (o(e) ? (t[0] *= e[0], t[4] *= e[4]) : i.mat3.multiply(t, t, e));\n    }\n\n    var u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.canFill = !1, n.canStroke = !1, n.attrs = {}, n.attrs = {\n          opacity: 1,\n          fillOpacity: 1,\n          strokeOpacity: 1,\n          matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1]\n        }, n.attr(r.__assign(r.__assign({}, n.getDefaultAttrs()), n.cfg.attrs)), n.cfg.attrs = {}, n;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {};\n      }, e.prototype.attr = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) {\n          t[e] = arguments[e];\n        }\n\n        var n = t[0],\n            r = t[1];\n        if (!n) return this.attrs;\n\n        if (i.isObject(n)) {\n          for (var a in n) {\n            this._setAttr(a, n[a]);\n          }\n\n          return this.clearBBox(), this.cfg.hasUpdate = !0, this;\n        }\n\n        return 2 === t.length ? (this._setAttr(n, r), this.clearBBox(), this.cfg.hasUpdate = !0, this) : this.attrs[n];\n      }, e.prototype._afterSetAttrPath = function (t) {}, e.prototype._setAttr = function (t, e) {\n        var n = this.attrs;\n        n[t] = e, \"fill\" !== t && \"stroke\" !== t ? \"opacity\" !== t ? \"clip\" === t && e ? this._setClip(e) : \"path\" !== t ? \"transform\" !== t ? \"rotate\" === t && this.rotateAtStart(e) : this.transform(e) : this._afterSetAttrPath(e) : n.globalAlpha = e : n[t + \"Style\"] = e;\n      }, e.prototype.clearBBox = function () {\n        this.setSilent(\"box\", null);\n      }, e.prototype.hasFill = function () {\n        return this.canFill && this.attrs.fillStyle;\n      }, e.prototype.hasStroke = function () {\n        return this.canStroke && this.attrs.strokeStyle;\n      }, e.prototype._setClip = function (t) {\n        t.cfg.renderer = this.cfg.renderer, t.cfg.canvas = this.cfg.canvas, t.cfg.parent = this.cfg.parent, t.hasFill = function () {\n          return !0;\n        };\n      }, e.prototype.initTransform = function () {}, e.prototype.resetMatrix = function () {\n        this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n      }, e.prototype.translate = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.translate(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotate = function (t) {\n        var e = this.attrs.matrix;\n        return i.mat3.rotate(e, e, t), this.clearTotalMatrix(), this.attr(\"matrix\", e), this;\n      }, e.prototype.scale = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.scale(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotateAtStart = function (t) {\n        var e = this.attrs.x || 0,\n            n = this.attrs.y || 0;\n        return Math.abs(t) > 2 * Math.PI && (t = t / 180 * Math.PI), this.transform([[\"t\", -e, -n], [\"r\", t], [\"t\", e, n]]);\n      }, e.prototype.move = function (t, e) {\n        var n = this.get(\"x\") || 0,\n            r = this.get(\"y\") || 0;\n        return this.translate(t - n, e - r), this.set(\"x\", t), this.set(\"y\", e), this;\n      }, e.prototype.transform = function (t) {\n        var e = this,\n            n = this.attrs.matrix;\n        return i.each(t, function (t) {\n          switch (t[0]) {\n            case \"t\":\n              e.translate(t[1], t[2]);\n              break;\n\n            case \"s\":\n              e.scale(t[1], t[2]);\n              break;\n\n            case \"r\":\n              e.rotate(t[1]);\n              break;\n\n            case \"m\":\n              e.attr(\"matrix\", i.mat3.multiply([], n, t[1])), e.clearTotalMatrix();\n          }\n        }), this;\n      }, e.prototype.setTransform = function (t) {\n        return this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]), this.transform(t);\n      }, e.prototype.getMatrix = function () {\n        return this.attr(\"matrix\");\n      }, e.prototype.setMatrix = function (t) {\n        return this.attr(\"matrix\", t), this.clearTotalMatrix(), this;\n      }, e.prototype.apply = function (t, e) {\n        var n;\n        return n = e ? this._getMatrixByRoot(e) : this.attr(\"matrix\"), i.vec3.transformMat3(t, t, n), this;\n      }, e.prototype._getMatrixByRoot = function (t) {\n        t = t || this;\n\n        for (var e = this, n = []; e !== t;) {\n          n.unshift(e), e = e.get(\"parent\");\n        }\n\n        n.unshift(e);\n        var r = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        return i.each(n, function (t) {\n          i.mat3.multiply(r, t.attr(\"matrix\"), r);\n        }), r;\n      }, e.prototype.getTotalMatrix = function () {\n        var t = this.cfg.totalMatrix;\n\n        if (!t) {\n          t = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          var e = this.cfg.parent;\n          if (e) s(t, e.getTotalMatrix());\n          s(t, this.attr(\"matrix\")), this.cfg.totalMatrix = t;\n        }\n\n        return t;\n      }, e.prototype.clearTotalMatrix = function () {}, e.prototype.invert = function (t) {\n        var e = this.getTotalMatrix();\n        if (o(e)) t[0] /= e[0], t[1] /= e[4];else {\n          var n = i.mat3.invert([], e);\n          n && i.vec3.transformMat3(t, t, n);\n        }\n        return this;\n      }, e.prototype.resetTransform = function (t) {\n        var e = this.attr(\"matrix\");\n        a(e) || t.transform(e[0], e[1], e[3], e[4], e[6], e[7]);\n      }, e;\n    }(n(37).default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(38),\n        a = n(0),\n        o = n(11),\n        s = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\", \"touchstart\", \"touchend\", \"touchmove\", \"dragstart\", \"drag\", \"dragend\", \"dragenter\", \"dragleave\", \"drop\"],\n        u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this) || this;\n        return n.destroyed = !1, n.removed = !1, n.cfg = r.__assign(r.__assign({\n          canvas: null,\n          capture: !0,\n          context: null,\n          parent: null,\n          visible: !0,\n          zIndex: 0\n        }, e), n.getDefaultCfg()), n;\n      }\n\n      return r.__extends(e, t), e.prototype.emit = function (e, n) {\n        for (var i = [], a = 2; a < arguments.length; a++) {\n          i[a - 2] = arguments[a];\n        }\n\n        if (t.prototype.emit.apply(this, r.__spreadArrays([e, n], i)), !(n instanceof o.default && n.propagationStopped) && s.indexOf(e) >= 0) {\n          var u = this.cfg.parent;\n          !u || u.removed || u.destroyed || u.emit.apply(u, r.__spreadArrays([e, n], i));\n        }\n      }, e.prototype.set = function (t, e) {\n        return \"zIndex\" === t && this._beforeSetZIndex && this._beforeSetZIndex(e), \"loading\" === t && this._beforeSetLoading && this._beforeSetLoading(e), this.cfg[t] = e, this;\n      }, e.prototype.setSilent = function (t, e) {\n        this.cfg[t] = e;\n      }, e.prototype.get = function (t) {\n        return this.cfg[t];\n      }, e.prototype.show = function () {\n        return this.cfg.visible = !0, this;\n      }, e.prototype.hide = function () {\n        return this.cfg.visible = !1, this;\n      }, e.prototype.remove = function (t, e) {\n        var n = this.cfg,\n            r = n.parent,\n            i = n.el;\n        return r && !r.destroyed && a.pull(r.get(\"children\"), this), i && (e ? r && r.cfg.tobeRemoved.push(i) : i.parentNode.removeChild(i)), (t || void 0 === t) && this.destroy(), this;\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.off(), this.cfg = {}, this.destroyed = !0);\n      }, e.prototype.getParent = function () {\n        return this.cfg.parent;\n      }, e.prototype.getDefaultCfg = function () {\n        return {};\n      }, e.prototype.toFront = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n          n.splice(i, 1), n.push(this), r && (r.parentNode.removeChild(r), t.el = null);\n        }\n      }, e.prototype.toBack = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n\n          if (n.splice(i, 1), n.unshift(this), r) {\n            var a = r.parentNode;\n            a.removeChild(r), a.insertBefore(r, a.firstChild);\n          }\n        }\n      }, e.prototype._beforeSetZIndex = function (t) {\n        var e = this.cfg.parent;\n        this.cfg.zIndex = t, a.isNil(e) || e.sort();\n        var n = this.cfg.el;\n\n        if (n) {\n          var r = e.cfg.children,\n              i = r.indexOf(this),\n              o = n.parentNode;\n          o.removeChild(n), i === r.length - 1 ? o.appendChild(n) : o.insertBefore(n, o.childNodes[i]);\n        }\n\n        return t;\n      }, e.prototype._beforeSetLoading = function (t) {}, e.prototype.setZIndex = function (t) {\n        return this.cfg.zIndex = t, this._beforeSetZIndex(t);\n      }, e.prototype.clone = function () {\n        return a.clone(this);\n      }, e.prototype.getBBox = function () {}, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function t() {\n        this._events = {};\n      }\n\n      return t.prototype.on = function (t, e, n) {\n        return this._events[t] || (this._events[t] = []), this._events[t].push({\n          callback: e,\n          once: !!n\n        }), this;\n      }, t.prototype.once = function (t, e) {\n        return this.on(t, e, !0), this;\n      }, t.prototype.emit = function (t) {\n        for (var e = this, n = [], r = 1; r < arguments.length; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        var i = this._events[t] || [],\n            a = this._events[\"*\"] || [],\n            o = function o(r) {\n          for (var i = r.length, a = 0; a < i; a++) {\n            var o = r[a],\n                s = o.callback;\n            o.once && (r.splice(a, 1), 0 === r.length && delete e._events[t], i--, a--), s.apply(e, n);\n          }\n        };\n\n        o(i), o(a);\n      }, t.prototype.off = function (t, e) {\n        if (t) {\n          if (e) {\n            for (var n = this._events[t] || [], r = n.length, i = 0; i < r; i++) {\n              n[i].callback === e && (n.splice(i, 1), r--, i--);\n            }\n\n            0 === n.length && delete this._events[t];\n          } else delete this._events[t];\n        } else this._events = {};\n        return this;\n      }, t.prototype.getEvents = function () {\n        return this._events;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.xAt = function (t, e, n, r, i) {\n      return e * Math.cos(t) * Math.cos(i) - n * Math.sin(t) * Math.sin(i) + r;\n    }, e.yAt = function (t, e, n, r, i) {\n      return e * Math.sin(t) * Math.cos(i) + n * Math.cos(t) * Math.sin(i) + r;\n    }, e.xExtrema = function (t, e, n) {\n      return Math.atan(-n / e * Math.tan(t));\n    }, e.yExtrema = function (t, e, n) {\n      return Math.atan(n / (e * Math.tan(t)));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      circle: function circle(t, e, n) {\n        return [[\"M\", t, e], [\"m\", -n, 0], [\"a\", n, n, 0, 1, 0, 2 * n, 0], [\"a\", n, n, 0, 1, 0, 2 * -n, 0]];\n      },\n      square: function square(t, e, n) {\n        return [[\"M\", t - n, e - n], [\"L\", t + n, e - n], [\"L\", t + n, e + n], [\"L\", t - n, e + n], [\"Z\"]];\n      },\n      diamond: function diamond(t, e, n) {\n        return [[\"M\", t - n, e], [\"L\", t, e - n], [\"L\", t + n, e], [\"L\", t, e + n], [\"Z\"]];\n      },\n      triangle: function triangle(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e + r], [\"L\", t, e - r], [\"L\", t + n, e + r], [\"z\"]];\n      },\n      triangleDown: function triangleDown(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e - r], [\"L\", t + n, e - r], [\"L\", t, e + r], [\"Z\"]];\n      }\n    };\n    e.default = {\n      get: function get(t) {\n        return r[t];\n      },\n      register: function register(t, e) {\n        r[t] = e;\n      },\n      remove: function remove(t) {\n        delete r[t];\n      },\n      getAll: function getAll() {\n        return r;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      svg: \"svg\",\n      circle: \"circle\",\n      rect: \"rect\",\n      text: \"text\",\n      path: \"path\",\n      foreignObject: \"foreignObject\",\n      polygon: \"polygon\",\n      ellipse: \"ellipse\",\n      image: \"image\"\n    };\n\n    e.default = function (t, e, n) {\n      var i = n.target || n.srcElement;\n\n      if (!r[i.tagName]) {\n        for (var a = i.parentNode; a && !r[a.tagName];) {\n          a = a.parentNode;\n        }\n\n        i = a;\n      }\n\n      return this.cfg.el === i ? this : this.find(function (t) {\n        return t.cfg && t.cfg.el === i;\n      });\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(59),\n        a = n(58),\n        o = n(57),\n        s = n(14);\n\n    function u(t, e, n) {\n      var i,\n          u = e.startTime;\n      if (n < u + e.delay || e.isPaused) return !1;\n      var c = e.duration,\n          l = e.easing;\n      if (n = n - u - e.delay, e.toAttrs.repeat) i = n % c / c, i = a[l](i);else {\n        if (!((i = n / c) < 1)) return e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.setMatrix(e.toMatrix), !0;\n        i = a[l](i);\n      }\n\n      if (e.onFrame) {\n        var h = e.onFrame(i);\n        t.attr(h);\n      } else !function (t, e, n) {\n        var i = {},\n            a = e.toAttrs,\n            u = e.fromAttrs,\n            c = e.toMatrix;\n\n        if (!t.destroyed) {\n          var l;\n\n          for (var h in a) {\n            if (!r.isEqual(u[h], a[h])) if (\"path\" === h) {\n              var f = a[h],\n                  p = u[h];\n              f.length > p.length ? (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.fillPathByDiff(p, f), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f) : e.pathFormatted || (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f, e.pathFormatted = !0), i[h] = [];\n\n              for (var d = 0; d < f.length; d++) {\n                for (var v = f[d], y = p[d], g = [], x = 0; x < v.length; x++) {\n                  r.isNumber(v[x]) && y && r.isNumber(y[x]) ? (l = o.interpolate(y[x], v[x]), g.push(l(n))) : g.push(v[x]);\n                }\n\n                i[h].push(g);\n              }\n            } else l = o.interpolate(u[h], a[h]), i[h] = l(n);\n          }\n\n          if (c) {\n            var m = o.interpolateArray(e.fromMatrix, c)(n);\n            t.setMatrix(m);\n          }\n\n          t.attr(i);\n        }\n      }(t, e, i);\n\n      return !1;\n    }\n\n    var c = function () {\n      function t(t) {\n        this.animators = [], this.current = 0, this.timer = null, this.canvas = t;\n      }\n\n      return t.prototype.initTimer = function () {\n        var t,\n            e,\n            n,\n            r = this,\n            a = this;\n        a.timer = i.timer(function (i) {\n          if (a.current = i, r.animators.length > 0) {\n            for (var o = r.animators.length - 1; o >= 0; o--) {\n              if ((t = r.animators[o]).destroyed) a.removeAnimator(o);else {\n                if (!t.get(\"pause\").isPaused) for (var s = (e = t.get(\"animators\")).length - 1; s >= 0; s--) {\n                  n = e[s], u(t, n, i) && (e.splice(s, 1), !1, n.callback && n.callback());\n                }\n                0 === e.length && a.removeAnimator(o);\n              }\n            }\n\n            r.canvas.draw();\n          }\n        });\n      }, t.prototype.addAnimator = function (t) {\n        this.animators.push(t);\n      }, t.prototype.removeAnimator = function (t) {\n        this.animators.splice(t, 1);\n      }, t.prototype.isAnimating = function () {\n        return !!this.animators.length;\n      }, t.prototype.stop = function () {\n        this.timer && this.timer.stop();\n      }, t.prototype.stopAllAnimations = function () {\n        this.animators.forEach(function (t) {\n          t.stopAnimate();\n        }), this.animators = [], this.canvas.draw();\n      }, t.prototype.getTime = function () {\n        return this.current;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(3),\n        a = n(7),\n        o = n(9),\n        s = n(4),\n        u = n(2);\n\n    function c(t, e, n) {\n      return t + e * Math.cos(n);\n    }\n\n    function l(t, e, n) {\n      return t + e * Math.sin(n);\n    }\n\n    var h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"arc\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.r,\n            o = n.startAngle,\n            u = n.endAngle,\n            c = n.clockwise,\n            l = this.getHitLineWidth();\n        return !!this.hasStroke() && s.arcline(r, i, a, o, u, c, l, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            c = this.getHitLineWidth(),\n            l = c / 2,\n            h = a.box(e, n, r, i, o, s);\n        return new u.default(h.x - l, h.y - l, h.width + c, h.height + c);\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.startAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180;\n        a && (o *= -1);\n        var s = [],\n            u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([u, h]), s.push([f, p]), s;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.endAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180,\n            s = [];\n        a && (o *= -1);\n        var u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([f, p]), s.push([u, h]), s;\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r,\n            a = e.startAngle,\n            o = e.endAngle,\n            s = e.clockwise;\n        (t = t || this.get(\"context\")).beginPath(), t.arc(n, r, i, a, o, s);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs;\n\n        if (t = t || this.get(\"context\"), e.startArrow) {\n          var n = this.getStartTangent();\n          o.addStartArrow(t, e, n[0][0], n[0][1], n[1][0], n[1][1]);\n        }\n\n        if (e.endArrow) {\n          var r = this.getEndTangent();\n          o.addEndArrow(t, e, r[0][0], r[0][1], r[1][0], r[1][1]);\n        }\n      }, e;\n    }(i.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"circle\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            o = n.r,\n            s = this.getHitLineWidth(),\n            u = this.hasFill(),\n            c = this.hasStroke();\n        return u && c ? a.circle(r, i, o, t, e) || a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e) : u ? a.circle(r, i, o, t, e) : !!c && a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = this.getHitLineWidth() / 2 + r;\n        return o.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r;\n        t.beginPath(), t.arc(n, r, i, 0, 2 * Math.PI, !1), t.closePath();\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"dom\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.isPointInPath = function (t, e) {\n        if (!this.cfg.el) return !1;\n        var n = this.cfg.el.getBBox();\n        return a.box(n.x, n.x + n.width, n.y, n.y + n.height, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return new o.default(e - a, n - a, r, i);\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"ellipse\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rx: 1,\n          ry: 1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = this.hasFill(),\n            a = this.hasStroke(),\n            s = n.x,\n            u = n.y,\n            c = n.rx,\n            l = n.ry,\n            h = this.getHitLineWidth(),\n            f = c > l ? c : l,\n            p = c > l ? 1 : c / l,\n            d = c > l ? l / c : 1,\n            v = [t, e, 1],\n            y = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(y, y, [p, d]), i.mat3.translate(y, y, [s, u]);\n        var g = i.mat3.invert([], y);\n        return i.vec3.transformMat3(v, v, g), r && a ? o.circle(0, 0, f, v[0], v[1]) || o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]) : r ? o.circle(0, 0, f, v[0], v[1]) : !!a && o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rx,\n            i = t.ry,\n            a = this.getHitLineWidth(),\n            o = r + a / 2,\n            u = i + a / 2;\n        return s.default.fromRange(e - o, n - u, e + o, n + u);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.rx,\n            o = e.ry;\n        t = t || this.get(\"context\");\n        var s = a > o ? a : o,\n            u = a > o ? 1 : a / o,\n            c = a > o ? o / a : 1,\n            l = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(l, l, [u, c]), i.mat3.translate(l, l, [n, r]), t.beginPath(), t.save(), t.transform(l[0], l[1], l[3], l[4], l[6], l[7]), t.arc(0, 0, s, 0, 2 * Math.PI), t.restore(), t.closePath();\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(7),\n        o = n(3),\n        s = n(4),\n        u = n(2),\n        c = n(7),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"fan\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rs: 0,\n          re: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            o = n.hasStroke(),\n            u = n.attrs,\n            c = u.x,\n            l = u.y,\n            h = u.rs,\n            f = u.re,\n            p = u.startAngle,\n            d = u.endAngle,\n            v = u.clockwise,\n            y = [t - c, e - l],\n            g = i.vec2.angleTo([1, 0], y);\n\n        function x() {\n          var t = a.nearAngle(g, p, d, v);\n\n          if (i.isNumberEqual(g, t)) {\n            var e = i.vec2.squaredLength(y);\n            if (h * h <= e && e <= f * f) return !0;\n          }\n\n          return !1;\n        }\n\n        function m() {\n          var r = n.getHitLineWidth(),\n              i = {\n            x: Math.cos(p) * h + c,\n            y: Math.sin(p) * h + l\n          },\n              a = {\n            x: Math.cos(p) * f + c,\n            y: Math.sin(p) * f + l\n          },\n              o = {\n            x: Math.cos(d) * h + c,\n            y: Math.sin(d) * h + l\n          },\n              u = {\n            x: Math.cos(d) * f + c,\n            y: Math.sin(d) * f + l\n          };\n          return !!s.line(i.x, i.y, a.x, a.y, r, t, e) || !!s.line(o.x, o.y, u.x, u.y, r, t, e) || !!s.arcline(c, l, h, p, d, v, r, t, e) || !!s.arcline(c, l, f, p, d, v, r, t, e);\n        }\n\n        return r && o ? x() || m() : r ? x() : !!o && m();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rs,\n            i = t.re,\n            a = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            l = this.getHitLineWidth(),\n            h = c.box(e, n, r, a, o, s),\n            f = c.box(e, n, i, a, o, s),\n            p = Math.min(h.minX, f.minX),\n            d = Math.min(h.minY, f.minY),\n            v = Math.max(h.maxX, f.maxX),\n            y = Math.max(h.maxY, f.maxY),\n            g = l / 2;\n        return u.default.fromRange(p - g, d - g, v + g, y + g);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.rs,\n            a = e.re,\n            o = e.startAngle,\n            s = e.endAngle,\n            u = e.clockwise,\n            c = {\n          x: Math.cos(o) * i + n,\n          y: Math.sin(o) * i + r\n        },\n            l = {\n          x: Math.cos(o) * a + n,\n          y: Math.sin(o) * a + r\n        },\n            h = {\n          x: Math.cos(s) * i + n,\n          y: Math.sin(s) * i + r\n        };\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(c.x, c.y), t.lineTo(l.x, l.y), t.arc(n, r, a, o, s, u), t.lineTo(h.x, h.y), t.arc(n, r, i, s, o, !u), t.closePath();\n      }, e;\n    }(o.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"image\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          img: null,\n          width: 0,\n          height: 0,\n          sx: null,\n          sy: null,\n          swidth: null,\n          sheight: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n        if (this.get(\"toDraw\") || !n.img) return !1;\n        this.cfg.attrs && this.cfg.attrs.img === n.img || this._setAttrImg();\n        var r = n.x,\n            i = n.y,\n            a = n.width,\n            s = n.height;\n        return o.rect(r, i, a, s, t, e);\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs;\n        return this.cfg.attrs && this.cfg.attrs.img === t.img || this._setAttrImg(), new s.default(t.x, t.y, t.width, t.height);\n      }, e.prototype._beforeSetLoading = function (t) {\n        var e = this.get(\"canvas\");\n        return !1 === t && !0 === this.get(\"toDraw\") && (this.cfg.loading = !1, e.draw()), t;\n      }, e.prototype._setAttrImg = function () {\n        var t = this,\n            e = t.attrs,\n            n = e.img;\n        if (!i.isString(n)) return n instanceof Image ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : n instanceof HTMLElement && i.isString(n.nodeName) && \"CANVAS\" === n.nodeName.toUpperCase() ? (e.width || t.attr(\"width\", Number(n.getAttribute(\"width\"))), e.height || t.attr(\"height\", Number(n.getAttribute(\"height\"))), n) : n instanceof ImageData ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : null;\n        var r = new Image();\n        r.onload = function () {\n          if (t.get(\"destroyed\")) return !1;\n          t.attr(\"imgSrc\", n), t.attr(\"img\", r);\n          var e = t.get(\"callback\");\n          e && e.call(t), t.set(\"loading\", !1);\n        }, r.src = n, r.crossOrigin = \"Anonymous\", t.set(\"loading\", !0);\n      }, e.prototype.drawInner = function (t) {\n        this.cfg.hasUpdate && this._setAttrImg(), this.get(\"loading\") ? this.set(\"toDraw\", !0) : (this._drawImage(t), this.cfg.hasUpdate = !1);\n      }, e.prototype._drawImage = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.img,\n            o = e.width,\n            s = e.height,\n            u = e.sx,\n            c = e.sy,\n            l = e.swidth,\n            h = e.sheight;\n        this.set(\"toDraw\", !1);\n        var f = a;\n\n        if (f instanceof ImageData && ((f = new Image()).src = a), f instanceof Image || f instanceof HTMLImageElement && i.isString(f.nodeName) && \"CANVAS\" === f.nodeName.toUpperCase()) {\n          if (i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h)) return void t.drawImage(f, n, r, o, s);\n          if (!(i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h))) return void t.drawImage(f, u, c, l, h, n, r, o, s);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(9),\n        o = n(12),\n        s = n(4),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"line\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x1,\n            i = n.y1,\n            a = n.x2,\n            o = n.y2,\n            u = this.getHitLineWidth();\n        return !!this.hasStroke() && s.line(r, i, a, o, u, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x1,\n            n = t.y1,\n            r = t.x2,\n            i = t.y2,\n            a = this.getHitLineWidth();\n        return o.box(e, n, r, i, a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            a = e.y2;\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(n, r), t.lineTo(i, a);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            o = e.y2;\n        t = t || this.get(\"context\"), e.startArrow && a.addStartArrow(t, e, i, o, n, r), e.endArrow && a.addEndArrow(t, e, n, r, i, o);\n      }, e.prototype.getPoint = function (t) {\n        var e = this.attrs;\n        return {\n          x: o.at(e.x1, e.x2, t),\n          y: o.at(e.y1, e.y2, t)\n        };\n      }, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(8),\n        s = n(6),\n        u = n(9),\n        c = n(14),\n        l = n(13),\n        h = n(16),\n        f = n(2),\n        p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"path\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.get(\"segments\"),\n            a = n.hasFill(),\n            o = n.hasStroke();\n\n        function s() {\n          if (!i.isEmpty(r)) {\n            for (var a = n.getHitLineWidth(), o = 0, s = r.length; o < s; o++) {\n              if (r[o].isInside(t, e, a)) return !0;\n            }\n\n            return !1;\n          }\n        }\n\n        return a && o ? h.default(t, e, n) || s() : a ? h.default(t, e, n) : !!o && s();\n      }, e.prototype._afterSetAttrPath = function (t) {\n        if (i.isNil(t)) return this.setSilent(\"segments\", null), void this.setSilent(\"box\", void 0);\n        var e,\n            n = s.parsePath(t),\n            r = [];\n\n        if (i.isArray(n) && 0 !== n.length && (\"M\" === n[0][0] || \"m\" === n[0][0])) {\n          for (var a = n.length, u = 0; u < n.length; u++) {\n            var c = n[u];\n            e = new o.default(c, e, u === a - 1), r.push(e);\n          }\n\n          this.setSilent(\"segments\", r), this.setSilent(\"tCache\", null), this.setSilent(\"box\", null);\n        }\n      }, e.prototype.calculateBox = function () {\n        var t = this.get(\"segments\");\n        if (!t) return null;\n        var e = this.getHitLineWidth(),\n            n = 1 / 0,\n            r = -1 / 0,\n            a = 1 / 0,\n            o = -1 / 0;\n        return i.each(t, function (t) {\n          t.getBBox(e);\n          var i = t.box;\n\n          if (i) {\n            i.x < n && (n = i.x);\n            var s = i.maxX;\n            s > r && (r = s), i.y < a && (a = i.y);\n            var u = i.maxY;\n            u > o && (o = u);\n          }\n        }), n === 1 / 0 || a === 1 / 0 ? new f.default(0, 0, 0, 0) : new f.default(n, a, r - n, o - a);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = 0,\n            o = 0,\n            s = [],\n            u = this.cfg.curve;\n        u && (i.each(u, function (t, e) {\n          n = u[e + 1], r = t.length, n && (a += l.len(t[r - 2], t[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]));\n        }), i.each(u, function (i, c) {\n          n = u[c + 1], r = i.length, n && ((t = [])[0] = o / a, e = l.len(i[r - 2], i[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]), o += e, t[1] = o / a, s.push(t));\n        }), this.cfg.tCache = s);\n      }, e.prototype._calculateCurve = function () {\n        var t = this.attrs.path;\n        this.cfg.curve = c.pathTocurve(t);\n      }, e.prototype.getStartTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\");\n        if (a.length > 1) if (t = a[0].endPoint, e = a[1].endPoint, n = a[1].startTangent, r = [], i.isFunction(n)) {\n          var o = n();\n          r.push([t.x - o[0], t.y - o[1]]), r.push([t.x, t.y]);\n        } else r.push([e.x, e.y]), r.push([t.x, t.y]);\n        return r;\n      }, e.prototype.getEndTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\"),\n            o = a.length;\n        if (o > 1) if (t = a[o - 2].endPoint, e = a[o - 1].endPoint, n = a[o - 1].endTangent, r = [], i.isFunction(n)) {\n          var s = n();\n          r.push([e.x - s[0], e.y - s[1]]), r.push([e.x, e.y]);\n        } else r.push([t.x, t.y]), r.push([e.x, e.y]);\n        return r;\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.cfg.tCache;\n        r || (this._calculateCurve(), this._setTcache(), r = this.cfg.tCache);\n        var a = this.cfg.curve;\n        if (!r) return a ? {\n          x: a[0][1],\n          y: a[0][2]\n        } : null;\n        i.each(r, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        });\n        var o = a[n];\n        if (i.isNil(o) || i.isNil(n)) return null;\n        var s = o.length,\n            u = a[n + 1];\n        return {\n          x: l.at(o[s - 2], u[1], u[3], u[5], 1 - e),\n          y: l.at(o[s - 1], u[2], u[4], u[6], 1 - e)\n        };\n      }, e.prototype.createPath = function (t) {\n        var e = this.get(\"segments\");\n\n        if (i.isArray(e)) {\n          (t = t || this.get(\"context\")).beginPath();\n\n          for (var n = e.length, r = 0; r < n; r++) {\n            e[r].draw(t);\n          }\n        }\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = this.get(\"segments\"),\n            r = e.path;\n\n        if (t = t || this.get(\"context\"), i.isArray(n) && 1 !== n.length && (e.startArrow || e.endArrow) && \"z\" !== r[r.length - 1] && \"Z\" !== r[r.length - 1] && !e.fill) {\n          var a = this.getStartTangent();\n          u.addStartArrow(t, e, a[0][0], a[0][1], a[1][0], a[1][1]);\n          var o = this.getEndTangent();\n          u.addEndArrow(t, e, o[0][0], o[0][1], o[1][0], o[1][1]);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"polygon\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs.points;\n          if (r.length < 2) return !1;\n          var i = n.getHitLineWidth(),\n              a = r.slice(0);\n          return r.length >= 3 && a.push(r[0]), o.polyline(a, i, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs.points,\n            e = this.getHitLineWidth();\n        if (!t || 0 === t.length) return null;\n        var n = 1 / 0,\n            r = 1 / 0,\n            a = -1 / 0,\n            o = -1 / 0;\n        i.each(t, function (t) {\n          var e = t[0],\n              i = t[1];\n          e < n && (n = e), e > a && (a = e), i < r && (r = i), i > o && (o = i);\n        });\n        var s = e / 2;\n        return u.default.fromRange(n - s, r - s, a + s, o + s);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs.points;\n        e.length < 2 || ((t = t || this.get(\"context\")).beginPath(), i.each(e, function (e, n) {\n          0 === n ? t.moveTo(e[0], e[1]) : t.lineTo(e[0], e[1]);\n        }), t.closePath());\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(9),\n        s = n(12),\n        u = n(4),\n        c = n(2),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"polyline\", e.tCache = null, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1,\n          tCache: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n\n        if (this.hasStroke()) {\n          var r = n.points;\n          if (r.length < 2) return !1;\n          var i = n.lineWidth;\n          return u.polyline(r, i, t, e);\n        }\n\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.getHitLineWidth(),\n            n = t.points;\n        if (!n || 0 === n.length) return null;\n        var r = 1 / 0,\n            a = 1 / 0,\n            o = -1 / 0,\n            s = -1 / 0;\n        i.each(n, function (t) {\n          var e = t[0],\n              n = t[1];\n          e < r && (r = e), e > o && (o = e), n < a && (a = n), n > s && (s = n);\n        });\n        var u = e / 2;\n        return c.default.fromRange(r - u, a - u, o + u, s + u);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n = this.attrs.points,\n            r = 0,\n            a = 0,\n            o = [];\n        n && 0 !== n.length && (i.each(n, function (t, e) {\n          n[e + 1] && (r += s.len(t[0], t[1], n[e + 1][0], n[e + 1][1]));\n        }), r <= 0 || (i.each(n, function (i, u) {\n          n[u + 1] && ((t = [])[0] = a / r, e = s.len(i[0], i[1], n[u + 1][0], n[u + 1][1]), a += e, t[1] = a / r, o.push(t));\n        }), this.tCache = o));\n      }, e.prototype.createPath = function (t) {\n        var e,\n            n,\n            r = this.attrs.points;\n\n        if (!(r.length < 2)) {\n          for ((t = t || this.get(\"context\")).beginPath(), t.moveTo(r[0][0], r[0][1]), n = 1, e = r.length - 1; n < e; n++) {\n            t.lineTo(r[n][0], r[n][1]);\n          }\n\n          t.lineTo(r[e][0], r[e][1]);\n        }\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs.points,\n            e = [];\n        return e.push([t[1][0], t[1][1]]), e.push([t[0][0], t[0][1]]), e;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs.points,\n            e = t.length - 1,\n            n = [];\n        return n.push([t[e - 1][0], t[e - 1][1]]), n.push([t[e][0], t[e][1]]), n;\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.points,\n            r = n.length - 1;\n        t = t || this.get(\"context\"), e.startArrow && o.addStartArrow(t, e, n[1][0], n[1][1], n[0][0], n[0][1]), e.endArrow && o.addEndArrow(t, e, n[r - 1][0], n[r - 1][1], n[r][0], n[r][1]);\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.attrs.points,\n            a = this.tCache;\n        return a || (this._setTcache(), a = this.tCache), i.each(a, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        }), {\n          x: s.at(r[n][0], r[n + 1][0], e),\n          y: s.at(r[n][1], r[n + 1][1], e)\n        };\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(6),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"rect\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs,\n              i = r.x,\n              a = r.y,\n              s = r.width,\n              u = r.height,\n              c = r.radius,\n              l = n.getHitLineWidth();\n\n          if (0 === c) {\n            var h = l / 2;\n            return o.line(i - h, a, i + s + h, a, l, t, e) || o.line(i + s, a - h, i + s, a + u + h, l, t, e) || o.line(i + s + h, a + u, i - h, a + u, l, t, e) || o.line(i, a + u + h, i, a - h, l, t, e);\n          }\n\n          return o.line(i + c, a, i + s - c, a, l, t, e) || o.line(i + s, a + c, i + s, a + u - c, l, t, e) || o.line(i + s - c, a + u, i + c, a + u, l, t, e) || o.line(i, a + u - c, i, a + c, l, t, e) || o.arcline(i + s - c, a + c, c, 1.5 * Math.PI, 2 * Math.PI, !1, l, t, e) || o.arcline(i + s - c, a + u - c, c, 0, .5 * Math.PI, !1, l, t, e) || o.arcline(i + c, a + u - c, c, .5 * Math.PI, Math.PI, !1, l, t, e) || o.arcline(i + c, a + c, c, Math.PI, 1.5 * Math.PI, !1, l, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return u.default.fromRange(e - a, n - a, e + r + a, n + i + a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.width,\n            o = e.height,\n            s = e.radius;\n        if ((t = t || this.get(\"context\")).beginPath(), 0 === s) t.rect(n, r, i, o);else {\n          var u = a.parseRadius(s);\n          t.moveTo(n + u.r1, r), t.lineTo(n + i - u.r2, r), 0 !== u.r2 && t.arc(n + i - u.r2, r + u.r2, u.r2, -Math.PI / 2, 0), t.lineTo(n + i, r + o - u.r3), 0 !== u.r3 && t.arc(n + i - u.r3, r + o - u.r3, u.r3, 0, Math.PI / 2), t.lineTo(n + u.r4, r + o), 0 !== u.r4 && t.arc(n + u.r4, r + o - u.r4, u.r4, Math.PI / 2, Math.PI), t.lineTo(n, r + u.r1), 0 !== u.r1 && t.arc(n + u.r1, r + u.r1, u.r1, Math.PI, 1.5 * Math.PI), t.closePath();\n        }\n      }, e;\n    }(i.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"text\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          text: null,\n          lineHeight: 1,\n          lineWidth: 1,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: \"sans-serif\",\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fontVariant: \"normal\",\n          textAlign: \"start\",\n          textBaseline: \"bottom\",\n          textArr: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.getBBox();\n        if (this.hasFill() || this.hasStroke()) return o.box(n.x, n.maxX, n.minY, n.maxY, t, e);\n      }, e.prototype.initTransform = function () {\n        var t = this.attrs.fontSize;\n        t && +t < 12 && this.transform([[\"t\", -1 * this.attrs.x, -1 * this.attrs.y], [\"s\", +t / 12, +t / 12], [\"t\", this.attrs.x, this.attrs.y]]);\n      }, e.prototype._assembleFont = function () {\n        var t = this.attrs,\n            e = t.fontSize,\n            n = t.fontFamily,\n            r = t.fontWeight,\n            i = t.fontStyle,\n            a = t.fontVariant;\n        t.font = [i, a, r, e + \"px\", n].join(\" \");\n      }, e.prototype._setAttrText = function () {\n        var t = this.attrs,\n            e = t.text,\n            n = null;\n\n        if (i.isString(e) && -1 !== e.indexOf(\"\\n\")) {\n          var r = (n = e.split(\"\\n\")).length;\n          t.lineCount = r;\n        }\n\n        t.textArr = n;\n      }, e.prototype._getTextHeight = function () {\n        var t = this.attrs,\n            e = t.lineCount,\n            n = 1 * t.fontSize;\n        return e > 1 ? n * e + this._getSpaceingY() * (e - 1) : n;\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.cfg;\n        e.attrs && !e.hasUpdate || (this._assembleFont(), this._setAttrText()), t.textArr || this._setAttrText();\n        var n = t.x,\n            r = t.y,\n            i = this.measureText();\n        if (!i) return new s.default(n, r, 0, 0);\n\n        var a = this._getTextHeight(),\n            o = t.textAlign,\n            u = t.textBaseline,\n            c = this.getHitLineWidth(),\n            l = {\n          x: n,\n          y: r - a\n        };\n\n        o && (\"end\" === o || \"right\" === o ? l.x -= i : \"center\" === o && (l.x -= i / 2)), u && (\"top\" === u ? l.y += a : \"middle\" === u && (l.y += a / 2)), this.set(\"startPoint\", l);\n        var h = c / 2;\n        return s.default.fromRange(l.x - h, l.y - h, l.x + i + h, l.y + a + h);\n      }, e.prototype._getSpaceingY = function () {\n        var t = this.attrs,\n            e = t.lineHeight,\n            n = 1 * t.fontSize;\n        return e ? e - n : .14 * n;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs,\n            n = this.cfg;\n        n.attrs && !n.hasUpdate || (this._assembleFont(), this._setAttrText()), t.font = e.font;\n        var r = e.text;\n\n        if (!i.isNil(r)) {\n          var a = e.textArr,\n              o = e.x,\n              s = e.y,\n              u = e.maxWidth;\n\n          if (t.beginPath(), this.hasStroke()) {\n            var c = e.strokeOpacity;\n            i.isNil(c) || 1 === c || (t.globalAlpha = c), a ? this._drawTextArr(t, !1) : t.strokeText(r, o, s, u), t.globalAlpha = 1;\n          }\n\n          if (this.hasFill()) {\n            var l = e.fillOpacity;\n            i.isNil(l) || 1 === l || (t.globalAlpha = l), a ? this._drawTextArr(t, !0) : t.fillText(r, o, s, u);\n          }\n\n          n.hasUpdate = !1;\n        }\n      }, e.prototype._drawTextArr = function (t, e) {\n        var n,\n            r = this.attrs.textArr,\n            a = this.attrs.textBaseline,\n            o = 1 * this.attrs.fontSize,\n            s = this._getSpaceingY(),\n            u = this.attrs.x,\n            c = this.attrs.y,\n            l = this.attrs.maxWidth,\n            h = this.getBBox(),\n            f = h.maxY - h.minY;\n\n        i.each(r, function (r, i) {\n          n = c + i * (s + o) - f + o, \"middle\" === a && (n += f - o - (f - o) / 2), \"top\" === a && (n += f - o), e ? t.fillText(r, u, n, l) : t.strokeText(r, u, n, l);\n        });\n      }, e.prototype.measureText = function () {\n        var t,\n            e = this.attrs,\n            n = e.text,\n            r = e.font,\n            a = e.textArr,\n            o = 0;\n\n        if (!i.isNil(n)) {\n          var s = document.createElement(\"canvas\").getContext(\"2d\");\n          return s.save(), s.font = r, a ? i.each(a, function (e) {\n            t = s.measureText(e).width, o < t && (o = t), s.restore();\n          }) : (o = s.measureText(n).width, s.restore()), void 0 !== e.maxWidth && (o = Math.min(e.maxWidth, o)), o;\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t) {\n    t.exports = JSON.parse('{\"name\":\"@antv/g\",\"version\":\"3.5.0-beta.3\",\"description\":\"A canvas library which providing 2d draw for G2.\",\"keywords\":[\"canvas\",\"svg\",\"G\",\"G2\",\"G6\",\"2d draw\"],\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"browser\":\"dist/g.min.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"lib\",\"esm\",\"dist\",\"LICENSE\",\"README.md\"],\"homepage\":\"https://github.com/antvis/g\",\"author\":\"https://github.com/orgs/antvis/people\",\"repository\":{\"type\":\"git\",\"url\":\"git@github.com:antvis/g.git\"},\"bugs\":{\"url\":\"https://github.com/antvis/g/issues\"},\"scripts\":{\"test\":\"torch --compile --renderer --opts __tests__/mocha.opts\",\"test-live\":\"torch --compile --renderer --interactive --opts __tests__/mocha.opts\",\"build\":\"run-s clean lib\",\"clean\":\"rimraf lib esm\",\"lib\":\"run-p lib:*\",\"lib:cjs\":\"loose-tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"lib:esm\":\"loose-tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"lib:umd\":\"webpack --config webpack.config.js --mode production\",\"lint\":\"exit 0\",\"coverage\":\"exit 0\",\"tsc\":\"loose-tsc --noEmit\",\"prettier\":\"prettier --write \\'*.{js,ts,json,md}\\'\"},\"husky\":{\"hooks\":{\"pre-commit\":\"run-s lint\"}},\"lint-staged\":{\"*.{js,json,md}\":[\"prettier --write\",\"git add\"],\"*.{ts}\":[\"tslint -c tslint.json --fix\",\"prettier --write\",\"git add\"]},\"dependencies\":{\"@antv/event-emitter\":\"^0.1.0\",\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/util\":\"~1.3.1\",\"d3-ease\":\"~1.0.3\",\"d3-interpolate\":\"~1.1.5\",\"d3-timer\":\"~1.0.6\",\"detect-browser\":\"^4.6.0\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.3\",\"@babel/cli\":\"^7.1.5\",\"@babel/core\":\"^7.1.6\",\"@babel/plugin-proposal-class-properties\":\"^7.1.0\",\"@babel/plugin-proposal-object-rest-spread\":\"^7.0.0\",\"@babel/preset-env\":\"^7.2.0\",\"@babel/preset-typescript\":\"^7.1.0\",\"@commitlint/cli\":\"^7.2.1\",\"@commitlint/config-angular\":\"^7.1.2\",\"@types/lodash\":\"^4.14.119\",\"@types/node\":\"^10.12.18\",\"babel-eslint\":\"^10.0.1\",\"babel-loader\":\"^8.0.0\",\"babel-plugin-transform-remove-strict-mode\":\"~0.0.2\",\"benchmark\":\"^2.1.4\",\"chai\":\"~4.0.1\",\"eslint\":\"^5.10.0\",\"eslint-config-egg\":\"^7.1.0\",\"eslint-config-prettier\":\"^6.1.0\",\"event-simulate\":\"~1.0.0\",\"git-contributor\":\"~1.0.8\",\"husky\":\"^1.3.1\",\"lint-staged\":\"^9.2.3\",\"loose-tsc\":\"^0.0.1\",\"npm-run-all\":\"^4.1.5\",\"prettier\":\"^1.18.2\",\"rimraf\":\"^3.0.0\",\"source-map-support\":\"^0.5.9\",\"ts-loader\":\"^5.3.1\",\"ts-node\":\"^7.0.1\",\"tslint\":\"^5.12.0\",\"tslint-config-airbnb\":\"^5.11.1\",\"tslint-config-prettier\":\"^1.18.0\",\"typescript\":\"^3.2.2\",\"webpack\":\"^4.26.1\",\"webpack-cli\":\"^3.1.2\"}}');\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e);\n\n    var r = function r(t, e, n) {\n      t.prototype = e.prototype = n, n.constructor = t;\n    };\n\n    function i(t, e) {\n      var n = Object.create(t.prototype);\n\n      for (var r in e) {\n        n[r] = e[r];\n      }\n\n      return n;\n    }\n\n    function a() {}\n\n    var o = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n        s = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n        u = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n        c = /^#([0-9a-f]{3,8})$/,\n        l = new RegExp(\"^rgb\\\\(\" + [o, o, o] + \"\\\\)$\"),\n        h = new RegExp(\"^rgb\\\\(\" + [u, u, u] + \"\\\\)$\"),\n        f = new RegExp(\"^rgba\\\\(\" + [o, o, o, s] + \"\\\\)$\"),\n        p = new RegExp(\"^rgba\\\\(\" + [u, u, u, s] + \"\\\\)$\"),\n        d = new RegExp(\"^hsl\\\\(\" + [s, u, u] + \"\\\\)$\"),\n        v = new RegExp(\"^hsla\\\\(\" + [s, u, u, s] + \"\\\\)$\"),\n        y = {\n      aliceblue: 15792383,\n      antiquewhite: 16444375,\n      aqua: 65535,\n      aquamarine: 8388564,\n      azure: 15794175,\n      beige: 16119260,\n      bisque: 16770244,\n      black: 0,\n      blanchedalmond: 16772045,\n      blue: 255,\n      blueviolet: 9055202,\n      brown: 10824234,\n      burlywood: 14596231,\n      cadetblue: 6266528,\n      chartreuse: 8388352,\n      chocolate: 13789470,\n      coral: 16744272,\n      cornflowerblue: 6591981,\n      cornsilk: 16775388,\n      crimson: 14423100,\n      cyan: 65535,\n      darkblue: 139,\n      darkcyan: 35723,\n      darkgoldenrod: 12092939,\n      darkgray: 11119017,\n      darkgreen: 25600,\n      darkgrey: 11119017,\n      darkkhaki: 12433259,\n      darkmagenta: 9109643,\n      darkolivegreen: 5597999,\n      darkorange: 16747520,\n      darkorchid: 10040012,\n      darkred: 9109504,\n      darksalmon: 15308410,\n      darkseagreen: 9419919,\n      darkslateblue: 4734347,\n      darkslategray: 3100495,\n      darkslategrey: 3100495,\n      darkturquoise: 52945,\n      darkviolet: 9699539,\n      deeppink: 16716947,\n      deepskyblue: 49151,\n      dimgray: 6908265,\n      dimgrey: 6908265,\n      dodgerblue: 2003199,\n      firebrick: 11674146,\n      floralwhite: 16775920,\n      forestgreen: 2263842,\n      fuchsia: 16711935,\n      gainsboro: 14474460,\n      ghostwhite: 16316671,\n      gold: 16766720,\n      goldenrod: 14329120,\n      gray: 8421504,\n      green: 32768,\n      greenyellow: 11403055,\n      grey: 8421504,\n      honeydew: 15794160,\n      hotpink: 16738740,\n      indianred: 13458524,\n      indigo: 4915330,\n      ivory: 16777200,\n      khaki: 15787660,\n      lavender: 15132410,\n      lavenderblush: 16773365,\n      lawngreen: 8190976,\n      lemonchiffon: 16775885,\n      lightblue: 11393254,\n      lightcoral: 15761536,\n      lightcyan: 14745599,\n      lightgoldenrodyellow: 16448210,\n      lightgray: 13882323,\n      lightgreen: 9498256,\n      lightgrey: 13882323,\n      lightpink: 16758465,\n      lightsalmon: 16752762,\n      lightseagreen: 2142890,\n      lightskyblue: 8900346,\n      lightslategray: 7833753,\n      lightslategrey: 7833753,\n      lightsteelblue: 11584734,\n      lightyellow: 16777184,\n      lime: 65280,\n      limegreen: 3329330,\n      linen: 16445670,\n      magenta: 16711935,\n      maroon: 8388608,\n      mediumaquamarine: 6737322,\n      mediumblue: 205,\n      mediumorchid: 12211667,\n      mediumpurple: 9662683,\n      mediumseagreen: 3978097,\n      mediumslateblue: 8087790,\n      mediumspringgreen: 64154,\n      mediumturquoise: 4772300,\n      mediumvioletred: 13047173,\n      midnightblue: 1644912,\n      mintcream: 16121850,\n      mistyrose: 16770273,\n      moccasin: 16770229,\n      navajowhite: 16768685,\n      navy: 128,\n      oldlace: 16643558,\n      olive: 8421376,\n      olivedrab: 7048739,\n      orange: 16753920,\n      orangered: 16729344,\n      orchid: 14315734,\n      palegoldenrod: 15657130,\n      palegreen: 10025880,\n      paleturquoise: 11529966,\n      palevioletred: 14381203,\n      papayawhip: 16773077,\n      peachpuff: 16767673,\n      peru: 13468991,\n      pink: 16761035,\n      plum: 14524637,\n      powderblue: 11591910,\n      purple: 8388736,\n      rebeccapurple: 6697881,\n      red: 16711680,\n      rosybrown: 12357519,\n      royalblue: 4286945,\n      saddlebrown: 9127187,\n      salmon: 16416882,\n      sandybrown: 16032864,\n      seagreen: 3050327,\n      seashell: 16774638,\n      sienna: 10506797,\n      silver: 12632256,\n      skyblue: 8900331,\n      slateblue: 6970061,\n      slategray: 7372944,\n      slategrey: 7372944,\n      snow: 16775930,\n      springgreen: 65407,\n      steelblue: 4620980,\n      tan: 13808780,\n      teal: 32896,\n      thistle: 14204888,\n      tomato: 16737095,\n      turquoise: 4251856,\n      violet: 15631086,\n      wheat: 16113331,\n      white: 16777215,\n      whitesmoke: 16119285,\n      yellow: 16776960,\n      yellowgreen: 10145074\n    };\n\n    function g() {\n      return this.rgb().formatHex();\n    }\n\n    function x() {\n      return this.rgb().formatRgb();\n    }\n\n    function m(t) {\n      var e, n;\n      return t = (t + \"\").trim().toLowerCase(), (e = c.exec(t)) ? (n = e[1].length, e = parseInt(e[1], 16), 6 === n ? b(e) : 3 === n ? new A(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e, 1) : 8 === n ? new A(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (255 & e) / 255) : 4 === n ? new A(e >> 12 & 15 | e >> 8 & 240, e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, ((15 & e) << 4 | 15 & e) / 255) : null) : (e = l.exec(t)) ? new A(e[1], e[2], e[3], 1) : (e = h.exec(t)) ? new A(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, 1) : (e = f.exec(t)) ? M(e[1], e[2], e[3], e[4]) : (e = p.exec(t)) ? M(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = d.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, 1) : (e = v.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, e[4]) : y.hasOwnProperty(t) ? b(y[t]) : \"transparent\" === t ? new A(NaN, NaN, NaN, 0) : null;\n    }\n\n    function b(t) {\n      return new A(t >> 16 & 255, t >> 8 & 255, 255 & t, 1);\n    }\n\n    function M(t, e, n, r) {\n      return r <= 0 && (t = e = n = NaN), new A(t, e, n, r);\n    }\n\n    function w(t) {\n      return t instanceof a || (t = m(t)), t ? new A((t = t.rgb()).r, t.g, t.b, t.opacity) : new A();\n    }\n\n    function _(t, e, n, r) {\n      return 1 === arguments.length ? w(t) : new A(t, e, n, null == r ? 1 : r);\n    }\n\n    function A(t, e, n, r) {\n      this.r = +t, this.g = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function P() {\n      return \"#\" + k(this.r) + k(this.g) + k(this.b);\n    }\n\n    function S() {\n      var t = this.opacity;\n      return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? \")\" : \", \" + t + \")\");\n    }\n\n    function k(t) {\n      return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? \"0\" : \"\") + t.toString(16);\n    }\n\n    function O(t, e, n, r) {\n      return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN), new C(t, e, n, r);\n    }\n\n    function I(t) {\n      if (t instanceof C) return new C(t.h, t.s, t.l, t.opacity);\n      if (t instanceof a || (t = m(t)), !t) return new C();\n      if (t instanceof C) return t;\n      var e = (t = t.rgb()).r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = Math.min(e, n, r),\n          o = Math.max(e, n, r),\n          s = NaN,\n          u = o - i,\n          c = (o + i) / 2;\n      return u ? (s = e === o ? (n - r) / u + 6 * (n < r) : n === o ? (r - e) / u + 2 : (e - n) / u + 4, u /= c < .5 ? o + i : 2 - o - i, s *= 60) : u = c > 0 && c < 1 ? 0 : s, new C(s, u, c, t.opacity);\n    }\n\n    function T(t, e, n, r) {\n      return 1 === arguments.length ? I(t) : new C(t, e, n, null == r ? 1 : r);\n    }\n\n    function C(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function E(t, e, n) {\n      return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e);\n    }\n\n    function N(t, e, n, r, i) {\n      var a = t * t,\n          o = a * t;\n      return ((1 - 3 * t + 3 * a - o) * e + (4 - 6 * a + 3 * o) * n + (1 + 3 * t + 3 * a - 3 * o) * r + o * i) / 6;\n    }\n\n    r(a, m, {\n      copy: function copy(t) {\n        return Object.assign(new this.constructor(), this, t);\n      },\n      displayable: function displayable() {\n        return this.rgb().displayable();\n      },\n      hex: g,\n      formatHex: g,\n      formatHsl: function formatHsl() {\n        return I(this).formatHsl();\n      },\n      formatRgb: x,\n      toString: x\n    }), r(A, _, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new A(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new A(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      rgb: function rgb() {\n        return this;\n      },\n      displayable: function displayable() {\n        return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      hex: P,\n      formatHex: P,\n      formatRgb: S,\n      toString: S\n    })), r(C, T, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = this.h % 360 + 360 * (this.h < 0),\n            e = isNaN(t) || isNaN(this.s) ? 0 : this.s,\n            n = this.l,\n            r = n + (n < .5 ? n : 1 - n) * e,\n            i = 2 * n - r;\n        return new A(E(t >= 240 ? t - 240 : t + 120, i, r), E(t, i, r), E(t < 120 ? t + 240 : t - 120, i, r), this.opacity);\n      },\n      displayable: function displayable() {\n        return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      formatHsl: function formatHsl() {\n        var t = this.opacity;\n        return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + 100 * (this.s || 0) + \"%, \" + 100 * (this.l || 0) + \"%\" + (1 === t ? \")\" : \", \" + t + \")\");\n      }\n    }));\n\n    var j = function j(t) {\n      var e = t.length - 1;\n      return function (n) {\n        var r = n <= 0 ? n = 0 : n >= 1 ? (n = 1, e - 1) : Math.floor(n * e),\n            i = t[r],\n            a = t[r + 1],\n            o = r > 0 ? t[r - 1] : 2 * i - a,\n            s = r < e - 1 ? t[r + 2] : 2 * a - i;\n        return N((n - r / e) * e, o, i, a, s);\n      };\n    },\n        L = function L(t) {\n      var e = t.length;\n      return function (n) {\n        var r = Math.floor(((n %= 1) < 0 ? ++n : n) * e),\n            i = t[(r + e - 1) % e],\n            a = t[r % e],\n            o = t[(r + 1) % e],\n            s = t[(r + 2) % e];\n        return N((n - r / e) * e, i, a, o, s);\n      };\n    },\n        q = function q(t) {\n      return function () {\n        return t;\n      };\n    };\n\n    function B(t, e) {\n      return function (n) {\n        return t + n * e;\n      };\n    }\n\n    function R(t, e) {\n      var n = e - t;\n      return n ? B(t, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : q(isNaN(t) ? e : t);\n    }\n\n    function F(t) {\n      return 1 == (t = +t) ? D : function (e, n) {\n        return n - e ? function (t, e, n) {\n          return t = Math.pow(t, n), e = Math.pow(e, n) - t, n = 1 / n, function (r) {\n            return Math.pow(t + r * e, n);\n          };\n        }(e, n, t) : q(isNaN(e) ? n : e);\n      };\n    }\n\n    function D(t, e) {\n      var n = e - t;\n      return n ? B(t, n) : q(isNaN(t) ? e : t);\n    }\n\n    var W = function t(e) {\n      var n = F(e);\n\n      function r(t, e) {\n        var r = n((t = _(t)).r, (e = _(e)).r),\n            i = n(t.g, e.g),\n            a = n(t.b, e.b),\n            o = D(t.opacity, e.opacity);\n        return function (e) {\n          return t.r = r(e), t.g = i(e), t.b = a(e), t.opacity = o(e), t + \"\";\n        };\n      }\n\n      return r.gamma = t, r;\n    }(1);\n\n    function Y(t) {\n      return function (e) {\n        var n,\n            r,\n            i = e.length,\n            a = new Array(i),\n            o = new Array(i),\n            s = new Array(i);\n\n        for (n = 0; n < i; ++n) {\n          r = _(e[n]), a[n] = r.r || 0, o[n] = r.g || 0, s[n] = r.b || 0;\n        }\n\n        return a = t(a), o = t(o), s = t(s), r.opacity = 1, function (t) {\n          return r.r = a(t), r.g = o(t), r.b = s(t), r + \"\";\n        };\n      };\n    }\n\n    var H = Y(j),\n        X = Y(L),\n        U = function U(t, e) {\n      var n,\n          r = e ? e.length : 0,\n          i = t ? Math.min(r, t.length) : 0,\n          a = new Array(i),\n          o = new Array(r);\n\n      for (n = 0; n < i; ++n) {\n        a[n] = nt(t[n], e[n]);\n      }\n\n      for (; n < r; ++n) {\n        o[n] = e[n];\n      }\n\n      return function (t) {\n        for (n = 0; n < i; ++n) {\n          o[n] = a[n](t);\n        }\n\n        return o;\n      };\n    },\n        z = function z(t, e) {\n      var n = new Date();\n      return e -= t = +t, function (r) {\n        return n.setTime(t + e * r), n;\n      };\n    },\n        Q = function Q(t, e) {\n      return e -= t = +t, function (n) {\n        return t + e * n;\n      };\n    },\n        V = function V(t, e) {\n      var n,\n          r = {},\n          i = {};\n\n      for (n in null !== t && \"object\" == typeof t || (t = {}), null !== e && \"object\" == typeof e || (e = {}), e) {\n        n in t ? r[n] = nt(t[n], e[n]) : i[n] = e[n];\n      }\n\n      return function (t) {\n        for (n in r) {\n          i[n] = r[n](t);\n        }\n\n        return i;\n      };\n    },\n        Z = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n        G = new RegExp(Z.source, \"g\");\n\n    var $,\n        K,\n        J,\n        tt,\n        et = function et(t, e) {\n      var n,\n          r,\n          i,\n          a = Z.lastIndex = G.lastIndex = 0,\n          o = -1,\n          s = [],\n          u = [];\n\n      for (t += \"\", e += \"\"; (n = Z.exec(t)) && (r = G.exec(e));) {\n        (i = r.index) > a && (i = e.slice(a, i), s[o] ? s[o] += i : s[++o] = i), (n = n[0]) === (r = r[0]) ? s[o] ? s[o] += r : s[++o] = r : (s[++o] = null, u.push({\n          i: o,\n          x: Q(n, r)\n        })), a = G.lastIndex;\n      }\n\n      return a < e.length && (i = e.slice(a), s[o] ? s[o] += i : s[++o] = i), s.length < 2 ? u[0] ? function (t) {\n        return function (e) {\n          return t(e) + \"\";\n        };\n      }(u[0].x) : function (t) {\n        return function () {\n          return t;\n        };\n      }(e) : (e = u.length, function (t) {\n        for (var n, r = 0; r < e; ++r) {\n          s[(n = u[r]).i] = n.x(t);\n        }\n\n        return s.join(\"\");\n      });\n    },\n        nt = function nt(t, e) {\n      var n,\n          r = typeof e;\n      return null == e || \"boolean\" === r ? q(e) : (\"number\" === r ? Q : \"string\" === r ? (n = m(e)) ? (e = n, W) : et : e instanceof m ? W : e instanceof Date ? z : Array.isArray(e) ? U : \"function\" != typeof e.valueOf && \"function\" != typeof e.toString || isNaN(e) ? V : Q)(t, e);\n    },\n        rt = function rt(t, e) {\n      return e -= t = +t, function (n) {\n        return Math.round(t + e * n);\n      };\n    },\n        it = 180 / Math.PI,\n        at = {\n      translateX: 0,\n      translateY: 0,\n      rotate: 0,\n      skewX: 0,\n      scaleX: 1,\n      scaleY: 1\n    },\n        ot = function ot(t, e, n, r, i, a) {\n      var o, s, u;\n      return (o = Math.sqrt(t * t + e * e)) && (t /= o, e /= o), (u = t * n + e * r) && (n -= t * u, r -= e * u), (s = Math.sqrt(n * n + r * r)) && (n /= s, r /= s, u /= s), t * r < e * n && (t = -t, e = -e, u = -u, o = -o), {\n        translateX: i,\n        translateY: a,\n        rotate: Math.atan2(e, t) * it,\n        skewX: Math.atan(u) * it,\n        scaleX: o,\n        scaleY: s\n      };\n    };\n\n    function st(t, e, n, r) {\n      function i(t) {\n        return t.length ? t.pop() + \" \" : \"\";\n      }\n\n      return function (a, o) {\n        var s = [],\n            u = [];\n        return a = t(a), o = t(o), function (t, r, i, a, o, s) {\n          if (t !== i || r !== a) {\n            var u = o.push(\"translate(\", null, e, null, n);\n            s.push({\n              i: u - 4,\n              x: Q(t, i)\n            }, {\n              i: u - 2,\n              x: Q(r, a)\n            });\n          } else (i || a) && o.push(\"translate(\" + i + e + a + n);\n        }(a.translateX, a.translateY, o.translateX, o.translateY, s, u), function (t, e, n, a) {\n          t !== e ? (t - e > 180 ? e += 360 : e - t > 180 && (t += 360), a.push({\n            i: n.push(i(n) + \"rotate(\", null, r) - 2,\n            x: Q(t, e)\n          })) : e && n.push(i(n) + \"rotate(\" + e + r);\n        }(a.rotate, o.rotate, s, u), function (t, e, n, a) {\n          t !== e ? a.push({\n            i: n.push(i(n) + \"skewX(\", null, r) - 2,\n            x: Q(t, e)\n          }) : e && n.push(i(n) + \"skewX(\" + e + r);\n        }(a.skewX, o.skewX, s, u), function (t, e, n, r, a, o) {\n          if (t !== n || e !== r) {\n            var s = a.push(i(a) + \"scale(\", null, \",\", null, \")\");\n            o.push({\n              i: s - 4,\n              x: Q(t, n)\n            }, {\n              i: s - 2,\n              x: Q(e, r)\n            });\n          } else 1 === n && 1 === r || a.push(i(a) + \"scale(\" + n + \",\" + r + \")\");\n        }(a.scaleX, a.scaleY, o.scaleX, o.scaleY, s, u), a = o = null, function (t) {\n          for (var e, n = -1, r = u.length; ++n < r;) {\n            s[(e = u[n]).i] = e.x(t);\n          }\n\n          return s.join(\"\");\n        };\n      };\n    }\n\n    var ut = st(function (t) {\n      return \"none\" === t ? at : ($ || ($ = document.createElement(\"DIV\"), K = document.documentElement, J = document.defaultView), $.style.transform = t, t = J.getComputedStyle(K.appendChild($), null).getPropertyValue(\"transform\"), K.removeChild($), t = t.slice(7, -1).split(\",\"), ot(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5]));\n    }, \"px, \", \"px)\", \"deg)\"),\n        ct = st(function (t) {\n      return null == t ? at : (tt || (tt = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")), tt.setAttribute(\"transform\", t), (t = tt.transform.baseVal.consolidate()) ? (t = t.matrix, ot(t.a, t.b, t.c, t.d, t.e, t.f)) : at);\n    }, \", \", \")\", \")\"),\n        lt = Math.SQRT2;\n\n    function ht(t) {\n      return ((t = Math.exp(t)) + 1 / t) / 2;\n    }\n\n    var ft = function ft(t, e) {\n      var n,\n          r,\n          i = t[0],\n          a = t[1],\n          o = t[2],\n          s = e[0],\n          u = e[1],\n          c = e[2],\n          l = s - i,\n          h = u - a,\n          f = l * l + h * h;\n      if (f < 1e-12) r = Math.log(c / o) / lt, n = function n(t) {\n        return [i + t * l, a + t * h, o * Math.exp(lt * t * r)];\n      };else {\n        var p = Math.sqrt(f),\n            d = (c * c - o * o + 4 * f) / (2 * o * 2 * p),\n            v = (c * c - o * o - 4 * f) / (2 * c * 2 * p),\n            y = Math.log(Math.sqrt(d * d + 1) - d),\n            g = Math.log(Math.sqrt(v * v + 1) - v);\n        r = (g - y) / lt, n = function n(t) {\n          var e,\n              n = t * r,\n              s = ht(y),\n              u = o / (2 * p) * (s * (e = lt * n + y, ((e = Math.exp(2 * e)) - 1) / (e + 1)) - function (t) {\n            return ((t = Math.exp(t)) - 1 / t) / 2;\n          }(y));\n\n          return [i + u * l, a + u * h, o * s / ht(lt * n + y)];\n        };\n      }\n      return n.duration = 1e3 * r, n;\n    };\n\n    function pt(t) {\n      return function (e, n) {\n        var r = t((e = T(e)).h, (n = T(n)).h),\n            i = D(e.s, n.s),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.s = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    var dt = pt(R),\n        vt = pt(D),\n        yt = Math.PI / 180,\n        gt = 180 / Math.PI,\n        xt = 6 / 29,\n        mt = 3 * xt * xt;\n\n    function bt(t) {\n      if (t instanceof wt) return new wt(t.l, t.a, t.b, t.opacity);\n      if (t instanceof It) return Tt(t);\n      t instanceof A || (t = w(t));\n\n      var e,\n          n,\n          r = St(t.r),\n          i = St(t.g),\n          a = St(t.b),\n          o = _t((.2225045 * r + .7168786 * i + .0606169 * a) / 1);\n\n      return r === i && i === a ? e = n = o : (e = _t((.4360747 * r + .3850649 * i + .1430804 * a) / .96422), n = _t((.0139322 * r + .0971045 * i + .7141733 * a) / .82521)), new wt(116 * o - 16, 500 * (e - o), 200 * (o - n), t.opacity);\n    }\n\n    function Mt(t, e, n, r) {\n      return 1 === arguments.length ? bt(t) : new wt(t, e, n, null == r ? 1 : r);\n    }\n\n    function wt(t, e, n, r) {\n      this.l = +t, this.a = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function _t(t) {\n      return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / mt + 4 / 29;\n    }\n\n    function At(t) {\n      return t > xt ? t * t * t : mt * (t - 4 / 29);\n    }\n\n    function Pt(t) {\n      return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);\n    }\n\n    function St(t) {\n      return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);\n    }\n\n    function kt(t) {\n      if (t instanceof It) return new It(t.h, t.c, t.l, t.opacity);\n      if (t instanceof wt || (t = bt(t)), 0 === t.a && 0 === t.b) return new It(NaN, 0 < t.l && t.l < 100 ? 0 : NaN, t.l, t.opacity);\n      var e = Math.atan2(t.b, t.a) * gt;\n      return new It(e < 0 ? e + 360 : e, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity);\n    }\n\n    function Ot(t, e, n, r) {\n      return 1 === arguments.length ? kt(t) : new It(t, e, n, null == r ? 1 : r);\n    }\n\n    function It(t, e, n, r) {\n      this.h = +t, this.c = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function Tt(t) {\n      if (isNaN(t.h)) return new wt(t.l, 0, 0, t.opacity);\n      var e = t.h * yt;\n      return new wt(t.l, Math.cos(e) * t.c, Math.sin(e) * t.c, t.opacity);\n    }\n\n    function Ct(t, e) {\n      var n = D((t = Mt(t)).l, (e = Mt(e)).l),\n          r = D(t.a, e.a),\n          i = D(t.b, e.b),\n          a = D(t.opacity, e.opacity);\n      return function (e) {\n        return t.l = n(e), t.a = r(e), t.b = i(e), t.opacity = a(e), t + \"\";\n      };\n    }\n\n    function Et(t) {\n      return function (e, n) {\n        var r = t((e = Ot(e)).h, (n = Ot(n)).h),\n            i = D(e.c, n.c),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.c = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    r(wt, Mt, i(a, {\n      brighter: function brighter(t) {\n        return new wt(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      darker: function darker(t) {\n        return new wt(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = (this.l + 16) / 116,\n            e = isNaN(this.a) ? t : t + this.a / 500,\n            n = isNaN(this.b) ? t : t - this.b / 200;\n        return new A(Pt(3.1338561 * (e = .96422 * At(e)) - 1.6168667 * (t = 1 * At(t)) - .4906146 * (n = .82521 * At(n))), Pt(-.9787684 * e + 1.9161415 * t + .033454 * n), Pt(.0719453 * e - .2289914 * t + 1.4052427 * n), this.opacity);\n      }\n    })), r(It, Ot, i(a, {\n      brighter: function brighter(t) {\n        return new It(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity);\n      },\n      darker: function darker(t) {\n        return new It(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity);\n      },\n      rgb: function rgb() {\n        return Tt(this).rgb();\n      }\n    }));\n    var Nt = Et(R),\n        jt = Et(D),\n        Lt = -.14861,\n        qt = 1.78277,\n        Bt = -.29227,\n        Rt = -.90649,\n        Ft = 1.97294,\n        Dt = Ft * Rt,\n        Wt = Ft * qt,\n        Yt = qt * Bt - Rt * Lt;\n\n    function Ht(t) {\n      if (t instanceof Ut) return new Ut(t.h, t.s, t.l, t.opacity);\n      t instanceof A || (t = w(t));\n      var e = t.r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = (Yt * r + Dt * e - Wt * n) / (Yt + Dt - Wt),\n          a = r - i,\n          o = (Ft * (n - i) - Bt * a) / Rt,\n          s = Math.sqrt(o * o + a * a) / (Ft * i * (1 - i)),\n          u = s ? Math.atan2(o, a) * gt - 120 : NaN;\n      return new Ut(u < 0 ? u + 360 : u, s, i, t.opacity);\n    }\n\n    function Xt(t, e, n, r) {\n      return 1 === arguments.length ? Ht(t) : new Ut(t, e, n, null == r ? 1 : r);\n    }\n\n    function Ut(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function zt(t) {\n      return function e(n) {\n        function r(e, r) {\n          var i = t((e = Xt(e)).h, (r = Xt(r)).h),\n              a = D(e.s, r.s),\n              o = D(e.l, r.l),\n              s = D(e.opacity, r.opacity);\n          return function (t) {\n            return e.h = i(t), e.s = a(t), e.l = o(Math.pow(t, n)), e.opacity = s(t), e + \"\";\n          };\n        }\n\n        return n = +n, r.gamma = e, r;\n      }(1);\n    }\n\n    r(Ut, Xt, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new Ut(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new Ut(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = isNaN(this.h) ? 0 : (this.h + 120) * yt,\n            e = +this.l,\n            n = isNaN(this.s) ? 0 : this.s * e * (1 - e),\n            r = Math.cos(t),\n            i = Math.sin(t);\n        return new A(255 * (e + n * (Lt * r + qt * i)), 255 * (e + n * (Bt * r + Rt * i)), 255 * (e + n * (Ft * r)), this.opacity);\n      }\n    }));\n\n    var Qt = zt(R),\n        Vt = zt(D),\n        Zt = function Zt(t, e) {\n      for (var n = new Array(e), r = 0; r < e; ++r) {\n        n[r] = t(r / (e - 1));\n      }\n\n      return n;\n    };\n\n    n.d(e, \"interpolate\", function () {\n      return nt;\n    }), n.d(e, \"interpolateArray\", function () {\n      return U;\n    }), n.d(e, \"interpolateBasis\", function () {\n      return j;\n    }), n.d(e, \"interpolateBasisClosed\", function () {\n      return L;\n    }), n.d(e, \"interpolateDate\", function () {\n      return z;\n    }), n.d(e, \"interpolateNumber\", function () {\n      return Q;\n    }), n.d(e, \"interpolateObject\", function () {\n      return V;\n    }), n.d(e, \"interpolateRound\", function () {\n      return rt;\n    }), n.d(e, \"interpolateString\", function () {\n      return et;\n    }), n.d(e, \"interpolateTransformCss\", function () {\n      return ut;\n    }), n.d(e, \"interpolateTransformSvg\", function () {\n      return ct;\n    }), n.d(e, \"interpolateZoom\", function () {\n      return ft;\n    }), n.d(e, \"interpolateRgb\", function () {\n      return W;\n    }), n.d(e, \"interpolateRgbBasis\", function () {\n      return H;\n    }), n.d(e, \"interpolateRgbBasisClosed\", function () {\n      return X;\n    }), n.d(e, \"interpolateHsl\", function () {\n      return dt;\n    }), n.d(e, \"interpolateHslLong\", function () {\n      return vt;\n    }), n.d(e, \"interpolateLab\", function () {\n      return Ct;\n    }), n.d(e, \"interpolateHcl\", function () {\n      return Nt;\n    }), n.d(e, \"interpolateHclLong\", function () {\n      return jt;\n    }), n.d(e, \"interpolateCubehelix\", function () {\n      return Qt;\n    }), n.d(e, \"interpolateCubehelixLong\", function () {\n      return Vt;\n    }), n.d(e, \"quantize\", function () {\n      return Zt;\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    function r(t) {\n      return +t;\n    }\n\n    function i(t) {\n      return t * t;\n    }\n\n    function a(t) {\n      return t * (2 - t);\n    }\n\n    function o(t) {\n      return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n    }\n\n    function s(t) {\n      return t * t * t;\n    }\n\n    function u(t) {\n      return --t * t * t + 1;\n    }\n\n    function c(t) {\n      return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n    }\n\n    n.r(e);\n\n    var l = function t(e) {\n      function n(t) {\n        return Math.pow(t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        h = function t(e) {\n      function n(t) {\n        return 1 - Math.pow(1 - t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        f = function t(e) {\n      function n(t) {\n        return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        p = Math.PI,\n        d = p / 2;\n\n    function v(t) {\n      return 1 - Math.cos(t * d);\n    }\n\n    function y(t) {\n      return Math.sin(t * d);\n    }\n\n    function g(t) {\n      return (1 - Math.cos(p * t)) / 2;\n    }\n\n    function x(t) {\n      return Math.pow(2, 10 * t - 10);\n    }\n\n    function m(t) {\n      return 1 - Math.pow(2, -10 * t);\n    }\n\n    function b(t) {\n      return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n    }\n\n    function M(t) {\n      return 1 - Math.sqrt(1 - t * t);\n    }\n\n    function w(t) {\n      return Math.sqrt(1 - --t * t);\n    }\n\n    function _(t) {\n      return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n    }\n\n    var A = 7.5625;\n\n    function P(t) {\n      return 1 - S(1 - t);\n    }\n\n    function S(t) {\n      return (t = +t) < 4 / 11 ? A * t * t : t < 8 / 11 ? A * (t -= 6 / 11) * t + .75 : t < 10 / 11 ? A * (t -= 9 / 11) * t + .9375 : A * (t -= 21 / 22) * t + 63 / 64;\n    }\n\n    function k(t) {\n      return ((t *= 2) <= 1 ? 1 - S(1 - t) : S(t - 1) + 1) / 2;\n    }\n\n    var O = function t(e) {\n      function n(t) {\n        return t * t * ((e + 1) * t - e);\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        I = function t(e) {\n      function n(t) {\n        return --t * t * ((e + 1) * t + e) + 1;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        T = function t(e) {\n      function n(t) {\n        return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        C = 2 * Math.PI,\n        E = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return e * Math.pow(2, 10 * --t) * Math.sin((r - t) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        N = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return 1 - e * Math.pow(2, -10 * (t = +t)) * Math.sin((t + r) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        j = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((r - t) / n) : 2 - e * Math.pow(2, -10 * t) * Math.sin((r + t) / n)) / 2;\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3);\n\n    n.d(e, \"easeLinear\", function () {\n      return r;\n    }), n.d(e, \"easeQuad\", function () {\n      return o;\n    }), n.d(e, \"easeQuadIn\", function () {\n      return i;\n    }), n.d(e, \"easeQuadOut\", function () {\n      return a;\n    }), n.d(e, \"easeQuadInOut\", function () {\n      return o;\n    }), n.d(e, \"easeCubic\", function () {\n      return c;\n    }), n.d(e, \"easeCubicIn\", function () {\n      return s;\n    }), n.d(e, \"easeCubicOut\", function () {\n      return u;\n    }), n.d(e, \"easeCubicInOut\", function () {\n      return c;\n    }), n.d(e, \"easePoly\", function () {\n      return f;\n    }), n.d(e, \"easePolyIn\", function () {\n      return l;\n    }), n.d(e, \"easePolyOut\", function () {\n      return h;\n    }), n.d(e, \"easePolyInOut\", function () {\n      return f;\n    }), n.d(e, \"easeSin\", function () {\n      return g;\n    }), n.d(e, \"easeSinIn\", function () {\n      return v;\n    }), n.d(e, \"easeSinOut\", function () {\n      return y;\n    }), n.d(e, \"easeSinInOut\", function () {\n      return g;\n    }), n.d(e, \"easeExp\", function () {\n      return b;\n    }), n.d(e, \"easeExpIn\", function () {\n      return x;\n    }), n.d(e, \"easeExpOut\", function () {\n      return m;\n    }), n.d(e, \"easeExpInOut\", function () {\n      return b;\n    }), n.d(e, \"easeCircle\", function () {\n      return _;\n    }), n.d(e, \"easeCircleIn\", function () {\n      return M;\n    }), n.d(e, \"easeCircleOut\", function () {\n      return w;\n    }), n.d(e, \"easeCircleInOut\", function () {\n      return _;\n    }), n.d(e, \"easeBounce\", function () {\n      return S;\n    }), n.d(e, \"easeBounceIn\", function () {\n      return P;\n    }), n.d(e, \"easeBounceOut\", function () {\n      return S;\n    }), n.d(e, \"easeBounceInOut\", function () {\n      return k;\n    }), n.d(e, \"easeBack\", function () {\n      return T;\n    }), n.d(e, \"easeBackIn\", function () {\n      return O;\n    }), n.d(e, \"easeBackOut\", function () {\n      return I;\n    }), n.d(e, \"easeBackInOut\", function () {\n      return T;\n    }), n.d(e, \"easeElastic\", function () {\n      return N;\n    }), n.d(e, \"easeElasticIn\", function () {\n      return E;\n    }), n.d(e, \"easeElasticOut\", function () {\n      return N;\n    }), n.d(e, \"easeElasticInOut\", function () {\n      return j;\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e);\n    var r,\n        i,\n        a = 0,\n        o = 0,\n        s = 0,\n        u = 0,\n        c = 0,\n        l = 0,\n        h = \"object\" == typeof performance && performance.now ? performance : Date,\n        f = \"object\" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (t) {\n      setTimeout(t, 17);\n    };\n\n    function p() {\n      return c || (f(d), c = h.now() + l);\n    }\n\n    function d() {\n      c = 0;\n    }\n\n    function v() {\n      this._call = this._time = this._next = null;\n    }\n\n    function y(t, e, n) {\n      var r = new v();\n      return r.restart(t, e, n), r;\n    }\n\n    function g() {\n      p(), ++a;\n\n      for (var t, e = r; e;) {\n        (t = c - e._time) >= 0 && e._call.call(null, t), e = e._next;\n      }\n\n      --a;\n    }\n\n    function x() {\n      c = (u = h.now()) + l, a = o = 0;\n\n      try {\n        g();\n      } finally {\n        a = 0, function () {\n          var t,\n              e,\n              n = r,\n              a = 1 / 0;\n\n          for (; n;) {\n            n._call ? (a > n._time && (a = n._time), t = n, n = n._next) : (e = n._next, n._next = null, n = t ? t._next = e : r = e);\n          }\n\n          i = t, b(a);\n        }(), c = 0;\n      }\n    }\n\n    function m() {\n      var t = h.now(),\n          e = t - u;\n      e > 1e3 && (l -= e, u = t);\n    }\n\n    function b(t) {\n      a || (o && (o = clearTimeout(o)), t - c > 24 ? (t < 1 / 0 && (o = setTimeout(x, t - h.now() - l)), s && (s = clearInterval(s))) : (s || (u = h.now(), s = setInterval(m, 1e3)), a = 1, f(x)));\n    }\n\n    v.prototype = y.prototype = {\n      constructor: v,\n      restart: function restart(t, e, n) {\n        if (\"function\" != typeof t) throw new TypeError(\"callback is not a function\");\n        n = (null == n ? p() : +n) + (null == e ? 0 : +e), this._next || i === this || (i ? i._next = this : r = this, i = this), this._call = t, this._time = n, b();\n      },\n      stop: function stop() {\n        this._call && (this._call = null, this._time = 1 / 0, b());\n      }\n    };\n\n    var M = function M(t, e, n) {\n      var r = new v();\n      return e = null == e ? 0 : +e, r.restart(function (n) {\n        r.stop(), t(n + e);\n      }, e, n), r;\n    },\n        w = function w(t, e, n) {\n      var r = new v(),\n          i = e;\n      return null == e ? (r.restart(t, e, n), r) : (e = +e, n = null == n ? p() : +n, r.restart(function a(o) {\n        o += i, r.restart(a, i += e, n), t(o);\n      }, e, n), r);\n    };\n\n    n.d(e, \"now\", function () {\n      return p;\n    }), n.d(e, \"timer\", function () {\n      return y;\n    }), n.d(e, \"timerFlush\", function () {\n      return g;\n    }), n.d(e, \"timeout\", function () {\n      return M;\n    }), n.d(e, \"interval\", function () {\n      return w;\n    });\n  }]);\n});","import * as _ from '@antv/util';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(cfg) {\n    this.type = 'base';\n    this.range = [0, 1];\n    this.ticks = [];\n    this.__cfg__ = cfg;\n\n    this._initDefaultCfg();\n\n    _.assign(this, cfg);\n\n    this._init();\n  } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n  Scale.prototype.translate = function (v) {\n    return v;\n  };\n  /** 重新初始化 */\n\n\n  Scale.prototype.change = function (cfg) {\n    this.constructor(_.assign(this.__cfg__, cfg));\n  };\n\n  Scale.prototype.clone = function () {\n    return this.constructor(this.__cfg__);\n  };\n  /** 获取坐标轴需要的ticks */\n\n\n  Scale.prototype.getTicks = function () {\n    var _this = this;\n\n    return _.map(this.ticks, function (tick, idx) {\n      if (_.isObject(tick)) {\n        // 仅当符合Tick类型时才有意义\n        // _.some(['text', 'value', 'tickValue'], key => {\n        //   if (_.has(tick, key)) {\n        //     return false;\n        //   }\n        //   console.warn(`A tick need ${key} property.`);\n        //   return true;\n        // });\n        return tick;\n      }\n\n      return {\n        text: _this.getText(tick, idx),\n        tickValue: tick,\n        value: _this.scale(tick)\n      };\n    });\n  };\n  /** 获取Tick的格式化结果 */\n\n\n  Scale.prototype.getText = function (value, key) {\n    var formatter = this.formatter;\n    var res = formatter ? formatter(value, key) : value;\n\n    if (_.isNil(res) || !_.isFunction(res.toString)) {\n      return '';\n    }\n\n    return res.toString();\n  };\n  /** 定义域转 0~1 */\n\n\n  Scale.prototype._calcPercent = function (value, min, max) {\n    if (_.isNumber(value)) {\n      return (value - min) / (max - min);\n    }\n\n    return NaN;\n  };\n  /** 0~1转定义域 */\n\n\n  Scale.prototype._calcValue = function (percent, min, max) {\n    return min + percent * (max - min);\n  };\n\n  return Scale;\n}();\n\nexport default Scale;","import Scale from './base';\nvar map = {};\n\nfunction getClass(key) {\n  return map[key];\n}\n\nfunction registerClass(key, cls) {\n  if (getClass(key)) {\n    throw new Error(\"type '\" + key + \"' existed.\");\n  }\n\n  map[key] = cls;\n}\n\nexport { Scale, getClass as getScale, registerClass as registerScale };","import * as _ from '@antv/util';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = _.size(Q);\n\n  var i = _.indexOf(Q, q);\n\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n  var r = (k - 1) / (lmax - lmin);\n  var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dmin, dmax, lmin, lmax) {\n  var range = dmax - dmin;\n  return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dmin, dmax, span) {\n  var range = dmax - dmin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nexport default function extended(dmin, dmax, m, onlyLoose, Q, w) {\n  if (m === void 0) {\n    m = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  }\n\n  if (dmin === dmax || m === 1) {\n    return {\n      min: dmin,\n      max: dmax,\n      ticks: [dmin]\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n      var q = Q_1[_i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (Number.isNaN(sm)) {\n        throw new Error('NaN');\n      }\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dmax - dmin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dmin / step) * j;\n\n          if (minStart > maxStart) {\n            z = z + 1;\n            continue;\n          }\n\n          for (var start = minStart; start <= maxStart; start = start + 1) {\n            var lmin = start * (step / j);\n            var lmax = lmin + step * (k - 1);\n            var lstep = step;\n            var s = simplicity(q, Q, j, lmin, lmax, lstep);\n            var c = coverage(dmin, dmax, lmin, lmax);\n            var g = density(k, m, dmin, dmax, lmin, lmax);\n            var l = legibility();\n            var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n            if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n              best.lmin = lmin;\n              best.lmax = lmax;\n              best.lstep = lstep;\n              best.score = score;\n            }\n          }\n\n          z = z + 1;\n        }\n\n        k = k + 1;\n      }\n    }\n\n    j = j + 1;\n  } // 步长为浮点数时处理精度\n\n\n  var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n  var range = [];\n\n  for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n    range.push(tick);\n  }\n\n  var ticks = toFixed ? _.map(range, function (x) {\n    return Number.parseFloat(x.toFixed(toFixed));\n  }) : range;\n  return {\n    min: Math.min(dmin, _.head(ticks)),\n    max: Math.max(dmax, _.last(ticks)),\n    ticks: ticks\n  };\n}","import { __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\nimport extended, { ALL_Q } from './util/extended';\n\nvar Category =\n/** @class */\nfunction (_super) {\n  __extends(Category, _super);\n\n  function Category() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Category.prototype.translate = function (value) {\n    var index = _.indexOf(this.values, value);\n\n    if (index === -1) {\n      return _.isNumber(value) ? value : NaN;\n    }\n\n    return index;\n  };\n\n  Category.prototype.scale = function (value) {\n    var order = this.translate(value);\n\n    var percent = this._calcPercent(order, this.min, this.max);\n\n    return this._calcValue(percent, _.head(this.range), _.last(this.range));\n  };\n\n  Category.prototype.invert = function (scaledValue) {\n    if (!_.isNumber(scaledValue)) {\n      return scaledValue;\n    }\n\n    var size = _.size(this.values) - 1;\n\n    var percent = this._calcPercent(scaledValue, _.head(this.range), _.last(this.range));\n\n    var idx = Math.round(size * percent);\n    return this.values[idx];\n  };\n\n  Category.prototype.getText = function (value) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var v = value; // value为index\n\n    if (_.isNumber(value) && !_.includes(this.values, value)) {\n      v = this.values[v];\n    }\n\n    return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n  };\n  /**\n   * ggplot将全数值的定义域视作线性\n   * 再三考虑后，分类型scale还是不再支持这种兼容\n   */\n  // private isAllNumber: boolean;\n\n\n  Category.prototype._initDefaultCfg = function () {\n    this.type = 'cat';\n    this.values = [];\n    this.isCategory = true;\n  };\n\n  Category.prototype._init = function () {\n    var size = _.size(this.values);\n\n    this.min = 0;\n    this.max = size > 1 ? size - 1 : size;\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Category.prototype._setTicks = function () {\n    var _this = this;\n\n    var ticks = this.values;\n\n    if (_.isNumber(this.tickInterval)) {\n      return _.filter(ticks, function (__, i) {\n        return i % (_this.tickInterval + 1) === 0;\n      });\n    }\n\n    if (_.isNumber(this.tickCount)) {\n      // 简单过滤，部分情况下小数的倍数也可以是整数\n      var Q_1 = ALL_Q.filter(function (n) {\n        return Number.isInteger(n);\n      }); // tslint:disable-next-line: no-shadowed-variable\n\n      var ticks_1 = extended(this.min, this.max, this.tickCount, false, Q_1).ticks;\n\n      var valid = _.filter(ticks_1, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n\n      return valid.map(function (index) {\n        return _this.values[index];\n      });\n    }\n\n    return this.values;\n  };\n\n  return Category;\n}(Base);\n\nexport default Category;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\n\nvar Identity =\n/** @class */\nfunction (_super) {\n  __extends(Identity, _super);\n\n  function Identity() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Identity.prototype, \"_unknown\", {\n    get: function get() {\n      /**\n       * 兼容G2:\n       * 实现一维图形时，例如position中x不存在时，Identity的values为[]，\n       * scale(undefined)的期望结果是值域最小值\n       */\n      if (_.has(this.__cfg__, 'unknown')) {\n        return this.__cfg__.unknown;\n      }\n\n      return this.range[0];\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Identity.prototype.scale = function (value) {\n    return this._scale(value);\n  };\n\n  Identity.prototype.invert = function (scaled) {\n    return this._scale(scaled);\n  };\n\n  Identity.prototype._initDefaultCfg = function () {\n    this.type = 'identity';\n    this.values = [];\n    this.isIdentity = true;\n  };\n\n  Identity.prototype._init = function () {};\n\n  Identity.prototype._scale = function (value) {\n    if (_.isNumber(value)) {\n      return value;\n    }\n\n    return this._unknown;\n  };\n\n  return Identity;\n}(Base);\n\nexport default Identity;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from './base';\nimport extended, { ALL_Q } from './util/extended';\n\nvar Linear =\n/** @class */\nfunction (_super) {\n  __extends(Linear, _super);\n\n  function Linear() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Linear.prototype.scale = function (_value) {\n    if (_.isNil(_value)) {\n      return NaN;\n    }\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    if (min === max) {\n      // https://github.com/d3/d3-scale/blob/master/src/continuous.js normalize\n      return 0.5;\n    } // min <= value <= max\n\n\n    var value = Math.min(Math.max(this._transform(_value), min), max);\n\n    var percent = this._calcPercent(value, min, max);\n\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    return this._calcValue(percent, range0, range1);\n  };\n\n  Linear.prototype.invert = function (scaled) {\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var max = this._transform(this.max);\n\n    var min = this._transform(this.min);\n\n    var percent = this._calcPercent(scaled, range0, range1);\n\n    return this._calcValue(percent, min, max);\n  };\n\n  Linear.prototype._initDefaultCfg = function () {\n    this.values = [];\n    this.type = 'linear';\n    this.isLinear = true;\n    this.nice = true;\n    this.tickCount = 5;\n    this.maxTickCount = 10;\n  };\n\n  Linear.prototype._init = function () {\n    this._setDomain();\n\n    if (_.isEmpty(this.ticks)) {\n      this.ticks = this._setTicks();\n    }\n  };\n\n  Linear.prototype._setDomain = function () {\n    var _a = _.getRange(this.values),\n        min = _a.min,\n        max = _a.max;\n\n    if (_.isNil(this.min)) {\n      this.min = min;\n    }\n\n    if (_.isNil(this.max)) {\n      this.max = max;\n    }\n\n    if (this.min > this.max) {\n      console.error('min should less than max');\n      this.min = min;\n      this.max = max;\n    }\n  };\n\n  Linear.prototype._transform = function (v) {\n    return v;\n  };\n\n  Linear.prototype._setTicks = function () {\n    var _a, _b;\n\n    var _this = this;\n\n    var _c = this._getAlgoParams(),\n        onlyLoose = _c.onlyLoose,\n        Q = _c.Q,\n        w = _c.w,\n        m = _c.m;\n\n    var adjustTicks = [];\n    var tickCnt = m;\n    var minLimit = this.minLimit;\n    var maxLimit = this.maxLimit;\n    var tickMin;\n    var tickMax; // minLimit/maxLimit相同情况处理\n\n    if (!_.isNil(minLimit) && !_.isNil(maxLimit) && minLimit === maxLimit) {\n      console.error('minLimit should less than maxLimit');\n      minLimit = minLimit / 2;\n\n      if (minLimit === 0) {\n        maxLimit = 1;\n      }\n    }\n\n    tickMin = _.isNil(minLimit) ? this.min : this.minLimit;\n    tickMax = _.isNil(maxLimit) ? this.max : this.maxLimit; // 最终的min/max校验和处理\n\n    if (tickMin > tickMax) {\n      console.error('minLimit should less than maxLimit');\n      _a = [tickMax, tickMin], tickMin = _a[0], tickMax = _a[1];\n      _b = [maxLimit, minLimit], minLimit = _b[0], maxLimit = _b[1];\n    }\n\n    do {\n      var _d = extended(tickMin, tickMax, tickCnt, onlyLoose, Q, w),\n          min = _d.min,\n          max = _d.max,\n          ticks = _d.ticks;\n\n      adjustTicks = [];\n\n      if (this.nice) {\n        this.min = min;\n        this.max = max;\n      } // 修正min/max\n\n\n      if (!_.isNil(minLimit)) {\n        this.min = minLimit;\n      }\n\n      if (!_.isNil(maxLimit)) {\n        this.max = maxLimit;\n      }\n\n      adjustTicks.push(this.min);\n\n      _.each(ticks, function (tick) {\n        if (tick > _this.min && tick < _this.max) {\n          adjustTicks.push(tick);\n        }\n      });\n\n      if (adjustTicks[adjustTicks.length - 1] < this.max) {\n        adjustTicks.push(this.max);\n      } // 如果没有设置 minLimit/maxLimit，就不循环\n\n\n      if (_.isNil(minLimit) && _.isNil(maxLimit)) {\n        break;\n      } // 效果是否已经很好了\n\n\n      if (ticks.indexOf(this.min) >= 0 && ticks.indexOf(this.max) >= 0) {\n        break;\n      }\n\n      tickCnt += 1;\n    } while (tickCnt < this.maxTickCount);\n\n    return adjustTicks;\n  };\n\n  Linear.prototype._getAlgoParams = function () {\n    var _a = this.algoParam || {},\n        onlyLoose = _a.onlyLoose,\n        _Q = _a.Q,\n        w = _a.w;\n\n    var Q = _Q;\n    var m = this.tickCount;\n\n    if (this.minTickInterval) {\n      var interval = Math.abs(this.minTickInterval);\n      var e = Math.floor(Math.log10(interval)); // interval转为 (0, 10) 之间的值\n\n      var i_1 = interval / Math.pow(10, e);\n      Q = ALL_Q.filter(function (n) {\n        return n >= i_1;\n      });\n\n      if (!_.includes(Q, i_1)) {\n        Q.push(i_1);\n      } // tickCount也需要相应调整\n\n\n      m = Math.ceil((this.max - this.min) / this.minTickInterval) + 1; // nice numbers数组长度不能<2\n\n      if (Q.length === 1) {\n        Q.push(1);\n      }\n    }\n\n    return {\n      m: m,\n      w: w,\n      Q: Q,\n      onlyLoose: onlyLoose\n    };\n  };\n\n  return Linear;\n}(Base);\n\nexport default Linear;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Linear from './linear';\n\nvar Log =\n/** @class */\nfunction (_super) {\n  __extends(Log, _super);\n\n  function Log() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Log.prototype.scale = function (value) {\n    // 覆写主要是为了性能\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var percent = Math.log(value / this.min) / Math.log(this.max / this.min);\n    return this._calcValue(percent, range0, range1);\n  };\n\n  Log.prototype.invert = function (scaled) {\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var percent = this._calcPercent(scaled, range0, range1);\n\n    if (this.min < 0) {\n      return -Math.pow(-this.max, percent) * Math.pow(-this.min, 1 - percent);\n    }\n\n    return Math.pow(this.max, percent) * Math.pow(this.min, 1 - percent);\n  };\n\n  Log.prototype._initDefaultCfg = function () {\n    this.type = 'log';\n    this.values = [];\n    this.base = 10;\n  };\n\n  Log.prototype._init = function () {\n    this._setDomain(); // todo log breaks要优化\n\n\n    this.ticks = this._setTicks(); // 不兼容处理定义域包含0的情况\n  };\n\n  return Log;\n}(Linear);\n\nexport default Log;","import { __extends } from \"tslib\";\nimport Linear from './linear';\n\nvar Pow =\n/** @class */\nfunction (_super) {\n  __extends(Pow, _super);\n\n  function Pow() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Pow.prototype.invert = function (scaled) {\n    var res = _super.prototype.invert.call(this, scaled);\n\n    return res >= 0 ? Math.pow(res, 1 / this.exponent) : -Math.pow(-res, 1 / this.exponent);\n  };\n\n  Pow.prototype._initDefaultCfg = function () {\n    this.type = 'pow';\n    this.values = [];\n    this.exponent = 1; // d3默认值为1\n  };\n\n  Pow.prototype._init = function () {\n    this._setDomain(); // todo pow breaks要优化\n\n\n    this.ticks = this._setTicks();\n  };\n\n  Pow.prototype._transform = function (v) {\n    return v >= 0 ? Math.pow(v, this.exponent) : -Math.pow(-v, this.exponent);\n  };\n\n  return Pow;\n}(Linear);\n\nexport default Pow;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as moment from 'moment';\nimport Base from './base';\nimport bisector from './util/bisector';\nimport pretty from './util/pretty';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\n\nvar Time =\n/** @class */\nfunction (_super) {\n  __extends(Time, _super);\n\n  function Time() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /** 将定义域转化为时间戳 */\n\n\n  Time.prototype.translate = function (v) {\n    return moment(v).valueOf();\n  };\n\n  Time.prototype.scale = function (_value) {\n    var min = this.min;\n    var max = this.max;\n    var value = Math.min(Math.max(this.translate(_value), min), max);\n\n    var percent = this._calcPercent(value, min, max);\n\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    return this._calcValue(percent, range0, range1);\n  };\n\n  Time.prototype.invert = function (scaled) {\n    var range0 = _.head(this.range);\n\n    var range1 = _.last(this.range);\n\n    var min = this.min;\n    var max = this.max;\n\n    var percent = this._calcPercent(scaled, range0, range1);\n\n    return moment(this._calcValue(percent, min, max)).startOf('s');\n  };\n\n  Time.prototype._initDefaultCfg = function () {\n    this.type = 'time';\n    this.values = [];\n    this.tickCount = 10;\n  };\n\n  Time.prototype._init = function () {\n    var _this = this;\n\n    this.values = _.map(this.values, function (date) {\n      return _this.translate(date);\n    });\n\n    this._setDomain();\n\n    if (_.isEmpty(this.ticks)) {\n      if (this.tickInterval) {\n        this.ticks = this._setTicksByInterval();\n      } else if (this.tickCount) {\n        this.ticks = this._setTicks();\n      }\n    }\n  };\n\n  Time.prototype._setDomain = function () {\n    if (_.isNil(this.min)) {\n      this.min = _.minBy(this.values, function (v) {\n        return v;\n      });\n    } else {\n      this.min = this.translate(this.min);\n    }\n\n    if (_.isNil(this.max)) {\n      this.max = _.maxBy(this.values, function (v) {\n        return v;\n      });\n    } else {\n      this.max = this.translate(this.max);\n    }\n  };\n  /**\n   * todo: 自创算法，融合了d3和pretty，需要大量测例验证\n   */\n\n\n  Time.prototype._setTicks = function () {\n    var _this = this;\n    /**\n     * 思路：\n     * step1: 通过d3的算法找到日期大致范围\n     * step2: 通过pretty取得系数为1、0.5、2\n     */\n\n\n    var intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', DAY * 31], ['YYYY-MM', DAY * 31 * 4], ['YYYY-MM', DAY * 31 * 6], ['YYYY', DAY * 380]];\n    var tickCount = this.tickCount;\n    var minDate = this.min;\n    var maxDate = this.max;\n    var target = (maxDate - minDate) / tickCount;\n    var idx = bisector(function (o) {\n      return o[1];\n    })(intervals, target);\n\n    if (idx === intervals.length) {\n      // over 1Y\n      this.interval = _.last(intervals);\n    } else if (idx) {\n      this.interval = intervals[idx];\n    } else {\n      // 避免pretty取0.5，可以在此处加一个最大值边界\n      // 此处的Math.min是没有意义的（为什么？），此处保留只是因为可能会调整算法，这个是安全保障\n      tickCount = Math.min(Math.floor((maxDate - minDate) / SECOND), tickCount);\n      this.interval = intervals[0];\n    }\n\n    var d = this.interval[1];\n    var ticks = pretty(0, Math.ceil((maxDate - minDate) / d), tickCount).ticks; // time的tick不能取超出定义域的值\n\n    var res = ticks.map(function (tick) {\n      return tick * d + minDate;\n    }).filter(function (tick) {\n      return tick >= minDate && tick <= maxDate;\n    });\n\n    if (this.showLast) {\n      // 间隔大于一个interval时需添加，pretty可以避免这种场景\n      res[res.length - 1] = this.max;\n    }\n\n    if (!this.formatter) {\n      this.formatter = function (v) {\n        return moment(v).format(_this.interval[0]);\n      };\n    }\n\n    return res;\n  };\n\n  Time.prototype._setTicksByInterval = function () {\n    var _this = this;\n\n    var minDate = this.min;\n    var maxDate = this.max;\n    var d = this.tickInterval[1];\n    var tickCount = Math.ceil((maxDate - minDate) / d);\n    var ticks = [];\n\n    for (var i = 0; i <= tickCount; i++) {\n      var val = minDate + d * i;\n\n      if (val > maxDate && this.showLast) {\n        val = maxDate;\n      }\n\n      ticks.push(val);\n    }\n\n    var formatedTicks = [];\n\n    _.each(ticks, function (tick) {\n      formatedTicks.push(moment(tick).format(_this.tickInterval[0]));\n    });\n\n    return formatedTicks;\n  };\n\n  return Time;\n}(Base);\n\nexport default Time;","import * as _ from '@antv/util';\n/**\n * 二分右侧查找\n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\n\nexport default function (getter) {\n  /**\n   * x: 目标值\n   * lo: 起始位置\n   * hi: 结束位置\n   */\n  return function (a, x, _lo, _hi) {\n    var lo = _.isNil(_lo) ? 0 : _lo;\n    var hi = _.isNil(_hi) ? a.length : _hi;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (getter(a[mid]) > x) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n\n    return lo;\n  };\n}","export default function pretty(min, max, n) {\n  if (n === void 0) {\n    n = 5;\n  }\n\n  var res = {\n    max: 0,\n    min: 0,\n    ticks: []\n  };\n  /*\n    R pretty:\n    https://svn.r-project.org/R/trunk/src/appl/pretty.c\n    https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n    */\n\n  var h = 1.5; // high.u.bias\n\n  var h5 = 0.5 + 1.5 * h; // u5.bias\n  // 反正我也不会调参，跳过所有判断步骤\n\n  var d = max - min;\n  var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n  // const min_n = Math.floor(n / 3);\n  // const shrink_sml = Math.pow(2, 5);\n  // if (Math.log10(d) < -2) {\n  //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n  // }\n\n  var base = Math.pow(10, Math.floor(Math.log10(c)));\n  var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n  var unit = base;\n\n  if (2 * base - c < h * (c - unit)) {\n    unit = 2 * base;\n\n    if (5 * base - c < h5 * (c - unit)) {\n      unit = 5 * base;\n\n      if (10 * base - c < h * (c - unit)) {\n        unit = 10 * base;\n      }\n    }\n  }\n\n  var nu = Math.ceil(max / unit);\n  var ns = Math.floor(min / unit);\n  res.max = Math.max(nu * unit, max);\n  res.min = Math.min(ns * unit, min);\n  var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n  while (x < max) {\n    res.ticks.push(x);\n    x += unit;\n\n    if (toFixed) {\n      x = Number.parseFloat(x.toFixed(toFixed));\n    }\n  }\n\n  res.ticks.push(x);\n  return res;\n}","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Cat from './category';\nimport extended from './util/extended';\n\nvar TimeCat =\n/** @class */\nfunction (_super) {\n  __extends(TimeCat, _super);\n\n  function TimeCat() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TimeCat.prototype._initDefaultCfg = function () {\n    _super.prototype._initDefaultCfg.call(this);\n\n    this.type = 'timeCat';\n  };\n\n  TimeCat.prototype._setTicks = function () {\n    var _this = this; // 默认期望展示的更多\n\n\n    var tickCount = this.tickCount || Math.ceil(this.max / 2);\n    var ticks = extended(this.min, this.max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n\n    var res = _.map(ticks, function (tickIdx) {\n      return _this.values[tickIdx];\n    }); // 默认保头保尾\n\n\n    res[res.length - 1] = _.last(this.values);\n    return res;\n  };\n\n  return TimeCat;\n}(Cat);\n\nexport default TimeCat;","import { getScale, registerScale } from './factory';\nimport Scale from './base';\nimport Category from './category';\nimport Identity from './identity';\nimport Linear from './linear';\nimport Log from './linear-log';\nimport Pow from './linear-pow';\nimport Time from './time';\nimport TimeCat from './timeCat';\nregisterScale('cat', Category);\nregisterScale('category', Category);\nregisterScale('identity', Identity);\nregisterScale('linear', Linear);\nregisterScale('log', Log);\nregisterScale('pow', Pow);\nregisterScale('time', Time);\nregisterScale('timeCat', TimeCat);\nexport { Category, Identity, Linear, Log, Pow, Time, TimeCat, Scale, getScale, registerScale };","\"use strict\";\n\nexports.__esModule = true; // dom\n\nvar add_event_listener_1 = require(\"./add-event-listener\");\n\nexports.addEventListener = add_event_listener_1[\"default\"];\n\nvar create_dom_1 = require(\"./create-dom\");\n\nexports.createDom = create_dom_1[\"default\"];\n\nvar get_height_1 = require(\"./get-height\");\n\nexports.getHeight = get_height_1[\"default\"];\n\nvar get_outer_height_1 = require(\"./get-outer-height\");\n\nexports.getOuterHeight = get_outer_height_1[\"default\"];\n\nvar get_outer_width_1 = require(\"./get-outer-width\");\n\nexports.getOuterWidth = get_outer_width_1[\"default\"];\n\nvar get_ratio_1 = require(\"./get-ratio\");\n\nexports.getRatio = get_ratio_1[\"default\"];\n\nvar get_style_1 = require(\"./get-style\");\n\nexports.getStyle = get_style_1[\"default\"];\n\nvar get_width_1 = require(\"./get-width\");\n\nexports.getWidth = get_width_1[\"default\"];\n\nvar modify_css_1 = require(\"./modify-css\");\n\nexports.modifyCSS = modify_css_1[\"default\"];","import { isArray, isNil, isString } from '@antv/util'; // todo 这个到底目的是什么？\n\nvar toScaleString = function toScaleString(scale, value) {\n  if (isString(value)) {\n    return value;\n  }\n\n  return scale.invert(scale.scale(value));\n};\n/**\n * 所有视觉通道属性的基类\n * @class Base\n */\n\n\nvar Attribute =\n/** @class */\nfunction () {\n  function Attribute(cfg) {\n    this.names = [];\n    this.scales = [];\n    this.linear = false;\n    this.values = [];\n\n    this.callback = function () {\n      return [];\n    }; // 解析配置\n\n\n    this._parseCfg(cfg);\n  }\n  /**\n   * 映射的值组成的数组\n   * @param params 对应 scale 顺序的值传入\n   */\n\n\n  Attribute.prototype.mapping = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n\n    var values = params.map(function (param, idx) {\n      return _this._toOriginParam(param, _this.scales[idx]);\n    });\n    return this.callback.apply(this, values);\n  };\n  /**\n   * 如果进行线性映射，返回对应的映射值\n   * @param percent\n   */\n\n\n  Attribute.prototype.getLinearValue = function (percent) {\n    // 分段数量\n    var steps = this.values.length - 1;\n    var step = Math.floor(steps * percent);\n    var leftPercent = steps * percent - step; // todo 不懂这个逻辑\n\n    var start = this.values[step];\n    var end = step === steps ? start : this.values[step + 1]; // 线性方程\n\n    return start + (end - start) * leftPercent;\n  };\n  /**\n   * 根据度量获取属性名\n   */\n\n\n  Attribute.prototype.getNames = function () {\n    var scales = this.scales;\n    var names = this.names;\n    var length = Math.min(scales.length, names.length);\n    var rst = [];\n\n    for (var i = 0; i < length; i += 1) {\n      rst.push(names[i]);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取所有的维度名\n   */\n\n\n  Attribute.prototype.getFields = function () {\n    return this.scales.map(function (scale) {\n      return scale.field;\n    });\n  };\n  /**\n   * 根据名称获取度量\n   * @param name\n   */\n\n\n  Attribute.prototype.getScale = function (name) {\n    return this.scales[this.names.indexOf(name)];\n  };\n  /**\n   * 默认的回调函数（用户没有自定义 callback，或者用户自定义 callback 返回空的时候，使用 values 映射）\n   * @param params\n   */\n\n\n  Attribute.prototype.defaultCallback = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    } // 没有 params 的情况，是指没有指定 fields，直接返回配置的 values 常量\n\n\n    if (params.length === 0) {\n      return this.values;\n    }\n\n    return params.map(function (param, idx) {\n      var scale = _this.scales[idx];\n      return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n    });\n  }; // 解析配置\n\n\n  Attribute.prototype._parseCfg = function (cfg) {\n    var _this = this;\n\n    var _a = cfg.type,\n        type = _a === void 0 ? 'base' : _a,\n        _b = cfg.names,\n        names = _b === void 0 ? [] : _b,\n        _c = cfg.scales,\n        scales = _c === void 0 ? [] : _c,\n        _d = cfg.values,\n        values = _d === void 0 ? [] : _d,\n        callback = cfg.callback;\n    this.type = type;\n    this.scales = scales;\n    this.values = values;\n    this.names = names; // 构造 callback 方法\n\n    this.callback = function () {\n      var params = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n      }\n      /**\n       * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n       */\n\n\n      if (callback) {\n        // 使用用户返回的值处理\n        var ret = callback.apply(void 0, params);\n\n        if (!isNil(ret)) {\n          return [ret];\n        }\n      } // 没有 callback 或者用户 callback 返回值为空，则使用默认的逻辑处理\n\n\n      return _this.defaultCallback.apply(_this, params);\n    };\n  }; // 获取属性值，将值映射到视觉通道\n\n\n  Attribute.prototype._getAttributeValue = function (scale, value) {\n    // 如果是非线性的字段，直接从 values 中取值即可\n    if (scale.isCategory && !this.linear) {\n      // 离散 scale 变换成索引\n      var idx = scale.translate(value);\n      return this.values[idx % this.values.length];\n    } // 线性则使用线性值\n\n\n    var percent = scale.scale(value);\n    return this.getLinearValue(percent);\n  };\n  /**\n   * 通过 scale 拿到数据对应的原始的参数\n   * @param param\n   * @param scale\n   * @private\n   */\n\n\n  Attribute.prototype._toOriginParam = function (param, scale) {\n    // 是线性，直接返回\n    // 非线性，使用 scale 变换\n    return !scale.isLinear ? isArray(param) ? param.map(function (p) {\n      return toScaleString(scale, p);\n    }) : toScaleString(scale, param) : param;\n  };\n\n  return Attribute;\n}();\n\nexport default Attribute;","import { isString, map, memoize } from '@antv/util';\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/; // 创建辅助 tag 取颜色\n\nvar createTmp = function createTmp() {\n  var i = document.createElement('i');\n  i.title = 'Web Colour Picker';\n  i.style.display = 'none';\n  document.body.appendChild(i);\n  return i;\n}; // 获取颜色之间的插值\n\n\nvar getValue = function getValue(start, end, percent, index) {\n  return start[index] + (end[index] - start[index]) * percent;\n}; // 数组转换成颜色\n\n\nfunction arr2rgb(arr) {\n  return \"#\" + toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]);\n} // rgb 颜色转换成数组\n\n\nvar rgb2arr = function rgb2arr(str) {\n  return [parseInt(str.substr(1, 2), 16), parseInt(str.substr(3, 2), 16), parseInt(str.substr(5, 2), 16)];\n}; // 将数值从 0-255 转换成16进制字符串\n\n\nvar toHex = function toHex(value) {\n  var x16Value = Math.round(value).toString(16);\n  return x16Value.length === 1 ? \"0\" + x16Value : x16Value;\n}; // 计算颜色\n\n\nvar calColor = function calColor(points, percent) {\n  var fixedPercent = isNaN(Number(percent)) || percent < 0 ? 0 : percent > 1 ? 1 : Number(percent);\n  var steps = points.length - 1;\n  var step = Math.floor(steps * fixedPercent);\n  var left = steps * fixedPercent - step;\n  var start = points[step];\n  var end = step === steps ? start : points[step + 1];\n  return arr2rgb([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n}; // 用于给 toRGB 的缓存（使用 memoize 方法替换）\n// const colorCache = {};\n\n\nvar iEl;\n/**\n * 将颜色转换到 rgb 的格式\n * @param {color} color 颜色\n * @return 将颜色转换到 '#ffffff' 的格式\n */\n\nvar toRGB = function toRGB(color) {\n  // 如果已经是 rgb的格式\n  if (color[0] === '#' && color.length === 7) {\n    return color;\n  }\n\n  if (!iEl) {\n    // 防止防止在页头报错\n    iEl = createTmp();\n  }\n\n  iEl.style.color = color;\n  var rst = document.defaultView.getComputedStyle(iEl, '').getPropertyValue('color');\n  var matches = RGB_REG.exec(rst);\n  var cArray = matches[1].split(/\\s*,\\s*/).map(function (s) {\n    return Number(s);\n  });\n  rst = arr2rgb(cArray);\n  return rst;\n};\n/**\n * 获取渐变函数\n * @param colors 多个颜色\n * @return 颜色值\n */\n\n\nvar gradient = function gradient(colors) {\n  var colorArray = isString(colors) ? colors.split('-') : colors;\n  var points = map(colorArray, function (color) {\n    return rgb2arr(color.indexOf('#') === -1 ? toRGB(color) : color);\n  }); // 返回一个函数\n\n  return function (percent) {\n    return calColor(points, percent);\n  };\n};\n\nexport default {\n  rgb2arr: rgb2arr,\n  gradient: gradient,\n  toRGB: memoize(toRGB)\n};","import * as tslib_1 from \"tslib\";\nimport { isString } from '@antv/util';\nimport colorUtil from '../util/color-util';\nimport Attribute from './base';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Color, _super);\n\n  function Color(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'color';\n    _this.names = ['color'];\n\n    if (isString(_this.values)) {\n      _this.linear = true;\n    }\n\n    _this.gradient = colorUtil.gradient(_this.values);\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Color.prototype.getLinearValue = function (percent) {\n    return this.gradient(percent);\n  };\n\n  return Color;\n}(Attribute);\n\nexport default Color;","import * as tslib_1 from \"tslib\";\nimport Attribute from './base';\n\nvar Opacity =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Opacity, _super);\n\n  function Opacity(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'opacity';\n    _this.names = ['opacity'];\n    return _this;\n  }\n\n  return Opacity;\n}(Attribute);\n\nexport default Opacity;","import * as tslib_1 from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\n\nvar Position =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Position, _super);\n\n  function Position(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.names = ['x', 'y'];\n    _this.type = 'position';\n    return _this;\n  }\n\n  Position.prototype.mapping = function (x, y) {\n    var _a = this.scales,\n        scaleX = _a[0],\n        scaleY = _a[1];\n\n    if (isNil(x) || isNil(y)) {\n      return [];\n    }\n\n    return [isArray(x) ? x.map(function (xi) {\n      return scaleX.scale(xi);\n    }) : scaleX.scale(x), isArray(y) ? y.map(function (yi) {\n      return scaleY.scale(yi);\n    }) : scaleY.scale(y)];\n  };\n\n  return Position;\n}(Attribute);\n\nexport default Position;","import * as tslib_1 from \"tslib\";\nimport Attribute from './base';\n\nvar Shape =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Shape, _super);\n\n  function Shape(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'shape';\n    _this.names = ['shape'];\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Shape.prototype.getLinearValue = function (percent) {\n    var idx = Math.round((this.values.length - 1) * percent);\n    return this.values[idx];\n  };\n\n  return Shape;\n}(Attribute);\n\nexport default Shape;","import * as tslib_1 from \"tslib\";\nimport Attribute from './base';\n\nvar Size =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Size, _super);\n\n  function Size(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'size';\n    _this.names = ['size'];\n    return _this;\n  }\n\n  return Size;\n}(Attribute);\n\nexport default Size;","import Attribute from './attributes/base'; // 所有的 attribute map\n\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\n\nvar getAttribute = function getAttribute(type) {\n  return ATTRIBUTE_MAP[type.toLowerCase()];\n};\n\nvar registerAttribute = function registerAttribute(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAttribute(type)) {\n    throw new Error(\"Attribute type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAttribute, registerAttribute, Attribute };\nexport { default as colorUtil } from './util/color-util';\nexport * from './interface';","import Attribute from './attributes/base';\nimport colorUtil from './util/color-util';\nimport Color from './attributes/color';\nimport Opacity from './attributes/opacity';\nimport Position from './attributes/position';\nimport Shape from './attributes/shape';\nimport Size from './attributes/size';\nimport { getAttribute, registerAttribute } from './factory';\nregisterAttribute('Color', Color);\nregisterAttribute('Opacity', Opacity);\nregisterAttribute('Position', Position);\nregisterAttribute('Shape', Shape);\nregisterAttribute('Size', Size);\nexport { registerAttribute, getAttribute, Attribute // 以下 export 是为了兼容，理论上是不需要的\n, Color, Opacity, Position, Shape, Size, colorUtil };\nexport * from './interface';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar WILDCARD = '*';\n/* event-emitter */\n\nvar EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * 监听一个事件\n   * @param evt\n   * @param callback\n   * @param once\n   */\n\n\n  EventEmitter.prototype.on = function (evt, callback, once) {\n    if (!this._events[evt]) {\n      this._events[evt] = [];\n    }\n\n    this._events[evt].push({\n      callback: callback,\n      once: !!once\n    });\n\n    return this;\n  };\n  /**\n   * 监听一个事件一次\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.once = function (evt, callback) {\n    this.on(evt, callback, true);\n    return this;\n  };\n  /**\n   * 触发一个事件\n   * @param evt\n   * @param args\n   */\n\n\n  EventEmitter.prototype.emit = function (evt) {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var events = this._events[evt] || [];\n    var wildcardEvents = this._events[WILDCARD] || []; // 实际的处理 emit 方法\n\n    var doEmit = function doEmit(es) {\n      var length = es.length;\n\n      for (var i = 0; i < length; i++) {\n        var _a = es[i],\n            callback = _a.callback,\n            once = _a.once;\n\n        if (once) {\n          es.splice(i, 1);\n\n          if (es.length === 0) {\n            delete _this._events[evt];\n          }\n\n          length--;\n          i--;\n        }\n\n        callback.apply(_this, args);\n      }\n    };\n\n    doEmit(events);\n    doEmit(wildcardEvents);\n  };\n  /**\n   * 取消监听一个事件，或者一个channel\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.off = function (evt, callback) {\n    if (!evt) {\n      // evt 为空全部清除\n      this._events = {};\n    } else {\n      if (!callback) {\n        // evt 存在，callback 为空，清除事件所有方法\n        delete this._events[evt];\n      } else {\n        // evt 存在，callback 存在，清除匹配的\n        var events = this._events[evt] || [];\n        var length = events.length;\n\n        for (var i = 0; i < length; i++) {\n          if (events[i].callback === callback) {\n            events.splice(i, 1);\n            length--;\n            i--;\n          }\n        }\n\n        if (events.length === 0) {\n          delete this._events[evt];\n        }\n      }\n    }\n\n    return this;\n  };\n  /* 当前所有的事件 */\n\n\n  EventEmitter.prototype.getEvents = function () {\n    return this._events;\n  };\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;","\"use strict\";\n\nexports.__esModule = true;\n/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\n\nfunction getStyle(dom, name, defaultValue) {\n  var v;\n\n  try {\n    v = window.getComputedStyle ? window.getComputedStyle(dom, null)[name] : dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\n  } catch (e) {// do nothing\n  } finally {\n    v = v === undefined ? defaultValue : v;\n  }\n\n  return v;\n}\n\nexports[\"default\"] = getStyle;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (value) {\n  return Array.isArray ? Array.isArray(value) : is_type_1.default(value, 'Array');\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\n\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(base_1.default);\n\nexports.default = Legend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // 滑块的宽度，高度 = 宽度 * 2\n\nvar const_1 = require(\"../../../const\");\n\nexports.SLIDER_WIDTH = 8;\nexports.SLIDER_HEIGHT = exports.SLIDER_WIDTH * 2;\nexports.SLIDER_CIRCLE_MAX_SIZE = exports.SLIDER_HEIGHT * 2;\nexports.TEXT_OFFSET = 4;\nexports.SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexports.SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: const_1.FONT_FAMILY\n};\nexports.SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexports.SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexports.DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: const_1.FONT_FAMILY\n};"],"sourceRoot":""}