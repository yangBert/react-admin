{"version":3,"sources":["pages/login/store/creators.js","pages/login/LoginButton.js","pages/login/Login.js","static/js/base.js","pages/common/layer/notification/index.js","static/js/requestURL.js","static/js/request.js","static/img/logo.png","static/plugins/gzca/js/gzca.js","static/js/config.js","pages/login/login.module.css","static/img/1.png"],"names":["loginSubmit","req","dispatch","request","requestURL","data","res","changeLoginLoading","success","message","$$","token","set","props","history","push","notification","loginLoading","type","types","getRandomAction","params","console","log","certserial","GZCA","containerName","original","GZCA_Pkcs1SignData_PIN","signData","SignData","msg","pkcs1SignData_PIN","ContainerName","withRouter","connect","state","login","getRandom","action","creators","initSocket","init","GZCA_GetCertList","CertType","GZCA_ExportCert","CertB64","GZCA_GetCertInfo","CertSerial","getSn","getCert","size","className","styles","submit","onClick","loading","Login","bg","imgTop","src","img","alt","imgCenter","imgBottom","pageCenter","imgOhter","logo","title","platForm","platFormName","loginProps","footer","localStorage","get","k","getItem","v","setItem","getDays","_time","GZCADate","Date","changeDate","d","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","this","logout","trim","s","replace","description","powerSelectAdminMenu","managerRegistertURL","managerDeleteAdminURL","managerUpdateAdminInfoURL","managerSelectAdminListURL","managerLoginURL","managerBuildRandNumURL","powerSelectUserRole","powerUserBindRole","managerSelectLoginAdminInfo","powerNewRoleURL","powerSelectAllRoleURL","powerDeleteRoleURL","powerUpdateRoleURL","powerUserBindMenu","powerSelectUserMenu","powerSelectAllMenu","powerNewMenu","powerUpdateMenu","powerDeleteMenu","userSelectUsers","certManageSelectCerts","certManageInsert","plateSettingSelectAppData","plateSettingAddAppData","plateSettingSelectAppAuthSecret","plateSettingAppDetail","plateSettingAppAudit","plateSettingUpdateAppWithOutFile","plateSettingSelectDictionaryType","plateSettingAddDicType","plateSettingDeleteDicType","plateSettingUpdateDicType","plateSettingSelectDictionaryApp","plateSettingUpdateDictionaryApp","plateSettingAddDictionaryApp","plateSettingDeleteDictionaryApp","plateSettingDictByNine","plateSettingLoginType","plateSettingSelectCA","orgQueryAllOrgTree","orgAddOrg","orgUpdateOrg","orgUpdateOrgState","noticeQueryByPage","noticeUpdateNotice","noticePublishNotice","noticeAddNotice","noticeGetNoticeDetail","productSelectByPage","productAddProduct","productUpdateProduct","productDelProduct","authSelectByPage","authAddAuth","authUpdateAuth","authDelAuth","docQueryCatalogPages","docAddDocCatalog","docUpdateDocCatalog","docQueryContentPages","docAddDocContent","docUpdateDocContent","errorMsg","authRedirect","window","$GLOBALPROPS","configFn","url","method","config","AuthToken","headers","json","requestData","callback","axios","then","errCode","catch","err","getJson","jsonArr","formData","urlToBlob","responseType","module","exports","socket","first","onOpen","websoketUrl","location","href","split","WebSocket","self","onerror","event","reconnect","alert","onopen","onclose","onmessage","error","stop","close","setTimeout","result","getMsg","send","blobParse","reader","FileReader","readAsText","onload","e","blobtString","JSON","parse","backer","o","ownProp","index","undefined","$o","prop","hasOwnProperty","callbackMsg","jsonRequest","GZCA_Login","GZCA_Login_PIN","UserPin","GZCA_Logout","GZCA_IsLogin","GZCA_GetCertInfoByOid","Oid","odiValue","OidValue","GZCA_Pkcs1SignData","Data","GZCA_Pkcs1VerifySign","GZCA_Pkcs1SignDataEx","DataB64","GZCA_Pkcs1SignData_PINEx","GZCA_Pkcs1VerifySignEx","GZCA_EccEncryptData","GZCA_EccEncryptDataEx","CerB64","GZCA_EccDecryptData","GZCA_AsymEncryptData","GZCA_AsymDecryptData","GZCA_EncryptDataEx","GZCA_DecryptDataEx","KeyB64","GZCA_EncryptFileEx","SrcFile","DstFile","GZCA_DecryptFileEx","GZCA_HashData","InData","GZCA_HashFile","GetUKeyList","length","layer","Object","create","ca","listText","certList","document","getElementById","listContainer","newLayer","innerHTML","i","p","createElement","manu","sn","onclick","clickP","appendChild","gzcaLayerSure","getNode","gzcaLayerClose","gzcaLayerCancel","closeLayer","selectCert","GZCA_GetContainerName","createList","certType","ListenCode","CERTLIST","GZCA_StartListen","initList","GZCA_StopListen","gzcaCertLayer","querySelectorAll","container","parentNode","removeChild","list","CN","GZCA_Msg","Type","GZCA_EnvelopeSealData","GZCA_EnvelopeOpenData","fn","GZCA_Next","isLogin","GZCA_EnvelopeSealGroup","a","test","GZCA_EnvelopeOpenGroup","DstFileDir","IsLogin","div","span","body","divNode","id","layerId","idName","height","width","content","conText","head","bottom","buttonText","add","layerContainer","addLayer","getElementsByTagName","eventEl","addEvent","element","handler","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","stopPropagation","cancelBubble","preventDefaullt","preventDefault","returnValue","hasClass","addClass","sibilingArr","siblingElem","removeClass","selectArr","keyid","getContentP","$this","getLayer","getHeader","getBtns","btn","text","j","style","marginTop","marginLeft","disX","disY","dragMove","w","documentElement","clientWidth","h","clientHeight","top","clientY","left","clientX","offsetHeight","offsetWidth","drag","offsetLeft","offsetTop","obj","cls","obj_class","added","removed","obj_class_lst","x","elem","_nodes","_elem","previousSibling","nodeType","nextSibling","getCertificate"],"mappings":"yRAQMA,EAAc,SAAAC,GAClB,OAAO,SAAAC,GACLC,IAAaC,IAA4BH,EAAII,MAAM,SAAAC,GAEjD,GADAJ,EAASK,GAAmB,IACxBD,EAAID,KAAM,CAAC,IAAD,EACuBC,EAAID,MAAQC,EAAID,KAA3CG,EADI,EACJA,QAASC,EADL,EACKA,QAASJ,EADd,EACcA,KACtBG,GACFE,IAAGC,MAAMC,IAAIP,GACbJ,EAAIY,MAAMC,QAAQC,KAAK,UAEvBC,YAAa,QAASP,QAGxBO,YAAa,QAASV,QAqB9B,IAAMC,EAAqB,SAAAU,GAAY,MAAK,CAC1CC,KAAMC,IACNF,iBAIIG,EAAkB,SAAAC,GACtB,OAAO,SAAAnB,GACLA,EAASK,GAAmB,IAC5Be,QAAQC,IAAI,cAAe,cAAgBF,EAAOG,YAClDrB,IAAaC,IAAmC,cAAgBiB,EAAOG,YAAY,SAAAlB,GACjF,GAAIA,EAAID,KAAM,CAAC,IAAD,EACuBC,EAAID,MAAQC,EAAID,KAA3CG,EADI,EACJA,QAASC,EADL,EACKA,QAASJ,EADd,EACcA,KACtBG,EA3BZ,SAA2BK,EAAOX,EAAUuB,EAAMC,EAAeC,EAAUH,GACzEC,EAAKG,uBAAuBF,EAAeC,GAAU,SAAUrB,GAC7D,GAAIA,EAAIE,QAAS,CACf,IAAMqB,EAAWvB,EAAIwB,SAErB5B,EAASF,EAAY,CAAEK,KADV,CAAEmB,aAAYK,YACEhB,gBAE7BX,EAASK,GAAmB,IAC5BS,YAAa,QAASV,EAAIyB,QAoBtBC,CAAkBX,EAAOR,MAAOX,EAAUmB,EAAOI,KAAMJ,EAAOY,cAAe5B,EAAMgB,EAAOG,aAE1FR,YAAa,QAASP,GACtBP,EAASK,GAAmB,UAG9BS,YAAa,QAASV,GACtBJ,EAASK,GAAmB,S,SCGpC,IAWe2B,cAAWC,aAXT,SAAAC,GAAK,MAAK,CACzBnB,aAAcmB,EAAMC,MAAMpB,iBAGR,SAAAf,GAAQ,MAAK,CAC/BoC,UAAW,SAAAjB,GACT,IAAMkB,EAASC,EAAyBnB,GACxCnB,EAASqC,OAIaJ,EArE1B,SAAqBtB,GAGnB,SAAS4B,IACPhB,IAAKiB,MAAK,SAACpC,GACLA,EAWNmB,IAAKkB,kBAAiB,EADL,GACqB,SAAUrC,GAC1CA,EAAIE,QASZ,SAAiByB,EAAeW,GAC9BnB,IAAKoB,gBAAgBZ,EAAeW,GAAU,SAAUtC,GAClDA,EAAIE,QAUZ,SAAesC,EAASb,GACtBR,IAAKsB,iBAAiBD,GAAS,SAAUxC,GACvC,GAAIA,EAAIE,QAAS,CACf,IAAMgB,EAAalB,EAAI0C,WACvBnC,EAAMyB,UAAU,CAAEzB,MAAOA,EAAOY,SAAMD,aAAYS,uBAElDjB,YAAa,QAASV,EAAIyB,QAd1BkB,CADgB3C,EAAIwC,QACLb,GAEfjB,YAAa,QAASV,EAAIyB,QAd1BmB,CAAQ5C,EAAI2B,cAHC,GAKbjB,YAAa,QAASV,EAAIyB,QAZ1Bf,YAAa,QAASV,EAAIyB,QAyChC,OAAO,uBACLb,KAAK,UACLiC,KAAK,QACLC,UAAWC,IAAOC,OAClBC,QAAS,kBAAMd,KACfe,QAAS3C,EAAMI,cALV,qB,SCvBMwC,UAzBf,SAAe5C,GACb,OACE,yBAAKuC,UAAWC,IAAOK,IACrB,6BACE,yBAAKN,UAAWC,IAAOM,OAAQC,IAAKC,IAAKC,IAAI,kBAE/C,6BACE,yBAAKV,UAAWC,IAAOU,UAAWH,IAAKC,IAAKC,IAAI,kBAElD,6BACE,yBAAKV,UAAWC,IAAOW,UAAWJ,IAAKC,IAAKC,IAAI,kBAElD,6BACE,yBAAKV,UAAWC,IAAOY,YACrB,yBAAKb,UAAWC,IAAOa,SAAUN,IAAKC,IAAKC,IAAI,iBAC/C,yBAAKV,UAAWC,IAAOc,KAAMP,IAAKO,IAAML,IAAI,KAC5C,wBAAIV,UAAWC,IAAOe,OAAQC,IAASC,cACvC,kBAAC,EAAD,CAAaC,WAAY1D,MAG7B,yBAAKuC,UAAWC,IAAOmB,QAAvB,mF,iCC7BN,IAAM7D,EAAQ,0BACC,KACb8D,aAAc,CACZC,IAAK,SAAAC,GACH,OAAOF,aAAaG,QAAQD,IAE9B/D,IAAK,SAAC+D,EAAGE,GACPJ,aAAaK,QAAQH,EAAGE,KAG5BlE,MAAO,CACL+D,IAAK,WACH,OAAOD,aAAaG,QAAQjE,IAE9BC,IAAK,SAAAiE,GACHJ,aAAaK,QAAQnE,EAAOkE,KAGhCE,QAAS,SAAUC,GACjB,IAAIC,EAAW,IAAIC,KAAKF,GAExB,SAASG,EAAWC,GAClB,OAAOA,EAAI,GAAK,IAAMA,EAAIA,EAE5B,OAL2CH,EAASI,cAKlC,IAL6DF,EAAWF,EACvFK,WAAa,GAIoB,IAJLH,EAAWF,EAASM,YAMrDC,SAAU,SAAUR,GAClB,IAAIC,EAAW,IAAIC,KAAKF,GAIxB,SAASG,EAAWC,GAClB,OAAOA,EAAI,GAAK,IAAMA,EAAIA,EAE5B,OAP2CH,EAASI,cAOlC,IAP6DF,EAAWF,EACvFK,WAAa,GAMoB,IANLH,EAAWF,EAASM,WAME,IANsBJ,EAAWF,EACjFO,YAMD,IAN4BL,EAAWF,EAASQ,cAM5B,IANyDN,EAAWF,EACrFS,eAOTrD,MApCa,SAoCPxB,EAAOF,GACXgF,KAAKhF,MAAMC,IAAID,GACfE,EAAMC,QAAQC,KAAK,UAErB6E,OAxCa,SAwCN/E,GACLA,EAAMC,QAAQC,KAAK,KACnB4E,KAAKhF,MAAMC,IAAI,KAEjBiF,KA5Ca,SA4CRC,GACH,OAAOA,EAAEC,QAAQ,iBAAkB,O,qDC5CxB,aAAC7E,EAAM8E,GACpB,IAAa9E,GAAM,CACjBT,QAAS,2BACTuF,YAAaA,M,iCCJjB,qnEACO,IAAMC,EAAuB,wCAGvBC,EAAsB,mCACtBC,EAAwB,sCACxBC,EAA4B,0CAC5BC,EAA4B,0CAC5BC,EAAkB,oCAClBC,EAAyB,2CACzBC,EAAsB,uCACtBC,EAAoB,qCACpBC,EAA8B,+CAG9BC,EAAkB,gCAClBC,EAAwB,sCACxBC,EAAqB,mCACrBC,EAAqB,mCACrBC,EAAoB,qCACpBC,EAAsB,uCAGtBC,EAAqB,sCACrBC,EAAe,gCACfC,EAAkB,mCAClBC,EAAkB,mCAGlBC,EAAkB,mCAGlBC,EAAwB,4CACxBC,EAAmB,uCAGnBC,EAA4B,gDAC5BC,EAAyB,6CACzBC,EAAkC,sDAElCC,EAAwB,4CACxBC,EAAuB,2CACvBC,EAAmC,uDAInCC,EAAmC,uDACnCC,EAAyB,6CACzBC,EAA4B,gDAC5BC,EAA4B,gDAE5BC,EAAkC,sDAClCC,EAAkC,sDAClCC,EAA+B,mDAC/BC,EAAkC,sDAGlCC,EAAyB,6CACzBC,EAAwB,4CACxBC,EAAuB,2CAOvBC,EAAqB,sCACrBC,EAAY,6BACZC,EAAe,gCACfC,EAAoB,qCAIpBC,EAAoB,qCACpBC,EAAqB,sCACrBC,EAAsB,uCACtBC,EAAkB,mCAClBC,EAAwB,yCAGxBC,EAAsB,uCACtBC,EAAoB,qCACpBC,GAAuB,wCACvBC,GAAoB,qCAGpBC,GAAmB,oCACnBC,GAAc,+BACdC,GAAiB,kCACjBC,GAAc,+BAGdC,GAAuB,wCACvBC,GAAmB,oCACnBC,GAAsB,uCACtBC,GAAuB,wCACvBC,GAAmB,oCACnBC,GAAsB,wC,iCClGnC,kNAIMC,EAAW,0DAEjB,SAASC,EAAaxJ,GACpBC,IAAGC,MAAMC,IAAI,IACTsJ,OAAOC,cACTD,OAAOC,aAAarJ,QAAQC,KAAK,KAEnCC,YAAa,QAASP,GAGxB,SAAS2J,EAASC,EAAKhK,EAAMiK,GAC3B,IAAMC,EAAS,CACbF,MACAC,SACAjK,QAEImK,EAAY9J,IAAGC,MAAM+D,MAK3B,OAJI8F,IACFD,EAAOE,QAAU,GACjBF,EAAOE,QAAQD,UAAYA,GAEtBD,EAGT,SAASG,EAAKtK,EAAYuK,EAAaC,GACrC,IAAML,EAASH,EAAShK,EAAYuK,EAAa,QACjDE,IAAMN,GAAQO,MAAK,SAAAxK,GACbA,EAAID,OAASC,EAAID,KAAKG,SAAgC,QAArBF,EAAID,KAAK0K,QAC5Cd,EAAa3J,EAAID,KAAKI,SAEtBmK,EAAStK,MAEV0K,OAAM,SAACC,GACR3J,QAAQC,IAAI0J,GACZL,EAASZ,MAIb,SAASkB,EAAQ9K,EAAYuK,EAAaC,GACxC,IAAML,EAASH,EAAShK,EAAYuK,EAAa,OACjDE,IAAMN,GAAQO,MAAK,SAAAxK,GACbA,EAAID,OAASC,EAAID,KAAKG,SAAgC,QAArBF,EAAID,KAAK0K,QAC5Cd,EAAa3J,EAAID,KAAKI,SAEtBmK,EAAStK,MAEV0K,OAAM,SAAAC,GACP3J,QAAQC,IAAI0J,GACZL,EAASZ,MAIb,SAASmB,EAAQ/K,EAAYuK,EAAaC,GACxC,IAAIL,EAAS,CACXF,IAAKjK,EACLkK,OAAQ,OACRG,QAAS,CACP,eAAgB,mBAChB,UAAa/J,IAAGC,MAAM+D,OAExBrE,KAAMsK,GAEFH,EAAY9J,IAAGC,MAAM+D,MACvB8F,IACFD,EAAOE,QAAQD,UAAYA,GAE7BK,IAAMN,GAAQO,MAAK,SAAAxK,GACbA,EAAID,OAASC,EAAID,KAAKG,SAAgC,QAArBF,EAAID,KAAK0K,QAC5Cd,EAAa3J,EAAID,KAAKI,SAEtBmK,EAAStK,MAEV0K,OAAM,SAACC,GACR3J,QAAQC,IAAI0J,GACZL,EAASZ,MAKb,SAASoB,EAAShL,EAAYuK,EAAaC,GACzCC,IAAM,CACJR,IAAKjK,EACLkK,OAAQ,OACRjK,KAAMsK,EACNF,QAAS,CACP,eAAgB,sBAChB,UAAa/J,IAAGC,MAAM+D,SAKvBoG,MAAK,SAAAxK,GACFA,EAAID,OAASC,EAAID,KAAKG,SAAgC,QAArBF,EAAID,KAAK0K,QAC5Cd,EAAa3J,EAAID,KAAKI,SAEtBmK,EAAStK,MAEV0K,OAAM,SAACC,GACR3J,QAAQC,IAAI0J,GACZL,EAASZ,MAIb,SAASqB,EAAUjL,EAAYwK,GAC7BC,IAAM,CACJR,IAAKjK,EACLkK,OAAQ,MACRgB,aAAc,SACbR,MAAK,SAAAxK,GACFA,EAAID,OAASC,EAAID,KAAKG,SAAgC,QAArBF,EAAID,KAAK0K,QAC5Cd,EAAa3J,EAAID,KAAKI,SAEtBmK,EAAStK,MAEV0K,OAAM,SAACC,GACR3J,QAAQC,IAAI0J,GACZL,EAASZ,Q,oBCxHbuB,EAAOC,QAAU,IAA0B,kC,iCCA3C,kCAOO,IAAM/J,EAAO,CACnBgK,OAAQ,KACRjL,SAAS,EACT2B,SAAS,EACTuJ,OAAO,EACPhJ,KALmB,SAKdkI,GACJ,GAAKjF,KAAKnF,QAiCTmF,KAAKgG,OAAOf,OAjCM,CAClB,IAAIgB,EACkCA,EAAV,UADD1B,OAAO2B,SAASC,KACnCC,MAAM,OAAO,GAA+B,uBAAuC,sBAC3FpG,KAAK8F,OAAS,IAAIO,UAAUJ,GAC5B,IAAIK,EAAOtG,KACX,IACCA,KAAK8F,OAAOS,QAAU,SAAUC,GAC/BF,EAAKzL,SAAU,EACVyL,EAAKP,MAGTO,EAAKG,YAFLC,MAAM,yCAKR1G,KAAK8F,OAAOa,OAAS,SAAUH,GAC9B7K,QAAQC,IAAI,2CACP0K,EAAKP,QACTO,EAAKP,OAAQ,GAEdO,EAAKN,OAAOf,IAEbjF,KAAK8F,OAAOc,QAAU,SAAUJ,GAC/B7K,QAAQC,IAAI,+BACZ0K,EAAKzL,SAAU,EACfyL,EAAK9J,SAAU,GAEhBwD,KAAK8F,OAAOe,UAAY,SAAUzK,GACjCkK,EAAK9J,SAAU,GAEf,MAAOsK,GACR9G,KAAKyG,eAMRT,OAAQ,SAAUf,GACjBjF,KAAKnF,SAAU,EACfoK,EAASjF,KAAKnF,UAEfkM,KAAM,WAEL,OADA/G,KAAK8F,OAAOkB,SACL,GAERP,UAAW,WACV,IAAIH,EAAOtG,KACPA,KAAKxD,SAITyK,YAAW,WACVX,EAAKvJ,MAAK,SAAUmK,GACfA,IACHZ,EAAK9J,SAAU,QAGf,MAEJ2K,OAAQ,SAAUzM,EAAMuK,GACvBjF,KAAK8F,OAAOsB,KAAK1M,GACjBsF,KAAK8F,OAAOe,UAAY,SAAUzK,GACjC6I,EAAS7I,EAAI1B,QAIf2M,UAAW,SAAUH,EAAQjC,GAC5B,IAAIqC,EAAS,IAAIC,WACjBD,EAAOE,WAAWN,EAAQ,OAC1BI,EAAOG,OAAS,SAAUC,GACzB,IAAIC,EAAcL,EAAOJ,QAEN,IADPU,KAAKC,MAAMF,GACbrC,KAGVL,EAAS0C,KAGXG,OAAQ,SAAUZ,EAAQjC,GACzB,IAAI8C,EAAIH,KAAKC,MAAMX,GACnBa,EAAEb,OAAOrM,QAAUoK,EAASjF,KAAKgI,QAAQD,EAAG,IAAM9C,EAASjF,KAAKgI,QAAQD,KAEzEC,QAAS,SAAUD,EAAGE,GACrB,IAAItN,EAAM,CAAEE,QAASkN,EAAEb,OAAOrM,QAASuB,IAAK2L,EAAEb,OAAO9K,KACrD,GAAc,OAAV6L,QAA4BC,IAAVD,EAAqB,CAC1C,IAAIE,EAAKJ,EAAErN,KAAKuN,GAChB,IAAK,IAAIG,KAAQD,EACZA,EAAGE,eAAeD,KACrBzN,EAAIyN,GAAQD,EAAGC,IAIlB,OAAOzN,GAER2N,YAAa,SAAUC,EAAatD,GACnC,IAAIqB,EAAOtG,KACXA,KAAKmH,OAAOoB,GAAa,SAAU5N,GAClC2L,EAAKe,UAAU1M,GAAK,SAAUA,GAC7B2L,EAAKwB,OAAOnN,GAAK,SAAUA,GAC1BsK,EAAStK,aAWb6N,WAAY,SAAUlM,EAAe2I,GACpC,IAAIsD,EAAc,uDAAyDjM,EAAgB,4CAC3F0D,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASX8N,eAAgB,SAAUnM,EAAeoM,EAASzD,GACjD,IAAIsD,EAAc,uDAAyDjM,EAAgB,kBAAoBoM,EAAU,uBACzH1I,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAOXgO,YAAa,SAAUrM,EAAe2I,GACrC,IAAIsD,EAAc,wDAA0DjM,EAAgB,OAC5F0D,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAOXiO,aAAc,SAAUtM,EAAe2I,GACtC,IAAIsD,EAAc,yDAA2DjM,EAAgB,OAC7F0D,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXuC,gBAAiB,SAAUZ,EAAeW,EAAUgI,GACnD,IAAIsD,EAAc,4DAA8DjM,EAAgB,mBAAqBW,EAAW,OAChI+C,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAQXyC,iBAAkB,SAAUD,EAAS8H,GACpC,IAAIsD,EAAc,uDAAyDpL,EAAU,OACrF6C,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXkO,sBAAuB,SAAUC,EAAK3L,EAAS8H,GAC9C,IAAIsD,EAAc,uDAAyDO,EAAM,iBAAmB3L,EAAU,OAC9G6C,KAAKsI,YAAYC,GAAa,SAAU5N,GACvC,GAAIA,EAAIE,QAAS,CAChB,IAAIkO,EAAWpO,EAAIqO,SACnBrO,EAAIqO,SAAWD,EAAS3I,QAAQ,UAAW,IAAIA,QAAQ,WAAY,IAEpE6E,EAAStK,OASXsO,mBAAoB,SAAU3M,EAAe4M,EAAMjE,GAClD,IAAIsD,EAAc,8DAAgEjM,EAAgB,cAAgB4M,EAAO,sBACzHlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXsB,uBAAwB,SAAUK,EAAe4M,EAAMjE,GACtD,IAAIsD,EAAc,8DAAgEjM,EAAgB,cAAgB4M,EAAO,sBACzHlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUXwO,qBAAsB,SAAUhM,EAAS+L,EAAM/M,EAAU8I,GACxD,IAAIsD,EAAc,0DAA4DpL,EAAU,cAAgB+L,EAAO,kBAAoB/M,EAAW,OAC9I6D,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUXyO,qBAAsB,SAAU9M,EAAe+M,EAASpE,GACvD,IAAIsD,EAAc,gEAAkEjM,EAAgB,iBAAmB+M,EAAU,sBACjIrJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASX2O,yBAA0B,SAAUhN,EAAe+M,EAASpE,GAC3D,IAAIsD,EAAc,gEAAkEjM,EAAgB,iBAAmB+M,EAAU,sBACjIrJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUX4O,uBAAwB,SAAUpM,EAASkM,EAASlN,EAAU8I,GAC7D,IAAIsD,EAAc,4DAA8DpL,EAAU,iBAAmBkM,EAAU,kBAAoBlN,EAAW,OACtJ6D,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASX6O,oBAAqB,SAAUlN,EAAe4M,EAAMjE,GACnD,IAAIsD,EAAc,+DAAiEjM,EAAgB,cAAgB4M,EAAO,sBAC1HlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASX8O,sBAAuB,SAAUC,EAAQR,EAAMjE,GAC9C,IAAIsD,EAAc,2DAA6DmB,EAAS,cAAgBR,EAAO,OAC/GlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXgP,oBAAqB,SAAUrN,EAAe4M,EAAMjE,GACnD,IAAIsD,EAAc,+DAAiEjM,EAAgB,cAAgB4M,EAAO,sBAC1HlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXiP,qBAAsB,SAAUF,EAAQR,EAAMjE,GAC7C,IAAIsD,EAAc,0DAA4DmB,EAAS,cAAgBR,EAAO,OAC9GlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXkP,qBAAsB,SAAUvN,EAAe4M,EAAMjE,GACpD,IAAIsD,EAAc,gEAAkEjM,EAAgB,cAAgB4M,EAAO,sBAC3HlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAOXmP,mBAAoB,SAAUZ,EAAMjE,GACnC,IAAIsD,EAAc,qDAAuDW,EAAO,OAChFlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OASXoP,mBAAoB,SAAUC,EAAQd,EAAMjE,GAC3C,IAAIsD,EAAc,uDAAyDyB,EAAS,cAAgBd,EAAO,OAC3GlJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUXsP,mBAAoB,SAAUC,EAASC,EAASlF,GAG/C,IAAIsD,EAAc,yDAFlB2B,EAAUA,EAAQ9J,QAAQ,MAAO,MAEqD,kBADtF+J,EAAUA,EAAQ/J,QAAQ,MAAO,MACkF,OACnHJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUXyP,mBAAoB,SAAUF,EAASC,EAASH,EAAQ/E,GAGvD,IAAIsD,EAAc,yDAFlB2B,EAAUA,EAAQ9J,QAAQ,MAAO,MAEqD,kBADtF+J,EAAUA,EAAQ/J,QAAQ,MAAO,MACkF,gBAAkB4J,EAAS,OAC9IhK,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUX0P,cAAe,SAAUC,EAAQrF,GAChC,IAAIsD,EAAc,gDAAkD+B,EAAS,OAC7EtK,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAUX4P,cAAe,SAAUL,EAASjF,GAEjC,IAAIsD,EAAc,oDADlB2B,EAAUA,EAAQ9J,QAAQ,MAAO,MACgD,OACjFJ,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAMX6P,YAAa,SAAUvF,GACtB,IAA0DqB,EAAOtG,KACjEA,KAAKmH,OADa,wCACO,SAAUD,GAClCZ,EAAKe,UAAUH,GAAQ,SAAUA,GAChC,IAAIa,EAAIH,KAAKC,MAAMX,GACnB,GAAIa,EAAEb,OAAOrM,QACZ,GAAIkN,EAAErN,KAAK+P,OAAS,EAAG,CACtB,IAAIC,EAAQC,OAAOC,OAAOtE,EAAKuE,IAC/BH,EAAMjM,MAAQ,2BACdiM,EAAMI,SAAW,2BAEjB,IAAIC,EAAWC,SAASC,eAAe3E,EAAKuE,GAAGK,eAC1CH,IACJL,EAAQC,OAAOC,OAAOtE,EAAKuE,IAC3BvE,EAAK6E,SAAST,GACdK,EAAWC,SAASC,eAAe3E,EAAKuE,GAAGK,gBAE5CH,EAASK,UAAY,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAItD,EAAErN,KAAK+P,OAAQY,IAAK,CACvC,IAAIC,EAAIN,SAASO,cAAc,KAC/BD,EAAEF,UAAY,SAAWrD,EAAErN,KAAK2Q,GAAGG,KAAO,4BAA8BzD,EAAErN,KAAK2Q,GAAGI,GACxE,IAANJ,IACHC,EAAE7N,UAAY,UAEf6N,EAAEI,QAAU,WACXpF,EAAKqF,OAAO3L,OAEb+K,EAASa,YAAYN,GAEtB,IAAIO,EAAgBvF,EAAKwF,QAAQ,mBAC7BC,EAAiBzF,EAAKwF,QAAQ,oBAC9BE,EAAkB1F,EAAKwF,QAAQ,qBACnCC,EAAeL,QAAU,WACxBpF,EAAK2F,cAEND,EAAgBN,QAAU,WACzBpF,EAAK2F,cAENJ,EAAcH,QAAU,WACvBpF,EAAK4F,YAAW,SAAUjE,GACzBhD,EAASqB,EAAK0B,QAAQD,EAAGE,aAI3BhD,EAASqB,EAAK0B,QAAQD,EAAG,SAG1B9C,EAASqB,EAAK0B,QAAQD,WAS1BoE,sBAAuB,SAAUC,EAAYC,EAAUpH,GACtDjF,KAAKhD,iBAAiBoP,EAAYC,EAAUpH,IAE7CjI,iBAAkB,SAAUoP,EAAYC,EAAUpH,GACjD,IAAIqB,EAAOtG,KAAMsM,EAAatM,KAAKsM,WAAWC,SAC9CvM,KAAKwM,iBAAiBF,GAAY,SAAU3R,GAC3C,GAAIA,EAAIE,QAAS,CAChB,IAAI0N,EAAc,wDAA0D8D,EAAW,OACvF/F,EAAKa,OAAOoB,GAAa,SAAUrB,GAClCZ,EAAKe,UAAUH,GAAQ,SAAUA,GAChC,IAAIa,EAAIH,KAAKC,MAAMX,GACf6D,EAAWC,SAASC,eAAe3E,EAAKuE,GAAGK,eAC/C,GAAInD,EAAEb,OAAOrM,QAAS,CACrB,GAAIuR,EAEH,GADUrE,EAAErN,KAAK+P,OACP,EAAG,CACZ,IAAKM,EAAU,CACd,IAAIL,EAAQC,OAAOC,OAAOtE,EAAKuE,IAC/BvE,EAAK6E,SAAST,GACdK,EAAWC,SAASC,eAAe3E,EAAKuE,GAAGK,eAE5CuB,EAAS1B,EAAUhD,EAAErN,WAEjBqQ,EACH0B,EAAS1B,EAAUhD,EAAErN,MAErB4L,EAAKoG,gBAAgBJ,GAAY,WAChCrH,EAASqB,EAAK0B,QAAQD,EAAG,YAK5BzB,EAAKoG,gBAAgBJ,GAAY,WAChCrH,EAAS,CAAEpK,SAAS,EAAMuB,IAAK2L,EAAEb,OAAO9K,IAAK1B,KAAMqN,EAAErN,cAGjD,CACN,GAAIqN,EAAErN,MAAQqQ,EAAU,CACvB,IAAI4B,EAAgB3B,SAAS4B,iBAAiB,IAAMtG,EAAKuE,GAAGgC,WAC5DF,EAAc,GAAGG,WAAWC,YAAYJ,EAAc,IAEvDrG,EAAKoG,gBAAgBJ,GAAY,SAAU3R,GAC1CsK,EAASqB,EAAK0B,QAAQD,OAGxB,SAAS0E,EAAS1B,EAAUiC,GAC3BjC,EAASK,UAAY,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAI2B,EAAKvC,OAAQY,IAAK,CACrC,IAAIC,EAAIN,SAASO,cAAc,KAC/BD,EAAEF,UAAY,SAAW4B,EAAK3B,GAAG4B,GAAK,UAAYD,EAAK3B,GAAG/O,cAChD,IAAN+O,IACHC,EAAE7N,UAAY,UAEf6N,EAAEI,QAAU,WACXpF,EAAKqF,OAAO3L,OAEb+K,EAASa,YAAYN,GAEtB,IAAIO,EAAgBvF,EAAKwF,QAAQ,mBAC7BC,EAAiBzF,EAAKwF,QAAQ,oBAC9BE,EAAkB1F,EAAKwF,QAAQ,qBACnCC,EAAeL,QAAU,WACxBpF,EAAKoG,gBAAgBJ,GAAY,WAChChG,EAAK2F,iBAGPD,EAAgBN,QAAU,WACzBpF,EAAKoG,gBAAgBJ,GAAY,WAChChG,EAAK2F,iBAGPJ,EAAcH,QAAU,WACvBpF,EAAK4F,YAAW,SAAUhF,GACzBZ,EAAKoG,gBAAgBJ,GAAY,WAChCrH,EAASqB,EAAK0B,QAAQD,EAAGb,uBAQ/BZ,EAAK4G,SAASvS,EAAIyB,SAIrBkQ,WAAY,CACXC,SAAU,YAGXC,iBAAkB,SAAUW,EAAMlI,GACjC,IAAIsD,EAAc,mDAAqD4E,EAAO,OAC9EnN,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAIX+R,gBAAiB,SAAUS,EAAMlI,GAChC,IAAIsD,EAAc,kDAAoD4E,EAAO,OAC7EnN,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAQXyS,sBAAuB,SAAUrC,EAAUrQ,EAAMuK,GAChD,IAAIsD,EAAc,+DAAiEwC,EAAW,qBAAuBrQ,EAAO,OAC5HsF,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAQX0S,sBAAuB,SAAUtR,EAAerB,EAAMuK,GACrD,IAAIqB,EAAOtG,KACXA,KAAK4I,aAAa7M,GAAe,SAAUpB,GAU1C,SAAS2S,EAAG3S,GACX,GAAI2L,EAAKiH,UAAU5S,GAAM,CACxB,IAAI4N,EAAc,iEAAmExM,EAAgB,cAAgBrB,EAAO,iBAAmBC,EAAI6S,QAAU,OAC7JlH,EAAKgC,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAbR2L,EAAKiH,UAAU5S,KACbA,EAAI6S,QAKRF,EAAG3S,GAJH2L,EAAKkC,WAAWzM,GAAe,SAAUpB,GACxC2S,EAAG3S,WAgBR4S,UAAW,SAAUxF,GACpB,QAAKA,EAAElN,UACN6L,MAAMqB,EAAE3L,MACD,IASTqR,uBAAwB,SAAU/D,EAAQY,EAAQJ,EAASC,EAASlF,GAC9DiF,IACJA,EAAU,KAEXA,EAAUA,EAAQ9J,QAAQ,MAAO,KACjC+J,EAAUA,EAAQ/J,QAAQ,MAAO,KACjC8J,EAAUA,EAAQ9J,QAAQ,OAAQ,IAElC,IAAIsN,GADJvD,EAAUA,EAAQ/J,QAAQ,OAAQ,KAClBgG,MAAM,KACtB,GAAI,YAAYuH,KAAKD,EAAEA,EAAEjD,OAAS,IACjC/D,MAAM,wDADP,CAKA,IAAI6B,EAAc,4DAA8DmB,EAAS,qBAAuBY,EAAS,qBAAuBJ,EAAU,iBAAmBC,EAAU,OACvLnK,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,QAQXiT,uBAAwB,SAAU7R,EAAemO,EAAS2D,EAAYC,EAAS7I,GAC9EiF,EAAUA,EAAQ9J,QAAQ,MAAO,KACjCyN,EAAaA,EAAWzN,QAAQ,MAAO,KAGvC,IAAImI,EAAc,kEAAoExM,EAAgB,kBAFtGmO,EAAUA,EAAQ9J,QAAQ,OAAQ,KAEiG,qBADnIyN,EAAaA,EAAWzN,QAAQ,OAAQ,KAC8H,iBAAmB0N,EAAU,OACnM9N,KAAKsI,YAAYC,GAAa,SAAU5N,GACvCsK,EAAStK,OAGXuS,SAAU,SAAU9Q,GACnB,IAAI2R,EAAM/C,SAASO,cAAc,OAC7ByC,EAAOhD,SAASO,cAAc,QAClCwC,EAAItQ,UAAY,qBAChBuQ,EAAK5C,UAAYhP,EACjB4R,EAAKvQ,UAAY,yBACjBsQ,EAAInC,YAAYoC,GAChBhD,SAASiD,KAAKrC,YAAYmC,GAC1B,IAAIG,EAAUlD,SAAS4B,iBAAiB,uBACxCrI,OAAO0C,YAAW,WACjBiH,EAAQ,GAAGpB,WAAWC,YAAYmB,EAAQ,MACxC,MAEJpC,QAAS,SAAUqC,GAClB,OAAOnD,SAASC,eAAekD,IAIhCtD,GAAI,CACHuD,QAAS,kBACTC,OAAQ,aACR5P,MAAO,2BACP6P,OAAQ,IACRC,MAAO,IACPC,QAAS,eACTC,QAAS,2BACT3D,SAAU,2BACV4D,KAAM,aACNxD,cAAe,uBACfyD,OAAQ,cACRC,WAAY,CAAC,eAAM,gBACnB/B,UAAW,sBACXgC,IAAK,WACJ,IAAIC,EAAiB9D,SAASO,cAAc,OACxCwD,EAAW/D,SAASO,cAAc,OACtCwD,EAASZ,GAAKnO,KAAKoO,QACnBW,EAAStR,UAAY,kBACrBqR,EAAerR,UAAY,sBAC3BqR,EAAelD,YAAYmD,GAC3B/D,SAASgE,qBAAqB,QAAQ,GAAGpD,YAAYkD,GACrDC,EAAS3D,UAAY,4BAA8BpL,KAAKqO,OAAS,4CAA8CrO,KAAK0O,KAAO,SAAW1O,KAAKvB,MAAQ,6FAAqFuB,KAAKwO,QAAU,uBAAyBxO,KAAK8K,SAAW,qBAAuB9K,KAAKkL,cAAgB,qCAAuClL,KAAK2O,OAAS,gCAAkC3O,KAAK4O,WAAW,GAAK,uCAAyC5O,KAAK4O,WAAW,GAAK,8BAGxfK,QAAS,CACRC,SAAU,SAAUC,EAAS5T,EAAM6T,GAC9BD,EAAQE,iBACXF,EAAQE,iBAAiB9T,EAAM6T,GAAS,GAC9BD,EAAQG,YAClBH,EAAQG,YAAY,KAAO/T,EAAM6T,GAEjCD,EAAQ,KAAO5T,GAAQ6T,GAGzBG,YAAa,SAAUJ,EAAS5T,EAAM6T,GACjCD,EAAQK,oBACXL,EAAQK,oBAAoBjU,EAAM6T,GAAS,GACjCD,EAAQM,YAClBN,EAAQM,YAAY,KAAOlU,EAAM6T,GAEjCD,EAAQ,KAAO5T,GAAQ,MAGzBmU,gBAAiB,SAAUlJ,GAC1B,IAAIkB,EAAIlB,GAASjC,OAAOiC,MACxB,IAAIkB,EAAEgI,gBAGL,OAAOhI,EAAEiI,cAAe,EAFxBjI,EAAEgI,mBAKJE,gBAAiB,SAAUpJ,GAC1B,IAAIkB,EAAIlB,GAASjC,OAAOiC,MACpBkB,EAAEmI,eACLnI,EAAEmI,iBAEFnI,EAAEoI,aAAc,IAInBnE,OAAQ,SAAUjE,GACjB,IAAK1H,KAAK+P,SAASrI,EAAG,UAAW,CAChC1H,KAAKgQ,SAAStI,EAAG,UAEjB,IADA,IAAIuI,EAAcjQ,KAAKkQ,YAAYxI,GAC1BvH,EAAI,EAAGA,EAAI8P,EAAYxF,OAAQtK,IACvCH,KAAKmQ,YAAYF,EAAY9P,GAAI,YAIpCiQ,UAAW,GACXC,MAAO,GACPnE,WAAY,SAAUjH,GAErB,IADA,IAAIqL,EAActQ,KAAK8L,QAAQ,wBAAwBkD,qBAAqB,KACnE3D,EAAI,EAAGA,EAAIiF,EAAY7F,OAAQY,IACnCrL,KAAK+P,SAASO,EAAYjF,GAAI,YACjCpG,EAASoG,GACTrL,KAAKiM,eAIRA,WAAY,WACX,IAAIU,EAAgB3M,KAAK8L,QAAQ,mBAAmBgB,WACpDH,EAAcG,WAAWC,YAAYJ,IAGtCxB,SAAU,SAAkBT,EAAO3C,GAClC2C,EAAMmE,MACN,IAAI0B,EAAQvQ,KACRwQ,EAAWD,EAAMzE,QAAQpB,EAAM2D,QAC/BoC,EAAYF,EAAMzE,QAAQpB,EAAMgE,MAEhCgC,EADYH,EAAMzE,QAAQpB,EAAMiE,QACZK,qBAAqB,QAC7C,GAAIjH,GAAKA,EAAE4I,IACV,IAAK,IAAItF,EAAI,EAAGA,EAAIqF,EAAQjG,OAAQY,IACnCqF,EAAQrF,GAAGD,UAAYrD,EAAE4I,IAAItF,GAAGuF,KAChCF,EAAQrF,GAAG8C,GAAKpG,EAAE4I,IAAItF,GAAG8C,QAG1B,IAAK,IAAI0C,EAAI,EAAGA,EAAIH,EAAQjG,OAAQoG,IACnCH,EAAQG,GAAGzF,UAAYV,EAAMkE,WAAWiC,GAItC9I,IACH2C,EAAM4D,OAASvG,EAAEuG,OACjB5D,EAAM6D,MAAQxG,EAAEwG,OAEjBiC,EAASM,MAAMxC,OAAS5D,EAAM4D,OAAS,KACvCkC,EAASM,MAAMvC,MAAQ7D,EAAM6D,MAAQ,KACrCiC,EAASM,MAAMC,UAAYrG,EAAM4D,QAAU,EAAI,KAC/CkC,EAASM,MAAME,WAAatG,EAAM6D,OAAS,EAAI,KAmC/CvO,KAAKiP,QAAQC,SAASuB,EAAW,aANrB,SAAUjK,GACrB,IAAIkB,EAAIlB,GAASjC,OAAOiC,OA5Bd,SAAUyK,EAAMC,GAK1B,SAASC,EAAS3K,GACjB,IAAIkB,EAAIlB,GAASjC,OAAOiC,MACpB4K,EAAIpG,SAASqG,gBAAgBC,aAAetG,SAASiD,KAAKqD,YAC1DC,EAAIvG,SAASqG,gBAAgBG,cAAgBxG,SAASiD,KAAKuD,aAC/DhB,EAASM,MAAMW,IAAO/J,EAAEgK,QAAUR,EAAQ,KAC1CV,EAASM,MAAMa,KAAQjK,EAAEkK,QAAUX,EAAQ,KACvCvJ,EAAEgK,QAAUR,GAAQ,IACvBV,EAASM,MAAMW,IAAM,GAElB/J,EAAEkK,QAAUX,GAAQ,IACvBT,EAASM,MAAMa,KAAO,GAEnBjK,EAAEgK,QAAUR,GAAQK,EAAIf,EAASqB,eACpCrB,EAASM,MAAMW,IAAOF,EAAIf,EAASqB,aAAgB,MAEhDT,GAAK1J,EAAEkK,QAAUX,GAAQT,EAASsB,aAAe,IACpDtB,EAASM,MAAMa,KAAQP,EAAIZ,EAASsB,YAAe,MAEpDtB,EAASM,MAAMC,UAAY,EAC3BP,EAASM,MAAME,WAAa,EAvB7BT,EAAMtB,QAAQC,SAASlE,SAAU,YAAamG,GAC9CZ,EAAMtB,QAAQC,SAASuB,EAAW,WAAW,WAC5CF,EAAMtB,QAAQM,YAAYvE,SAAU,YAAamG,MA4BlDY,CAFWrK,EAAEkK,QAAUpB,EAASwB,WACrBtK,EAAEgK,QAAUlB,EAASyB,eAMlCjC,SAAU,SAAUkC,EAAKC,GACxB,IAAIC,EAAYF,EAAIzU,UAChB4U,EAAQD,GAD0C,KAAdA,EAAoB,IAAM,IAClCD,EAChCD,EAAIzU,UAAY4U,GAEjBlC,YAAa,SAAU+B,EAAKC,GAC3B,IAAIC,EAAY,IAAMF,EAAIzU,UAAY,IAElC6U,GADJF,EAAYA,EAAUhS,QAAQ,UAAW,MACjBA,QAAQ,IAAM+R,EAAM,IAAK,KACjDG,EAAUA,EAAQlS,QAAQ,iBAAkB,IAC5C8R,EAAIzU,UAAY6U,GAEjBvC,SAAU,SAAUmC,EAAKC,GACxB,IAA+BI,EAAfL,EAAIzU,UAAqC2I,MAAM,OAAQoM,EAAI,EAC3E,IAAKA,KAAKD,EACT,GAAIA,EAAcC,KAAOL,EACxB,OAAO,EAGT,OAAO,GAERjC,YAAa,SAAUuC,GAEtB,IADA,IAAIC,EAAS,GAAIC,EAAQF,EACjBA,EAAOA,EAAKG,iBACG,IAAlBH,EAAKI,UACRH,EAAOtX,KAAKqX,GAMd,IADAA,EAAOE,EACCF,EAAOA,EAAKK,aACG,IAAlBL,EAAKI,UACRH,EAAOtX,KAAKqX,GAKd,OAAOC,GAGRK,eAAgB,SAAwBhL,GACvC,IAAI2C,EAAQC,OAAOC,OAAO5K,KAAK6K,IAC/B7K,KAAKmL,SAAST,EAAO3C,M,iCCr2BR,KACbpJ,aAAc,2G,oBCAhBiH,EAAOC,QAAU,CAAC,WAAa,0BAA0B,KAAO,oBAAoB,MAAQ,qBAAqB,OAAS,sBAAsB,GAAK,kBAAkB,OAAS,sBAAsB,UAAY,yBAAyB,UAAY,yBAAyB,SAAW,wBAAwB,OAAS,wB,oBCD5TD,EAAOC,QAAU,IAA0B","file":"static/js/33.baa1439f.chunk.js","sourcesContent":["import * as types from './actionTypes';\r\nimport * as requestURL from 'static/js/requestURL';\r\nimport * as request from 'static/js/request';\r\n//import spinningAction from 'pages/common/layer/spinning';\r\nimport notification from 'pages/common/layer/notification';\r\nimport $$ from 'static/js/base.js';\r\n\r\n\r\nconst loginSubmit = req => {\r\n  return dispatch => {\r\n    request.json(requestURL.managerLoginURL, req.data, res => {\r\n      dispatch(changeLoginLoading(false))\r\n      if (res.data) {\r\n        const { success, message, data } = res.data && res.data\r\n        if (success) {\r\n          $$.token.set(data)\r\n          req.props.history.push(\"/home\")\r\n        } else {\r\n          notification('error', message)\r\n        }\r\n      } else {\r\n        notification('error', res)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//签名\r\nfunction pkcs1SignData_PIN(props, dispatch, GZCA, containerName, original, certserial) {\r\n  GZCA.GZCA_Pkcs1SignData_PIN(containerName, original, function (res) {\r\n    if (res.success) {\r\n      const signData = res.SignData;\r\n      const data = { certserial, signData };\r\n      dispatch(loginSubmit({ data, props }));\r\n    } else {\r\n      dispatch(changeLoginLoading(false))\r\n      notification('error', res.msg)\r\n    }\r\n  });\r\n}\r\n\r\n//改变编辑弹出层提交按钮loading状态\r\nconst changeLoginLoading = loginLoading => ({\r\n  type: types.CHANGE_LOGIN_LOADING,\r\n  loginLoading,\r\n})\r\n\r\n//获取随机数原文\r\nconst getRandomAction = params => {\r\n  return dispatch => {\r\n    dispatch(changeLoginLoading(true))\r\n    console.log(\"certserial=\", \"certserial=\" + params.certserial)\r\n    request.json(requestURL.managerBuildRandNumURL, \"certserial=\" + params.certserial, res => {\r\n      if (res.data) {\r\n        const { success, message, data } = res.data && res.data\r\n        if (success) {\r\n          pkcs1SignData_PIN(params.props, dispatch, params.GZCA, params.ContainerName, data, params.certserial)\r\n        } else {\r\n          notification('error', message)\r\n          dispatch(changeLoginLoading(false))\r\n        }\r\n      } else {\r\n        notification('error', res)\r\n        dispatch(changeLoginLoading(false))\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  getRandomAction,\r\n  changeLoginLoading,\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styles from './login.module.css';\r\nimport { GZCA } from 'static/plugins/gzca/js/gzca';\r\nimport * as creators from './store/creators';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'antd';\r\nimport notification from 'pages/common/layer/notification';\r\nfunction LoginButton(props) {\r\n\r\n  //初始化连接\r\n  function initSocket() {\r\n    GZCA.init((res) => {\r\n      if (res) {\r\n        getUkeyList();\r\n      } else {\r\n        notification('error', res.msg)\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取UKEY列表\r\n  function getUkeyList() {\r\n    const CertType = 1;\r\n    GZCA.GZCA_GetCertList(true, CertType, function (res) {\r\n      if (res.success) {\r\n        getCert(res.ContainerName, CertType)\r\n      } else {\r\n        notification('error', res.msg)\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取签名证书base64\r\n  function getCert(ContainerName, CertType) {\r\n    GZCA.GZCA_ExportCert(ContainerName, CertType, function (res) {\r\n      if (res.success) {\r\n        const CertB64 = res.CertB64;\r\n        getSn(CertB64, ContainerName);\r\n      } else {\r\n        notification('error', res.msg)\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取签名证书序列号\r\n  function getSn(CertB64, ContainerName) {\r\n    GZCA.GZCA_GetCertInfo(CertB64, function (res) {\r\n      if (res.success) {\r\n        const certserial = res.CertSerial\r\n        props.getRandom({ props: props, GZCA, certserial, ContainerName })\r\n      } else {\r\n        notification('error', res.msg)\r\n      }\r\n    });\r\n  }\r\n\r\n  return <Button\r\n    type=\"primary\"\r\n    size=\"large\"\r\n    className={styles.submit}\r\n    onClick={() => initSocket()}\r\n    loading={props.loginLoading}\r\n  >登 录</Button>\r\n}\r\n\r\nconst mapState = state => ({\r\n  loginLoading: state.login.loginLoading\r\n})\r\n\r\nconst mapDispatch = dispatch => ({\r\n  getRandom: params => {\r\n    const action = creators.getRandomAction(params);\r\n    dispatch(action);\r\n  }\r\n})\r\n\r\nexport default withRouter(connect(mapState, mapDispatch)(LoginButton));\r\n","import React from 'react';\r\n\r\nimport styles from './login.module.css';\r\nimport img from 'static/img/1.png';\r\nimport logo from 'static/img/logo.png';\r\nimport LoginButton from './LoginButton';\r\nimport platForm from 'static/js/config';\r\n\r\n\r\nfunction Login(props) {\r\n  return (\r\n    <div className={styles.bg}>\r\n      <div>\r\n        <img className={styles.imgTop} src={img} alt=\"浮云\" />\r\n      </div>\r\n      <div>\r\n        <img className={styles.imgCenter} src={img} alt=\"浮云\" />\r\n      </div>\r\n      <div>\r\n        <img className={styles.imgBottom} src={img} alt=\"浮云\" />\r\n      </div>\r\n      <div>\r\n        <div className={styles.pageCenter}>\r\n          <img className={styles.imgOhter} src={img} alt=\"浮云\" />\r\n          <img className={styles.logo} src={logo} alt=\"\" />\r\n          <h2 className={styles.title}>{platForm.platFormName}</h2>\r\n          <LoginButton loginProps={props} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.footer}>©2019 gzdata.com 云上贵州 黔ICP备17003900号-1</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","const token = \"YUN_SHANG_GUIZHOU_TOKEN\"\r\nexport default {\r\n  localStorage: {\r\n    get: k => {\r\n      return localStorage.getItem(k);\r\n    },\r\n    set: (k, v) => {\r\n      localStorage.setItem(k, v);\r\n    }\r\n  },\r\n  token: {\r\n    get: () => {\r\n      return localStorage.getItem(token);\r\n    },\r\n    set: v => {\r\n      localStorage.setItem(token, v);\r\n    }\r\n  },\r\n  getDays: function (_time) {\r\n    var GZCADate = new Date(_time), GZCAYear = GZCADate.getFullYear(), GZCAMonth = changeDate(GZCADate\r\n      .getMonth() + 1), GZCATime = changeDate(GZCADate.getDate());\r\n    function changeDate(d) {\r\n      return d < 10 ? \"0\" + d : d;\r\n    }\r\n    return GZCAYear + '-' + GZCAMonth + '-' + GZCATime;\r\n  },\r\n  getHours: function (_time) {\r\n    var GZCADate = new Date(_time), GZCAYear = GZCADate.getFullYear(), GZCAMonth = changeDate(GZCADate\r\n      .getMonth() + 1), GZCATime = changeDate(GZCADate.getDate()), GZCAHours = changeDate(GZCADate\r\n        .getHours()), GZCAMinutes = changeDate(GZCADate.getMinutes()), GZCASeconds = changeDate(GZCADate\r\n          .getSeconds());\r\n    function changeDate(d) {\r\n      return d < 10 ? \"0\" + d : d;\r\n    }\r\n    return GZCAYear + '-' + GZCAMonth + '-' + GZCATime + ' ' + GZCAHours\r\n      + ':' + GZCAMinutes + ':' + GZCASeconds;\r\n  },\r\n  login(props, token) {\r\n    this.token.set(token);\r\n    props.history.push(\"/home\");\r\n  },\r\n  logout(props) {\r\n    props.history.push(\"/\");\r\n    this.token.set(\"\");\r\n  },\r\n  trim(s) {\r\n    return s.replace(/(^\\s*)|(\\s*$)/g, '')\r\n  }\r\n}","import { notification } from 'antd';\r\n\r\nexport default (type, description) => {\r\n  notification[type]({\r\n    message: \"系统提示\",\r\n    description: description\r\n  });\r\n};\r\n","\r\n//登录权限查询\r\nexport const powerSelectAdminMenu = \"/api/v1/uamBase/power/selectAdminMenu\";\r\n\r\n//管理员管理\r\nexport const managerRegistertURL = \"/api/v1/uamBase/manager/register\";\r\nexport const managerDeleteAdminURL = \"/api/v1/uamBase/manager/deleteAdmin\";\r\nexport const managerUpdateAdminInfoURL = \"/api/v1/uamBase/manager/updateAdminInfo\";\r\nexport const managerSelectAdminListURL = \"/api/v1/uamBase/manager/selectAdminList\";\r\nexport const managerLoginURL = \"/api/v1/uamBase/manager/login.htm\";\r\nexport const managerBuildRandNumURL = \"/api/v1/uamBase/manager/buildRandNum.htm\";\r\nexport const powerSelectUserRole = \"/api/v1/uamBase/power/selectUserRole\";\r\nexport const powerUserBindRole = \"/api/v1/uamBase/power/userBindRole\";\r\nexport const managerSelectLoginAdminInfo = \"/api/v1/uamBase/manager/selectLoginAdminInfo\";\r\n\r\n//角色管理\r\nexport const powerNewRoleURL = \"/api/v1/uamBase/power/newRole\";\r\nexport const powerSelectAllRoleURL = \"/api/v1/uamBase/power/selectAllRole\";\r\nexport const powerDeleteRoleURL = \"/api/v1/uamBase/power/deleteRole\";\r\nexport const powerUpdateRoleURL = \"/api/v1/uamBase/power/updateRole\";\r\nexport const powerUserBindMenu = \"/api/v1/uamBase/power/userBindMenu\";\r\nexport const powerSelectUserMenu = \"/api/v1/uamBase/power/selectUserMenu\";\r\n\r\n//菜单管理\r\nexport const powerSelectAllMenu = \"/api/v1/uamBase/power/selectAllMenu\";\r\nexport const powerNewMenu = \"/api/v1/uamBase/power/newMenu\";\r\nexport const powerUpdateMenu = \"/api/v1/uamBase/power/updateMenu\";\r\nexport const powerDeleteMenu = \"/api/v1/uamBase/power/deleteMenu\";\r\n\r\n//用户管理\r\nexport const userSelectUsers = \"/api/v1/uamBase/user/selectUsers\";\r\n\r\n//证书管理\r\nexport const certManageSelectCerts = \"/api/v1/uamManager/certManage/selectCerts\";\r\nexport const certManageInsert = \"/api/v1/uamManager/certManage/insert\";\r\n\r\n//应用管理\r\nexport const plateSettingSelectAppData = \"/api/v1/uamManager/plateSetting/SelectAppData\";\r\nexport const plateSettingAddAppData = \"/api/v1/uamManager/plateSetting/AddAppData\";\r\nexport const plateSettingSelectAppAuthSecret = \"/api/v1/uamManager/plateSetting/SelectAppAuthSecret\";\r\nexport const plateSettingUpdateApp = \"/api/v1/uamManager/plateSetting/UpdateApp\";\r\nexport const plateSettingAppDetail = \"/api/v1/uamManager/plateSetting/appDetail\";\r\nexport const plateSettingAppAudit = \"/api/v1/uamManager/plateSetting/appAudit\";\r\nexport const plateSettingUpdateAppWithOutFile = \"/api/v1/uamManager/plateSetting/UpdateAppWithOutFile\";\r\n\r\n\r\n//字典管理\r\nexport const plateSettingSelectDictionaryType = \"/api/v1/uamManager/plateSetting/SelectDictionaryType\";\r\nexport const plateSettingAddDicType = \"/api/v1/uamManager/plateSetting/AddDicType\";\r\nexport const plateSettingDeleteDicType = \"/api/v1/uamManager/plateSetting/DeleteDicType\";\r\nexport const plateSettingUpdateDicType = \"/api/v1/uamManager/plateSetting/UpdateDicType\";\r\n\r\nexport const plateSettingSelectDictionaryApp = \"/api/v1/uamManager/plateSetting/SelectDictionaryApp\";\r\nexport const plateSettingUpdateDictionaryApp = \"/api/v1/uamManager/plateSetting/UpdateDictionaryApp\";\r\nexport const plateSettingAddDictionaryApp = \"/api/v1/uamManager/plateSetting/AddDictionaryApp\";\r\nexport const plateSettingDeleteDictionaryApp = \"/api/v1/uamManager/plateSetting/DeleteDictionaryApp\";\r\n\r\nexport const plateSettingAppType = \"/api/v1/uamManager/plateSetting/AppType\";\r\nexport const plateSettingDictByNine = \"/api/v1/uamManager/plateSetting/DictByNine\";\r\nexport const plateSettingLoginType = \"/api/v1/uamManager/plateSetting/LoginType\";\r\nexport const plateSettingSelectCA = \"/api/v1/uamManager/plateSetting/SelectCA\";\r\n\r\n//文件上传\r\nexport const uploadUploadApplyFile = \"/api/v1/upload/uploadApplyFile\";\r\n\r\n//机构管理\r\nexport const orgQueryByPage = \"/api/v1/manager/org/queryByPage\";\r\nexport const orgQueryAllOrgTree = \"/api/v1/manager/org/queryAllOrgTree\";\r\nexport const orgAddOrg = \"/api/v1/manager/org/addOrg\";\r\nexport const orgUpdateOrg = \"/api/v1/manager/org/updateOrg\";\r\nexport const orgUpdateOrgState = \"/api/v1/manager/org/updateOrgState\";\r\n\r\n\r\n//公告管理\r\nexport const noticeQueryByPage = \"/api/v1/manager/notice/queryByPage\";\r\nexport const noticeUpdateNotice = \"/api/v1/manager/notice/updateNotice\";\r\nexport const noticePublishNotice = \"/api/v1/manager/notice/publishNotice\";\r\nexport const noticeAddNotice = \"/api/v1/manager/notice/addNotice\";\r\nexport const noticeGetNoticeDetail = \"/api/v1/manager/notice/getNoticeDetail\";\r\n\r\n//产品管理\r\nexport const productSelectByPage = \"/api/v1/manager/product/selectByPage\";\r\nexport const productAddProduct = \"/api/v1/manager/product/addProduct\";\r\nexport const productUpdateProduct = \"/api/v1/manager/product/updateProduct\";\r\nexport const productDelProduct = \"/api/v1/manager/product/delProduct\";\r\n\r\n//认证源管理\r\nexport const authSelectByPage = \"/api/v1/manager/auth/selectByPage\";\r\nexport const authAddAuth = \"/api/v1/manager/auth/addAuth\";\r\nexport const authUpdateAuth = \"/api/v1/manager/auth/updateAuth\";\r\nexport const authDelAuth = \"/api/v1/manager/auth/delAuth\";\r\n\r\n//文档管理\r\nexport const docQueryCatalogPages = \"/api/v1/manager/doc/queryCatalogPages\";\r\nexport const docAddDocCatalog = \"/api/v1/manager/doc/addDocCatalog\";\r\nexport const docUpdateDocCatalog = \"/api/v1/manager/doc/updateDocCatalog\";\r\nexport const docQueryContentPages = \"/api/v1/manager/doc/queryContentPages\";\r\nexport const docAddDocContent = \"/api/v1/manager/doc/addDocContent\";\r\nexport const docUpdateDocContent = \"/api/v1/manager/doc/updateDocContent\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from 'axios';\r\n//import qs from 'qs';\r\nimport $$ from 'static/js/base';\r\nimport notification from 'pages/common/layer/notification';\r\nconst errorMsg = \"请求失败,请检查网络\"\r\n\r\nfunction authRedirect(message) {\r\n  $$.token.set(\"\")\r\n  if (window.$GLOBALPROPS) {\r\n    window.$GLOBALPROPS.history.push(\"/\")\r\n  }\r\n  notification(\"error\", message)\r\n}\r\n\r\nfunction configFn(url, data, method) {\r\n  const config = {\r\n    url,\r\n    method,\r\n    data,\r\n  }\r\n  const AuthToken = $$.token.get()\r\n  if (AuthToken) {\r\n    config.headers = {}\r\n    config.headers.AuthToken = AuthToken\r\n  }\r\n  return config\r\n}\r\n\r\nfunction json(requestURL, requestData, callback) {\r\n  const config = configFn(requestURL, requestData, 'post')\r\n  axios(config).then(res => {\r\n    if (res.data && !res.data.success && res.data.errCode === '400') {\r\n      authRedirect(res.data.message)\r\n    } else {\r\n      callback(res)\r\n    }\r\n  }).catch((err) => {\r\n    console.log(err);\r\n    callback(errorMsg);\r\n  })\r\n}\r\n\r\nfunction getJson(requestURL, requestData, callback) {\r\n  const config = configFn(requestURL, requestData, 'GET')\r\n  axios(config).then(res => {\r\n    if (res.data && !res.data.success && res.data.errCode === '400') {\r\n      authRedirect(res.data.message)\r\n    } else {\r\n      callback(res)\r\n    }\r\n  }).catch(err => {\r\n    console.log(err);\r\n    callback(errorMsg);\r\n  })\r\n}\r\n\r\nfunction jsonArr(requestURL, requestData, callback) {\r\n  let config = {\r\n    url: requestURL,\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      'AuthToken': $$.token.get()\r\n    },\r\n    data: requestData,\r\n  }\r\n  const AuthToken = $$.token.get()\r\n  if (AuthToken) {\r\n    config.headers.AuthToken = AuthToken\r\n  }\r\n  axios(config).then(res => {\r\n    if (res.data && !res.data.success && res.data.errCode === '400') {\r\n      authRedirect(res.data.message)\r\n    } else {\r\n      callback(res)\r\n    }\r\n  }).catch((err) => {\r\n    console.log(err);\r\n    callback(errorMsg);\r\n  })\r\n}\r\n\r\n\r\nfunction formData(requestURL, requestData, callback) {\r\n  axios({\r\n    url: requestURL,\r\n    method: 'post',\r\n    data: requestData,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      'AuthToken': $$.token.get()\r\n    },\r\n    // transformRequest: [function (data) {\r\n    //   return qs.stringify(data);\r\n    // }],\r\n  }).then(res => {\r\n    if (res.data && !res.data.success && res.data.errCode === '400') {\r\n      authRedirect(res.data.message)\r\n    } else {\r\n      callback(res)\r\n    }\r\n  }).catch((err) => {\r\n    console.log(err);\r\n    callback(errorMsg);\r\n  })\r\n}\r\n\r\nfunction urlToBlob(requestURL, callback) {\r\n  axios({\r\n    url: requestURL,\r\n    method: 'get',\r\n    responseType: 'blob'\r\n  }).then(res => {\r\n    if (res.data && !res.data.success && res.data.errCode === '400') {\r\n      authRedirect(res.data.message)\r\n    } else {\r\n      callback(res)\r\n    }\r\n  }).catch((err) => {\r\n    console.log(err);\r\n    callback(errorMsg);\r\n  })\r\n}\r\n\r\nexport { json, jsonArr, formData, urlToBlob, getJson }","module.exports = __webpack_public_path__ + \"static/media/logo.c98de11d.png\";","/**===================================================\r\n * Copyright(C) gzca.cc \r\n * Author: yangjiafeng \r\n * Updated Date: 2019.02.21\r\n * Version: 1.3\r\n * Description: 浏览器和GZCA数字证书客户端基于WebSocket通信 \r\n *====================================================*/\r\nexport const GZCA = {\r\n\tsocket: null,\r\n\tsuccess: false,\r\n\tconnect: false,\r\n\tfirst: false,\r\n\tinit(callback) {\r\n\t\tif (!this.success) {\r\n\t\t\tvar websoketUrl, www_url = window.location.href;\r\n\t\t\twww_url.split('://')[0] === 'https' ? websoketUrl = 'wss://localhost:9528' : websoketUrl = 'ws://localhost:9527';\r\n\t\t\tthis.socket = new WebSocket(websoketUrl);\r\n\t\t\tvar self = this;\r\n\t\t\ttry {\r\n\t\t\t\tthis.socket.onerror = function (event) {\r\n\t\t\t\t\tself.success = false;\r\n\t\t\t\t\tif (!self.first) {\r\n\t\t\t\t\t\talert('客户端未运行');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.reconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.socket.onopen = function (event) {\r\n\t\t\t\t\tconsole.log('WebSocket已成功连接');\r\n\t\t\t\t\tif (!self.first) {\r\n\t\t\t\t\t\tself.first = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.onOpen(callback);\r\n\t\t\t\t};\r\n\t\t\t\tthis.socket.onclose = function (event) {\r\n\t\t\t\t\tconsole.log('WebSocket未连接');\r\n\t\t\t\t\tself.success = false;\r\n\t\t\t\t\tself.connect = false;\r\n\t\t\t\t};\r\n\t\t\t\tthis.socket.onmessage = function (msg) {\r\n\t\t\t\t\tself.connect = true; // 拿到任何消息都说明当前连接是正常的\r\n\t\t\t\t};\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.reconnect();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.onOpen(callback);\r\n\t\t}\r\n\t},\r\n\tonOpen: function (callback) {\r\n\t\tthis.success = true;\r\n\t\tcallback(this.success);\r\n\t},\r\n\tstop: function () {\r\n\t\tthis.socket.close();\r\n\t\treturn false;\r\n\t},\r\n\treconnect: function () {\r\n\t\tvar self = this;\r\n\t\tif (this.connect) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// 没连接上会一直重连，设置延迟避免请求过多\r\n\t\tsetTimeout(function () {\r\n\t\t\tself.init(function (result) {\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tself.connect = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 2000);\r\n\t},\r\n\tgetMsg: function (data, callback) {\r\n\t\tthis.socket.send(data);\r\n\t\tthis.socket.onmessage = function (msg) {\r\n\t\t\tcallback(msg.data);\r\n\t\t};\r\n\t},\r\n\t// blob对象解析\r\n\tblobParse: function (result, callback) {\r\n\t\tvar reader = new FileReader();\r\n\t\treader.readAsText(result, 'GBK');\r\n\t\treader.onload = function (e) {\r\n\t\t\tvar blobtString = reader.result;\r\n\t\t\tvar isErr = JSON.parse(blobtString);\r\n\t\t\tif (isErr.err === -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcallback(blobtString);\r\n\t\t};\r\n\t},\r\n\tbacker: function (result, callback) {\r\n\t\tvar o = JSON.parse(result);\r\n\t\to.result.success ? callback(this.ownProp(o, 0)) : callback(this.ownProp(o));\r\n\t},\r\n\townProp: function (o, index) {\r\n\t\tvar res = { success: o.result.success, msg: o.result.msg };\r\n\t\tif (index !== null || index !== undefined) {\r\n\t\t\tvar $o = o.data[index];\r\n\t\t\tfor (var prop in $o) {\r\n\t\t\t\tif ($o.hasOwnProperty(prop)) {\r\n\t\t\t\t\tres[prop] = $o[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\tcallbackMsg: function (jsonRequest, callback) {\r\n\t\tvar self = this;\r\n\t\tthis.getMsg(jsonRequest, function (res) {\r\n\t\t\tself.blobParse(res, function (res) {\r\n\t\t\t\tself.backer(res, function (res) {\r\n\t\t\t\t\tcallback(res);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * 登陆(客户端弹出PIN码框)\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t */\r\n\tGZCA_Login: function (ContainerName, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Login\",\"args\":[{\"ContainerName\": \"' + ContainerName + '\", \"UserPin\": \"123456\", \"IsLogin\": \"N\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 登陆(浏览器输入PIN码)\r\n\t * 参数:\r\n\t * ContainerName: 证书所在容器名\r\n\t * UserPin: 用户Pin(最低六位)\r\n\t */\r\n\tGZCA_Login_PIN: function (ContainerName, UserPin, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Login\",\"args\":[{\"ContainerName\": \"' + ContainerName + '\", \"UserPin\": \"' + UserPin + '\", \"IsLogin\": \"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 注销登录\r\n\t * ContainerName: 证书所在容器名\r\n\t */\r\n\tGZCA_Logout: function (ContainerName, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Logout\",\"args\":[{\"ContainerName\": \"' + ContainerName + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取登陆状态\r\n\t * ContainerName: 证书所在容器名\r\n\t */\r\n\tGZCA_IsLogin: function (ContainerName, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_IsLogin\",\"args\":[{\"ContainerName\": \"' + ContainerName + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 导出证书\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t * CertType: 证书类型(0：both,1：签名,2：加密)\r\n\t */\r\n\tGZCA_ExportCert: function (ContainerName, CertType, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_ExportCert\",\"args\":[{\"ContainerName\": \"' + ContainerName + '\", \"CertType\": \"' + CertType + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取证书信息\r\n\t * 参数: \r\n\t * CertB64: Base64编码的数字证书\r\n\t */\r\n\tGZCA_GetCertInfo: function (CertB64, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_GetCertInfo\",\"args\":[{\"CertB64\": \"' + CertB64 + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 根据OID获取证书信息\r\n\t * 参数: \r\n\t * CertB64: Base64编码的数字证书 \r\n\t * Oid: oid\r\n\t */\r\n\tGZCA_GetCertInfoByOid: function (Oid, CertB64, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_GetCertInfoByOid\",\"args\":[{\"Oid\":\"' + Oid + '\", \"CertB64\":\"' + CertB64 + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tif (res.success) {\r\n\t\t\t\tvar odiValue = res.OidValue;\r\n\t\t\t\tres.OidValue = odiValue.replace(/[\\s]*/gm, '').replace(/^\\d*\\.*/g, '');\r\n\t\t\t}\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * Pkcs#1数字签名,可以配置GZCA_IsLogin使用，如果isLogin === true时，不需要验证PIN,否则需要\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名 \r\n\t * Data: 带签名原文\r\n\t */\r\n\tGZCA_Pkcs1SignData: function (ContainerName, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1SignData\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"Data\":\"' + Data + '\", \"IsLogin\":\"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * Pkcs#1数字签名,不管KEY是否为登陆状态，都需要验证PIN\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名 \r\n\t * Data: 带签名原文\r\n\t */\r\n\tGZCA_Pkcs1SignData_PIN: function (ContainerName, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1SignData\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"Data\":\"' + Data + '\", \"IsLogin\":\"N\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * Pkcs#1数字签名验证\r\n\t * 参数: \r\n\t * CerB64：Base64编码的签名证书\r\n\t * Data：待签名的原文\r\n\t * SignData：签名值\r\n\t */\r\n\tGZCA_Pkcs1VerifySign: function (CertB64, Data, SignData, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1VerifySign\",\"args\":[{\"CertB64\":\"' + CertB64 + '\", \"Data\":\"' + Data + '\", \"SignData\":\"' + SignData + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Pkcs#1数字签名,可以配置GZCA_IsLogin使用，如果isLogin === true时，不需要验证PIN,否则需要\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名 \r\n\t * DataB64: Base64编码带签名原文\r\n\t */\r\n\tGZCA_Pkcs1SignDataEx: function (ContainerName, DataB64, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1SignDataEx\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"DataB64\":\"' + DataB64 + '\", \"IsLogin\":\"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * Pkcs#1数字签名,不管KEY是否为登陆状态，都需要验证PIN\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名 \r\n\t * DataB64: Base64编码的带签名原文\r\n\t */\r\n\tGZCA_Pkcs1SignData_PINEx: function (ContainerName, DataB64, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1SignDataEx\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"DataB64\":\"' + DataB64 + '\", \"IsLogin\":\"N\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * Pkcs#1数字签名验证\r\n\t * 参数: \r\n\t * CerB64：Base64编码的签名证书\r\n\t * DataB64：Base64编码的待签名的原文\r\n\t * SignData：签名值\r\n\t */\r\n\tGZCA_Pkcs1VerifySignEx: function (CertB64, DataB64, SignData, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_Pkcs1VerifySignEx\",\"args\":[{\"CertB64\":\"' + CertB64 + '\", \"DataB64\":\"' + DataB64 + '\", \"SignData\":\"' + SignData + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM2公钥加密(USBKEY)\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t * Data: 待加密的原文\r\n\t */\r\n\tGZCA_EccEncryptData: function (ContainerName, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EccEncryptData\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"Data\":\"' + Data + '\", \"IsLogin\":\"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM2公钥加密(加密证书)\r\n\t * 参数: \r\n\t * CerB64: base64编码的加密证书\r\n\t * Data: 待加密的原文\r\n\t */\r\n\tGZCA_EccEncryptDataEx: function (CerB64, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EccEncryptDataEx\",\"args\":[{\"CertB64\":\"' + CerB64 + '\", \"Data\":\"' + Data + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM2私钥解密\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t * Data: 待解密的密文\r\n\t */\r\n\tGZCA_EccDecryptData: function (ContainerName, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EccDecryptData\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"Data\":\"' + Data + '\", \"IsLogin\":\"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 非对称公钥加密(加密证书)\r\n\t * 参数: \r\n\t * CerB64: base64编码的加密证书\r\n\t * Data: 待加密的原文\r\n\t */\r\n\tGZCA_AsymEncryptData: function (CerB64, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_AsymEncryptData\",\"args\":[{\"CertB64\":\"' + CerB64 + '\", \"Data\":\"' + Data + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 非对称私钥解密\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t * Data: 待解密的密文\r\n\t */\r\n\tGZCA_AsymDecryptData: function (ContainerName, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_AsymDecryptData\",\"args\":[{\"ContainerName\":\"' + ContainerName + '\", \"Data\":\"' + Data + '\", \"IsLogin\":\"Y\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM4对称加密(字符串)\r\n\t * Data: 待加密的原文\r\n\t */\r\n\tGZCA_EncryptDataEx: function (Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EncryptDataEx\",\"args\":[{\"Data\":\"' + Data + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM4对称解密(字符串)\r\n\t * 参数: \r\n\t * KeyB64: 对称密钥，Base64编码\r\n\t * Data: 待解密的数据，Base64编码\r\n\t */\r\n\tGZCA_DecryptDataEx: function (KeyB64, Data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_DecryptDataEx\",\"args\":[{\"KeyB64\":\"' + KeyB64 + '\", \"Data\":\"' + Data + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM4对称加密(文件)\r\n\t * 参数: \r\n\t * ContainerName: 证书所在容器名\r\n\t * SrcFile: 待加密的文件全路径(如c:\\1.txt)\r\n\t * DstFile: 加密后的文件全路径\r\n\t */\r\n\tGZCA_EncryptFileEx: function (SrcFile, DstFile, callback) {\r\n\t\tSrcFile = SrcFile.replace(/\\\\/g, '/');\r\n\t\tDstFile = DstFile.replace(/\\\\/g, '/');\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EncryptFileEx\",\"args\":[{\"SrcFile\":\"' + SrcFile + '\", \"DstFile\":\"' + DstFile + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM4对称解密(文件)\r\n\t * 参数: \r\n\t * ContainerName：证书所在容器名\r\n\t * SrcFile：待解密的文件全路径,如c:\\2.txt\r\n\t * DstFile：解密后的文件全路径\r\n\t */\r\n\tGZCA_DecryptFileEx: function (SrcFile, DstFile, KeyB64, callback) {\r\n\t\tSrcFile = SrcFile.replace(/\\\\/g, '/');\r\n\t\tDstFile = DstFile.replace(/\\\\/g, '/');\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_DecryptFileEx\",\"args\":[{\"SrcFile\":\"' + SrcFile + '\", \"DstFile\":\"' + DstFile + '\", \"KeyB64\":\"' + KeyB64 + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM3杂凑值计算(字符串)\r\n\t * 参数: \r\n\t * InData：待计算杂凑值的原文\r\n\t * 返回: \r\n\t * HashB64: 杂凑值base64\r\n\t */\r\n\tGZCA_HashData: function (InData, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_HashData\",\"args\":[{\"Data\":\"' + InData + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * SM3杂凑值计算(文件)\r\n\t * 参数: \r\n\t * SrcFile: 待计算杂凑值的文件全路径(用”/”分隔，如c:/a.txt)\r\n\t * 返回: \r\n\t * HashB64: 杂凑值base64\r\n\t */\r\n\tGZCA_HashFile: function (SrcFile, callback) {\r\n\t\tSrcFile = SrcFile.replace(/\\\\/g, '/');\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_HashFile\",\"args\":[{\"SrcFile\":\"' + SrcFile + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取介质列表\r\n\t */\r\n\tGetUKeyList: function (callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GetUKeyList\",\"args\":[]}', self = this;\r\n\t\tthis.getMsg(jsonRequest, function (result) {\r\n\t\t\tself.blobParse(result, function (result) {\r\n\t\t\t\tvar o = JSON.parse(result);\r\n\t\t\t\tif (o.result.success) {\r\n\t\t\t\t\tif (o.data.length > 1) {\r\n\t\t\t\t\t\tvar layer = Object.create(self.ca);\r\n\t\t\t\t\t\tlayer.title = \"选择设备\";\r\n\t\t\t\t\t\tlayer.listText = \"设备列表\";\r\n\r\n\t\t\t\t\t\tvar certList = document.getElementById(self.ca.listContainer);\r\n\t\t\t\t\t\tif (!certList) {\r\n\t\t\t\t\t\t\tlayer = Object.create(self.ca);\r\n\t\t\t\t\t\t\tself.newLayer(layer);\r\n\t\t\t\t\t\t\tcertList = document.getElementById(self.ca.listContainer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcertList.innerHTML = \"\";\r\n\t\t\t\t\t\tfor (var i = 0; i < o.data.length; i++) {\r\n\t\t\t\t\t\t\tvar p = document.createElement('p');\r\n\t\t\t\t\t\t\tp.innerHTML = '<span>' + o.data[i].manu + '</span>&nbsp;&nbsp;&nbsp;' + o.data[i].sn;\r\n\t\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\t\tp.className = 'active';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tp.onclick = function () {\r\n\t\t\t\t\t\t\t\tself.clickP(this);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tcertList.appendChild(p);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar gzcaLayerSure = self.getNode('gzca-layer-sure');\r\n\t\t\t\t\t\tvar gzcaLayerClose = self.getNode('gzca-layer-close');\r\n\t\t\t\t\t\tvar gzcaLayerCancel = self.getNode('gzca-layer-cancel');\r\n\t\t\t\t\t\tgzcaLayerClose.onclick = function () {\r\n\t\t\t\t\t\t\tself.closeLayer();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgzcaLayerCancel.onclick = function () {\r\n\t\t\t\t\t\t\tself.closeLayer();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgzcaLayerSure.onclick = function () {\r\n\t\t\t\t\t\t\tself.selectCert(function (index) {\r\n\t\t\t\t\t\t\t\tcallback(self.ownProp(o, index));\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(self.ownProp(o, 0));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(self.ownProp(o));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取证书所在容器名\r\n\t * createList: 是否创建证书列表，提供选择\r\n\t */\r\n\tGZCA_GetContainerName: function (createList, certType, callback) {\r\n\t\tthis.GZCA_GetCertList(createList, certType, callback);\r\n\t},\r\n\tGZCA_GetCertList: function (createList, certType, callback) {\r\n\t\tvar self = this, ListenCode = this.ListenCode.CERTLIST;\r\n\t\tthis.GZCA_StartListen(ListenCode, function (res) {\r\n\t\t\tif (res.success) {\r\n\t\t\t\tvar jsonRequest = '{\"function\":\"GZCA_GetCertList\",\"args\":[{\"CertType\": \"' + certType + '\"}]}';\r\n\t\t\t\tself.getMsg(jsonRequest, function (result) {\r\n\t\t\t\t\tself.blobParse(result, function (result) {\r\n\t\t\t\t\t\tvar o = JSON.parse(result);\r\n\t\t\t\t\t\tvar certList = document.getElementById(self.ca.listContainer);\r\n\t\t\t\t\t\tif (o.result.success) {\r\n\t\t\t\t\t\t\tif (createList) {\r\n\t\t\t\t\t\t\t\tvar len = o.data.length;\r\n\t\t\t\t\t\t\t\tif (len > 1) {\r\n\t\t\t\t\t\t\t\t\tif (!certList) {\r\n\t\t\t\t\t\t\t\t\t\tvar layer = Object.create(self.ca);\r\n\t\t\t\t\t\t\t\t\t\tself.newLayer(layer);\r\n\t\t\t\t\t\t\t\t\t\tcertList = document.getElementById(self.ca.listContainer);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tinitList(certList, o.data);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (certList) {\r\n\t\t\t\t\t\t\t\t\t\tinitList(certList, o.data);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function () {\r\n\t\t\t\t\t\t\t\t\t\t\tcallback(self.ownProp(o, 0));\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function () {\r\n\t\t\t\t\t\t\t\t\tcallback({ success: true, msg: o.result.msg, data: o.data });\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (o.data && certList) {\r\n\t\t\t\t\t\t\t\tvar gzcaCertLayer = document.querySelectorAll('.' + self.ca.container);\r\n\t\t\t\t\t\t\t\tgzcaCertLayer[0].parentNode.removeChild(gzcaCertLayer[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function (res) {\r\n\t\t\t\t\t\t\t\tcallback(self.ownProp(o));\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfunction initList(certList, list) {\r\n\t\t\t\t\t\t\tcertList.innerHTML = \"\";\r\n\t\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\t\t\tvar p = document.createElement('p');\r\n\t\t\t\t\t\t\t\tp.innerHTML = '<span>' + list[i].CN + '</span>' + list[i].ContainerName;\r\n\t\t\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\t\t\tp.className = 'active';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tp.onclick = function () {\r\n\t\t\t\t\t\t\t\t\tself.clickP(this);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcertList.appendChild(p);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar gzcaLayerSure = self.getNode('gzca-layer-sure');\r\n\t\t\t\t\t\t\tvar gzcaLayerClose = self.getNode('gzca-layer-close');\r\n\t\t\t\t\t\t\tvar gzcaLayerCancel = self.getNode('gzca-layer-cancel');\r\n\t\t\t\t\t\t\tgzcaLayerClose.onclick = function () {\r\n\t\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function () {\r\n\t\t\t\t\t\t\t\t\tself.closeLayer();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tgzcaLayerCancel.onclick = function () {\r\n\t\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function () {\r\n\t\t\t\t\t\t\t\t\tself.closeLayer();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tgzcaLayerSure.onclick = function () {\r\n\t\t\t\t\t\t\t\tself.selectCert(function (result) {\r\n\t\t\t\t\t\t\t\t\tself.GZCA_StopListen(ListenCode, function () {\r\n\t\t\t\t\t\t\t\t\t\tcallback(self.ownProp(o, result));\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tself.GZCA_Msg(res.msg);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tListenCode: {\r\n\t\tCERTLIST: '00000001'\r\n\t},\r\n\t//开始监听消息\r\n\tGZCA_StartListen: function (Type, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_StartListen\",\"args\":[{\"Type\":\"' + Type + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t//停止监听消息\r\n\tGZCA_StopListen: function (Type, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_StopListen\",\"args\":[{\"Type\":\"' + Type + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t//数字信封加密(字符串)，支持多证书\r\n\t/**\r\n\t * 参数: 1.certList加密证书列表，2.data:待加密数据base64编码列表，以|分隔\r\n\t * 返回: \r\n\t */\r\n\tGZCA_EnvelopeSealData: function (certList, data, callback) {\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EnvelopeSealData\",\"args\":[{\"CertB64List\":\"' + certList + '\", \"DataB64List\":\"' + data + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t//数字信封解密(字符串)，支持多证书\r\n\t/**\r\n\t * 参数: 1.containerName容器名，2.data:数字信封base64\r\n\t * 返回: \r\n\t */\r\n\tGZCA_EnvelopeOpenData: function (containerName, data, callback) {\r\n\t\tvar self = this;\r\n\t\tthis.GZCA_IsLogin(containerName, function (res) {\r\n\t\t\tif (self.GZCA_Next(res)) {\r\n\t\t\t\tif (!res.isLogin) {\r\n\t\t\t\t\tself.GZCA_Login(containerName, function (res) {\r\n\t\t\t\t\t\tfn(res);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfn(res);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction fn(res) {\r\n\t\t\t\tif (self.GZCA_Next(res)) {\r\n\t\t\t\t\tvar jsonRequest = '{\"function\":\"GZCA_EnvelopeOpenData\",\"args\":[{\"ContainerName\":\"' + containerName + '\", \"Data\":\"' + data + '\", \"IsLogin\":\"' + res.isLogin + '\"}]}';\r\n\t\t\t\t\tself.callbackMsg(jsonRequest, function (res) {\r\n\t\t\t\t\t\tcallback(res);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tGZCA_Next: function (o) {\r\n\t\tif (!o.success) {\r\n\t\t\talert(o.msg);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\t//数字信封加密(字符串+文件混合)\r\n\t/**\r\n\t * 参数: 1.CerB64加密证书，2.InData:待加密数据base64编码列表，以|分隔，3.SrcFile:待加密文件列表，以|分隔\r\n\t * 返回: \r\n\t */\r\n\tGZCA_EnvelopeSealGroup: function (CerB64, InData, SrcFile, DstFile, callback) {\r\n\t\tif (!SrcFile) {\r\n\t\t\tSrcFile = \"|\";\r\n\t\t}\r\n\t\tSrcFile = SrcFile.replace(/\\\\/g, '/');\r\n\t\tDstFile = DstFile.replace(/\\\\/g, '/');\r\n\t\tSrcFile = SrcFile.replace(/\\\\\"/g, '');\r\n\t\tDstFile = DstFile.replace(/\\\\\"/g, '');\r\n\t\tvar a = DstFile.split('/');\r\n\t\tif (/[\\\\/:*?]/g.test(a[a.length - 1])) {\r\n\t\t\talert(\"文件名不能包含\\\\/:*?\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EnvelopeSealGroup\",\"args\":[{\"CertB64\":\"' + CerB64 + '\", \"DataB64List\":\"' + InData + '\", \"SrcFileList\":\"' + SrcFile + '\", \"DstFile\":\"' + DstFile + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\t//数字信封解密(字符串+文件混合)\r\n\t/**\r\n\t * 参数: 1.containerName容器名，2.SrcFile:，3.DstFileDir:，4.IsLogin\r\n\t * 返回: \r\n\t */\r\n\tGZCA_EnvelopeOpenGroup: function (containerName, SrcFile, DstFileDir, IsLogin, callback) {\r\n\t\tSrcFile = SrcFile.replace(/\\\\/g, '/');\r\n\t\tDstFileDir = DstFileDir.replace(/\\\\/g, '/');\r\n\t\tSrcFile = SrcFile.replace(/\\\\\"/g, '');\r\n\t\tDstFileDir = DstFileDir.replace(/\\\\\"/g, '');\r\n\t\tvar jsonRequest = '{\"function\":\"GZCA_EnvelopeOpenGroup\",\"args\":[{\"ContainerName\":\"' + containerName + '\", \"SrcFile\":\"' + SrcFile + '\", \"DstFileDir\":\"' + DstFileDir + '\", \"IsLogin\":\"' + IsLogin + '\"}]}';\r\n\t\tthis.callbackMsg(jsonRequest, function (res) {\r\n\t\t\tcallback(res);\r\n\t\t});\r\n\t},\r\n\tGZCA_Msg: function (msg) {\r\n\t\tvar div = document.createElement(\"div\");\r\n\t\tvar span = document.createElement(\"span\");\r\n\t\tdiv.className = 'gzca-msg-container';\r\n\t\tspan.innerHTML = msg;\r\n\t\tspan.className = 'gzca-msg gzca-msg-show';\r\n\t\tdiv.appendChild(span);\r\n\t\tdocument.body.appendChild(div);\r\n\t\tvar divNode = document.querySelectorAll('.gzca-msg-container');\r\n\t\twindow.setTimeout(function () {\r\n\t\t\tdivNode[0].parentNode.removeChild(divNode[0]);\r\n\t\t}, 3000);\r\n\t},\r\n\tgetNode: function (id) {\r\n\t\treturn document.getElementById(id);\r\n\t},\r\n\r\n\t// UI\r\n\tca: {\r\n\t\tlayerId: 'gzca-cert-layer',\r\n\t\tidName: \"layerClass\",\r\n\t\ttitle: \"选择证书\",\r\n\t\theight: 230,\r\n\t\twidth: 500,\r\n\t\tcontent: \"layerContent\",\r\n\t\tconText: \"没有证书\",\r\n\t\tlistText: '证书列表',\r\n\t\thead: \"gzcaHeader\",\r\n\t\tlistContainer: \"gzca-layer-cert-list\",\r\n\t\tbottom: \"layerBottom\",\r\n\t\tbuttonText: [\"确认\", \"取消\"],\r\n\t\tcontainer: 'gzca-layerContainer',\r\n\t\tadd: function () {\r\n\t\t\tvar layerContainer = document.createElement(\"div\");\r\n\t\t\tvar addLayer = document.createElement(\"div\");\r\n\t\t\taddLayer.id = this.layerId;\r\n\t\t\taddLayer.className = 'gzca-cert-layer';\r\n\t\t\tlayerContainer.className = 'gzca-layerContainer';\r\n\t\t\tlayerContainer.appendChild(addLayer);\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].appendChild(layerContainer);\r\n\t\t\taddLayer.innerHTML = '<div id=\"layer\"><div id=\"' + this.idName + '\" onselectstart=\"return false;\"><div id=\"' + this.head + '\"><h3>' + this.title + '</h3><span class=\"close\" id=\"gzca-layer-close\" title=\"关闭\"></span></div><div id=\"' + this.content + '\"><fieldset><legend>' + this.listText + '</legend><div id=\"' + this.listContainer + '\"></div></fieldset></div><div id=\"' + this.bottom + '\"><span id=\"gzca-layer-sure\">' + this.buttonText[0] + '</span><span id=\"gzca-layer-cancel\">' + this.buttonText[1] + '</span></div></div></div>';\r\n\t\t}\r\n\t},\r\n\teventEl: {\r\n\t\taddEvent: function (element, type, handler) {\r\n\t\t\tif (element.addEventListener) {\r\n\t\t\t\telement.addEventListener(type, handler, false);\r\n\t\t\t} else if (element.attachEvent) {\r\n\t\t\t\telement.attachEvent(\"on\" + type, handler);\r\n\t\t\t} else {\r\n\t\t\t\telement[\"on\" + type] = handler;\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveEvent: function (element, type, handler) {\r\n\t\t\tif (element.removeEventListener) {\r\n\t\t\t\telement.removeEventListener(type, handler, false);\r\n\t\t\t} else if (element.detachEvent) {\r\n\t\t\t\telement.detachEvent(\"on\" + type, handler);\r\n\t\t\t} else {\r\n\t\t\t\telement[\"on\" + type] = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstopPropagation: function (event) {\r\n\t\t\tvar e = event || window.event;\r\n\t\t\tif (e.stopPropagation) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t} else {\r\n\t\t\t\treturn e.cancelBubble = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tpreventDefaullt: function (event) {\r\n\t\t\tvar e = event || window.event;\r\n\t\t\tif (e.preventDefault) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\te.returnValue = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tclickP: function (e) {\r\n\t\tif (!this.hasClass(e, 'active')) {\r\n\t\t\tthis.addClass(e, 'active');\r\n\t\t\tvar sibilingArr = this.siblingElem(e);\r\n\t\t\tfor (var s = 0; s < sibilingArr.length; s++) {\r\n\t\t\t\tthis.removeClass(sibilingArr[s], 'active');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tselectArr: [],\r\n\tkeyid: '',\r\n\tselectCert: function (callback) {\r\n\t\tvar getContentP = this.getNode(\"gzca-layer-cert-list\").getElementsByTagName(\"p\");\r\n\t\tfor (var i = 0; i < getContentP.length; i++) {\r\n\t\t\tif (this.hasClass(getContentP[i], 'active')) {\r\n\t\t\t\tcallback(i);\r\n\t\t\t\tthis.closeLayer();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcloseLayer: function () {\r\n\t\tvar gzcaCertLayer = this.getNode('gzca-cert-layer').parentNode;\r\n\t\tgzcaCertLayer.parentNode.removeChild(gzcaCertLayer);\r\n\t},\r\n\t// 初始化函数\r\n\tnewLayer: function newLayer(layer, o) {\r\n\t\tlayer.add();\r\n\t\tvar $this = this;\r\n\t\tvar getLayer = $this.getNode(layer.idName);\r\n\t\tvar getHeader = $this.getNode(layer.head);\r\n\t\tvar getBottom = $this.getNode(layer.bottom);\r\n\t\tvar getBtns = getBottom.getElementsByTagName(\"span\");\r\n\t\tif (o && o.btn) {\r\n\t\t\tfor (var i = 0; i < getBtns.length; i++) {\r\n\t\t\t\tgetBtns[i].innerHTML = o.btn[i].text;\r\n\t\t\t\tgetBtns[i].id = o.btn[i].id;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var j = 0; j < getBtns.length; j++) {\r\n\t\t\t\tgetBtns[j].innerHTML = layer.buttonText[j];\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 设置高宽\r\n\t\tif (o) {\r\n\t\t\tlayer.height = o.height;\r\n\t\t\tlayer.width = o.width;\r\n\t\t}\r\n\t\tgetLayer.style.height = layer.height + \"px\";\r\n\t\tgetLayer.style.width = layer.width + \"px\";\r\n\t\tgetLayer.style.marginTop = layer.height / -2 + \"px\";\r\n\t\tgetLayer.style.marginLeft = layer.width / -2 + \"px\";\r\n\t\t// 弹出层拖拽\r\n\t\tvar drag = function (disX, disY) {\r\n\t\t\t$this.eventEl.addEvent(document, \"mousemove\", dragMove);\r\n\t\t\t$this.eventEl.addEvent(getHeader, \"mouseup\", function () {\r\n\t\t\t\t$this.eventEl.removeEvent(document, \"mousemove\", dragMove);\r\n\t\t\t});\r\n\t\t\tfunction dragMove(event) {\r\n\t\t\t\tvar e = event || window.event;\r\n\t\t\t\tvar w = document.documentElement.clientWidth || document.body.clientWidth;\r\n\t\t\t\tvar h = document.documentElement.clientHeight || document.body.clientHeight;\r\n\t\t\t\tgetLayer.style.top = (e.clientY - disY) + \"px\";\r\n\t\t\t\tgetLayer.style.left = (e.clientX - disX) + \"px\";\r\n\t\t\t\tif (e.clientY - disY <= 0) {\r\n\t\t\t\t\tgetLayer.style.top = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.clientX - disX <= 0) {\r\n\t\t\t\t\tgetLayer.style.left = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.clientY - disY >= h - getLayer.offsetHeight) {\r\n\t\t\t\t\tgetLayer.style.top = (h - getLayer.offsetHeight) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tif (w - (e.clientX - disX) - getLayer.offsetWidth <= 0) {\r\n\t\t\t\t\tgetLayer.style.left = (w - getLayer.offsetWidth) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tgetLayer.style.marginTop = 0;\r\n\t\t\t\tgetLayer.style.marginLeft = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar mdown = function (event) {\r\n\t\t\tvar e = event || window.event;\r\n\t\t\tvar disX = e.clientX - getLayer.offsetLeft;\r\n\t\t\tvar disY = e.clientY - getLayer.offsetTop;\r\n\t\t\tdrag(disX, disY);\r\n\t\t}\r\n\t\tthis.eventEl.addEvent(getHeader, \"mousedown\", mdown);\r\n\t},\r\n\t// 样式类操作\r\n\taddClass: function (obj, cls) {\r\n\t\tvar obj_class = obj.className, blank = (obj_class !== '') ? ' ' : '';\r\n\t\tvar added = obj_class + blank + cls;\r\n\t\tobj.className = added;\r\n\t},\r\n\tremoveClass: function (obj, cls) {\r\n\t\tvar obj_class = ' ' + obj.className + ' ';\r\n\t\tobj_class = obj_class.replace(/(\\s+)/gi, ' ');\r\n\t\tvar removed = obj_class.replace(' ' + cls + ' ', ' ');\r\n\t\tremoved = removed.replace(/(^\\s+)|(\\s+$)/g, '');\r\n\t\tobj.className = removed;\r\n\t},\r\n\thasClass: function (obj, cls) {\r\n\t\tvar obj_class = obj.className, obj_class_lst = obj_class.split(/\\s+/), x = 0;\r\n\t\tfor (x in obj_class_lst) {\r\n\t\t\tif (obj_class_lst[x] === cls) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tsiblingElem: function (elem) {\r\n\t\tvar _nodes = [], _elem = elem;\r\n\t\twhile ((elem = elem.previousSibling)) {\r\n\t\t\tif (elem.nodeType === 1) {\r\n\t\t\t\t_nodes.push(elem);\r\n\t\t\t} else {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t\telem = _elem;\r\n\t\twhile ((elem = elem.nextSibling)) {\r\n\t\t\tif (elem.nodeType === 1) {\r\n\t\t\t\t_nodes.push(elem);\r\n\t\t\t} else {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _nodes;\r\n\t},\r\n\t// 弹出dialog\r\n\tgetCertificate: function getCertificate(o) {\r\n\t\tvar layer = Object.create(this.ca);\r\n\t\tthis.newLayer(layer, o);\r\n\t},\r\n};\r\n","export default {\r\n  platFormName: \"云上贵州省级互联网统一身份认证平台\",\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageCenter\":\"login_pageCenter__3BCuE\",\"logo\":\"login_logo__QRC4B\",\"title\":\"login_title__VvQxS\",\"submit\":\"login_submit__3nlPc\",\"bg\":\"login_bg__2Lr7e\",\"imgTop\":\"login_imgTop__3yz_O\",\"imgCenter\":\"login_imgCenter__3hWRJ\",\"imgBottom\":\"login_imgBottom__1zmVQ\",\"imgOhter\":\"login_imgOhter__3ZVOx\",\"footer\":\"login_footer__2nnnH\"};","module.exports = __webpack_public_path__ + \"static/media/1.e6919bad.png\";"],"sourceRoot":""}