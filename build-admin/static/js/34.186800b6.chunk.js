(window["webpackJsonpreact-admin"]=window["webpackJsonpreact-admin"]||[]).push([[34],{1131:function(t,e,a){t.exports={formLine:"add_formLine__3wfct",inline:"add_inline__1aufw",form:"add_form__2NO-L",pageContet:"add_pageContet__fEIPL",editContent:"add_editContent__9lspN",button:"add_button__PzzCK",buttonRow:"add_buttonRow__3rBKJ"}},1139:function(t,e,a){"use strict";a.r(e);a(236);var n=a(158),o=(a(509),a(508)),r=(a(564),a(609)),c=(a(682),a(683)),i=a(574),s=a(575),u=a(610),l=a(576),d=a(611),p=(a(542),a(520)),f=a(0),g=a.n(f),h=a(154),m=a(871),v=a(1131),b=a.n(v),C=a(722),O=a.n(C),y=(a(976),a(157)),j=a(562),E=p.a.Option,L=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).handleEditorChange=function(t){a.setState({editorState:t})},a}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){if(this.props.location.state&&this.props.location.state.record){var t=this.props.location.state.record,e=t.title,a=t.content,n=t.catalogCode;this.props.setCatalogCode(n),this.props.changeEditTitle(e),this.props.handleEditorChange(O.a.createEditorState(a))}else this.props.handleEditorChange(O.a.createEditorState("<p>\u8bf7\u8f93\u5165\u6587\u6863\u5185\u5bb9!</b></p>"))}},{key:"save",value:function(){var t=this.props,e=t.editTitle,a=t.editCatalogCode,n=t.editContent;if(""!==a)if(""!==j.a.trim(e))if(""!==n){var o=j.a.localStorage.get("adminId"),r={props:this.props,data:{title:e,content:n,catalogCode:a,userNo:o}},i=this.props.location.state&&this.props.location.state.editId;i&&(r.data.id=i),this.props.save(r)}else c.a.error("\u8bf7\u586b\u516c\u544a\u5185\u5bb9");else c.a.error("\u8bf7\u586b\u5199\u516c\u544a\u6807\u9898");else c.a.error("\u8bf7\u9009\u62e9\u6587\u6863\u5206\u7c7b")}},{key:"initAllProductList",value:function(t){return t.map((function(t){return g.a.createElement(E,{key:t.productCode,value:t.productCode},t.productName)}))}},{key:"initDocCatalogList",value:function(t){return t.map((function(t){return g.a.createElement(E,{key:t.id,value:t.code},t.name)}))}},{key:"changeProduct",value:function(t){var e=j.a.localStorage.get("adminId");this.props.changeProduct({props:this.props,data:{productCode:t,userNo:e,pageSize:1e3,pageNo:1}})}},{key:"render",value:function(){var t=this,e=this.props.editContent;return g.a.createElement("div",{className:"".concat(b.a.pageContet," pageContentColor")},g.a.createElement(n.a,{tip:"Loading...",spinning:this.props.spinning},g.a.createElement("div",{className:"".concat(b.a.form," clearfix")},g.a.createElement("div",{className:"".concat(b.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u9009\u62e9\u4ea7\u54c1:"),g.a.createElement("div",{className:"".concat(b.a.inline," pullLeft")},g.a.createElement(p.a,{style:{width:"100%"},onChange:function(e){return t.changeProduct(e)}},g.a.createElement(E,{value:""},"\u8bf7\u9009\u62e9"),this.initAllProductList(this.props.location.state.productAllList)))),g.a.createElement("div",{className:"".concat(b.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u9009\u62e9\u6587\u6863\u5206\u7c7b:"),g.a.createElement("div",{className:"".concat(b.a.inline," pullLeft")},g.a.createElement(p.a,{value:this.props.editCatalogCode,style:{width:"100%"},onChange:function(e){return t.props.setCatalogCode(e)}},g.a.createElement(E,{value:""},"\u8bf7\u9009\u62e9"),this.initDocCatalogList(this.props.docCatalogList)))),g.a.createElement("div",{className:"".concat(b.a.formLine," pullLeft")},g.a.createElement("label",{className:"pullLeft"},"\u6587\u6863\u6807\u9898:"),g.a.createElement("div",{className:"".concat(b.a.inline," pullLeft")},g.a.createElement(r.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u6863\u6807\u9898",allowClear:!0,onChange:function(e){return t.props.changeEditTitle(e.target.value)}})))),g.a.createElement("div",{className:b.a.buttonRow},g.a.createElement(o.a,{type:"primary",className:"".concat(b.a.button),onClick:function(){return t.save()}},"\u4fdd\u5b58\u6587\u6863"),g.a.createElement(y.b,{to:"/doc/list"},g.a.createElement(o.a,{className:"".concat(b.a.button)},"\u8fd4\u56de\u5217\u8868"))),g.a.createElement("div",{className:"".concat(b.a.editContent," my-component")},g.a.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9",value:e,onChange:this.props.handleEditorChange}))))}}]),e}(f.Component);e.default=Object(h.b)((function(t){return{spinning:t.doc.spinning,docCatalogList:t.doc.docCatalogList,editCatalogCode:t.doc.editCatalogCode,editTitle:t.doc.editTitle,editContent:t.doc.editContent,editState:t.doc.editState}}),(function(t){return{changeProduct:function(e){var a=m.f(e);t(a)},setCatalogCode:function(e){var a=m.j(e);t(a)},save:function(e){var a=m.d(e);t(a)},changeEditTitle:function(e){var a=m.a(e);t(a)},handleEditorChange:function(e){var a=m.b(e.toHTML());t(a)},queryNoticeDetail:function(e){var a=m.g(e);t(a)}}}))(L)},516:function(t,e,a){"use strict";var n=a(12);e.a=function(t){return{type:n.a,spinning:t}}},534:function(t,e,a){"use strict";function n(t){return{current:t.pageNo,pageSize:t.pageSize,total:t.totalSize,defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0}}a.d(e,"a",(function(){return n}))},871:function(t,e,a){"use strict";a.d(e,"i",(function(){return v})),a.d(e,"f",(function(){return m})),a.d(e,"c",(function(){return y})),a.d(e,"h",(function(){return b})),a.d(e,"j",(function(){return g})),a.d(e,"d",(function(){return h})),a.d(e,"a",(function(){return j})),a.d(e,"b",(function(){return E})),a.d(e,"g",(function(){return C})),a.d(e,"e",(function(){return O}));var n=a(517),o=(a(613),a(623)),r=a(37),c=a(570),i=a(571),s=a(516),u=a(563),l=a(534),d=a(722),p=a.n(d);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var g=function(t){return{type:r.i,editCatalogCode:t}},h=function(t){return function(e){e(Object(s.a)(!0));var a=t.data.id?c.l:c.h;i.c(a,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,r=n.success,c=n.message;r?o.a.success({title:"\u7cfb\u7edf\u63d0\u793a",content:c,okText:"\u786e\u8ba4",onOk:function(){e(g("")),e(j("")),e(E(p.a.createEditorState("<p>\u8bf7\u8f93\u5165\u6587\u6863\u5185\u5bb9!</b></p>"))),t.props.history.goBack()}}):Object(u.a)("error",c)}else t.props.history.push("/500")}))}},m=function(t){return function(e){e(Object(s.a)(!0)),i.c(c.i,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;o?(e((l=i.results,{type:r.g,docCatalogList:l})),e(g(""))):Object(u.a)("error",c)}else t.props.history.push("/500");var l}))}},v=function(t){return function(e){e(Object(s.a)(!0)),console.log("res",t.data),i.c(c.j,t.data,(function(a){if(e(Object(s.a)(!1)),console.log("res",a),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;if(o){var d=(p=i.results,f=Object(l.a)(i),{type:r.h,list:p,pagination:f});e(d)}else Object(u.a)("error",c)}else t.props.history.push("/500");var p,f}))}},b=function(t){return function(e){e(Object(s.a)(!0)),i.c(c.ib,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,c=n.message,i=n.data;if(o){var l=(d=i.results,{type:r.f,productAllList:d});e(l)}else Object(u.a)("error",c)}else t.props.history.push("/500");var d}))}},C=function(t){return function(e){e(Object(s.a)(!0)),i.c(c.u,t.data,(function(a){if(e(Object(s.a)(!1)),a.data){var n=a.data&&a.data,o=n.success,r=n.message,c=n.data;o?(e(j(c.title)),e(E(c.content)),e(L(c.state))):Object(u.a)("error",r)}else t.props.history.push("/500")}))}},O=function(t){return function(e,a){e(Object(s.a)(!0)),i.c(c.v,t.data,(function(r){if(e(Object(s.a)(!1)),r.data){var c=r.data&&r.data,i=c.success,l=c.message;i?o.a.success({title:"\u7cfb\u7edf\u63d0\u793a",content:l,okText:"\u786e\u8ba4",onOk:function(){var o=a().notice.pagination,r=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a().notice.params,{pageNo:o.current,pageSize:o.pageSize});e(v({props:t.props,data:r}))}}):Object(u.a)("error",l)}else t.props.history.push("/500")}))}},y=function(t){return{type:r.d,params:t}},j=function(t){return{type:r.c,editTitle:t}},E=function(t){return{type:r.a,editContent:t}},L=function(t){return{type:r.b,editState:t}}}}]);
//# sourceMappingURL=34.186800b6.chunk.js.map